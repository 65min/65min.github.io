{"version":3,"sources":["webpack:///./src/static/editor-extend/form-designer.js","webpack:///./src/components/selector/AllSelector.vue?51ad","webpack:///./src/components/selector/AllSelector.vue","webpack:///src/components/selector/AllSelector.vue","webpack:///src/components/selector/ColSelector.vue","webpack:///./src/components/selector/ColSelector.vue?fdb9","webpack:///./src/components/selector/ColSelector.vue","webpack:///./src/components/selector/RowSelector.vue?1815","webpack:///./src/components/selector/RowSelector.vue","webpack:///src/components/selector/RowSelector.vue","webpack:///src/components/Toolbar.vue","webpack:///./src/components/Toolbar.vue?2fe6","webpack:///./src/components/Toolbar.vue","webpack:///./src/util/index.js","webpack:///src/components/ContentTable.vue","webpack:///./src/components/ContentTable.vue?9f09","webpack:///./src/components/ContentTable.vue","webpack:///src/components/FormEditor.vue","webpack:///./src/components/FormEditor.vue?aadb","webpack:///./src/components/FormEditor.vue","webpack:///src/components/ContentMenu.vue","webpack:///./src/components/ContentMenu.vue?7400","webpack:///./src/components/ContentMenu.vue","webpack:///src/components/UEditorToolbar.vue","webpack:///./src/components/UEditorToolbar.vue?efd0","webpack:///./src/components/UEditorToolbar.vue","webpack:///src/components/NEditorToolbar.vue","webpack:///./src/components/NEditorToolbar.vue?c15e","webpack:///./src/components/NEditorToolbar.vue","webpack:///src/components/NEditor.vue","webpack:///./src/components/NEditor.vue?23ab","webpack:///src/Editor.vue","webpack:///./src/components/NEditor.vue","webpack:///./src/Editor.vue?2854","webpack:///./src/Editor.vue","webpack:///./src/vuex/store.js","webpack:///./src/main.js","webpack:///./src/static/neditor/i18n/zh-cn/zh-cn.js","webpack:///./src/static/neditor/neditor.config.js","webpack:///./src/static/neditor/neditor.all.js"],"names":["UE","formDesignUrl","computes","Array","controls","plugins","me","this","commands","execCommand","dialog","ui","Dialog","iframeUrl","options","UEDITOR_HOME_URL","Date","parse","toString","parseInt","Math","random","name","editor","title","cssRules","buttons","className","label","onclick","close","render","open","popup","baidu","Popup","content","_edittext","editdom","anchorEl","hide","_delete","window","confirm","dom","domUtils","remove","addListener","t","evt","el","event","target","srcElement","agentPlugins","getAttribute","test","tagName","html","formatHtml","getDom","innerHTML","showAnchor","elInput","getElementsByTagName","rEl","length","registerUI","uiName","customtoolbar","registerCommand","formDesign","fnReview","e","alert","Button","selector_AllSelector","_h","$createElement","_self","_c","staticClass","style","height","defaultRowHeight","staticRenderFns","components_selector_AllSelector","__webpack_require__","normalizeComponent","computed","cols","$store","state","colNum","config","defaultColWidth","ssrContext","ColSelector","methods","displayHeadCharactor","i","time","aux","substring","selector_ColSelector","_vm","width","attrs","cellpadding","cellspacing","_l","col","key","_v","_s","components_selector_ColSelector","ColSelector_normalizeComponent","selector_RowSelector","row","components_selector_RowSelector","RowSelector_normalizeComponent","rows","rowNum","Toolbar","components","Swatches","vue_swatches_min_default","a","predefinedColors","data","tempColor","borderPropertyDialog","borderPropertyStyleOptions","value","borderStyle","borderColor","borderWidth","borderTop","undefined","color","borderHorizon","borderBottom","borderLeft","borderVertical","borderRight","borderPosition","top","horizon","bottom","left","vertical","right","_extends","setBorderNone","setBorderOuter","setBorderInner","setBorderLeft","setBorderVertical","setBorderRight","setBorderTop","setBorderHorizon","setBorderBottom","setBorder","showBorderPropertyDialog","showPicker1","document","querySelector","children","click","showPicker2","showPicker3","clearCellsContent","_this","element_ui_common","confirmButtonText","cancelButtonText","type","then","doClearCellsContent","success","message","catch","info","Object","vuex_esm","components_Toolbar","visible","custom-class","on","update:visible","$event","slot","staticStyle","float","placeholder","size","model","callback","$$v","expression","item","predefine","colspan","rowspan","class","borderTopColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopStyle","borderBottomStyle","borderLeftStyle","borderRightStyle","borderTopWidth","borderBottomWidth","borderLeftWidth","borderRightWidth","text-align","setCellsBorder","mergeCells","splitCells","setCellsTextAlign","align","colors","input","setCellsBackground","ref","display","id","popper-class","change","beginUEdit","src_components_Toolbar","Toolbar_normalizeComponent","isEventParentHasAttribute","documentElement","contains","attributeName","path","hasAttribute","toNumber","val","ContentTable","cache","selectedColIndexList","begin","select","selectedArea","end","cells","beginCell","cacheEditCell","editCell","borderDefault","borderDefaultColor","borderDefaultStyle","borderDefaultWidth","selectedBorderDefaultColor","selectedBorderDefaultStyle","selectedBorderDefaultWidth","selectedBorderDefault","selectedCellBackground","tableOffsetTop","tableOffsetLeft","mouseoverRow","mouseoverCol","mounted","offsetTop","offsetLeft","beginSelectCell","endSelectCell","showMenu","console","log","showContentMenu","menus","icon","text","disabled","handler","insertCol","deleteCol","insertRow","deleteRow","getCellBorderTop","cell","selected","selected_is_top","getCellBorderLeft","selected_is_left","getCellBorderBottom","selected_is_bottom","getCellBorderRight","selected_is_right","getCellStyle","background","getCellBackground","textAlign","getCellTextalign","isColSelected","colIndex","getCell","getCellContent","isCellContentEditable","getCellRowspan","getCellColspan","getColWidth","getRowHeight","handleMouseMove","isColHeader","isRowHeader","clientX","clientWidth","cursor","clientY","clientHeight","dragResizeCol","location","x","y","dragResizeRow","handleMouseOver","isTableContent","dragSelect","handleMouseDown","isTableSelector","targetCol","targetRow","beginResizeCol","beginLocation","selectCol","beginResizeRow","selectRow","selectTable","handleMouseUp","endResizeCol","endResizeRow","handleMouseLeave","handleBlur","handleMouseDblClick","beginEditCell","handleHeadMouseLeave","beforeUpdate","updated","components_ContentTable","draggable","ondragstart","contextmenu","preventDefault","mousemove","mouseover","mousedown","mouseup","mouseleave","dblclick","table-selector","boxSizing","col-header","row-header","hidden","table-content","userSelect","contenteditable","domProps","blur","endEditCell","_e","FormEditor","ContentTable_normalizeComponent","AllSelector","RowSelector","components_FormEditor","src_components_FormEditor","FormEditor_normalizeComponent","ContentMenu","contextMenu","components_ContentMenu","menuItemList","minWidth","mouseout","hideContentMenu","index","src_components_ContentMenu","ContentMenu_normalizeComponent","UEditorToolbar","endEdit","$emit","components_UEditorToolbar","cancelUEdit","src_components_UEditorToolbar","UEditorToolbar_normalizeComponent","NEditorToolbar","components_NEditorToolbar","src_components_NEditorToolbar","NEditorToolbar_normalizeComponent","NEditor","props","defaultMsg","String","ueditContent","uedit","getEditor","__EDITOR__","setContent","NEditor__extends","getUEContent","getContent","getUEContentText","getContentTxt","saveUEContent","source","endUEdit","destroyed","destroy","components_NEditor","save","Editor","NEditor_normalizeComponent","ueditorConfig","$refs","selectortype_template_index_0_src_Editor","src_Editor","Editor_normalizeComponent","Vue","use","Vuex","editInCell","initialFrameWidth","initialFrameHeight","wordCount","elementPathEnabled","toolbars","labelMap","controlinput","fontfamily","fontsize","enableContextMenu","theme","zIndex","endCell","resizeCol","initWidth","resizeRow","initHeight","offsetX","offsetY","mutations","CLEAR_SELECT_AREA","PUSH_SELECTED_COL_INDEX","push","SET_CACHE_TYPE","SET_CACHE_SELECTED_AREA_BEGIN","_ref","SET_CACHE_SELECT_BEGIN_SELECT_CELL","_ref2","CLEAR_CACHE_SELECT_BEGIN_SELECT_CELL","SET_CACHE_SELECT_SELECTED_AREA_END","_ref3","SET_CACHE_SELECT_END_SELECT_CELL","_ref4","min","max","SET_CELLS_SELECTED","j","set","row_end","col_end","SET_CACHE_SELECT_SELECTED_AREA","_ref5","CLEAR_CACHE_SELECT_END_SELECT_CELL","SET_CELL_PROPERTIES","_ref6","properties","REMOVE_CELL_PROPERTIES","_ref7","delete","INIT_CELL_PROPERTIES","_ref8","SET_CACHE_RESIZECOL_TARGETCOL","CLEAR_CACHE_RESIZECOL_TARGETCOL","SET_CACHE_RESIZECOL_INITWIDTH","CLEAR_CACHE_RESIZECOL_INITWIDTH","SET_CACHE_RESIZECOL_BEGIN","_ref9","CLEAR_CACHE_RESIZECOL_BEGIN","SET_CACHE_RESIZECOL_END","_ref10","CLEAR_CACHE_RESIZECOL_END","SET_COL_WIDTH","colWidth","SET_CACHE_RESIZEROW_TARGETROW","CLEAR_CACHE_RESIZEROW_TARGETROW","SET_CACHE_RESIZEROW_INITHEIGHT","CLEAR_CACHE_RESIZEROW_INITHEIGHT","SET_CACHE_RESIZEROW_BEGIN","_ref11","CLEAR_CACHE_RESIZEROW_BEGIN","SET_CACHE_RESIZEROW_END","_ref12","CLEAR_CACHE_RESIZEROW_END","SET_ROW_HEIGHT","rowHeight","SET_CACHE_EDITCELL_TARGETCELL","_ref13","CLEAR_CACHE_EDITCELL_TARGETCELL","_ref14","INSERT_COL","splice","DELETE_COL","row_parent","col_parent","parentCell","INSERT_ROW","DELETE_ROW","SET_CACHE_UEDIT","_ref15","actions","_ref16","commit","dispatch","_ref17","_ref18","_ref19","_ref20","timeEnd","_ref21","_ref22","mergeSelectedCells","_ref23","doDragSelect","_ref24","_ref25","stateStr","newRow","newCol","cross","m","n","endStateStr","JSON","stringify","_ref26","_ref27","exitSelectMode","_ref28","_ref29","vue","_ref30","_ref31","_ref32","_ref33","_ref34","_ref35","setTimeout","classList","add","focus","_ref36","_ref37","_ref38","store__extends","_ref39","_ref40","_ref41","_ref42","_ref43","_ref44","_ref45","_ref46","_ref47","_ref48","_ref49","_ref50","border","_ref51","param","_loop","tempFunc","filter","concat","_ref52","_ref53","_ref54","_ref55","_ref56","_ref57","_ref58","_ref59","_ref60","_ref61","store","Store","strict","ElementUI","productionTip","template","I18N","anchor","undo","redo","bold","indent","snapscreen","italic","underline","strikethrough","subscript","fontborder","superscript","formatmatch","blockquote","pasteplain","selectall","print","preview","horizontal","removeformat","date","unlink","insertrow","insertcol","mergeright","mergedown","deleterow","deletecol","splittorows","splittocols","splittocells","deletecaption","inserttitle","mergecells","deletetable","cleardoc","insertparagraphbeforetable","insertcode","paragraph","simpleupload","insertimage","edittable","edittd","link","emotion","spechars","searchreplace","map","gmap","insertvideo","help","justifyleft","justifyright","justifycenter","justifyjustify","forecolor","backcolor","insertorderedlist","insertunorderedlist","fullscreen","directionalityltr","directionalityrtl","rowspacingtop","rowspacingbottom","pagebreak","insertframe","imagenone","imageleft","imageright","attachment","imagecenter","wordimage","lineheight","edittip","customstyle","autotypeset","webapp","touppercase","tolowercase","scrawl","music","inserttable","drafts","charts","num","num1","num2","cn","cn1","cn2","decimal","lower-alpha","lower-roman","upper-alpha","upper-roman","circle","disc","square","dash","dot","p","h1","h2","h3","h4","h5","h6","songti","kaiti","heiti","lishu","yahei","andaleMono","arial","arialBlack","comicSansMs","impact","timesNewRoman","tc","tl","im","hi","autoupload","exceedSizeError","exceedTypeError","jsonEncodeError","loading","loadError","errorLoadConfig","elementPathTip","wordCountTip","wordCountMsg","wordOverFlowMsg","ok","cancel","closeDialog","tableDrag","autofloatMsg","loadconfigError","loadconfigFormatError","loadconfigHttpError","snapScreen_plugin","browserMsg","callBackErrorMsg","uploadErrorMsg","as3","bash","cpp","css","cf","c#","delphi","diff","erlang","groovy","java","jfx","js","pl","php","plain","ps","python","ruby","scala","sql","vb","xml","confirmClear","deletecode","confirmclear","aligntd","aligntable","tableleft","tablecenter","tableright","setbordervisible","table","insertparagraphbefore","insertparagraphafter","insertrownext","insertcolnext","insertcaption","deletetitle","inserttitlecol","deletetitlecol","averageDiseRow","averageDisCol","mergeleft","tablesort","enablesort","disablesort","reversecurrent","orderbyasc","reversebyasc","orderbynum","reversebynum","borderbk","setcolor","unsetcolor","setbackground","unsetbackground","redandblue","threecolorgradient","copy","copymsg","paste","pastemsg","anthorMsg","clearColor","standardColor","themeColor","property","default","modify","justify","clear","anchorMsg","clickToUpload","unset","t_row","t_col","more","pasteOpt","pasteSourceFormat","tagFormat","pasteTextFormat","autoTypeSet","mergeLine","delLine","removeFormat","alignment","imageFloat","removeFontsize","removeFontFamily","removeHtml","pasteFilter","run","symbol","bdc2sb","tobdc","static","lang_background_normal","lang_background_local","lang_background_set","lang_background_none","lang_background_colored","lang_background_color","lang_background_netimg","lang_background_align","lang_background_position","repeatType","noUploadImage","toggleSelect","lang_tab_remote","lang_tab_upload","lang_tab_online","lang_tab_search","lang_input_url","lang_input_size","lang_input_width","lang_input_height","lang_input_border","lang_input_vhspace","lang_input_title","lang_input_align","lang_imgLoading","lang_start_upload","lock","searchType","searchTxt","searchBtn","searchReset","noneAlign","leftAlign","rightAlign","centerAlign","uploadSelectFile","uploadAddFile","uploadStart","uploadPause","uploadContinue","uploadRetry","uploadDelete","uploadTurnLeft","uploadTurnRight","uploadPreview","uploadNoPreview","updateStatusReady","updateStatusConfirm","updateStatusFinish","updateStatusError","errorNotSupport","errorExceedSize","errorFileType","errorInterrupt","errorUploadRetry","errorHttp","errorServerUpload","remoteLockError","numError","imageUrlError","imageLoadError","searchRemind","searchLoading","searchRetry","lang_drop_remind","lang_tab_insertV","lang_tab_searchV","lang_tab_uploadV","lang_video_url","lang_video_size","lang_videoW","lang_videoH","lang_alignment","videoSearchTxt","videoType","videoSearchBtn","videoSearchReset","lang_input_fileStatus","startUpload","lang_upload_size","lang_upload_width","lang_upload_height","lang_upload_alignment","lang_format_advice","floatLeft","floatRight","block","urlError","clickToSelect","goToSource","noVideo","browseFiles","uploadSuccess","delSuccessFile","delFailSaveFile","statusPrompt","flashVersionError","flashLoadingError","fileUploadReady","delUploadQueue","limitPrompt1","limitPrompt2","delFailFile","fileSizeLimit","emptyFile","fileTypeError","unknownError","fileUploading","cancelUpload","netError","failUpload","serverIOError","noAuthority","fileNumLimit","failCheck","fileCanceling","stopUploading","tip1","tip2","applyFor","anthorApi","lang_template_bkcolor","lang_template_clear","lang_template_select","blank","blog","resume","richText","sciPapers","lang_input_previousStep","lang_input_nextsStep","lang_input_clear","lang_input_addPic","lang_input_ScalePic","lang_input_removePic","J_imgTxt","noScarwl","scrawlUpLoading","continueBtn","imageError","backgroundUploading","lang_input_tips","J_searchBtn","emptyTxt","chapter","singer","special","listenTest","lang_input_anchorName","lang_data_source","lang_chart_format","lang_data_align","lang_chart_align_same","lang_chart_align_reverse","lang_chart_title","lang_chart_main_title","lang_chart_sub_title","lang_chart_x_title","lang_chart_y_title","lang_chart_tip","lang_cahrt_tip_prefix","lang_cahrt_tip_description","lang_chart_data_unit","lang_chart_data_unit_title","lang_chart_data_unit_description","lang_chart_type","lang_prev_btn","lang_next_btn","lang_input_choice","lang_input_Tuzki","lang_input_BOBO","lang_input_lvdouwa","lang_input_babyCat","lang_input_bubble","lang_input_youa","lang_input_address","lang_input_search","address","searchError","lang_input_about","lang_input_shortcuts","lang_input_introduction","lang_Txt_shortcuts","lang_Txt_func","lang_Txt_bold","lang_Txt_copy","lang_Txt_cut","lang_Txt_Paste","lang_Txt_undo","lang_Txt_redo","lang_Txt_italic","lang_Txt_underline","lang_Txt_selectAll","lang_Txt_visualEnter","lang_Txt_fullscreen","lang_input_isScroll","lang_input_frameborder","lang_input_alignMode","enterAddress","lang_input_text","lang_input_target","validLink","httpPrompt","lang_city","lang_address","city","lang_search","lang_dynamicmap","cityMsg","errorMsg","lang_tab_replace","lang_search1","lang_search2","lang_replace","lang_searchReg","lang_searchReg1","lang_case_sensitive1","lang_case_sensitive2","nextFindBtn","preFindBtn","nextReplaceBtn","preReplaceBtn","repalceBtn","repalceAllBtn","getEnd","getStart","countMsg","lang_showMsg","lang_download","lang_step1","lang_step2","tsfh","lmsz","szfh","rwfh","xlzm","ewzm","pyzm","yyyb","zyzf","lang_tableStyle","lang_insertCaption","lang_insertTitle","lang_insertTitleCol","lang_orderbycontent","lang_tableSize","lang_autoSizeContent","lang_autoSizePage","lang_example","lang_borderStyle","lang_color","captionName","titleName","cellsName","lang_delRow","lang_delCol","lang_tdBkColor","formula","lang_resave","uploadBtn","src","alt","clipboard","lang_step","fileType","flashError","copySuccess","flashI18n","autosave","saving","URL","getUEBasePath","docUrl","confUrl","basePath","exec","replace","split","protocol","tmp","res","shift","pop","join","optimizationPath","getBasePath","self","href","configPath","UEDITOR_CONFIG","serverUrl","imageActionName","scrawlActionName","videoActionName","fileActionName","imageUrlPrefix","scrawlUrlPrefix","videoUrlPrefix","fileUrlPrefix","catcherLocalDomain","autoHeightEnabled","xssFilterRules","inputXssFilter","outputXssFilter","whitList","abbr","area","article","aside","audio","b","bdi","bdo","big","br","caption","center","cite","code","colgroup","dd","del","details","div","dl","dt","em","font","footer","header","hr","img","ins","li","mark","nav","ol","pre","s","section","small","span","sub","sup","strong","tbody","td","tfoot","th","thead","tr","tt","u","ul","video","embed","iframe","instants","_customizeUI","version","browser","agent","navigator","userAgent","toLowerCase","opera","ie","webkit","indexOf","mac","quirks","compatMode","gecko","product","v1","match","v2","ie11Compat","documentMode","ie9Compat","ie8","ie8Compat","ie7Compat","ie6Compat","ie9above","ie9below","ie11above","ie11below","geckoRelease","chrome","RegExp","safari","parseFloat","isCompatible","mobile","air","utils","each","obj","iterator","context","l","call","hasOwnProperty","makeInstance","noop","Function","prototype","extend","k","extend2","arguments","inherits","subClass","superClass","oldP","newP","constructor","bind","fn","apply","defer","delay","exclusion","timerID","clearTimeout","array","start","isNumber","v","removeItem","trim","str","listToMap","list","isArray","ci","toUpperCase","unhtml","reg","<","&","\"","“","”",">","'","&lt;","&amp;","&quot;","&ldquo;","&rdquo;","&gt;","&#39;","&nbsp;","cssStyleToDomStyle","createElement","cssFloat","styleFloat","cssName","charAt","loadFile","tmpList","getItem","doc","url","ready","funs","body","getElementById","element","tag","setAttribute","onload","onreadystatechange","readyState","fi","onerror","Error","appendChild","write","isEmptyObject","isString","fixColor","optCss","padding","margin","opt","r","clone","_typeof","transUnitToPx","unit","round","domReady","fnArr","doReady","isReady","onready","win","doScroll","error","callee","attachEvent","addEventListener","removeEventListener","cssRule","indexList","nodeType","styleSheets","cssText","sheetStyle","createStyleSheet","node","parentNode","removeChild","sort","compareFn","item1","item2","localeCompare","len","serializeParam","json","strArr","encodeURIComponent","formatUrl","isCrossDomainUrl","hostname","port","clearEmptyAttrs","str2json","json2str","pad","escapeMap","\b","\t","\n","\f","\r","\\","isFinite","c","charCodeAt","floor","preComma","result","encodeArray","isDate","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","encodeDate","encode","renderTplstr","tpl","variable","EventBase","getListener","force","allListeners","__allListeners","types","listener","ti","off","removeListener","trigger","fireEvent","listeners","dtd","_","X","A","isindex","fieldset","B","button","textarea","C","D","E","menu","noscript","dir","noframes","F","script","G","acronym","var","#","kbd","strike","q","samp","dfn","H","object","basefont","applet","I","J","K","form","L","M","N","O","P","Q","R","S","base","meta","T","U","head","V","empty","command","keygen","track","wbr","$nonBodyContent","$block","$inline","$inlineWithA","$body","$cdata","$empty","$nonChild","$listItem","$list","$isNotEmpty","$removeEmpty","$removeEmptyBlock","$tableContent","$notTransContent","option","optgroup","legend","getDomNode","ltr","startFromChild","guard","parent","tmpNode","attrFix","tabindex","readonly","for","maxlength","usemap","frameborder","styleBlock","NODE_ELEMENT","NODE_DOCUMENT","NODE_TEXT","NODE_COMMENT","NODE_DOCUMENT_FRAGMENT","POSITION_IDENTICAL","POSITION_DISCONNECTED","POSITION_FOLLOWING","POSITION_PRECEDING","POSITION_IS_CONTAINED","POSITION_CONTAINS","fillChar","keys","8","46","16","17","18","37","38","39","40","13","getPosition","nodeA","nodeB","parentsA","parentsB","reverse","nextSibling","getNodeIndex","ignoreTextNode","preNode","previousSibling","inDoc","findParent","filterFn","includeSelf","isBody","findParentByTagName","tagNames","excludeFn","findParents","closerFirst","parents","insertAfter","newNode","insertBefore","keepChildren","child","hasChildNodes","firstChild","getNextDomNode","getPreDomNode","isBookmarkNode","getWindow","ownerDocument","defaultView","parentWindow","getCommonAncestor","clearEmptySibling","ignoreNext","ignorePre","next","isEmptyInlineElement","nodeValue","offset","createTextNode","retval","splitText","isWhitespace","getXY","offsetParent","_d","els","un","detachEvent","isSameElement","thisAttrs","attributes","otherAttrs","attrA","attrB","al","bl","nodeName","specified","isSameStyle","getNamedItem","styleA","styleB","isBlockElm","getComputedStyle","breakParent","leftNodes","rightNodes","parentClone","cloneNode","trimWhiteTextNode","mergeChild","childNodes","hasClass","ni","arr","mergeToParent","textDecoration","mergeSibling","merge","rtl","lastChild","unSelectable","onselectstart","onkeyup","onkeydown","unselectable","all","MozUserSelect","webkitUserSelect","msUserSelect","KhtmlUserSelect","removeAttributes","attrNames","getAttributeNode","removeAttributeNode","removeAttribute","setAttributes","attr","styleName","fontSize","offsetHeight","getStyle","getPropertyValue","currentStyle","removeClasses","elm","classNames","cls","addClass","isRegExp","returnValue","removeStyle","removeProperty","setStyle","setStyles","styles","removeDirtyAttr","nodes","getChildCount","count","first","isEmptyNode","isBr","clearSelectedArr","scrollToView","mode","winHeight","currentScroll","pageXOffset","pageYOffset","scrollLeft","scrollTop","getScrollPosition","scrollTo","isFillChar","isInStart","isStartInblock","range","tmpRange","cloneRange","flag","startContainer","startOffset","setStartBefore","setStart","collapse","isEmptyBlock","setViewportOffset","rect","getBoundingClientRect","fillNode","moveChild","hasNoAttributes","outerHTML","isCustomeNode","isTagNode","filterNodeList","nodelist","forAll","results","isFunction","isInNodeEndBoundary","rng","isBoundaryNode","fillHtml","fillCharReg","fillData","guid","selectOneNode","collapsed","endContainer","endOffset","setEndPoint","toStart","updateCollapse","execContentsAction","action","tmpStart","tmpEnd","frag","createDocumentFragment","substringData","deleteData","current","currentLevel","startParents","endParents","si","slice","ei","Range","removeFillData","excludeNode","cloneContents","deleteContents","txt","extractContents","setEnd","setStartAfter","setEndAfter","setEndBefore","setStartAtFirst","setStartAtLast","setEndAtFirst","setEndAtLast","selectNode","selectNodeContents","shrinkBoundary","ignoreEnd","check","trimBoundary","txtToElmBoundary","textNode","ignoreCollapsed","adjust","container","insertNode","nextNode","setCursor","toEnd","noFillData","createBookmark","serialize","same","endNode","startNode","moveToBookmark","bookmark","enlarge","toBlock","stopFn","enlargeToBlockElm","adjustmentBoundary","applyInlineStyle","aNode","level","removeInlineStyle","getClosedNode","textRange","nativeRange","createControlRange","addElement","createTextRange","moveToElementText","moveStart","tmpText","nativeRangeEnd","notInsertFillData","txtNode","sel","getSelection","removeAllRanges","createRange","checkOffset","addRange","inFillChar","createAddress","ignoreTxt","addr","getAddress","isStart","addrs","firstIndex","startAddress","endAddress","moveToAddress","getNode","equals","traversal","doFn","getBoundaryInformation","getIndex","duplicate","parentElement","distance","siblings","testRange","startIndex","endIndex","position","compareEndPoints","_getIERange","ieRange","getNative","Selection","frameElement","_bakIERange","getIERange","ex","rangeInBody","txtRange","selection","_cachedRange","getRange","_cachedStartElement","_cachedStartElementPath","getStartElementPath","isFocus","rangeCount","optimze","bi","transformIERangeToRange","firstRange","getRangeAt","lastRange","_bakRange","getText","nativeSel","clearRange","_selectionChangeTimer","uid","setValue","tis","hasContents","allHtmlEnabled","getAllHtml","langReadied","langIsReady","shortcutkeys","inputRules","outputRules","setOpt","defaultOptions","langPath","lang","plugin","load","checkCurLang","setPlaceholder","contentChange","getPlainTxt","_editor","getOpt","offsetWidth","delEditor","getStyleValue","minFrameWidth","minFrameHeight","iframeCssUrl","initialStyle","iframeJsUrl","customDomain","domain","overflow","_setup","geckoSel","contentEditable","spellcheck","_initEvents","autoSyncData","initialContent","autoClearinitialContent","oldExecCommand","_setDefaultContent","focusInEnd","_selectionChange","setFullScreen","_bindshortcutKeys","_bakNativeRange","setInterval","isShow","setHide","setDisabled","sync","formId","setHeight","notSetHeight","addshortcutkey","cmd","keyCode","which","$1","ctrlKey","metaKey","$2","$3","queryCommandState","notSetCursor","ignoreBlank","formatter","root","htmlparser","filterOutputRule","toHtml","headHtml","headHtmlForIE9","charset","isAppendTo","notFireSelectionchange","filterInputRule","enterTag","nativeRng","_proxyDomEvent","stopPropagation","shiftKey","altKey","mouseX","mouseY","hackForMouseUp","bakGetIERange","moveToPoint","_callCmdFn","fnName","args","cmdFn","cmdName","notNeedUndo","__hasEnterExecCommand","ignoreContentChange","_ignoreContentChange","queryCommandValue","tags","reset","setEnabled","lastBk","bkqueryCommandState","bkqueryCommandValue","enable","except","disable","cont","setShow","show","getLang","getContentLength","ingoneHtml","addInputRule","rule","addOutputRule","getActionUrl","_url","autoClearEmptyNode","imagePopup","themePath","scaleEnabled","tableNativeEditInFF","fileNameFormat","loadServerConfig","showErrorMsg","msg","imageUrl","configUrl","isJsonp","_serverConfigLoaded","ajax","request","method","dataType","onsuccess","eval","responseText","isServerConfigLoaded","afterConfigReady","readyHandler","fnStr","ActiveXObject","creatAjaxRequest","doJsonp","opts","callbackFnName","timer","matches","successhandler","scr","callbackField","timeOut","getCallBack","search","queryStr","onTimeOut","exception","oncomplete","createScriptTag","ajaxOptions","xhr","timeIsOut","defaultAjaxOptions","timeout","async","ajaxOpts","submitStr","abort","status","setRequestHeader","send","doAjax","getJSONP","filterWord","transUnit","marks","parts","filterPasteWord","uNode","notTransAttrs","_src","_href","cdata_data","notTransTagName","indentChar","breakChar","insertLine","insertIndent","nodeToHtml","isText","attrhtml","isElement","isComment","getNodeById","getAttr","getNodesByTagName","createText","noTrans","htmlstr","tmpRoot","innerText","textStr","getData","replaceChild","cj","attrName","setAttr","attrVal","isObject","cssStyle","nodeTraversal","re_tag","re_attr","allowEmptyTags","needParentNode","needChild","htmlattr","needParentTag","hasParent","tmpParent","currentIndex","nextIndex","currentParent","lastIndex","filterNode","rules","tmpVal","tmpAttrs","tmpCssStyle","_plugins","register","pluginName","oldOptionName","afterDisabled","optionName","execFn","_export","eventName","execName","exeFn","keymap","Backspace","Tab","Enter","Shift","Control","Alt","CapsLock","Esc","Spacebar","PageUp","PageDown","End","Home","Left","Up","Right","Down","Insert","Del","NumLock","Cmd","=","-","z","LocalStorage","storage","localStorage","addBehavior","LOCAL_FILE","setItem","getUserData","saveLocalData","getLocalData","ROOTKEY","getObj","sourceEditors","setPreferences","getPreferences","removePreferences","allowDivTransToP","disabledTableInTable","rgb2Hex","cdata_tag","_ue_custom_node_","last","tmpNodes","tdParent","notNeedFilter","filterRules","hadBreak","tmpLi","mergeEmptyline","removeClass","removeEmptyline","imageBlockLine","clearFontSize","clearFontFamily","removeEmptyNode","removeTagNames","indentValue","highlightCont","cookieOpt","remainClass","selectTdClass","anchorclass","remainTag","autotype","isLine","notEmpty","removeNotAttributeSpan","fontFamily","textIndent","pN","pNode","txtstring","fromCharCode","ToDBC","DBC2SB","shortcutkey","autosubmit","submit","isSetColored","cssRuleId","stringToObj","substr","setBackground","orgFn","bindEvents","su","imagePath","bgObj","background-color","background-image","background-repeat","background-position","aftersetcontent","inputRule","outputRule","getElementsByClassName","floatStyle","hspace","vspace","defaultValue","bookmark2","common","doJustify","fonts","needCmd","needSetChild","mergesibling","bk","mergeWithParent","backgroundColor","1","2","3","4","5","6","7","spanParent","styleVal","optimize","highlight","textValue","rngClone","doLink","pe","as","_iframe","removeFormatTags","removeFormatAttributes","notIncludeA","tagReg","isRedundantSpan","bookmark1","doRemove","startBlock","endBlock","blockquotes","doEnd","childs","bkEnd","curNode","d","selectAll","notExchange","sourceCmdName","para","doParagraph","forward","doDirectionality","format","hh","ii","ss","formatTime","yyyy","yy","mm","formatDate","filterTxtRules","brs","notNeedCodeQuery","insertparagraph","elementpath","inserthtml","fillchar","evtName","anchorname","20","notBreakTags","isHr","pageBreakTag","noshade","images","urlList","word_img","saveSceneTimer","maxUndoCount","maxInputCount","noNeedFillCharTags","orgState","compareAddr","indexA","indexB","undoManger","hasUndo","hasRedo","restore","scene","update","clearKey","getScene","rngAddress","notCompareRange","rngAddrA","rngAddrB","currentScene","lastScene","keycont","exclude","inputType","Undo","Redo","isCollapsed","interalTimer","clearInterval","stopCmdUndo","startCmdUndo","initZeroClipboard","ZeroClipboard","debug","swfPath","client","zeroclipboard","setText","textContent","setHtml","getClipboardData","pastebin","pi","pastebins","querySelectorAll","txtContent","htmlContent","getPureHtml","atr","di","divs","tmpP","metas","dirtyNodes","spans","retainOnlyLabelPasted","plainType","tmpAddress","transP","removeNode","$","TD","PRE","BLOCKQUOTE","customStyle","listToArray","autoTransWordToList","listDefaultPaddingLeft","listiconpath","maxListLevel","disablePInList","listStyle","OL","UL","liiconpath","adjustListStyle","ignore","nodeStyleType","styleIndex","setListStyle","paddingLeft","adjustList","ignoreEmpty","nextList","preList","getLi","customCss","pn","newChildrens","lastNode","checkListType","unorderlisttype","orderlisttype","cacheNode","appendLi","preventAndSave","findList","parentList","nextLi","checkLevel","levelNum","closeList","parentLi","startParent","endParent","bko","modifyStart","modifyEnd","nodeStyle","tmpFrag","tmpfrag","hasBlock","tmpDiv","tmpDivs","holder","onresize","setSelectionRange","dispose","codemirror","codeEditor","CodeMirror","tabMode","lineNumbers","lineWrapping","getWrapperElement","getScrollerElement","refresh","getCodeMirror","getValue","setOption","sourceEditor","orgSetContent","orgFocus","orgBlur","bakCssText","oldGetContent","bakAddress","sourceMode","sourceEditorFirst","oldQueryCommandState","codeMirrorJsUrl","rel","codeMirrorCssUrl","hTag","doSave","startTd","endTd","excludeTagNameForTabKey","tabSize","tabNode","elementUpdated","Scale","resizer","cover","prePos","startPos","init","dragId","hands","initStyle","initEvents","isDraging","_eventHandler","hand","proxy","updateContainerStyle","updateTargetElement","attachTo","_validScaledProp","prop","ele","wrap","isNaN","hideCover","showCover","editorPos","iframePos","targetObj","imgPos","imageScale","imageScaleEnabled","_keyDownHandler","_mouseDownHandler","keydown","charCode","keyCodes","32","checkIsCludeLink","bakOverflow","currentHeight","isFullscreen","lastScrollY","lastHeight","f","fixedScrollTop","adjustHeight","enableAutoHeight","overflowY","disableAutoHeight","scrollY","topOffset","optsAutoFloatEnabled","autoFloatEnabled","toolbarBox","orgTop","uiUtils","LteIE6","placeHolder","defer_updateFloating","updateFloating","scrollBox","getClientRect","docStyle","backgroundImage","backgroundAttachment","enabled","unsetFloating","toobarBoxPos","origalFloat","origalLeft","rect3","toolbarTopOffset","creatInsertStr","classname","ext","lastIndexOf","switchImgAndVideo","img2video","videoObjs","cl","vi","UETable","indexTable","selectedTds","cellsRange","removeSelectedClass","addSelectedClass","getWidth","getTableCellAlignState","tempStatus","isSame","cellNode","currentState","getTableItemsByRange","getUETableBySelected","ueTable","getDefaultValue","tableBorder","tdPadding","tdBorder","tmpValue","borderMap","thin","medium","thick","insertCell","getUETable","tdOrTable","cloneCell","ignoreMerge","keepPro","tmpCell","rowSpan","colSpan","getMaxRows","maxLen","currentMax","getMaxCols","cellRows","cellsNum","getCellColIndex","getHSideCell","previewRowIndex","previewColIndex","cellInfo","getCellInfo","beginColIndex","endColIndex","colsNum","beginRowIndex","rowIndex","cellIndex","getTabNextCell","preRowIndex","nextCell","getVSideCell","ignoreRange","nextRowIndex","nextColIndex","endRowIndex","rowsNum","getSameEndPosCells","xOrY","returns","setCellContent","getSameStartPosXCells","dNum","tds","selectTds","startInfo","endInfo","rowInfo","numCols","deleteCell","getCellsRange","cellA","cellB","cellAInfo","cellBInfo","checkRange","tmpBeginRowIndex","tmpBeginColIndex","tmpEndRowIndex","tmpEndColIndex","getCells","clearSelected","tdHash","returnTds","setSelected","isFullRow","isFullCol","ths","getNextCell","getPreviewCell","moveContent","cellTo","cellFrom","mergeRight","rightColIndex","rightCellInfo","rightCell","mergeDown","downRowIndex","downCellInfo","downCell","mergeRange","leftTopCell","curIndex","sourceCell","isInsertTitle","replaceTdToTh","tableRow","createTHead","infoRow","insertCellIndex","nextRow","preMerged","getPreviewMergedCellsNum","deleteTds","cacheMap","tmpRowIndex","tmpCellIndex","mergeTds","preCell","backWidth","isInsertTitleCol","updateWidth","tmpWidth","tableRows","backTableWidth","backTdWidth","toFixed","splitToCells","splitToRows","splitToCols","endRow","indexRow","endCol","isLastCell","getLastCell","repeat","colorList","removeBackground","UT","resetTdWidth","needIEHack","getTableWidth","tdsWidths","getSelectedArr","ut","defaultCols","numRows","defaultRows","tdvalign","firstParentBlock","tableWidth","tdWidth","createTable","valign","firstRow","tableItems","maxRowNum","newCell","maxColNum","averageWidth","setAverageWidth","tb","sumWidth","tbAttr","ceil","getAverageWidth","averageHeight","sumHeight","tdpadding","captionHeight","thHeight","captionArr","thArr","trs","getAverageHeight","verticalAlign","vAlign","activeMenuCell","bkColor","interlaced","tableDragTimer","cellMinWidth","isInResizeBuffer","cellBorderWidth","offsetOfTableCell","singleClickState","userActionStatus","dblclickTime","orgGetText","currentTd","onDrag","onBorder","dragButton","dragOver","dragLine","dragTd","cursorpath","tableDragable","cellvalign","adaptbytext","adaptbywindow","adaptbycustomer","averagedistributecol","averagedistributerow","removeStyleSize","replaceToProperty","getParentTdOrTh","mouseCoords","pageX","pageY","clientLeft","clientTop","mouseMoveEvent","isEditorDisabled","pos","abs","clearTableDragTimer","tableBorderDrag","toggleDraggableState","preTd","nextTd","getPermissionX","mousePosY","getPermissionY","getRelation","inTableSide","toggleDragButton","onmouseover","onmouseout","doDblClick","createDragButton","capHeight","mousePos","hideDragLine","getDragLine","showDragLineAt","elePos","mouseDownEvent","getTargetTd","tableClickHander","tableDbclickHandler","h","getCellsByMoveBorder","originArr","extractArray","oldWidth","newWidth","changeable","getTabcellSpace","newObj","reconstruct","borderActionHandler","mouseOverEvent","mouseUpEvent","dragTdPos","dragLinePos","changeValue","relatedCell","direction","getTableCellWidth","cellGroup","curCell","correctChangeValue","changeColWidth","backHeight","setCellHeight","changeRowHeight","tar","lineHight","tmpHeight","isContainMergeCell","temp","borderCells","tabRow","currIndex","tabCell","tab","offsetVal","prev","getTableCellOffset","tabcellSpace","trow","tabcell","mirror","paddingSpace","tmpTabWidth","onresizestart","line","tablePos","cellPos","switchBorderColor","tableArr","cellWidth","cellHeight","tableCopyList","tables","cloneTd","wordBreak","onmousemove","endTdCol","endTdRow","currentRowIndex","ua","notCtrlKey","ratio","backWidths","datatat","cmdFun","lastState","lastValue","sortTable","sortByCellIndex","trArray","lastRowIndex","Fn","td1","td2","value1","value2","tr1","tr2","fragment","items","group","subMenu","getDialog","getViewportOffsetByEvent","contextItems","subItem","query","getLabel","Menu","showAt","clip","shortcutMenu","customEvt","screenX","screenY","ShortCutMenu","isHidden","basestyles","Bold","Italic","Underline","names","addList","imgT","addFormat","_blockElm","lastRng","findTextInString","searchStr","casesensitive","findNTextInBlockElm","currentNode","currentNodeLength","searchReplace","startBlockNode","rngText","replaceStr","replaceText","methodName","findTextBlockElm","rngStart","rngEnd","clearlastSearchResult","tmpObj","catchRemoteImageEnable","catcherActionUrl","catcherUrlPrefix","catcherFieldName","remoteImages","loadingIMG","imgs","urls","host","backgroundImageurl","data-background","catchremoteimage","callbacks","params","oldSrc","newSrc","catchFailList","catchSuccessList","failIMG","oldBgIMG","data-catchResult","newBgIMG","snapplugin","getLocation","pathname","hash","local","onSuccess","rs","snapscreenUrlPrefix","snapscreenImgAlign","saveSnapshot","_dialogs","front","createInsertStr","toEmbed","cssfloat","logo","tnode","musicObj","sendAndInsertFile","file","fieldName","urlPrefix","maxSize","allowFiles","actionUrl","loadingHtml","errorHandler","successHandler","filetype","loadingId","loader","original","fileext","XMLHttpRequest","fd","FormData","append","response","er","getDropImage","dataTransfer","files","enableDragUpload","enablePasteUpload","FileReader","hasImg","clipboardData","getPasteImage","getAsFile","lastSaveTime","MIN_TIME","saveKey","saveData","_saveFlag","saveInterval","enableAutoSave","contentchange","clearlocaldata","getlocaldata","chartserror","tableNode","flagText","validData","subTitle","xTitle","yTitle","suffix","tip","dataFormat","tableDataFormat","chartType","firstRows","cellCount","getSection","nextSection","previousSection","parentSection","getNodeFromAddress","bindMultiEvents","afterexeccommand","keyup","getsections","levels","levelFn","getSectionLevel","Directory","previous","tmpSection","movesection","sourceSection","targetSection","isAfter","targetAddress","addressTarget","isAfterStartAddress","isBeforeEndAddress","isContainsAddress","deletesection","selectsection","scrolltosection","containerBtn","isLoaded","initUploadBtn","w","btnIframe","btnStyle","wrapper","btnIframeDoc","btnIframeBody","timestrap","contentDocument","contentWindow","imageFieldName","stateTimer","imageActionUrl","filename","showErrorLoader","simpleuploadbtnready","serverParam","serverparam","insertfile","filelist","maps","iconDir","rar","zip","gz","bz2","docx","pdf","mp3","xls","chm","ppt","pptx","avi","rmvb","wmv","flv","swf","rm","exe","psd","jpg","png","jpeg","gif","ico","bmp","xssFilter","tagList","uidCount","hook","dg","_callbacks","createElementByHtml","getViewportElement","bcr","getViewportRect","viewportEl","innerWidth","innerHeight","fixedLayer","getFixedLayer","getEventOffset","frameEl","setGlobal","magic","unsetGlobal","copyAttributes","tgt","attrNode","elA","elB","compareDocumentPosition","startDrag","startX","startY","ondragmove","cancelBubble","ondragstop","releaseCaptrue","releaseCapture","setCapture","layer","updateFixedOffset","makeUnselectable","WebkitUserSelect","UIBase","initOptions","initUIBase","_globalKey","renderHtml","seatEl","postRender","getHtmlTpl","prefix","box","Separator","initSeparator","Mask","_fill","_onMouseDown","_onClick","vpRect","initPopup","allPopups","closeAllPopup","queryAutoHide","postHide","ANCHOR_CLASSES","SHADOW_RADIUS","_hidden","autoRender","canSideLeft","canSideUp","getContentHtmlTpl","_UIBase_postRender","captureWheel","captured","_height","_top","combox","ifr","wheelDelta","detail","_doAutoRender","mesureSize","fitSize","sized","__size","popBodyEl","hoz","showAnchorRect","adj","visibility","_show","sideLeft","sideUp","popSize","popEl","notNofity","ColorPicker","noColorText","COLORS","genColorPicker","_onTableClick","_onTableOver","_onTableOut","_onPickNoColor","TablePicker","initTablePicker","defaultNumRows","defaultNumCols","maxNumRows","maxNumCols","lengthOfCellSide","_UIBase_render","_track","sideLen","_onMouseOver","relatedTarget","fromElement","_onMouseOut","toElement","_onMouseMove","TPL_STATEFUL","Stateful","alwalysHoverable","Stateful_init","_Stateful_dGetHtmlTpl","Stateful_getHtmlTpl","Stateful_onMouseEnter","isDisabled","addState","Stateful_onMouseLeave","removeState","Stateful_onMouseOver","Stateful_onMouseOut","Stateful_onMouseDown","Stateful_onMouseUp","Stateful_postRender","hasState","getStateDom","isChecked","setChecked","checked","btnName","initButton","showIcon","showText","setTitle","SplitButton","initSplitButton","setPopup","_onPopupShow","_onPopupHide","showPopup","_onArrowClick","_onButtonClick","ColorButton","initColorButton","onpickcolor","_onPickColor","onpicknocolor","_SplitButton_postRender","setColor","TableButton","initTableButton","onpicktable","_onPickTable","AutoTypeSetPicker","initAutoTypeSetPicker","textAlignInputName","imageBlockInputName","symbolConverInputName","AutoTypeSetButton","initAutoTypeSetButton","getPara","ipt","editorId","ipts","attrValue","iptchild","iptChilds","selects","popupUI","radios","defalutSelect","symbolConver","checkboxs","CellAlignPicker","initSelected","initCellAlignPicker","middle","selectedIndex","alignType","tempClassName","tempIndex","tmpl","PastePicker","initPastePicker","_isTransfer","cur","screenHt","subPop","initToolbar","buff","initMenu","menuSeparator","initItems","getSeparator","MenuItem","createItem","_Popup_getContentHtmlTpl","_Popup_postRender","ownerMenu","clearItems","_showingTimer","_closingTimer","parentMenu","renderLabelHtml","delayShowSubMenu","delayHideSubMenu","hideSubMenu","_bakQueryAutoHide","tabIndex","showSubMenu","this_","Combox","initCombox","onbuttonclick","selectByIndex","setLabel","initValue","indexByValue","getLabelForUnknowValue","modalMask","dragMask","activeDialog","autoReset","onok","oncancel","onclose","holdScroll","initDialog","closeButton","initResizeEvent","__resizeTimer","dialogWrapNode","contentNode","wrapRect","contentRect","safeSetOffset","showAtCenter","_originalContext","overflowX","titleHeight","getContentHtml","contentHtml","footHtml","_hide","_onTitlebarMouseDown","wrapNode","_onCloseButtonClick","MenuButton","initMenuButton","_value","MultiMenuPop","initMultiMenu","iframe_rendered","onshow","timeID","UI","allMenus","isSubMenuShow","initShortCutMenu","hideAllMenu","SPACE","initEvent","getSubMenuMark","eventType","wt","ht","distanceX","distanceY","setOpacity","relatedTgt","opacity","layerEle","hasContextmenu","fixedlayer","setPos","setPosByCxtMenu","Breakline","Message","initMessage","keepshow","setType","closer","getType","scripts","svgSprite","prepend","before","__iconfont__svg__cssinject__","loadFn","done","polling","IEContentLoaded","svg","editorui","_Dialog","scrollX","iframeUrlMap","btnCmds","causeByUi","uiReady","typeset","imagefloat","directionality","cmd2","dialogBtns","noOk","vals","mapUrl","onselect","langLabel","langCs","ck","ri","rowspacings","lists","_onMenuClick","isFullScreen","iconSpan","nodeStack","EditorUI","initEditorUI","_initToolbars","_actualFrameWidth","setCount","_scale","enableScale","disableScale","pastePop","isPaste","maximumWords","errMsg","countDom","_onEditButtonClick","linkDialog","_onImgEditButtonClick","_onImgSetFloat","_setIframeAlign","frame","newFrame","_updateIframe","mapDialog","insertframeDialog","_onRemoveButtonClick","dialogs","dialogName","toolbarUis","extraUIs","toolbar","toolbarUi","toolbarItem","toolbarItemUi","itemUI","renderToolbarBoxHtml","showWordImageDialog","_fullscreen","_bakHtmlOverflow","_bakBodyOverflow","_bakAutoHeight","_bakScrollTop","_bakEditorContaninerWidth","_bakCssText","_bakCssText1","_updateFullScreen","scroll","triggerLayout","_updateElementPath","disableElementPath","enableElementPath","editorHolder","editorDocument","bottombar","scale","scalelayer","isMouseMove","minEditorHeight","minEditorWidth","scaleWidth","scaleHeight","down","move","up","clearSelection","fullScreen","timerId","updateFullScreenTime","showToolbarMsg","hideToolbarMsg","zoom","instances","oldRender","renderUI","newDiv","displays","styleWidth","_messageItems","updateHolderPos","toolbarbox","mid"],"mappings":"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b,GAAUc,KAAKh8B,SAASg7B,KAAOgB,KAAKxyB,SAASyyB,KAC7Cd,IAKAe,EAAal8B,SAASrG,qBAAqB,WAE7BuiC,EAAWriC,OAAS,GAAGygC,KAH7C,IACQ4B,EAhhBR7jC,OAAO8jC,gBAEHzlC,iBAAkBskC,EAIlBoB,UAAW,GACXC,gBAAiB,cACjBC,iBAAkB,eAClBC,gBAAiB,cACjBC,eAAgB,aAChBC,eAAgB,GAChBC,gBAAiB,GACjBC,eAAgB,GAChBC,cAAe,GACfC,mBAAoB,GAEpBnsB,WAEY,aACA,SACA,IACA,OACA,OACA,IACA,OACA,SACA,YACA,aACA,gBACA,cACA,YACA,eACA,cACA,cACA,aACA,aACA,IACA,YACA,YACA,oBACA,sBACA,YACA,WACA,IACA,gBACA,mBACA,aACA,IACA,cACA,YACA,aACA,WACA,IACA,oBACA,oBACA,SACA,IACA,cACA,gBACA,eACA,iBACA,IACA,cACA,cACA,IACA,OACA,SACA,SACA,IACA,YACA,YACA,aACA,cACA,IAEA,cACA,UACA,SACA,cACA,QACA,aACA,MACA,OACA,cAEA,YACA,WACA,aACA,IACA,aACA,aACA,OACA,OACA,WACA,aACA,YACA,IACA,cACA,cACA,6BACA,YACA,YACA,YACA,YACA,aACA,aACA,YACA,eACA,cACA,cACA,SACA,IACA,QACA,UACA,gBACA,SACA,SAgBZM,MAAO,SAIPC,OAAQ,KAkOR6rB,mBAAmB,EA8EnBC,gBAAgB,EAGhBC,gBAAgB,EAGhBC,iBAAiB,EAGjBC,UACIx/B,GAAI,SAAU,OAAQ,QAAS,QAAS,SACxCy/B,MAAO,QAAS,QAAS,SACzBhI,SAAU,QAAS,SACnBiI,MAAO,QAAS,SAAU,OAAQ,OAClCC,WACAC,SACAC,OAAQ,WAAY,WAAY,OAAQ,UAAW,MAAO,QAAS,SACnEC,GAAI,QAAS,SACbC,KAAM,OACNC,KAAM,OACNC,OACA9hB,YAAa,OAAQ,QAAS,SAC9B+hB,MACAC,SAAU,QAAS,SACnBC,UACAC,QACAC,MAAO,QAAS,SAChBthC,KAAM,QAAS,SAAU,OAAQ,QAAS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","file":"static/js/app.8fc52a3fd9d28f2ee426.js","sourcesContent":["/*\n * 设计器私有的配置说明\n * 一\n * UE.formDesignUrl  插件路径\n *\n * 二\n *UE.getEditor('myFormDesign',{\n *          customtoolbar:true,//是否显示，设计器的清单 tool\n */\nUE.formDesignUrl = 'formdesign';\n\n// 运算控件Array\nUE.computes = new Array();\n// 所有项目Array\nUE.controls = new Array();\n\n/**\n * 文本框\n * @command textfield\n * @method execCommand\n * @param { String } cmd 命令字符串\n * @example\n * ```javascript\n * editor.execCommand( 'textfield');\n * ```\n */\n// UE.plugins['text'] = function () {\n//   var me = this,thePlugins = 'text';\n//   me.commands[thePlugins] = {\n//     execCommand:function () {\n//       var dialog = new UE.ui.Dialog({\n//         iframeUrl:this.options.UEDITOR_HOME_URL + UE.formDesignUrl+'/text.html?r=' + Date.parse(new Date().toString())+parseInt(100*Math.random()),\n//         name:thePlugins,\n//         editor:this,\n//         title: '文本框',\n//         cssRules:\"width:600px;height:380px;\",\n//         buttons:[\n//           {\n//             className:'edui-okbutton',\n//             label:'确定',\n//             onclick:function () {\n//               dialog.close(true);\n//             }\n//           },\n//           {\n//             className:'edui-cancelbutton',\n//             label:'取消',\n//             onclick:function () {\n//               dialog.close(false);\n//             }\n//           }]\n//       });\n//       dialog.render();\n//       dialog.open();\n//     }\n//   };\n//   var popup = new baidu.editor.ui.Popup( {\n//     editor:this,\n//     content: '',\n//     className: 'edui-bubble',\n//     _edittext: function () {\n//       baidu.editor.plugins[thePlugins].editdom = popup.anchorEl;\n//       me.execCommand(thePlugins);\n//       this.hide();\n//     },\n//     _delete:function(){\n//       if( window.confirm('确认删除该控件吗？') ) {\n//         baidu.editor.dom.domUtils.remove(this.anchorEl,false);\n//       }\n//       this.hide();\n//     }\n//   } );\n//   popup.render();\n//   me.addListener( 'mouseover', function( t, evt ) {\n//\n//     // setControls();\n//\n//     evt = evt || window.event;\n//     var el = evt.target || evt.srcElement;\n//     var agentPlugins = el.getAttribute('plugins');\n//     if ( /input/ig.test( el.tagName ) && agentPlugins==thePlugins) {\n//       var html = popup.formatHtml(\n//         '<nobr>文本框: <span onclick=$$._edittext() class=\"edui-clickable\">编辑</span>&nbsp;&nbsp;<span onclick=$$._delete() class=\"edui-clickable\">删除</span></nobr>' );\n//       if ( html ) {\n//         popup.getDom( 'content' ).innerHTML = html;\n//         popup.anchorEl = el;\n//         popup.showAnchor( popup.anchorEl );\n//       } else {\n//         popup.hide();\n//       }\n//     }\n//   });\n// };\n\n/**\n * 文本框\n * @command textfield\n * @method execCommand\n * @param { String } cmd 命令字符串\n * @example\n * ```javascript\n * editor.execCommand( 'textfield');\n * ```\n */\nUE.plugins['controlinput'] = function () {\n  var me = this,thePlugins = 'controlinput';\n  me.commands[thePlugins] = {\n    execCommand:function () {\n      var dialog = new UE.ui.Dialog({\n        iframeUrl:this.options.UEDITOR_HOME_URL + UE.formDesignUrl+'/controlinput.html?r=' + Date.parse(new Date().toString())+parseInt(100*Math.random()),\n        name:thePlugins,\n        editor:this,\n        title: '文本框',\n        cssRules:\"width:600px;height:380px;\",\n        buttons:[\n          {\n            className:'edui-okbutton',\n            label:'确定',\n            onclick:function () {\n              dialog.close(true);\n            }\n          },\n          {\n            className:'edui-cancelbutton',\n            label:'取消',\n            onclick:function () {\n              dialog.close(false);\n            }\n          }]\n      });\n      dialog.render();\n      dialog.open();\n    }\n  };\n  var popup = new baidu.editor.ui.Popup( {\n    editor:this,\n    content: '',\n    className: 'edui-bubble',\n    _edittext: function () {\n      baidu.editor.plugins[thePlugins].editdom = popup.anchorEl;\n      me.execCommand(thePlugins);\n      this.hide();\n    },\n    _delete:function(){\n      if( window.confirm('确认删除该控件吗？') ) {\n        baidu.editor.dom.domUtils.remove(this.anchorEl,false);\n      }\n      this.hide();\n    }\n  } );\n  popup.render();\n  me.addListener( 'mouseover', function( t, evt ) {\n\n    // setControls();\n\n    evt = evt || window.event;\n    var el = evt.target || evt.srcElement;\n    var agentPlugins = el.getAttribute('plugins');\n    if ( /input/ig.test( el.tagName ) && agentPlugins==thePlugins) {\n      var html = popup.formatHtml(\n        '<nobr>文本框: <span onclick=$$._edittext() class=\"edui-clickable\">编辑</span>&nbsp;&nbsp;<span onclick=$$._delete() class=\"edui-clickable\">删除</span></nobr>' );\n      if ( html ) {\n        popup.getDom( 'content' ).innerHTML = html;\n        popup.anchorEl = el;\n        popup.showAnchor( popup.anchorEl );\n      } else {\n        popup.hide();\n      }\n    }\n  });\n};\n\n/**\n * 宏控件\n * @command macros\n * @method execCommand\n * @param { String } cmd 命令字符串\n * @example\n * ```javascript\n * editor.execCommand( 'macros');\n * ```\n */\nUE.plugins['macros'] = function () {\n  var me = this,thePlugins = 'macros';\n  me.commands[thePlugins] = {\n    execCommand:function () {\n      var dialog = new UE.ui.Dialog({\n        iframeUrl:this.options.UEDITOR_HOME_URL + UE.formDesignUrl+'/macros.html?r=' + Date.parse(new Date().toString())+parseInt(100*Math.random()),\n        name:thePlugins,\n        editor:this,\n        title: '宏控件',\n        cssRules:\"width:600px;height:270px;\",\n        buttons:[\n          {\n            className:'edui-okbutton',\n            label:'确定',\n            onclick:function () {\n              dialog.close(true);\n            }\n          },\n          {\n            className:'edui-cancelbutton',\n            label:'取消',\n            onclick:function () {\n              dialog.close(false);\n            }\n          }]\n      });\n      dialog.render();\n      dialog.open();\n    }\n  };\n  var popup = new baidu.editor.ui.Popup( {\n    editor:this,\n    content: '',\n    className: 'edui-bubble',\n    _edittext: function () {\n      baidu.editor.plugins[thePlugins].editdom = popup.anchorEl;\n      me.execCommand(thePlugins);\n      this.hide();\n    },\n    _delete:function(){\n      if( window.confirm('确认删除该控件吗？') ) {\n        baidu.editor.dom.domUtils.remove(this.anchorEl,false);\n      }\n      this.hide();\n    }\n  } );\n  popup.render();\n  me.addListener( 'mouseover', function( t, evt ) {\n\n    // setControls();\n\n    evt = evt || window.event;\n    var el = evt.target || evt.srcElement;\n    var agentPlugins = el.getAttribute('plugins');\n    if ( /input/ig.test( el.tagName ) && agentPlugins==thePlugins) {\n      var html = popup.formatHtml(\n        '<nobr>宏控件: <span onclick=$$._edittext() class=\"edui-clickable\">编辑</span>&nbsp;&nbsp;<span onclick=$$._delete() class=\"edui-clickable\">删除</span></nobr>' );\n      if ( html ) {\n        popup.getDom( 'content' ).innerHTML = html;\n        popup.anchorEl = el;\n        popup.showAnchor( popup.anchorEl );\n      } else {\n        popup.hide();\n      }\n    }\n  });\n};\n/**\n * 单选框\n * @command radio\n * @method execCommand\n * @param { String } cmd 命令字符串\n * @example\n * ```javascript\n * editor.execCommand( 'radio');\n * ```\n\n UE.plugins['radio'] = function () {\n    var me = this,thePlugins = 'radio';\n    me.commands[thePlugins] = {\n        execCommand:function () {\n            var dialog = new UE.ui.Dialog({\n                iframeUrl:this.options.UEDITOR_HOME_URL + UE.formDesignUrl+'/radio.html',\n                name:thePlugins,\n                editor:this,\n                title: '单选框',\n                cssRules:\"width:590px;height:370px;\",\n                buttons:[\n                {\n                    className:'edui-okbutton',\n                    label:'确定',\n                    onclick:function () {\n                        dialog.close(true);\n                    }\n                },\n                {\n                    className:'edui-cancelbutton',\n                    label:'取消',\n                    onclick:function () {\n                        dialog.close(false);\n                    }\n                }]\n            });\n            dialog.render();\n            dialog.open();\n        }\n    };\n    var popup = new baidu.editor.ui.Popup( {\n        editor:this,\n        content: '',\n        className: 'edui-bubble',\n        _edittext: function () {\n              baidu.editor.plugins[thePlugins].editdom = popup.anchorEl;\n              me.execCommand(thePlugins);\n              this.hide();\n        },\n        _delete:function(){\n            if( window.confirm('确认删除该控件吗？') ) {\n                baidu.editor.dom.domUtils.remove(this.anchorEl,false);\n            }\n            this.hide();\n        }\n    } );\n    popup.render();\n    me.addListener( 'mouseover', function( t, evt ) {\n        evt = evt || window.event;\n        var el = evt.target || evt.srcElement;\n        var agentPlugins = el.getAttribute('leipiplugins');\n        if ( /input/ig.test( el.tagName ) && agentPlugins==thePlugins) {\n            var html = popup.formatHtml(\n                '<nobr>单选框: <span onclick=$$._edittext() class=\"edui-clickable\">编辑</span>&nbsp;&nbsp;<span onclick=$$._delete() class=\"edui-clickable\">删除</span></nobr>' );\n            if ( html ) {\n                popup.getDom( 'content' ).innerHTML = html;\n                popup.anchorEl = el;\n                popup.showAnchor( popup.anchorEl );\n            } else {\n                popup.hide();\n            }\n        }\n    });\n};\n */\n\n/**\n * 复选框\n * @command checkbox\n * @method execCommand\n * @param { String } cmd 命令字符串\n * @example\n * ```javascript\n * editor.execCommand( 'checkbox');\n * ```\n */\n/*\n UE.plugins['checkbox'] = function () {\n var me = this,thePlugins = 'checkbox';\n me.commands[thePlugins] = {\n execCommand:function () {\n var dialog = new UE.ui.Dialog({\n iframeUrl:this.options.UEDITOR_HOME_URL + UE.formDesignUrl+'/checkbox.html',\n name:thePlugins,\n editor:this,\n title: '复选框',\n cssRules:\"width:600px;height:200px;\",\n buttons:[\n {\n className:'edui-okbutton',\n label:'确定',\n onclick:function () {\n dialog.close(true);\n }\n },\n {\n className:'edui-cancelbutton',\n label:'取消',\n onclick:function () {\n dialog.close(false);\n }\n }]\n });\n dialog.render();\n dialog.open();\n }\n };\n var popup = new baidu.editor.ui.Popup( {\n editor:this,\n content: '',\n className: 'edui-bubble',\n _edittext: function () {\n baidu.editor.plugins[thePlugins].editdom = popup.anchorEl;\n me.execCommand(thePlugins);\n this.hide();\n },\n _delete:function(){\n if( window.confirm('确认删除该控件吗？') ) {\n baidu.editor.dom.domUtils.remove(this.anchorEl,false);\n }\n this.hide();\n }\n } );\n popup.render();\n me.addListener( 'mouseover', function( t, evt ) {\n evt = evt || window.event;\n var el = evt.target || evt.srcElement;\n var agentPlugins = el.getAttribute('leipiplugins');\n if ( /input/ig.test( el.tagName ) && agentPlugins==thePlugins) {\n var html = popup.formatHtml(\n '<nobr>复选框: <span onclick=$$._edittext() class=\"edui-clickable\">编辑</span>&nbsp;&nbsp;<span onclick=$$._delete() class=\"edui-clickable\">删除</span></nobr>' );\n if ( html ) {\n popup.getDom( 'content' ).innerHTML = html;\n popup.anchorEl = el;\n popup.showAnchor( popup.anchorEl );\n } else {\n popup.hide();\n }\n }\n });\n };\n */\n/**\n * 单选框组\n * @command radios\n * @method execCommand\n * @param { String } cmd 命令字符串\n * @example\n * ```javascript\n * editor.execCommand( 'radio');\n * ```\n */\nUE.plugins['radios'] = function () {\n  var me = this,thePlugins = 'radios';\n  me.commands[thePlugins] = {\n    execCommand:function () {\n      var dialog = new UE.ui.Dialog({\n        iframeUrl:this.options.UEDITOR_HOME_URL + UE.formDesignUrl+'/radios.html?r=' + Date.parse(new Date().toString())+parseInt(100*Math.random()),\n        name:thePlugins,\n        editor:this,\n        title: '单选框组',\n        cssRules:\"width:590px;height:370px;\",\n        buttons:[\n          {\n            className:'edui-okbutton',\n            label:'确定',\n            onclick:function () {\n              dialog.close(true);\n            }\n          },\n          {\n            className:'edui-cancelbutton',\n            label:'取消',\n            onclick:function () {\n              dialog.close(false);\n            }\n          }]\n      });\n      dialog.render();\n      dialog.open();\n    }\n  };\n  var popup = new baidu.editor.ui.Popup( {\n    editor:this,\n    content: '',\n    className: 'edui-bubble',\n    _edittext: function () {\n      baidu.editor.plugins[thePlugins].editdom = popup.anchorEl;\n      me.execCommand(thePlugins);\n      this.hide();\n    },\n    _delete:function(){\n      if( window.confirm('确认删除该控件吗？') ) {\n        baidu.editor.dom.domUtils.remove(this.anchorEl,false);\n      }\n      this.hide();\n    }\n  } );\n  popup.render();\n  me.addListener( 'mouseover', function( t, evt ) {\n\n    // setControls();\n\n    evt = evt || window.event;\n    var el = evt.target || evt.srcElement;\n    var agentPlugins = el.getAttribute('plugins');\n    if ( /span/ig.test( el.tagName ) && agentPlugins==thePlugins) {\n      var html = popup.formatHtml(\n        '<nobr>单选框组: <span onclick=$$._edittext() class=\"edui-clickable\">编辑</span>&nbsp;&nbsp;<span onclick=$$._delete() class=\"edui-clickable\">删除</span></nobr>' );\n      if ( html ) {\n        var elInput = el.getElementsByTagName(\"input\");\n        var rEl = elInput.length>0 ? elInput[0] : el;\n        popup.getDom( 'content' ).innerHTML = html;\n        popup.anchorEl = el;\n        popup.showAnchor( rEl);\n      } else {\n        popup.hide();\n      }\n    }\n  });\n};\n/**\n * 复选框组\n * @command checkboxs\n * @method execCommand\n * @param { String } cmd 命令字符串\n * @example\n * ```javascript\n * editor.execCommand( 'checkboxs');\n * ```\n */\nUE.plugins['checkboxs'] = function () {\n  var me = this,thePlugins = 'checkboxs';\n  me.commands[thePlugins] = {\n    execCommand:function () {\n      var dialog = new UE.ui.Dialog({\n        iframeUrl:this.options.UEDITOR_HOME_URL + UE.formDesignUrl+'/checkboxs.html?r=' + Date.parse(new Date().toString())+parseInt(100*Math.random()),\n        name:thePlugins,\n        editor:this,\n        title: '复选框组',\n        cssRules:\"width:600px;height:400px;\",\n        buttons:[\n          {\n            className:'edui-okbutton',\n            label:'确定',\n            onclick:function () {\n              dialog.close(true);\n            }\n          },\n          {\n            className:'edui-cancelbutton',\n            label:'取消',\n            onclick:function () {\n              dialog.close(false);\n            }\n          }]\n      });\n      dialog.render();\n      dialog.open();\n    }\n  };\n  var popup = new baidu.editor.ui.Popup( {\n    editor:this,\n    content: '',\n    className: 'edui-bubble',\n    _edittext: function () {\n      baidu.editor.plugins[thePlugins].editdom = popup.anchorEl;\n      me.execCommand(thePlugins);\n      this.hide();\n    },\n    _delete:function(){\n      if( window.confirm('确认删除该控件吗？') ) {\n        baidu.editor.dom.domUtils.remove(this.anchorEl,false);\n      }\n      this.hide();\n    }\n  } );\n  popup.render();\n  me.addListener( 'mouseover', function( t, evt ) {\n\n    // setControls();\n\n    evt = evt || window.event;\n    var el = evt.target || evt.srcElement;\n    var agentPlugins = el.getAttribute('plugins');\n    if ( /span/ig.test( el.tagName ) && agentPlugins==thePlugins) {\n      var html = popup.formatHtml(\n        '<nobr>复选框组: <span onclick=$$._edittext() class=\"edui-clickable\">编辑</span>&nbsp;&nbsp;<span onclick=$$._delete() class=\"edui-clickable\">删除</span></nobr>' );\n      if ( html ) {\n        var elInput = el.getElementsByTagName(\"input\");\n        var rEl = elInput.length>0 ? elInput[0] : el;\n        popup.getDom( 'content' ).innerHTML = html;\n        popup.anchorEl = el;\n        popup.showAnchor( rEl);\n      } else {\n        popup.hide();\n      }\n    }\n  });\n};\n/**\n * 多行文本框\n * @command textarea\n * @method execCommand\n * @param { String } cmd 命令字符串\n * @example\n * ```javascript\n * editor.execCommand( 'textarea');\n * ```\n */\nUE.plugins['textarea'] = function () {\n  var me = this,thePlugins = 'textarea';\n  me.commands[thePlugins] = {\n    execCommand:function () {\n      var dialog = new UE.ui.Dialog({\n        iframeUrl:this.options.UEDITOR_HOME_URL + UE.formDesignUrl+'/textarea.html?r=' + Date.parse(new Date().toString())+parseInt(100*Math.random()),\n        name:thePlugins,\n        editor:this,\n        title: '多行文本框',\n        cssRules:\"width:600px;height:380px;\",\n        buttons:[\n          {\n            className:'edui-okbutton',\n            label:'确定',\n            onclick:function () {\n              dialog.close(true);\n            }\n          },\n          {\n            className:'edui-cancelbutton',\n            label:'取消',\n            onclick:function () {\n              dialog.close(false);\n            }\n          }]\n      });\n      dialog.render();\n      dialog.open();\n    }\n  };\n  var popup = new baidu.editor.ui.Popup( {\n    editor:this,\n    content: '',\n    className: 'edui-bubble',\n    _edittext: function () {\n      baidu.editor.plugins[thePlugins].editdom = popup.anchorEl;\n      me.execCommand(thePlugins);\n      this.hide();\n    },\n    _delete:function(){\n      if( window.confirm('确认删除该控件吗？') ) {\n        baidu.editor.dom.domUtils.remove(this.anchorEl,false);\n      }\n      this.hide();\n    }\n  } );\n  popup.render();\n  me.addListener( 'mouseover', function( t, evt ) {\n\n    // setControls();\n\n    evt = evt || window.event;\n    var el = evt.target || evt.srcElement;\n    if ( /textarea/ig.test( el.tagName ) ) {\n      var html = popup.formatHtml(\n        '<nobr>多行文本框: <span onclick=$$._edittext() class=\"edui-clickable\">编辑</span>&nbsp;&nbsp;<span onclick=$$._delete() class=\"edui-clickable\">删除</span></nobr>' );\n      if ( html ) {\n        popup.getDom( 'content' ).innerHTML = html;\n        popup.anchorEl = el;\n        popup.showAnchor( popup.anchorEl );\n      } else {\n        popup.hide();\n      }\n    }\n  });\n};\n/**\n * 下拉菜单\n * @command select\n * @method execCommand\n * @param { String } cmd 命令字符串\n * @example\n * ```javascript\n * editor.execCommand( 'select');\n * ```\n */\nUE.plugins['select'] = function () {\n  var me = this,thePlugins = 'select';\n  me.commands[thePlugins] = {\n    execCommand:function () {\n      var dialog = new UE.ui.Dialog({\n        iframeUrl:this.options.UEDITOR_HOME_URL + UE.formDesignUrl+'/select.html?r=' + Date.parse(new Date().toString())+parseInt(100*Math.random()),\n        name:thePlugins,\n        editor:this,\n        title: '下拉菜单',\n        cssRules:\"width:590px;height:440px;\",\n        buttons:[\n          {\n            className:'edui-okbutton',\n            label:'确定',\n            onclick:function () {\n              dialog.close(true);\n            }\n          },\n          {\n            className:'edui-cancelbutton',\n            label:'取消',\n            onclick:function () {\n              dialog.close(false);\n            }\n          }]\n      });\n      dialog.render();\n      dialog.open();\n    }\n  };\n  var popup = new baidu.editor.ui.Popup( {\n    editor:this,\n    content: '',\n    className: 'edui-bubble',\n    _edittext: function () {\n      baidu.editor.plugins[thePlugins].editdom = popup.anchorEl;\n      me.execCommand(thePlugins);\n      this.hide();\n    },\n    _delete:function(){\n      if( window.confirm('确认删除该控件吗？') ) {\n        baidu.editor.dom.domUtils.remove(this.anchorEl,false);\n      }\n      this.hide();\n    }\n  } );\n  popup.render();\n  me.addListener( 'mouseover', function( t, evt ) {\n\n    // setControls();\n\n    evt = evt || window.event;\n    var el = evt.target || evt.srcElement;\n    var agentPlugins = el.getAttribute('plugins');\n    if ( /select|span/ig.test( el.tagName ) && agentPlugins==thePlugins) {\n      var html = popup.formatHtml(\n        '<nobr>下拉菜单: <span onclick=$$._edittext() class=\"edui-clickable\">编辑</span>&nbsp;&nbsp;<span onclick=$$._delete() class=\"edui-clickable\">删除</span></nobr>' );\n      if ( html ) {\n        if(el.tagName=='SPAN')\n        {\n          var elInput = el.getElementsByTagName(\"select\");\n          el = elInput.length>0 ? elInput[0] : el;\n        }\n        popup.getDom( 'content' ).innerHTML = html;\n        popup.anchorEl = el;\n        popup.showAnchor( popup.anchorEl );\n      } else {\n        popup.hide();\n      }\n    }\n  });\n\n};\n/**\n * 进度条\n * @command progressbar\n * @method execCommand\n * @param { String } cmd 命令字符串\n * @example\n * ```javascript\n * editor.execCommand( 'progressbar');\n * ```\n */\nUE.plugins['progressbar'] = function () {\n  var me = this,thePlugins = 'progressbar';\n  me.commands[thePlugins] = {\n    execCommand:function () {\n      var dialog = new UE.ui.Dialog({\n        iframeUrl:this.options.UEDITOR_HOME_URL + UE.formDesignUrl+'/progressbar?r=' + Date.parse(new Date().toString())+parseInt(100*Math.random()),\n        name:thePlugins,\n        editor:this,\n        title: '进度条',\n        cssRules:\"width:600px;height:450px;\",\n        buttons:[\n          {\n            className:'edui-okbutton',\n            label:'确定',\n            onclick:function () {\n              dialog.close(true);\n            }\n          },\n          {\n            className:'edui-cancelbutton',\n            label:'取消',\n            onclick:function () {\n              dialog.close(false);\n            }\n          }]\n      });\n      dialog.render();\n      dialog.open();\n    }\n  };\n  var popup = new baidu.editor.ui.Popup( {\n    editor:this,\n    content: '',\n    className: 'edui-bubble',\n    _edittext: function () {\n      baidu.editor.plugins[thePlugins].editdom = popup.anchorEl;\n      me.execCommand(thePlugins);\n      this.hide();\n    },\n    _delete:function(){\n      if( window.confirm('确认删除该控件吗？') ) {\n        baidu.editor.dom.domUtils.remove(this.anchorEl,false);\n      }\n      this.hide();\n    }\n  } );\n  popup.render();\n  me.addListener( 'mouseover', function( t, evt ) {\n    evt = evt || window.event;\n    var el = evt.target || evt.srcElement;\n    var agentPlugins = el.getAttribute('plugins');\n    if ( /img/ig.test( el.tagName ) && agentPlugins==thePlugins) {\n      var html = popup.formatHtml(\n        '<nobr>进度条: <span onclick=$$._edittext() class=\"edui-clickable\">编辑</span>&nbsp;&nbsp;<span onclick=$$._delete() class=\"edui-clickable\">删除</span></nobr>' );\n      if ( html ) {\n        popup.getDom( 'content' ).innerHTML = html;\n        popup.anchorEl = el;\n        popup.showAnchor( popup.anchorEl );\n      } else {\n        popup.hide();\n      }\n    }\n  });\n};\n/**\n * 二维码\n * @command qrcode\n * @method execCommand\n * @param { String } cmd 命令字符串\n * @example\n * ```javascript\n * editor.execCommand( 'qrcode');\n * ```\n */\nUE.plugins['qrcode'] = function () {\n  var me = this,thePlugins = 'qrcode';\n  me.commands[thePlugins] = {\n    execCommand:function () {\n      var dialog = new UE.ui.Dialog({\n        iframeUrl:this.options.UEDITOR_HOME_URL + UE.formDesignUrl+'/qrcode?r=' + Date.parse(new Date().toString())+parseInt(100*Math.random()),\n        name:thePlugins,\n        editor:this,\n        title: '二维码',\n        cssRules:\"width:600px;height:370px;\",\n        buttons:[\n          {\n            className:'edui-okbutton',\n            label:'确定',\n            onclick:function () {\n              dialog.close(true);\n            }\n          },\n          {\n            className:'edui-cancelbutton',\n            label:'取消',\n            onclick:function () {\n              dialog.close(false);\n            }\n          }]\n      });\n      dialog.render();\n      dialog.open();\n    }\n  };\n  var popup = new baidu.editor.ui.Popup( {\n    editor:this,\n    content: '',\n    className: 'edui-bubble',\n    _edittext: function () {\n      baidu.editor.plugins[thePlugins].editdom = popup.anchorEl;\n      me.execCommand(thePlugins);\n      this.hide();\n    },\n    _delete:function(){\n      if( window.confirm('确认删除该控件吗？') ) {\n        baidu.editor.dom.domUtils.remove(this.anchorEl,false);\n      }\n      this.hide();\n    }\n  } );\n  popup.render();\n  me.addListener( 'mouseover', function( t, evt ) {\n    evt = evt || window.event;\n    var el = evt.target || evt.srcElement;\n    var agentPlugins = el.getAttribute('plugins');\n    if ( /img/ig.test( el.tagName ) && agentPlugins==thePlugins) {\n      var html = popup.formatHtml(\n        '<nobr>二维码: <span onclick=$$._edittext() class=\"edui-clickable\">编辑</span>&nbsp;&nbsp;<span onclick=$$._delete() class=\"edui-clickable\">删除</span></nobr>' );\n      if ( html ) {\n        popup.getDom( 'content' ).innerHTML = html;\n        popup.anchorEl = el;\n        popup.showAnchor( popup.anchorEl );\n      } else {\n        popup.hide();\n      }\n    }\n  });\n};\n\nUE.plugins['more'] = function () {\n  var me = this,thePlugins = 'more';\n  me.commands[thePlugins] = {\n    execCommand:function () {\n      var dialog = new UE.ui.Dialog({\n        iframeUrl:this.options.UEDITOR_HOME_URL + UE.formDesignUrl+'/more?r=' + Date.parse(new Date().toString())+parseInt(100*Math.random()),\n        name:thePlugins,\n        editor:this,\n        title: '玩转表单设计器，一起参与，帮助完善',\n        cssRules:\"width:600px;height:200px;\",\n        buttons:[\n          {\n            className:'edui-okbutton',\n            label:'确定',\n            onclick:function () {\n              dialog.close(true);\n            }\n          }]\n      });\n      dialog.render();\n      dialog.open();\n    }\n  };\n};\nUE.plugins['error'] = function () {\n  var me = this,thePlugins = 'error';\n  me.commands[thePlugins] = {\n    execCommand:function () {\n      var dialog = new UE.ui.Dialog({\n        iframeUrl:this.options.UEDITOR_HOME_URL + UE.formDesignUrl+'/error?r=' + Date.parse(new Date().toString())+parseInt(100*Math.random()),\n        name:thePlugins,\n        editor:this,\n        title: '异常提示',\n        cssRules:\"width:400px;height:130px;\",\n        buttons:[\n          {\n            className:'edui-okbutton',\n            label:'确定',\n            onclick:function () {\n              dialog.close(true);\n            }\n          }]\n      });\n      dialog.render();\n      dialog.open();\n    }\n  };\n};\n/**\n UE.registerUI('button_leipi',function(editor,uiName){\n    if(!this.options.customtoolbar)\n    {\n        return false;\n    }\n    //注册按钮执行时的command命令，使用命令默认就会带有回退操作\n    editor.registerCommand(uiName,{\n        execCommand:function(){\n            editor.execCommand('leipi');\n        }\n    });\n    //创建一个button\n    var btn = new UE.ui.Button({\n        //按钮的名字\n        name:uiName,\n        //提示\n        title:\"表单设计器\",\n        //需要添加的额外样式，指定icon图标，这里默认使用一个重复的icon\n        cssRules :'background-position: -401px -40px;',\n        //点击时执行的命令\n        onclick:function () {\n            //这里可以不用执行命令,做你自己的操作也可\n           editor.execCommand(uiName);\n        }\n    });\n\n    //因为你是添加button,所以需要返回这个button\n    return btn;\n});\n */\n/*\n UE.registerUI('button_template',function(editor,uiName){\n if(!this.options.customtoolbar)\n {\n return false;\n }\n //注册按钮执行时的command命令，使用命令默认就会带有回退操作\n editor.registerCommand(uiName,{\n execCommand:function(){\n try {\n formDesign.exec('leipi_template');\n //formDesign.fnCheckForm('save');\n } catch ( e ) {\n alert('打开模板异常');\n }\n\n }\n });\n //创建一个button\n var btn = new UE.ui.Button({\n //按钮的名字\n name:uiName,\n //提示\n title:\"表单模板\",\n //需要添加的额外样式，指定icon图标，这里默认使用一个重复的icon\n cssRules :'background-position: -339px -40px;',\n //点击时执行的命令\n onclick:function () {\n //这里可以不用执行命令,做你自己的操作也可\n editor.execCommand(uiName);\n }\n });\n\n //因为你是添加button,所以需要返回这个button\n return btn;\n });\n */\n\nUE.registerUI('button_preview',function(editor,uiName){\n  if(!this.options.customtoolbar)\n  {\n    return false;\n  }\n  //注册按钮执行时的command命令，使用命令默认就会带有回退操作\n  editor.registerCommand(uiName,{\n    execCommand:function(){\n      try {\n        formDesign.fnReview();\n      } catch ( e ) {\n        alert('预览异常');\n      }\n    }\n  });\n  //创建一个button\n  var btn = new UE.ui.Button({\n    //按钮的名字\n    name:uiName,\n    //提示\n    title:\"预览\",\n    //需要添加的额外样式，指定icon图标，这里默认使用一个重复的icon\n    cssRules :'background-position: -420px -19px;',\n    //点击时执行的命令\n    onclick:function () {\n      //这里可以不用执行命令,做你自己的操作也可\n      editor.execCommand(uiName);\n    }\n  });\n\n  //因为你是添加button,所以需要返回这个button\n  return btn;\n});\n/*\n UE.registerUI('button_save',function(editor,uiName){\n if(!this.options.customtoolbar)\n {\n return false;\n }\n //注册按钮执行时的command命令，使用命令默认就会带有回退操作\n editor.registerCommand(uiName,{\n execCommand:function(){\n try {\n formDesign.fnCheckForm('save');\n } catch ( e ) {\n console.log(e);\n alert('formDesign.fnCheckForm(\"save\") 保存异常');\n }\n\n }\n });\n //创建一个button\n var btn = new UE.ui.Button({\n //按钮的名字\n name:uiName,\n //提示\n title:\"保存表单\",\n //需要添加的额外样式，指定icon图标，这里默认使用一个重复的icon\n cssRules :'background-position: -481px -20px;',\n //点击时执行的命令\n onclick:function () {\n //这里可以不用执行命令,做你自己的操作也可\n editor.execCommand(uiName);\n }\n });\n\n //因为你是添加button,所以需要返回这个button\n return btn;\n });\n */\nUE.plugins['wdate'] = function () {\n  var me = this,thePlugins = 'wdate';\n  me.commands[thePlugins] = {\n    execCommand:function () {\n      var dialog = new UE.ui.Dialog({\n        iframeUrl:this.options.UEDITOR_HOME_URL + UE.formDesignUrl+'/wdate.html?r=' + Date.parse(new Date().toString())+parseInt(100*Math.random()),\n        name:thePlugins,\n        editor:this,\n        title: '日期文本框',\n        cssRules:\"width:600px;height:380px;\",\n        buttons:[\n          {\n            className:'edui-okbutton',\n            label:'确定',\n            onclick:function () {\n              dialog.close(true);\n            }\n          },\n          {\n            className:'edui-cancelbutton',\n            label:'取消',\n            onclick:function () {\n              dialog.close(false);\n            }\n          }]\n      });\n      dialog.render();\n      dialog.open();\n    }\n  };\n  var popup = new baidu.editor.ui.Popup( {\n    editor:this,\n    content: '',\n    className: 'edui-bubble',\n    _edittext: function () {\n      baidu.editor.plugins[thePlugins].editdom = popup.anchorEl;\n      me.execCommand(thePlugins);\n      this.hide();\n    },\n    _delete:function(){\n      if( window.confirm('确认删除该控件吗？') ) {\n        baidu.editor.dom.domUtils.remove(this.anchorEl,false);\n      }\n      this.hide();\n    }\n  } );\n  popup.render();\n  me.addListener( 'mouseover', function( t, evt ) {\n\n    // setControls();\n\n    evt = evt || window.event;\n    var el = evt.target || evt.srcElement;\n    var agentPlugins = el.getAttribute('plugins');\n    if ( /input/ig.test( el.tagName ) && agentPlugins==thePlugins) {\n      var html = popup.formatHtml(\n        '<nobr>日期文本框: <span onclick=$$._edittext() class=\"edui-clickable\">编辑</span>&nbsp;&nbsp;<span onclick=$$._delete() class=\"edui-clickable\">删除</span></nobr>' );\n      if ( html ) {\n        popup.getDom( 'content' ).innerHTML = html;\n        popup.anchorEl = el;\n        popup.showAnchor( popup.anchorEl );\n      } else {\n        popup.hide();\n      }\n    }\n  });\n};\n// 参照窗口\nUE.plugins['widget'] = function () {\n  var me = this,thePlugins = 'widget';\n  me.commands[thePlugins] = {\n    execCommand:function () {\n      var dialog = new UE.ui.Dialog({\n        iframeUrl:this.options.UEDITOR_HOME_URL + UE.formDesignUrl+'/widget.html?r=' + Date.parse(new Date().toString())+parseInt(100*Math.random()),\n        name:thePlugins,\n        editor:this,\n        title: '参照窗口',\n        cssRules:\"width:600px;height:380px;\",\n        buttons:[\n          {\n            className:'edui-okbutton',\n            label:'确定',\n            onclick:function () {\n              dialog.close(true);\n            }\n          },\n          {\n            className:'edui-cancelbutton',\n            label:'取消',\n            onclick:function () {\n              dialog.close(false);\n            }\n          }]\n      });\n      dialog.render();\n      dialog.open();\n    }\n  };\n  var popup = new baidu.editor.ui.Popup( {\n    editor:this,\n    content: '',\n    className: 'edui-bubble',\n    _edittext: function () {\n      baidu.editor.plugins[thePlugins].editdom = popup.anchorEl;\n      me.execCommand(thePlugins);\n      this.hide();\n    },\n    _delete:function(){\n      if( window.confirm('确认删除该控件吗？') ) {\n        baidu.editor.dom.domUtils.remove(this.anchorEl,false);\n      }\n      this.hide();\n    }\n  } );\n  popup.render();\n  me.addListener( 'mouseover', function( t, evt ) {\n\n    // setControls();\n\n    evt = evt || window.event;\n    var el = evt.target || evt.srcElement;\n    var agentPlugins = el.getAttribute('plugins');\n    if ( /input/ig.test( el.tagName ) && agentPlugins==thePlugins) {\n      var html = popup.formatHtml(\n        '<nobr>参照窗口: <span onclick=$$._edittext() class=\"edui-clickable\">编辑</span>&nbsp;&nbsp;<span onclick=$$._delete() class=\"edui-clickable\">删除</span></nobr>' );\n      if ( html ) {\n        popup.getDom( 'content' ).innerHTML = html;\n        popup.anchorEl = el;\n        popup.showAnchor( popup.anchorEl );\n      } else {\n        popup.hide();\n      }\n    }\n  });\n};\n// 计算组件\nUE.plugins['compute'] = function () {\n  var me = this,thePlugins = 'compute';\n  me.commands[thePlugins] = {\n    execCommand:function () {\n      var dialog = new UE.ui.Dialog({\n        iframeUrl:this.options.UEDITOR_HOME_URL + UE.formDesignUrl+'/compute.html?r=' + Date.parse(new Date().toString())+parseInt(100*Math.random()),\n        name:thePlugins,\n        editor:this,\n        title: '运算控件',\n        cssRules:\"width:600px;height:470px;\",\n        buttons:[\n          {\n            className:'edui-okbutton',\n            label:'确定',\n            onclick:function () {\n              dialog.close(true);\n            }\n          },\n          {\n            className:'edui-cancelbutton',\n            label:'取消',\n            onclick:function () {\n              dialog.close(false);\n            }\n          }]\n      });\n      dialog.render();\n      dialog.open();\n    }\n  };\n  var popup = new baidu.editor.ui.Popup( {\n    editor:this,\n    content: '',\n    className: 'edui-bubble',\n    _edittext: function () {\n      baidu.editor.plugins[thePlugins].editdom = popup.anchorEl;\n      me.execCommand(thePlugins);\n      this.hide();\n    },\n    _delete:function(){\n      if( window.confirm('确认删除该控件吗？') ) {\n        baidu.editor.dom.domUtils.remove(this.anchorEl,false);\n      }\n      this.hide();\n    }\n  } );\n  popup.render();\n  me.addListener( 'mouseover', function( t, evt ) {\n\n    // setComputes();\n    // setControls();\n\n    evt = evt || window.event;\n    var el = evt.target || evt.srcElement;\n    var agentPlugins = el.getAttribute('plugins');\n    if ( /input/ig.test( el.tagName ) && agentPlugins==thePlugins) {\n      var html = popup.formatHtml(\n        '<nobr>运算控件: <span onclick=$$._edittext() class=\"edui-clickable\">编辑</span>&nbsp;&nbsp;<span onclick=$$._delete() class=\"edui-clickable\">删除</span></nobr>' );\n      if ( html ) {\n        popup.getDom( 'content' ).innerHTML = html;\n        popup.anchorEl = el;\n        popup.showAnchor( popup.anchorEl );\n      } else {\n        popup.hide();\n      }\n    }\n  });\n};\n// 商品参照窗口\nUE.plugins['goods'] = function () {\n  var me = this,thePlugins = 'goods';\n  me.commands[thePlugins] = {\n    execCommand:function () {\n      var dialog = new UE.ui.Dialog({\n        iframeUrl:this.options.UEDITOR_HOME_URL + UE.formDesignUrl+'/goods.html?r=' + Date.parse(new Date().toString())+parseInt(100*Math.random()),\n        name:thePlugins,\n        editor:this,\n        title: '商品参照窗口',\n        cssRules:\"width:600px;height:380px;\",\n        buttons:[\n          {\n            className:'edui-okbutton',\n            label:'确定',\n            onclick:function () {\n              dialog.close(true);\n            }\n          },\n          {\n            className:'edui-cancelbutton',\n            label:'取消',\n            onclick:function () {\n              dialog.close(false);\n            }\n          }]\n      });\n      dialog.render();\n      dialog.open();\n    }\n  };\n  var popup = new baidu.editor.ui.Popup( {\n    editor:this,\n    content: '',\n    className: 'edui-bubble',\n    _edittext: function () {\n      baidu.editor.plugins[thePlugins].editdom = popup.anchorEl;\n      me.execCommand(thePlugins);\n      this.hide();\n    },\n    _delete:function(){\n      if( window.confirm('确认删除该控件吗？') ) {\n        baidu.editor.dom.domUtils.remove(this.anchorEl,false);\n      }\n      this.hide();\n    }\n  } );\n  popup.render();\n  me.addListener( 'mouseover', function( t, evt ) {\n\n    // setControls();\n\n    evt = evt || window.event;\n    var el = evt.target || evt.srcElement;\n    var agentPlugins = el.getAttribute('plugins');\n    if ( /input/ig.test( el.tagName ) && agentPlugins==thePlugins) {\n      var html = popup.formatHtml(\n        '<nobr>参照窗口: <span onclick=$$._edittext() class=\"edui-clickable\">编辑</span>&nbsp;&nbsp;<span onclick=$$._delete() class=\"edui-clickable\">删除</span></nobr>' );\n      if ( html ) {\n        popup.getDom( 'content' ).innerHTML = html;\n        popup.anchorEl = el;\n        popup.showAnchor( popup.anchorEl );\n      } else {\n        popup.hide();\n      }\n    }\n  });\n};\n// 客户参照窗口\nUE.plugins['customer'] = function () {\n  var me = this,thePlugins = 'customer';\n  me.commands[thePlugins] = {\n    execCommand:function () {\n      var dialog = new UE.ui.Dialog({\n        iframeUrl:this.options.UEDITOR_HOME_URL + UE.formDesignUrl+'/customer.html?r=' + Date.parse(new Date().toString())+parseInt(100*Math.random()),\n        name:thePlugins,\n        editor:this,\n        title: '客户参照窗口',\n        cssRules:\"width:600px;height:380px;\",\n        buttons:[\n          {\n            className:'edui-okbutton',\n            label:'确定',\n            onclick:function () {\n              dialog.close(true);\n            }\n          },\n          {\n            className:'edui-cancelbutton',\n            label:'取消',\n            onclick:function () {\n              dialog.close(false);\n            }\n          }]\n      });\n      dialog.render();\n      dialog.open();\n    }\n  };\n  var popup = new baidu.editor.ui.Popup( {\n    editor:this,\n    content: '',\n    className: 'edui-bubble',\n    _edittext: function () {\n      baidu.editor.plugins[thePlugins].editdom = popup.anchorEl;\n      me.execCommand(thePlugins);\n      this.hide();\n    },\n    _delete:function(){\n      if( window.confirm('确认删除该控件吗？') ) {\n        baidu.editor.dom.domUtils.remove(this.anchorEl,false);\n      }\n      this.hide();\n    }\n  } );\n  popup.render();\n  me.addListener( 'mouseover', function( t, evt ) {\n\n    // setControls();\n\n    evt = evt || window.event;\n    var el = evt.target || evt.srcElement;\n    var agentPlugins = el.getAttribute('plugins');\n    if ( /input/ig.test( el.tagName ) && agentPlugins==thePlugins) {\n      var html = popup.formatHtml(\n        '<nobr>参照窗口: <span onclick=$$._edittext() class=\"edui-clickable\">编辑</span>&nbsp;&nbsp;<span onclick=$$._delete() class=\"edui-clickable\">删除</span></nobr>' );\n      if ( html ) {\n        popup.getDom( 'content' ).innerHTML = html;\n        popup.anchorEl = el;\n        popup.showAnchor( popup.anchorEl );\n      } else {\n        popup.hide();\n      }\n    }\n  });\n};\n\n// 数字控件\nUE.plugins['numeric'] = function () {\n  var me = this,thePlugins = 'numeric';\n  me.commands[thePlugins] = {\n    execCommand:function () {\n      var dialog = new UE.ui.Dialog({\n        iframeUrl:this.options.UEDITOR_HOME_URL + UE.formDesignUrl+'/numeric.html?r=' + Date.parse(new Date().toString())+parseInt(100*Math.random()),\n        // iframeUrl:this.options.UEDITOR_HOME_URL + UE.formDesignUrl+'/numeric.html',\n        name:thePlugins,\n        editor:this,\n        title: '数字控件',\n        cssRules:\"width:600px;height:250px;\",\n        buttons:[\n          {\n            className:'edui-okbutton',\n            label:'确定',\n            onclick:function () {\n              dialog.close(true);\n            }\n          },\n          {\n            className:'edui-cancelbutton',\n            label:'取消',\n            onclick:function () {\n              dialog.close(false);\n            }\n          }]\n      });\n      dialog.render();\n      dialog.open();\n    }\n  };\n  var popup = new baidu.editor.ui.Popup( {\n    editor:this,\n    content: '',\n    className: 'edui-bubble',\n    _edittext: function () {\n      baidu.editor.plugins[thePlugins].editdom = popup.anchorEl;\n      me.execCommand(thePlugins);\n      this.hide();\n    },\n    _delete:function(){\n      if( window.confirm('确认删除该控件吗？') ) {\n        baidu.editor.dom.domUtils.remove(this.anchorEl,false);\n      }\n      this.hide();\n    }\n  } );\n  popup.render();\n  me.addListener( 'mouseover', function( t, evt ) {\n\n    // setControls();\n\n    evt = evt || window.event;\n    var el = evt.target || evt.srcElement;\n    var agentPlugins = el.getAttribute('plugins');\n    if ( /input/ig.test( el.tagName ) && agentPlugins==thePlugins) {\n      var html = popup.formatHtml(\n        '<nobr>数字控件: <span onclick=$$._edittext() class=\"edui-clickable\">编辑</span>&nbsp;&nbsp;<span onclick=$$._delete() class=\"edui-clickable\">删除</span></nobr>' );\n      if ( html ) {\n        popup.getDom( 'content' ).innerHTML = html;\n        popup.anchorEl = el;\n        popup.showAnchor( popup.anchorEl );\n      } else {\n        popup.hide();\n      }\n    }\n  });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/static/editor-extend/form-designer.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"fe-all-selector-box\",style:({height: _vm.defaultRowHeight + 0 + 'px'})})}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1f7a53ba\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/selector/AllSelector.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1f7a53ba\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./AllSelector.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./AllSelector.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./AllSelector.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1f7a53ba\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./AllSelector.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-1f7a53ba\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/selector/AllSelector.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"fe-all-selector-box\" :style=\"{height: defaultRowHeight + 0 + 'px'}\">\n\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'AllSelector',\n  computed: {\n    cols () {\n      return this.$store.state.cols\n    },\n    colNum () {\n      return this.$store.state.colNum\n    },\n    defaultRowHeight () {\n      return this.$store.state.config.defaultRowHeight\n    },\n    defaultColWidth () {\n      return this.$store.state.config.defaultColWidth\n    }\n  }\n}\n</script>\n\n<style scoped>\n.fe-all-selector-box {\n  width: 50px;\n  height: 20px;\n  float: left;\n  background: #a9c4e9;\n  border: solid 1px #ddd;\n  box-sizing: border-box;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/selector/AllSelector.vue","<template>\n  <div class=\"fe-col-selector\" :style=\"{height: defaultRowHeight + 'px'}\">\n    <table class=\"fe-col-selector-table\" cellpadding=\"0\" cellspacing=\"0\" :style=\"{\n      width: defaultColWidth * colNum + 'px',\n    }\">\n      <tr>\n        <td v-for=\"col in colNum\" v-bind:key=\"col\" class=\"fe-col-selector-table-td\">{{displayHeadCharactor(col)}}</td>\n      </tr>\n    </table>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'ColSelector',\n  computed: {\n    cols () {\n      return this.$store.state.cols\n    },\n    colNum () {\n      return this.$store.state.colNum\n    },\n    defaultRowHeight () {\n      return this.$store.state.config.defaultRowHeight\n    },\n    defaultColWidth () {\n      return this.$store.state.config.defaultColWidth\n    }\n  },\n  methods: {\n    displayHeadCharactor (i) {\n      var charactors = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'\n      // debugger\n      if (i === 26) {\n        // debugger\n      }\n      var time = parseInt((i - 1) / 26)\n      var aux = (i - 1) % 26\n      var first = (time === 0) ? '' : charactors.substring(time - 1, time)\n      var last = charactors.substring(aux, aux + 1)\n      return first + last\n    }\n  }\n}\n</script>\n\n<style scoped>\n  .fe-col-selector {\n    display: block;\n    margin-left: 50px;\n  }\n  .fe-col-selector-table {\n    border-collapse: collapse;\n    border: solid 1px #ddd;\n    box-sizing: border-box;\n  }\n  .fe-col-selector-table-td {\n    width: 72px;\n    height: 18px;\n    background: #e2e9f0;\n    text-align: center;\n    border: solid 1px #ddd;\n    font-size: 12px;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/selector/ColSelector.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"fe-col-selector\",style:({height: _vm.defaultRowHeight + 'px'})},[_c('table',{staticClass:\"fe-col-selector-table\",style:({\n    width: _vm.defaultColWidth * _vm.colNum + 'px',\n  }),attrs:{\"cellpadding\":\"0\",\"cellspacing\":\"0\"}},[_c('tr',_vm._l((_vm.colNum),function(col){return _c('td',{key:col,staticClass:\"fe-col-selector-table-td\"},[_vm._v(_vm._s(_vm.displayHeadCharactor(col)))])}))])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-8166a566\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/selector/ColSelector.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-8166a566\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ColSelector.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ColSelector.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ColSelector.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-8166a566\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./ColSelector.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-8166a566\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/selector/ColSelector.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"fe-row-selector\"},[_c('table',{staticClass:\"fe-row-selector-table\",attrs:{\"cellpadding\":\"0\",\"cellspacing\":\"0\"}},_vm._l((_vm.rowNum),function(row){return _c('tr',{key:row},[_c('td',{staticClass:\"fe-row-selector-table-td\",style:({height: _vm.defaultRowHeight - 1 + 'px'})},[_vm._v(_vm._s(row))])])}))])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-642ed4c8\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/selector/RowSelector.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-642ed4c8\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./RowSelector.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./RowSelector.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./RowSelector.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-642ed4c8\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./RowSelector.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-642ed4c8\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/selector/RowSelector.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"fe-row-selector\">\n    <table class=\"fe-row-selector-table\" cellpadding=\"0\" cellspacing=\"0\" >\n      <tr v-for=\"row in rowNum\" v-bind:key=\"row\">\n        <td class=\"fe-row-selector-table-td\" :style=\"{height: defaultRowHeight - 1 + 'px'}\">{{row}}</td>\n      </tr>\n    </table>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'RowSelector',\n  computed: {\n    rows () {\n      return this.$store.state.rows\n    },\n    rowNum () {\n      return this.$store.state.rowNum\n    },\n    defaultRowHeight () {\n      return this.$store.state.config.defaultRowHeight\n    }\n  }\n}\n</script>\n\n<style scoped>\n  .fe-row-selector {\n    float: left;\n    width: 50px;\n  }\n  .fe-row-selector-table {\n    border-collapse: collapse;\n    border-spacing: 0px;\n  }\n  .fe-row-selector-table-td {\n    width: 50px;\n    background: #e2e9f0;\n    text-align: center;\n    border: solid 1px #ddd;\n    font-size: 12px;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/selector/RowSelector.vue","<template draggable=\"false\" ondragstart=\"javascript: return false;\">\n  <div class=\"fe-toolbar-buttons\">\n\n    <el-dialog :visible.sync=\"borderPropertyDialog\" width=\"550px\" custom-class=\"\">\n      <div slot=\"title\" class=\"fe-toolbar-buttons-border-property-dialog-title\">\n        边框属性\n      </div>\n      <fieldset class=\"fe-toolbar-buttons-border-property-dialog-fieldset\" style=\"float: left; width: 200px;\">\n        <legend>线条</legend>\n        <el-select v-model=\"borderStyle\" placeholder=\"请选择\" size=\"mini\">\n          <el-option\n            v-for=\"item in borderPropertyStyleOptions\"\n            :key=\"item.value\"\n            :label=\"item.label\"\n            :value=\"item.value\">\n          </el-option>\n        </el-select>\n      </fieldset>\n      <fieldset class=\"fe-toolbar-buttons-border-property-dialog-fieldset\">\n        <legend>预置</legend>\n        <el-button type=\"primary\" size=\"mini\" @click=\"setBorderNone\">\n          <i class=\"iconfont fe-iconfont-border-none\">\n            <span class=\"fe-toolbar-buttons-border-property-dialog-font-mini\">无边框</span>\n          </i>\n        </el-button>\n        <el-button type=\"primary\" size=\"mini\" @click=\"setBorderOuter\">\n          <i class=\"iconfont fe-iconfont-border-outer\">\n            <span class=\"fe-toolbar-buttons-border-property-dialog-font-mini\">外边框</span>\n          </i>\n        </el-button>\n        <el-button type=\"primary\" size=\"mini\" @click=\"setBorderInner\">\n          <i class=\"iconfont fe-iconfont-border-inner\">\n            <span class=\"fe-toolbar-buttons-border-property-dialog-font-mini\">内边框</span>\n          </i>\n        </el-button>\n      </fieldset>\n\n      <fieldset class=\"fe-toolbar-buttons-border-property-dialog-fieldset\" style=\"float: left; width: 200px;\">\n        <legend>颜色</legend>\n        <el-color-picker v-model=\"borderColor\" :predefine=\"predefinedColors\" size=\"small\"></el-color-picker>\n\n        <!--<el-radio-group v-model=\"borderColor\" size=\"small\">-->\n          <!--<el-radio-button label=\"#000000\">黑色</el-radio-button>-->\n          <!--<el-radio-button label=\"#FF0000\">红色</el-radio-button>-->\n        <!--</el-radio-group>-->\n      </fieldset>\n\n      <fieldset class=\"fe-toolbar-buttons-border-property-dialog-fieldset\">\n        <legend>自定义</legend>\n        <table class=\"fe-toolbar-buttons-border-property-dialog-table-border-buttons\">\n          <tr>\n            <td>\n              <el-button type=\"primary\" size=\"mini\" @click=\"setBorderTop\">\n                <i class=\"iconfont fe-iconfont-border-top\"></i>\n              </el-button>\n            </td>\n            <td colspan=\"3\" rowspan=\"3\">\n              <!--<table cellspacing=\"0\" cellpadding=\"0\" class=\"fe-toolbar-preview fe-toolbar-preview-top fe-toolbar-preview-horizon fe-toolbar-preview-bottom fe-toolbar-preview-left fe-toolbar-preview-vertical fe-toolbar-preview-right\"-->\n                <!--v-bind:class=\"{-->\n                    <!--feToolbarPreviewTop: borderPosition.top-->\n                <!--}\"-->\n              <!--&gt;-->\n              <table cellspacing=\"0\" cellpadding=\"0\" class=\"fe-toolbar-preview\"\n                     v-bind:class=\"{\n                      // 'fe-toolbar-preview-top-width': borderTop.width,\n                      // 'fe-toolbar-preview-horizon-width': borderHorizon.width,\n                      // 'fe-toolbar-preview-bottom-width': borderBottom.width,\n                      // 'fe-toolbar-preview-left-width': borderLeft.width,\n                      // 'fe-toolbar-preview-vertical-width': borderVertical.width,\n                      // 'fe-toolbar-preview-right-width': borderRight.width,\n                      }\"\n                     :style=\"{\n                      borderTopColor: borderTop.color,\n                      borderBottomColor: borderBottom.color,\n                      borderLeftColor: borderLeft.color,\n                      borderRightColor: borderRight.color,\n                      borderTopStyle: borderTop.style,\n                      borderBottomStyle: borderBottom.style,\n                      borderLeftStyle: borderLeft.style,\n                      borderRightStyle: borderRight.style,\n                      borderTopWidth: borderTop.width,\n                      borderBottomWidth: borderBottom.width,\n                      borderLeftWidth: borderLeft.width,\n                      borderRightWidth: borderRight.width,\n                     }\"\n              >\n                <tr>\n                  <td :style=\"{\n                      borderRightColor: borderVertical.color,\n                      borderBottomColor: borderHorizon.color,\n                      borderRightStyle: borderVertical.style,\n                      borderBottomStyle: borderHorizon.style,\n                      borderRightWidth: borderVertical.width,\n                      borderBottomWidth: borderHorizon.width,\n                     }\"\n                  ></td>\n                  <td :style=\"{\n                      borderBottomColor: borderHorizon.color,\n                      borderBottomStyle: borderHorizon.style,\n                      borderBottomWidth: borderHorizon.width\n                     }\"\n                  ></td>\n                </tr>\n                <tr>\n                  <td :style=\"{\n                      borderRightColor: borderVertical.color,\n                      borderRightStyle: borderVertical.style,\n                      borderRightWidth: borderVertical.width\n                     }\"\n                  ></td>\n                  <td></td>\n                </tr>\n              </table>\n            </td>\n          </tr>\n          <tr>\n            <td>\n              <el-button type=\"primary\" size=\"mini\" @click=\"setBorderHorizon\">\n                <i class=\"iconfont fe-iconfont-border-horizontal\"></i>\n              </el-button>\n            </td>\n          </tr>\n          <tr>\n            <td>\n              <el-button type=\"primary\" size=\"mini\" @click=\"setBorderBottom\">\n                <i class=\"iconfont fe-iconfont-borderbottom\"></i>\n              </el-button>\n            </td>\n          </tr>\n          <tr>\n            <td></td>\n            <td style=\"width: 50px; text-align: left\">\n              <el-button type=\"primary\" size=\"mini\" @click=\"setBorderLeft\">\n                <i class=\"iconfont fe-iconfont-borderleft\"></i>\n              </el-button>\n            </td>\n            <td style=\"width: 50px; text-align: center\">\n              <el-button type=\"primary\" size=\"mini\" @click=\"setBorderVertical\">\n                <i class=\"iconfont fe-iconfont-border-vertical\"></i>\n              </el-button>\n            </td>\n            <td style=\"width: 50px; text-align: right\">\n              <el-button type=\"primary\" size=\"mini\" @click=\"setBorderRight\">\n                <i class=\"iconfont fe-iconfont-border-right\"></i>\n              </el-button>\n            </td>\n          </tr>\n        </table>\n        <br/>\n      </fieldset>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button size=\"mini\" @click=\"borderPropertyDialog = false\">取 消</el-button>\n        <el-button size=\"mini\" type=\"primary\" @click=\"setCellsBorder({borderTop, borderHorizon, borderBottom, borderLeft, borderVertical, borderRight}); borderPropertyDialog = false;\">确 定</el-button>\n      </div>\n    </el-dialog>\n\n    <!--合并、分割-->\n    <el-button-group>\n      <el-button type=\"primary\" size=\"mini\" @click=\"mergeCells\" title=\"合并单元格\">\n        <i class=\"iconfont fe-iconfont-mergecell\"></i>\n      </el-button>\n      <el-button type=\"primary\" size=\"mini\" @click=\"splitCells\" title=\"取消合并\">\n        <i class=\"iconfont fe-iconfont-separatecell\"></i>\n      </el-button>\n    </el-button-group>\n    <!--粗体、斜体、下划线-->\n    <el-button-group>\n      <el-button type=\"primary\" size=\"mini\" title=\"粗体\">\n        <i class=\"iconfont fe-iconfont-bold\"></i>\n      </el-button>\n      <el-button type=\"primary\" size=\"mini\" title=\"斜体\">\n        <i class=\"iconfont fe-iconfont-italic\"></i>\n      </el-button>\n      <el-button type=\"primary\" size=\"mini\" title=\"下划线\">\n        <i class=\"iconfont fe-iconfont-underline\"></i>\n      </el-button>\n    </el-button-group>\n\n    <el-button-group>\n      <el-button type=\"primary\" size=\"mini\" @click=\"setCellsTextAlign({align: 'left'})\" title=\"居左\">\n        <i class=\"iconfont fe-iconfont-alignleft\"></i>\n      </el-button>\n      <el-button type=\"primary\" size=\"mini\" @click=\"setCellsTextAlign({align: 'center'})\" title=\"居中\">\n        <i class=\"iconfont fe-iconfont-aligncenter\"></i>\n      </el-button>\n      <el-button type=\"primary\" size=\"mini\" @click=\"setCellsTextAlign({align: 'right'})\" title=\"居右\">\n        <i class=\"iconfont fe-iconfont-alignright\"></i>\n      </el-button>\n    </el-button-group>\n\n    <!--<el-button-group>-->\n      <!--&lt;!&ndash;<el-button type=\"primary\" size=\"mini\" title=\"字体颜色\">&ndash;&gt;-->\n        <!--&lt;!&ndash;<i class=\"iconfont fe-iconfont-text-color\" @click=\"showPicker1\">&ndash;&gt;-->\n          <!--&lt;!&ndash;<el-color-picker ref=\"p1\" id=\"picker1\" size=\"mini\" style=\"width: 1px; height: 1px; display: none\" popper-class=\"fe-toolbar-buttons-color-picker1\" @change=\"setCellsBackground($event)\"></el-color-picker>&ndash;&gt;-->\n        <!--&lt;!&ndash;</i>&ndash;&gt;-->\n      <!--&lt;!&ndash;</el-button>&ndash;&gt;-->\n      <!--<el-button type=\"primary\" size=\"mini\" @click=\"showPicker3\" title=\"背景色\">-->\n        <!--<i class=\"iconfont fe-iconfont-background-color\">-->\n          <!--<el-color-picker ref=\"p2\" id=\"picker2\" size=\"mini\" style=\"width: 1px; height: 1px; display: none\" popper-class=\"fe-toolbar-buttons-color-picker2\" @change=\"setCellsBackground($event)\"></el-color-picker>-->\n        <!--</i>-->\n      <!--</el-button>-->\n    <!--</el-button-group>-->\n    <el-button-group>\n      <swatches v-model=\"tempColor\" colors=\"text-advanced\" @input=\"setCellsBackground($event)\">\n        <el-button slot=\"trigger\" type=\"primary\" size=\"mini\" title=\"背景色\">\n          <i class=\"iconfont fe-iconfont-background-color\">\n            <el-color-picker ref=\"p2\" id=\"picker2\" size=\"mini\" style=\"width: 1px; height: 1px; display: none\" popper-class=\"fe-toolbar-buttons-color-picker2\" @change=\"setCellsBackground($event)\"></el-color-picker>\n          </i>\n        </el-button>\n      </swatches>\n    </el-button-group>\n\n    <el-button-group>\n      <el-button type=\"primary\" size=\"mini\" @click=\"beginUEdit\" title=\"编辑\">\n        <i class=\"iconfont fe-iconfont-edit\"></i>\n      </el-button>\n      <el-button type=\"primary\" size=\"mini\" @click=\"clearCellsContent\" title=\"清空内容\">\n        <i class=\"iconfont fe-iconfont-clear\"></i>\n      </el-button>\n    </el-button-group>\n\n    <el-button-group>\n      <el-button type=\"primary\" size=\"mini\" @click=\"showBorderPropertyDialog\">\n        <i class=\"iconfont fe-iconfont-border-all\"></i>\n      </el-button>\n    </el-button-group>\n  </div>\n</template>\n\n<script>\nimport { mapActions } from 'vuex'\nimport { Message, MessageBox } from 'element-ui'\nimport Swatches from 'vue-swatches'\n\n// Import the styles too, globally\nimport 'vue-swatches/dist/vue-swatches.min.css'\nexport default {\n  name: 'Toolbar',\n  components: {\n    Swatches\n  },\n  computed: {\n    predefinedColors () {\n      return this.$store.state.config.predefinedColors\n    }\n  },\n  data: function () {\n    return {\n      tempColor: '',\n      borderPropertyDialog: false,\n      borderPropertyStyleOptions: [\n        {value: 'none', label: '无'},\n        {value: 'solid', label: '实线'},\n        {value: 'dotted', label: '短虚线'},\n        {value: 'dashed', label: '长虚线'}\n      ],\n      borderStyle: '',\n      borderColor: '',\n      borderWidth: '1',\n      borderTop: {\n        style: undefined,\n        width: undefined,\n        color: undefined\n      },\n      borderHorizon: {\n        style: undefined,\n        width: undefined,\n        color: undefined\n      },\n      borderBottom: {\n        style: undefined,\n        width: undefined,\n        color: undefined\n      },\n      borderLeft: {\n        style: undefined,\n        width: undefined,\n        color: undefined\n      },\n      borderVertical: {\n        style: undefined,\n        width: undefined,\n        color: undefined\n      },\n      borderRight: {\n        style: undefined,\n        width: undefined,\n        color: undefined\n      },\n      borderPosition: {\n        top: undefined,\n        horizon: undefined,\n        bottom: undefined,\n        left: undefined,\n        vertical: undefined,\n        right: undefined\n      }\n    }\n  },\n  methods: {\n    setBorderNone () {\n      this.borderPosition.top = false\n      this.borderPosition.bottom = false\n      this.borderPosition.left = false\n      this.borderPosition.right = false\n      this.borderPosition.horizon = false\n      this.borderPosition.vertical = false\n\n      this.borderTop.style = ''\n      this.borderTop.width = ''\n      this.borderTop.color = ''\n      this.borderHorizon.style = ''\n      this.borderHorizon.width = ''\n      this.borderHorizon.color = ''\n      this.borderBottom.style = ''\n      this.borderBottom.width = ''\n      this.borderBottom.color = ''\n      this.borderLeft.style = ''\n      this.borderLeft.width = ''\n      this.borderLeft.color = ''\n      this.borderVertical.style = ''\n      this.borderVertical.width = ''\n      this.borderVertical.color = ''\n      this.borderRight.style = ''\n      this.borderRight.width = ''\n      this.borderRight.color = ''\n    },\n    setBorderOuter () {\n      this.borderPosition.top = true\n      this.borderPosition.bottom = true\n      this.borderPosition.left = true\n      this.borderPosition.right = true\n\n      this.borderTop.style = this.borderStyle\n      this.borderTop.width = '1'\n      this.borderTop.color = this.borderColor\n      this.borderBottom.style = this.borderStyle\n      this.borderBottom.width = '1'\n      this.borderBottom.color = this.borderColor\n      this.borderLeft.style = this.borderStyle\n      this.borderLeft.width = '1'\n      this.borderLeft.color = this.borderColor\n      this.borderRight.style = this.borderStyle\n      this.borderRight.width = '1'\n      this.borderRight.color = this.borderColor\n    },\n    setBorderInner () {\n      this.borderPosition.horizon = true\n      this.borderPosition.vertical = true\n\n      this.borderHorizon.style = this.borderStyle\n      this.borderHorizon.width = '1'\n      this.borderHorizon.color = this.borderColor\n      this.borderVertical.style = this.borderStyle\n      this.borderVertical.width = '1'\n      this.borderVertical.color = this.borderColor\n    },\n    setBorderLeft () {\n      if (this.borderPosition.left) {\n        this.borderLeft.color = ''\n        this.borderLeft.style = ''\n        this.borderLeft.width = ''\n        this.borderPosition.left = false\n      } else {\n        this.borderLeft.color = this.borderColor\n        this.borderLeft.style = this.borderStyle\n        this.borderLeft.width = '1'\n        this.borderPosition.left = true\n      }\n    },\n    setBorderVertical () {\n      if (this.borderPosition.vertical) {\n        this.borderVertical.color = ''\n        this.borderVertical.style = ''\n        this.borderVertical.width = ''\n        this.borderPosition.vertical = false\n      } else {\n        this.borderVertical.color = this.borderColor\n        this.borderVertical.style = this.borderStyle\n        this.borderVertical.width = '1'\n        this.borderPosition.vertical = true\n      }\n    },\n    setBorderRight () {\n      if (this.borderPosition.right) {\n        this.borderRight.color = ''\n        this.borderRight.style = ''\n        this.borderRight.width = ''\n        this.borderPosition.right = false\n      } else {\n        this.borderRight.color = this.borderColor\n        this.borderRight.style = this.borderStyle\n        this.borderRight.width = '1'\n        this.borderPosition.right = true\n      }\n    },\n    setBorderTop () {\n      if (this.borderPosition.top) {\n        this.borderTop.color = ''\n        this.borderTop.style = ''\n        this.borderTop.width = ''\n        this.borderPosition.top = false\n      } else {\n        this.borderTop.color = this.borderColor\n        this.borderTop.style = this.borderStyle\n        this.borderTop.width = '1'\n        this.borderPosition.top = true\n      }\n    },\n    setBorderHorizon () {\n      if (this.borderPosition.horizon) {\n        this.borderHorizon.color = ''\n        this.borderHorizon.style = ''\n        this.borderHorizon.width = ''\n        this.borderPosition.horizon = false\n      } else {\n        this.borderHorizon.color = this.borderColor\n        this.borderHorizon.style = this.borderStyle\n        this.borderHorizon.width = '1'\n        this.borderPosition.horizon = true\n      }\n    },\n    setBorderBottom () {\n      if (this.borderPosition.bottom) {\n        this.borderBottom.color = ''\n        this.borderBottom.style = ''\n        this.borderBottom.width = ''\n        this.borderPosition.bottom = false\n      } else {\n        this.borderBottom.color = this.borderColor\n        this.borderBottom.style = this.borderStyle\n        this.borderBottom.width = '1'\n        this.borderPosition.bottom = true\n      }\n    },\n    setBorder () {\n\n    },\n    showBorderPropertyDialog () {\n      this.borderStyle = 'solid'\n      this.borderColor = '#000000'\n      this.borderPropertyDialog = true\n    },\n    showPicker1 (e) {\n      document.querySelector('#picker1').children[0].click()\n    },\n    showPicker2 () {\n      document.querySelector('#picker2').children[0].click()\n    },\n    showPicker3 () {\n      document.querySelector('#picker3').children[0].click()\n    },\n    clearCellsContent () {\n      MessageBox.confirm('是否要清除选中的内容', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        this.doClearCellsContent()\n\n        Message.success({\n          type: 'success',\n          message: '清除成功'\n        })\n      }).catch(() => {\n        Message.info({\n          type: 'info',\n          message: '已取消'\n        })\n      })\n    },\n    ...mapActions([\n      'mergeSelectedCells',\n      'mergeCells',\n      'splitCells',\n      'setCellsTextAlign',\n      'setCellsBackground',\n      'setCellsBorder',\n      'beginUEdit',\n      'doClearCellsContent'\n    ])\n  }\n}\n</script>\n\n<style scoped>\n  .fe-toolbar-preview tr td {\n    width: 75px;\n    height: 50px;\n  }\n  .fe-toolbar-preview-top-width {\n    border-top-width: 1px;\n  }\n  .fe-toolbar-preview-horizon-width tr:first-child td {\n    border-bottom-width: 1px;\n  }\n  .fe-toolbar-preview-bottom-width {\n    border-bottom-width: 1px;\n  }\n  .fe-toolbar-preview-left-width {\n    border-left-width: 1px;\n  }\n  .fe-toolbar-preview-vertical-width tr td:first-child {\n    border-right-width: 1px;\n  }\n  .fe-toolbar-preview-right-width {\n    border-right-width: 1px;\n  }\n  .fe-toolbar-buttons {\n    font-size: 12px;\n  }\n  .fe-toolbar-buttons-border-property-dialog-font-mini {\n    font-size: 12px;\n  }\n  .el-button--mini, .el-button--mini.is-round {\n    padding: 5px 8px;\n  }\n  .fe-toolbar-buttons-border-property-dialog-fieldset {\n    border: solid 1px #ddd;\n  }\n  .fe-toolbar-buttons-border-property-dialog-title {\n    font-size: 14px;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Toolbar.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"fe-toolbar-buttons\"},[_c('el-dialog',{attrs:{\"visible\":_vm.borderPropertyDialog,\"width\":\"550px\",\"custom-class\":\"\"},on:{\"update:visible\":function($event){_vm.borderPropertyDialog=$event}}},[_c('div',{staticClass:\"fe-toolbar-buttons-border-property-dialog-title\",attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\"\\n      边框属性\\n    \")]),_vm._v(\" \"),_c('fieldset',{staticClass:\"fe-toolbar-buttons-border-property-dialog-fieldset\",staticStyle:{\"float\":\"left\",\"width\":\"200px\"}},[_c('legend',[_vm._v(\"线条\")]),_vm._v(\" \"),_c('el-select',{attrs:{\"placeholder\":\"请选择\",\"size\":\"mini\"},model:{value:(_vm.borderStyle),callback:function ($$v) {_vm.borderStyle=$$v},expression:\"borderStyle\"}},_vm._l((_vm.borderPropertyStyleOptions),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}))],1),_vm._v(\" \"),_c('fieldset',{staticClass:\"fe-toolbar-buttons-border-property-dialog-fieldset\"},[_c('legend',[_vm._v(\"预置\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":_vm.setBorderNone}},[_c('i',{staticClass:\"iconfont fe-iconfont-border-none\"},[_c('span',{staticClass:\"fe-toolbar-buttons-border-property-dialog-font-mini\"},[_vm._v(\"无边框\")])])]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":_vm.setBorderOuter}},[_c('i',{staticClass:\"iconfont fe-iconfont-border-outer\"},[_c('span',{staticClass:\"fe-toolbar-buttons-border-property-dialog-font-mini\"},[_vm._v(\"外边框\")])])]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":_vm.setBorderInner}},[_c('i',{staticClass:\"iconfont fe-iconfont-border-inner\"},[_c('span',{staticClass:\"fe-toolbar-buttons-border-property-dialog-font-mini\"},[_vm._v(\"内边框\")])])])],1),_vm._v(\" \"),_c('fieldset',{staticClass:\"fe-toolbar-buttons-border-property-dialog-fieldset\",staticStyle:{\"float\":\"left\",\"width\":\"200px\"}},[_c('legend',[_vm._v(\"颜色\")]),_vm._v(\" \"),_c('el-color-picker',{attrs:{\"predefine\":_vm.predefinedColors,\"size\":\"small\"},model:{value:(_vm.borderColor),callback:function ($$v) {_vm.borderColor=$$v},expression:\"borderColor\"}})],1),_vm._v(\" \"),_c('fieldset',{staticClass:\"fe-toolbar-buttons-border-property-dialog-fieldset\"},[_c('legend',[_vm._v(\"自定义\")]),_vm._v(\" \"),_c('table',{staticClass:\"fe-toolbar-buttons-border-property-dialog-table-border-buttons\"},[_c('tr',[_c('td',[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":_vm.setBorderTop}},[_c('i',{staticClass:\"iconfont fe-iconfont-border-top\"})])],1),_vm._v(\" \"),_c('td',{attrs:{\"colspan\":\"3\",\"rowspan\":\"3\"}},[_c('table',{staticClass:\"fe-toolbar-preview\",class:{\n                    // 'fe-toolbar-preview-top-width': borderTop.width,\n                    // 'fe-toolbar-preview-horizon-width': borderHorizon.width,\n                    // 'fe-toolbar-preview-bottom-width': borderBottom.width,\n                    // 'fe-toolbar-preview-left-width': borderLeft.width,\n                    // 'fe-toolbar-preview-vertical-width': borderVertical.width,\n                    // 'fe-toolbar-preview-right-width': borderRight.width,\n                    },style:({\n                    borderTopColor: _vm.borderTop.color,\n                    borderBottomColor: _vm.borderBottom.color,\n                    borderLeftColor: _vm.borderLeft.color,\n                    borderRightColor: _vm.borderRight.color,\n                    borderTopStyle: _vm.borderTop.style,\n                    borderBottomStyle: _vm.borderBottom.style,\n                    borderLeftStyle: _vm.borderLeft.style,\n                    borderRightStyle: _vm.borderRight.style,\n                    borderTopWidth: _vm.borderTop.width,\n                    borderBottomWidth: _vm.borderBottom.width,\n                    borderLeftWidth: _vm.borderLeft.width,\n                    borderRightWidth: _vm.borderRight.width,\n                   }),attrs:{\"cellspacing\":\"0\",\"cellpadding\":\"0\"}},[_c('tr',[_c('td',{style:({\n                    borderRightColor: _vm.borderVertical.color,\n                    borderBottomColor: _vm.borderHorizon.color,\n                    borderRightStyle: _vm.borderVertical.style,\n                    borderBottomStyle: _vm.borderHorizon.style,\n                    borderRightWidth: _vm.borderVertical.width,\n                    borderBottomWidth: _vm.borderHorizon.width,\n                   })}),_vm._v(\" \"),_c('td',{style:({\n                    borderBottomColor: _vm.borderHorizon.color,\n                    borderBottomStyle: _vm.borderHorizon.style,\n                    borderBottomWidth: _vm.borderHorizon.width\n                   })})]),_vm._v(\" \"),_c('tr',[_c('td',{style:({\n                    borderRightColor: _vm.borderVertical.color,\n                    borderRightStyle: _vm.borderVertical.style,\n                    borderRightWidth: _vm.borderVertical.width\n                   })}),_vm._v(\" \"),_c('td')])])])]),_vm._v(\" \"),_c('tr',[_c('td',[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":_vm.setBorderHorizon}},[_c('i',{staticClass:\"iconfont fe-iconfont-border-horizontal\"})])],1)]),_vm._v(\" \"),_c('tr',[_c('td',[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":_vm.setBorderBottom}},[_c('i',{staticClass:\"iconfont fe-iconfont-borderbottom\"})])],1)]),_vm._v(\" \"),_c('tr',[_c('td'),_vm._v(\" \"),_c('td',{staticStyle:{\"width\":\"50px\",\"text-align\":\"left\"}},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":_vm.setBorderLeft}},[_c('i',{staticClass:\"iconfont fe-iconfont-borderleft\"})])],1),_vm._v(\" \"),_c('td',{staticStyle:{\"width\":\"50px\",\"text-align\":\"center\"}},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":_vm.setBorderVertical}},[_c('i',{staticClass:\"iconfont fe-iconfont-border-vertical\"})])],1),_vm._v(\" \"),_c('td',{staticStyle:{\"width\":\"50px\",\"text-align\":\"right\"}},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":_vm.setBorderRight}},[_c('i',{staticClass:\"iconfont fe-iconfont-border-right\"})])],1)])]),_vm._v(\" \"),_c('br')]),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){_vm.borderPropertyDialog = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":function($event){_vm.setCellsBorder({borderTop: _vm.borderTop, borderHorizon: _vm.borderHorizon, borderBottom: _vm.borderBottom, borderLeft: _vm.borderLeft, borderVertical: _vm.borderVertical, borderRight: _vm.borderRight}); _vm.borderPropertyDialog = false;}}},[_vm._v(\"确 定\")])],1)]),_vm._v(\" \"),_c('el-button-group',[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\",\"title\":\"合并单元格\"},on:{\"click\":_vm.mergeCells}},[_c('i',{staticClass:\"iconfont fe-iconfont-mergecell\"})]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\",\"title\":\"取消合并\"},on:{\"click\":_vm.splitCells}},[_c('i',{staticClass:\"iconfont fe-iconfont-separatecell\"})])],1),_vm._v(\" \"),_c('el-button-group',[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\",\"title\":\"粗体\"}},[_c('i',{staticClass:\"iconfont fe-iconfont-bold\"})]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\",\"title\":\"斜体\"}},[_c('i',{staticClass:\"iconfont fe-iconfont-italic\"})]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\",\"title\":\"下划线\"}},[_c('i',{staticClass:\"iconfont fe-iconfont-underline\"})])],1),_vm._v(\" \"),_c('el-button-group',[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\",\"title\":\"居左\"},on:{\"click\":function($event){_vm.setCellsTextAlign({align: 'left'})}}},[_c('i',{staticClass:\"iconfont fe-iconfont-alignleft\"})]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\",\"title\":\"居中\"},on:{\"click\":function($event){_vm.setCellsTextAlign({align: 'center'})}}},[_c('i',{staticClass:\"iconfont fe-iconfont-aligncenter\"})]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\",\"title\":\"居右\"},on:{\"click\":function($event){_vm.setCellsTextAlign({align: 'right'})}}},[_c('i',{staticClass:\"iconfont fe-iconfont-alignright\"})])],1),_vm._v(\" \"),_c('el-button-group',[_c('swatches',{attrs:{\"colors\":\"text-advanced\"},on:{\"input\":function($event){_vm.setCellsBackground($event)}},model:{value:(_vm.tempColor),callback:function ($$v) {_vm.tempColor=$$v},expression:\"tempColor\"}},[_c('el-button',{attrs:{\"slot\":\"trigger\",\"type\":\"primary\",\"size\":\"mini\",\"title\":\"背景色\"},slot:\"trigger\"},[_c('i',{staticClass:\"iconfont fe-iconfont-background-color\"},[_c('el-color-picker',{ref:\"p2\",staticStyle:{\"width\":\"1px\",\"height\":\"1px\",\"display\":\"none\"},attrs:{\"id\":\"picker2\",\"size\":\"mini\",\"popper-class\":\"fe-toolbar-buttons-color-picker2\"},on:{\"change\":function($event){_vm.setCellsBackground($event)}}})],1)])],1)],1),_vm._v(\" \"),_c('el-button-group',[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\",\"title\":\"编辑\"},on:{\"click\":_vm.beginUEdit}},[_c('i',{staticClass:\"iconfont fe-iconfont-edit\"})]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\",\"title\":\"清空内容\"},on:{\"click\":_vm.clearCellsContent}},[_c('i',{staticClass:\"iconfont fe-iconfont-clear\"})])],1),_vm._v(\" \"),_c('el-button-group',[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":_vm.showBorderPropertyDialog}},[_c('i',{staticClass:\"iconfont fe-iconfont-border-all\"})])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-f00a6e00\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Toolbar.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-f00a6e00\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Toolbar.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Toolbar.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Toolbar.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-f00a6e00\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Toolbar.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-f00a6e00\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Toolbar.vue\n// module id = null\n// module chunks = ","let contains = document.documentElement.contains\n  ? function (parent, node) {\n    return parent !== node && parent.contains(node)\n  }\n  : function (parent, node) {\n    while (node && (node = node.parentNode)) { if (node === parent) return true }\n    return false\n  }\n\nlet isEventParentHasAttribute = function (e, attributeName) {\n  for (let i in e.path) {\n    if (e.path[i] === document.querySelector('body')) {\n      return false\n    }\n    if (e.path[i].hasAttribute(attributeName)) {\n      return e.path[i]\n    }\n  }\n  return false\n}\n\nlet toNumber = function (val) {\n  return val - 0\n}\n\nexport {contains, isEventParentHasAttribute, toNumber}\n\n\n\n// WEBPACK FOOTER //\n// ./src/util/index.js","<template draggable=\"false\" ondragstart=\"javascript: return false;\">\n  <div class=\"fe-content-table-container\" draggable=\"false\" ondragstart=\"javascript: return false;\">\n    <table id=\"fe-content-table-table\" class=\"fe-content-table-table\" cellspacing=\"0\" draggable=\"false\" ondragstart=\"javascript: return false;\" @contextmenu.prevent=\"showMenu\" :style=\"{\n    }\"\n           @mousemove=\"handleMouseMove($event)\"\n           @mouseover=\"handleMouseOver($event)\"\n           @mousedown=\"handleMouseDown($event)\"\n           @mouseup=\"handleMouseUp($event)\"\n           @mouseleave=\"handleMouseLeave($event)\"\n           @dblclick=\"handleMouseDblClick($event)\"\n    >\n      <!--第一行-->\n      <tr @mouseleave=\"handleHeadMouseLeave\" class=\"noselect\" draggable=\"false\" ondragstart=\"javascript: return false;\">\n        <!--第一列-->\n        <td class=\"fe-content-table-table-th-0\" draggable=\"false\" ondragstart=\"javascript: return false;\" table-selector\n            :style=\"{\n            height: defaultRowHeight + 'px',\n            width: 46 + 'px',\n            cursor: 'cell'\n            }\">\n        </td>\n        <td v-for=\"col in colNum\" v-bind:key=\"'th' + col\" class=\"fe-content-table-table-line0\" :col=\"col\" draggable=\"false\" ondragstart=\"javascript: return false;\" col-header\n            :style=\"{\n            height: defaultRowHeight + 'px',\n            width: (getColWidth(col) || defaultColWidth) + 'px',\n            // cursor: 'pointer',\n            boxSizing: 'border-box'\n            }\"\n        >\n          <!--<div col-selector :col=\"col\">-->\n            {{displayHeadCharactor(col)}}\n          <!--</div>-->\n        </td>\n      </tr>\n      <tr v-for=\"row in rowNum\" v-bind:key=\"row\" draggable=\"false\" ondragstart=\"javascript: return false;\">\n        <!--第一列-->\n        <td class=\"fe-content-table-table-th-1 noselect\" draggable=\"false\" ondragstart=\"javascript: return false;\" row-header\n            :row=\"row\"\n            :style=\"{\n            height: (getRowHeight(row) || defaultRowHeight) + 'px',\n          }\"\n        >\n          {{row}}\n        </td>\n        <td v-for=\"col in colNum\" v-bind:key=\"col + '@' + row\" class=\"fe-content-table-table-td\" v-if=\"cells[row][col] === undefined || cells[row][col].hidden !== true\" draggable=\"false\" ondragstart=\"javascript: return false;\" table-content\n            :row=\"row\"\n            :col=\"col\"\n            :style=\"getCellStyle(row, col)\"\n            :rowspan=\"getCellRowspan(row, col)\"\n            :colspan=\"getCellColspan(row, col)\"\n        >\n          <div :contenteditable=\"isCellContentEditable(row, col)\" :id=\"'td_content_' + row + '_' + col\" class=\"fe-content-table-table-td-div\" draggable=\"false\" ondragstart=\"javascript: return false;\"\n               :style=\"{\n                  userSelect: isCellContentEditable(row, col) ? '' : 'none'\n               }\"\n               v-html=\"getCellContent(row, col)\"\n               @blur=\"endEditCell({row, col})\"\n          >\n          </div>\n        </td>\n      </tr>\n    </table>\n  </div>\n</template>\n\n<script>\nimport { mapActions } from 'vuex'\nimport { isEventParentHasAttribute, toNumber } from '@/util'\nexport default {\n  name: 'ContentTable',\n  computed: {\n    type () {\n      return this.$store.state.cache.type\n    },\n    selectedColIndexList () {\n      return this.$store.state.selectedColIndexList\n    },\n    rows () {\n      return this.$store.state.rows\n    },\n    rowNum () {\n      return this.$store.state.rowNum\n    },\n    cols () {\n      return this.$store.state.cols\n    },\n    colNum () {\n      return this.$store.state.colNum\n    },\n    defaultColWidth () {\n      return this.$store.state.config.defaultColWidth\n    },\n    defaultRowHeight () {\n      return this.$store.state.config.defaultRowHeight\n    },\n    begin () {\n      return this.$store.state.cache.select.selectedArea.begin\n    },\n    end () {\n      return this.$store.state.cache.select.selectedArea.end\n    },\n    cells () {\n      return this.$store.state.cells\n    },\n    beginCell () {\n      return this.$store.state.cache.select.beginCell\n    },\n    cacheEditCell () {\n      return this.$store.state.cache.editCell\n    },\n    borderDefault () {\n      return this.$store.state.config.borderDefault\n    },\n    borderDefaultColor () {\n      return this.$store.state.config.borderDefaultColor\n    },\n    borderDefaultStyle () {\n      return this.$store.state.config.borderDefaultStyle\n    },\n    borderDefaultWidth () {\n      return this.$store.state.config.borderDefaultWidth\n    },\n    selectedBorderDefaultColor () {\n      return this.$store.state.config.selectedBorderDefaultColor\n    },\n    selectedBorderDefaultStyle () {\n      return this.$store.state.config.selectedBorderDefaultStyle\n    },\n    selectedBorderDefaultWidth () {\n      return this.$store.state.config.selectedBorderDefaultWidth\n    },\n    selectedBorderDefault () {\n      return this.$store.state.config.selectedBorderDefault\n    },\n    selectedCellBackground () {\n      return this.$store.state.config.selectedCellBackground\n    }\n  },\n  data: function () {\n    return {\n      tableOffsetTop: 0,\n      tableOffsetLeft: 0,\n      mouseoverRow: undefined,\n      mouseoverCol: undefined\n    }\n  },\n  mounted () {\n    this.tableOffsetTop = document.querySelector('#fe-content-table-table').offsetTop\n    this.tableOffsetLeft = document.querySelector('#fe-content-table-table').offsetLeft\n\n    // 默认选中第一个单元格\n    if (!this.$store.state.cache.select.selectedArea.begin.row) {\n      this.beginSelectCell({row: 1, col: 1})\n      this.endSelectCell({row: 1, col: 1})\n    }\n  },\n  methods: {\n    showMenu (e) {\n      if (e.target.hasAttribute('col-header')) {\n        // 列头部\n        console.log(e)\n        this.showContentMenu({\n          e: e,\n          width: 135,\n          menus: [\n            {\n              icon: 'fe-iconfont-insert-column',\n              text: '插入列',\n              disabled: false,\n              handler: this.insertCol\n            },\n            {\n              icon: 'fe-iconfont-delete-column',\n              text: '删除列',\n              disabled: false,\n              handler: this.deleteCol\n            }\n          ]\n        })\n      } else if (e.target.hasAttribute('row-header')) {\n        // 行头部\n        console.log(e)\n        this.showContentMenu({\n          e: e,\n          width: 135,\n          menus: [\n            {\n              icon: 'fe-iconfont-insert-row',\n              text: '插入行',\n              disabled: false,\n              handler: this.insertRow\n            },\n            {\n              icon: 'fe-iconfont-delete-row',\n              text: '删除行',\n              disabled: false,\n              handler: this.deleteRow\n            }\n          ]\n        })\n      }\n    },\n    displayHeadCharactor (i) {\n      var charactors = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'\n      // debugger\n      if (i === 26) {\n        // debugger\n      }\n      var time = parseInt((i - 1) / 26)\n      var aux = (i - 1) % 26\n      var first = charactors.substring(time - 1, time)\n      var last = charactors.substring(aux, aux + 1)\n      return first + last\n    },\n    // getCellBorderTop (row, col) {\n    //   if (row === this.begin.row && col >= this.begin.col && col <= this.end.col) {\n    //     return this.selectedBorderDefault\n    //   }\n    //\n    //   if (this.cells[row][col] && this.cells[row][col].borderTopWidth) {\n    //     return this.cells[row][col].borderTopStyle + ' ' + this.cells[row][col].borderTopColor + ' ' + this.cells[row][col].borderTopWidth + 'px'\n    //   }\n    //   return 'solid 1px ' + this.borderDefaultColor\n    // },\n    // getCellBorderLeft (row, col) {\n    //   if (col === this.begin.col && row >= this.begin.row && row <= this.end.row) {\n    //     return this.selectedBorderDefault\n    //   }\n    //\n    //   if (this.cells[row][col] && this.cells[row][col].borderLeftWidth) {\n    //     return this.cells[row][col].borderLeftStyle + ' ' + this.cells[row][col].borderLeftColor + ' ' + this.cells[row][col].borderLeftWidth + 'px'\n    //   }\n    //   return 'solid 1px ' + this.borderDefaultColor\n    // },\n    // getCellBorderBottom (row, col) {\n    //   if ((row === this.end.row || (row + this.getCellRowspan(row, col) - 1) === this.end.row) && col >= this.begin.col && col <= this.end.col) {\n    //     return this.selectedBorderDefault\n    //   }\n    //\n    //   if (this.cells[row][col] && this.cells[row][col].borderBottomWidth) {\n    //     return this.cells[row][col].borderBottomStyle + ' ' + this.cells[row][col].borderBottomColor + ' ' + this.cells[row][col].borderBottomWidth + 'px'\n    //   }\n    //   return 'solid 1px ' + this.borderDefaultColor\n    // },\n    // getCellBorderRight (row, col) {\n    //   if ((col === this.end.col || (col + this.getCellColspan(row, col) - 1) === this.end.col) && row >= this.begin.row && row <= this.end.row) {\n    //     return this.selectedBorderDefault\n    //   }\n    //\n    //   if (this.cells[row][col] && this.cells[row][col].borderRightWidth) {\n    //     return this.cells[row][col].borderRightStyle + ' ' + this.cells[row][col].borderRightColor + ' ' + this.cells[row][col].borderRightWidth + 'px'\n    //   }\n    //   return 'solid 1px ' + this.borderDefaultColor\n    // },\n    getCellBorderTop (row, col, cell) {\n      // if (cell && cell.selected && cell.selected_is_top) {\n      //   return this.selectedBorderDefault\n      // }\n      if (cell && cell.selected && cell.selected_is_top) {\n        return this.selectedBorderDefault\n      }\n\n      if (cell && cell.borderTop) {\n        // return cell.borderTopStyle + ' ' + cell.borderTopColor + ' ' + cell.borderTopWidth + 'px'\n        return cell.borderTop\n      }\n      return this.borderDefault\n    },\n    getCellBorderLeft (row, col, cell) {\n      // if (cell && cell.selected && cell.selected_is_left) {\n      //   return this.selectedBorderDefault\n      // }\n      if (cell && cell.selected && cell.selected_is_left) {\n        return this.selectedBorderDefault\n      }\n\n      if (cell && cell.borderLeft) {\n        // return cell.borderLeftStyle + ' ' + cell.borderLeftColor + ' ' + cell.borderLeftWidth + 'px'\n        return cell.borderLeft\n      }\n      return this.borderDefault\n    },\n    getCellBorderBottom (row, col, cell) {\n      // if ((row === this.end.row || (row + this.getCellRowspan(row, col) - 1) === this.end.row) && col >= this.begin.col && col <= this.end.col) {\n      //   return this.selectedBorderDefault\n      // }\n\n      if (cell && cell.selected && cell.selected_is_bottom) {\n        return this.selectedBorderDefault\n      }\n\n      if (cell && cell.borderBottom) {\n        // return cell.borderBottomStyle + ' ' + cell.borderBottomColor + ' ' + cell.borderBottomWidth + 'px'\n        return cell.borderBottom\n      }\n      return this.borderDefault\n    },\n    getCellBorderRight (row, col, cell) {\n      // if ((col === this.end.col || (col + this.getCellColspan(row, col) - 1) === this.end.col) && row >= this.begin.row && row <= this.end.row) {\n      //   return this.selectedBorderDefault\n      // }\n      if (cell && cell.selected && cell.selected_is_right) {\n        return this.selectedBorderDefault\n      }\n\n      if (cell && cell.borderRight) {\n        // return cell.borderRightStyle + ' ' + cell.borderRightColor + ' ' + cell.borderRightWidth + 'px'\n        return cell.borderRight\n      }\n      return this.borderDefault\n    },\n    getCellStyle (row, col) {\n      // 目标cell\n      // console.time('getCellStyle')\n      let cell = this.cells[row][col]\n\n      let style = {\n        borderTop: this.getCellBorderTop(row, col, cell),\n        borderLeft: this.getCellBorderLeft(row, col, cell),\n        borderBottom: this.getCellBorderBottom(row, col, cell),\n        borderRight: this.getCellBorderRight(row, col, cell),\n        background: this.getCellBackground(row, col, cell),\n        textAlign: this.getCellTextalign(row, col, cell)\n      }\n\n      // console.timeEnd('getCellStyle')\n      return style\n    },\n    isColSelected (colIndex) {\n      for (var i in this.selectedColIndexList) {\n        if (this.selectedColIndexList[i] === colIndex) {\n          return true\n        }\n      }\n      return false\n    },\n    getCell (row, col) {\n      if (this.cells[row][col]) {\n        return this.cells[row][col]\n      }\n      return {}\n    },\n    getCellContent (row, col) {\n      if (this.cells[row][col]) {\n        return this.cells[row][col].content\n      }\n      return ''\n    },\n    isCellContentEditable (row, col) {\n      return this.cacheEditCell.row === row && this.cacheEditCell.col === col\n    },\n    getCellRowspan (row, col) {\n      if (this.cells[row][col]) {\n        return this.cells[row][col].rowspan\n      }\n      return undefined\n    },\n    getCellColspan (row, col) {\n      if (this.cells[row][col]) {\n        return this.cells[row][col].colspan\n      }\n      return undefined\n    },\n    getCellTextalign (row, col) {\n      if (this.cells[row][col]) {\n        return this.cells[row][col].textAlign\n      }\n      return undefined\n    },\n    getCellBackground (row, col, cell) {\n      if (cell && cell.background) {\n        return cell.background\n      }\n\n      if (cell && cell.selected) {\n        return this.selectedCellBackground\n      }\n\n      // if (row >= this.begin.row && row <= this.end.row && col >= this.begin.col && col <= this.end.col) {\n      //   if (this.beginCell.row === row && this.beginCell.col === col) {\n      //     if (this.cells[row][col]) {\n      //       return this.cells[row][col].background || '#FFFFFF'\n      //     } else {\n      //       return '#FFFFFF'\n      //     }\n      //   }\n      //   if (this.cells[row][col]) {\n      //     return this.cells[row][col].background || '#eaecf5'\n      //   } else {\n      //     return '#eaecf5'\n      //   }\n      // }\n      //\n      // if (this.cells[row][col]) {\n      //   return this.cells[row][col].background\n      // }\n      // return '#FFFFFF'\n    },\n    getColWidth (col) {\n      return this.cols[col].width\n    },\n    getRowHeight (row) {\n      return this.rows[row].height\n    },\n    handleMouseMove (e) {\n      var isColHeader = e.target.hasAttribute('col-header')\n      var isRowHeader = e.target.hasAttribute('row-header')\n      if (isColHeader && this.type === '') {\n        // 鼠标在头部单元格\n        if (e.clientX - e.target.offsetLeft + this.tableOffsetLeft <= 3 || (e.target.offsetLeft + this.tableOffsetLeft + e.target.clientWidth - e.clientX) <= 3) {\n          e.target.style.cursor = 'col-resize'\n        } else {\n          e.target.style.cursor = 'pointer'\n        }\n      } else if (isRowHeader && this.type === '') {\n        // 鼠标在每行第一个单元格\n        if (e.clientY - e.target.offsetTop + this.tableOffsetTop <= 3 || (e.target.offsetTop + this.tableOffsetTop + e.target.clientHeight - e.clientY) <= 3) {\n          e.target.style.cursor = 'row-resize'\n          // e.target.style.cursor = 'pointer'\n        } else {\n          e.target.style.cursor = 'pointer'\n          // e.target.style.cursor = 'row-resize'\n        }\n      } else if (this.type === 'resize-col') {\n        e.target.style.cursor = 'col-resize'\n      } else if (this.type === 'resize-row') {\n        e.target.style.cursor = 'row-resize'\n      }\n\n      if (this.type === 'resize-col' && e.target.hasAttribute('col-header')) {\n        this.dragResizeCol({location: {x: e.clientX, y: e.clientY}})\n      } else if (this.type === 'resize-row' && e.target.hasAttribute('row-header')) {\n        this.dragResizeRow({location: {x: e.clientX, y: e.clientY}})\n      }\n    },\n    handleMouseOver (e) {\n      let target = null\n      let isTableContent = (e.target.hasAttribute('table-content')) || (target = isEventParentHasAttribute(e, 'table-content'))\n      if (isTableContent && !target) {\n        target = e.target\n      }\n\n      if (isTableContent) {\n        let row = toNumber(target.getAttribute('row') || 1)\n        let col = toNumber(target.getAttribute('col') || 1)\n\n        if (row === this.mouseoverRow && col === this.mouseoverCol) {\n          return\n        }\n\n        if ((this.type === 'select' || this.type === 'edit-cell')) {\n          this.dragSelect({event: e, row, col})\n        }\n      }\n    },\n    handleMouseDown (e) {\n      let isColHeader = e.target.hasAttribute('col-header')\n      let isRowHeader = e.target.hasAttribute('row-header')\n      let isTableSelector = e.target.hasAttribute('table-selector')\n      let target = null\n      let isTableContent = (e.target.hasAttribute('table-content')) || (target = isEventParentHasAttribute(e, 'table-content'))\n      if (isTableContent && !target) {\n        target = e.target\n      }\n      let targetCol = toNumber(e.target.getAttribute('col') || 1)\n      let targetRow = toNumber(e.target.getAttribute('row') || 1)\n      if (isColHeader) {\n        // 鼠标在头部单元格\n        if (e.clientX - e.target.offsetLeft + this.tableOffsetLeft <= 3 || (e.target.offsetLeft + this.tableOffsetLeft + e.target.clientWidth - e.clientX) <= 3) {\n          if (e.target.clientWidth >= 7) {\n            if (e.clientX - e.target.offsetLeft <= 3) {\n              targetCol = targetCol - 1\n            }\n          }\n          this.beginResizeCol({col: targetCol, beginLocation: {x: e.clientX, y: e.clientY}})\n        } else {\n          this.selectCol(targetCol)\n        }\n      } else if (isRowHeader) {\n        // 鼠标在每行第一个单元格\n        if (e.clientY - e.target.offsetTop + this.tableOffsetTop <= 3 || (e.target.offsetTop + this.tableOffsetTop + e.target.clientHeight - e.clientY) <= 3) {\n          if (e.target.clientHeight >= 7) {\n            if (e.clientX - e.target.offsetLeft <= 3) {\n              targetRow = targetRow - 1\n            }\n          }\n          this.beginResizeRow({row: targetRow, beginLocation: {x: e.clientX, y: e.clientY}})\n        } else {\n          this.selectRow(targetRow)\n        }\n      } else if (isTableContent) {\n        let row = toNumber(target.getAttribute('row') || 1)\n        let col = toNumber(target.getAttribute('col') || 1)\n        this.beginSelectCell({event: e, row, col})\n      } else if (isTableSelector) {\n        this.selectTable()\n      }\n    },\n    handleMouseUp (e) {\n      if (this.type === 'resize-col') {\n        this.endResizeCol({location: {x: e.clientX, y: e.clientY}})\n      } else if (this.type === 'resize-row') {\n        this.endResizeRow({location: {x: e.clientX, y: e.clientY}})\n      } else if (this.type === 'select') {\n        let target = null\n        let isTableContent = (e.target.hasAttribute('table-content')) || (target = isEventParentHasAttribute(e, 'table-content'))\n        if (isTableContent && !target) {\n          target = e.target\n        }\n        let row = toNumber(target.getAttribute('row') || 1)\n        let col = toNumber(target.getAttribute('col') || 1)\n        if (isTableContent) {\n          this.endSelectCell({event: e, row, col})\n        }\n      }\n    },\n    handleMouseLeave (e) {\n      console.log(e)\n    },\n    handleBlur (e) {\n      console.log(e)\n    },\n    handleMouseDblClick (e) {\n      let target = null\n      let isTableContent = (e.target.hasAttribute('table-content')) || (target = isEventParentHasAttribute(e, 'table-content'))\n      if (isTableContent && !target) {\n        target = e.target\n      }\n\n      if (isTableContent) {\n        let row = toNumber(target.getAttribute('row') || 1)\n        let col = toNumber(target.getAttribute('col') || 1)\n        this.beginEditCell({row, col})\n      }\n    },\n    handleHeadMouseLeave (e) {\n      if (this.type === 'resize-col') {\n        this.endResizeCol({location: {x: e.clientX, y: e.clientY}})\n      } else if (this.type === 'resize-row') {\n        this.endResizeRow({location: {x: e.clientX, y: e.clientY}})\n      }\n    },\n    ...mapActions([\n      'selectCol',\n      'selectRow',\n      'selectTable',\n      'beginSelectCell',\n      'endSelectCell',\n      'dragSelect',\n      'exitSelectMode',\n      'beginEditCell',\n      'endEditCell',\n      'beginResizeCol',\n      'endResizeCol',\n      'dragResizeCol',\n      'beginResizeRow',\n      'endResizeRow',\n      'dragResizeRow',\n      'showContentMenu',\n      'insertCol',\n      'deleteCol',\n      'insertRow',\n      'deleteRow'\n    ])\n  },\n  beforeUpdate () {\n  },\n  updated () {\n  }\n}\n</script>\n\n<style scoped>\n  .noselect {\n    user-select: none;\n  }\n  .fe-content-table-table-line0 {\n    padding-left: 3px;\n    padding-right: 3px;\n  }\n  .fe-content-table-table-line0:first-child {\n    padding-left: 10px !important;\n    padding-right: 10px;\n  }\n  .fe-content-table-table-line0 > div {\n    height: calc(100% + 2px);\n    padding: 2px;\n  }\n  .fe-content-table-container {\n    font-size: 14px;\n  }\n  .fe-content-table-table {\n    border-collapse: collapse;\n    border-spacing: 0px;\n    table-layout: fixed;\n    width: 100%;\n    max-width: 100%;\n  }\n  .fe-content-table-table tr {\n    /*border: solid 1px #ddd;*/\n  }\n  .fe-content-table-table tr:first-child > td:first-child  {\n    background: #a9c4e9;\n    border: solid 1px #ddd;\n    text-align: center;\n    font-size: 13px;\n  }\n  .fe-content-table-table tr:first-child > td {\n    background: #e2e9f0;\n    border: solid 1px #ddd;\n    text-align: center;\n    font-size: 13px;\n  }\n  .fe-content-table-table tr > td:first-child {\n    background: #e2e9f0;\n    font-size: 13px;\n  }\n  .fe-content-table-table-td {\n    /*border: solid 1px #ddd;*/\n    /*text-align: center;*/\n    cursor: cell;\n    height: 0px;\n    word-wrap: break-word;\n    word-break: break-all;\n  }\n  .fe-content-table-table-th-1 {\n    background: #e2e9f0;\n    border: solid 1px #ddd;\n    font-size: 13px;\n    text-align: center;\n  }\n  .fe-content-table-table-td-div {\n    width: 100%;\n    /*height: 100%;*/\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/ContentTable.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"fe-content-table-container\",attrs:{\"draggable\":\"false\",\"ondragstart\":\"javascript: return false;\"}},[_c('table',{staticClass:\"fe-content-table-table\",style:({\n  }),attrs:{\"id\":\"fe-content-table-table\",\"cellspacing\":\"0\",\"draggable\":\"false\",\"ondragstart\":\"javascript: return false;\"},on:{\"contextmenu\":function($event){$event.preventDefault();return _vm.showMenu($event)},\"mousemove\":function($event){_vm.handleMouseMove($event)},\"mouseover\":function($event){_vm.handleMouseOver($event)},\"mousedown\":function($event){_vm.handleMouseDown($event)},\"mouseup\":function($event){_vm.handleMouseUp($event)},\"mouseleave\":function($event){_vm.handleMouseLeave($event)},\"dblclick\":function($event){_vm.handleMouseDblClick($event)}}},[_c('tr',{staticClass:\"noselect\",attrs:{\"draggable\":\"false\",\"ondragstart\":\"javascript: return false;\"},on:{\"mouseleave\":_vm.handleHeadMouseLeave}},[_c('td',{staticClass:\"fe-content-table-table-th-0\",style:({\n          height: _vm.defaultRowHeight + 'px',\n          width: 46 + 'px',\n          cursor: 'cell'\n          }),attrs:{\"draggable\":\"false\",\"ondragstart\":\"javascript: return false;\",\"table-selector\":\"\"}}),_vm._v(\" \"),_vm._l((_vm.colNum),function(col){return _c('td',{key:'th' + col,staticClass:\"fe-content-table-table-line0\",style:({\n          height: _vm.defaultRowHeight + 'px',\n          width: (_vm.getColWidth(col) || _vm.defaultColWidth) + 'px',\n          // cursor: 'pointer',\n          boxSizing: 'border-box'\n          }),attrs:{\"col\":col,\"draggable\":\"false\",\"ondragstart\":\"javascript: return false;\",\"col-header\":\"\"}},[_vm._v(\"\\n          \"+_vm._s(_vm.displayHeadCharactor(col))+\"\\n        \")])})],2),_vm._v(\" \"),_vm._l((_vm.rowNum),function(row){return _c('tr',{key:row,attrs:{\"draggable\":\"false\",\"ondragstart\":\"javascript: return false;\"}},[_c('td',{staticClass:\"fe-content-table-table-th-1 noselect\",style:({\n          height: (_vm.getRowHeight(row) || _vm.defaultRowHeight) + 'px',\n        }),attrs:{\"draggable\":\"false\",\"ondragstart\":\"javascript: return false;\",\"row-header\":\"\",\"row\":row}},[_vm._v(\"\\n        \"+_vm._s(row)+\"\\n      \")]),_vm._v(\" \"),_vm._l((_vm.colNum),function(col){return (_vm.cells[row][col] === undefined || _vm.cells[row][col].hidden !== true)?_c('td',{key:col + '@' + row,staticClass:\"fe-content-table-table-td\",style:(_vm.getCellStyle(row, col)),attrs:{\"draggable\":\"false\",\"ondragstart\":\"javascript: return false;\",\"table-content\":\"\",\"row\":row,\"col\":col,\"rowspan\":_vm.getCellRowspan(row, col),\"colspan\":_vm.getCellColspan(row, col)}},[_c('div',{staticClass:\"fe-content-table-table-td-div\",style:({\n                userSelect: _vm.isCellContentEditable(row, col) ? '' : 'none'\n             }),attrs:{\"contenteditable\":_vm.isCellContentEditable(row, col),\"id\":'td_content_' + row + '_' + col,\"draggable\":\"false\",\"ondragstart\":\"javascript: return false;\"},domProps:{\"innerHTML\":_vm._s(_vm.getCellContent(row, col))},on:{\"blur\":function($event){_vm.endEditCell({row: row, col: col})}}})]):_vm._e()})],2)})],2)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-69d211a0\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/ContentTable.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-69d211a0\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ContentTable.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ContentTable.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ContentTable.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-69d211a0\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./ContentTable.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-69d211a0\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/ContentTable.vue\n// module id = null\n// module chunks = ","<template>\n  <div>\n    <toolbar></toolbar>\n    <!--<all-selector></all-selector>-->\n    <!--<col-selector></col-selector>-->\n    <!--<row-selector></row-selector>-->\n    <content-table></content-table>\n  </div>\n</template>\n\n<script>\n\nimport AllSelector from './selector/AllSelector'\nimport ColSelector from './selector/ColSelector'\nimport RowSelector from './selector/RowSelector'\nimport Toolbar from './Toolbar'\nimport ContentTable from './ContentTable'\n\nexport default {\n  name: 'FormEditor',\n  components: {\n    Toolbar,\n    ContentTable,\n    AllSelector,\n    ColSelector,\n    RowSelector\n  }\n}\n</script>\n\n<style scoped>\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/FormEditor.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('toolbar'),_vm._v(\" \"),_c('content-table')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-679126f0\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/FormEditor.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-679126f0\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./FormEditor.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./FormEditor.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./FormEditor.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-679126f0\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./FormEditor.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-679126f0\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/FormEditor.vue\n// module id = null\n// module chunks = ","<template>\n\n  <div\n      v-if=\"contextMenu.menuItemList.length > 0\"\n      class=\"fe-content-menu\"\n      v-on:mouseout=\"hideContentMenu($event)\"\n      v-bind:style=\"{left: contextMenu.e.clientX + contextMenu.width / 2 - 2 + 'px', top: contextMenu.e.clientY - 2 + 'px', minWidth: contextMenu.width + 'px'}\"\n  >\n    <ul>\n      <li v-for=\"(item, index) in contextMenu.menuItemList\" v-bind:key=\"index\" v-bind:class=\"item.disabled ? 'fe-content-menu-disabled' : ''\" v-on:click=\"item.handler\">\n        <i v-bind:class=\"'iconfont fe-content-menu-icon ' + item.icon\"> </i> &nbsp; <span class=\"fe-content-menu-text\">{{item.text }}</span>\n      </li>\n    </ul>\n  </div>\n\n</template>\n\n<script>\nimport { mapActions } from 'vuex'\n\nexport default {\n  name: 'fe-content-menu',\n  computed: {\n    contextMenu () {\n      return this.$store.state.contextMenu\n    }\n  },\n  methods: {\n    ...mapActions([\n      'hideContentMenu'\n    ])\n  }\n}\n</script>\n\n<style scoped>\n\n  * {\n    font-size: 14px;\n  }\n\n  .fe-content-menu {\n\n    -webkit-box-sizing: border-box;\n    box-sizing: border-box;\n    border-width: 1px;\n    border-style: solid;\n    border-color: #b0b3b8;\n    position: fixed;\n    -webkit-transform: translateX(-50%);\n    transform: translateX(-50%);\n    -webkit-transition: opacity .3s,-webkit-transform .4s;\n    transition: opacity .3s,-webkit-transform .4s;\n    transition: opacity .3s,transform .4s;\n    transition: opacity .3s,transform .4s,-webkit-transform .4s;\n    /*padding: 5px 5px 5px 10px;*/\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-align: center;\n    -ms-flex-align: center;\n    align-items: center;\n    background: #fff;\n    z-index: 99999999;\n  }\n\n  .fe-content-menu ul {\n    padding: 0px;\n    width: 100%;\n    margin: 1px;\n  }\n\n  .fe-content-menu li {\n    list-style: none;\n    line-height: 24px;\n    cursor: pointer;\n    padding: 2px;\n  }\n\n  .fe-content-menu li:hover {\n    background: #f3f3f3;\n  }\n\n  .fe-content-menu-disabled {\n    color: #aaa;\n  }\n\n  .fe-content-menu-icon {\n    /*font-size: 18px;*/\n    line-height: 28px;\n  }\n  .fe-content-menu-text {\n    font-size: 12px;\n  }\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/ContentMenu.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.contextMenu.menuItemList.length > 0)?_c('div',{staticClass:\"fe-content-menu\",style:({left: _vm.contextMenu.e.clientX + _vm.contextMenu.width / 2 - 2 + 'px', top: _vm.contextMenu.e.clientY - 2 + 'px', minWidth: _vm.contextMenu.width + 'px'}),on:{\"mouseout\":function($event){_vm.hideContentMenu($event)}}},[_c('ul',_vm._l((_vm.contextMenu.menuItemList),function(item,index){return _c('li',{key:index,class:item.disabled ? 'fe-content-menu-disabled' : '',on:{\"click\":item.handler}},[_c('i',{class:'iconfont fe-content-menu-icon ' + item.icon}),_vm._v(\"   \"),_c('span',{staticClass:\"fe-content-menu-text\"},[_vm._v(_vm._s(item.text))])])}))]):_vm._e()}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-277602d6\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/ContentMenu.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-277602d6\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ContentMenu.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ContentMenu.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ContentMenu.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-277602d6\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./ContentMenu.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-277602d6\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/ContentMenu.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"fe-ueditor-toolbar-buttons\">\n    <el-button-group>\n      <el-button type=\"danger\" size=\"mini\" @click=\"cancelUEdit\" title=\"返回\">\n        <i class=\"iconfont fe-iconfont-back\"></i>\n      </el-button>\n      <el-button type=\"primary\" size=\"mini\" @click=\"endEdit\" title=\"确定\">\n        <i class=\"iconfont fe-iconfont-yes\"></i>\n      </el-button>\n    </el-button-group>\n  </div>\n</template>\n\n<script>\nimport { mapActions } from 'vuex'\nexport default {\n  name: 'UEditorToolbar',\n  methods: {\n    endEdit () {\n      console.log('endEdit')\n      this.$emit('save')\n    },\n    ...mapActions([\n      'cancelUEdit'\n    ])\n  }\n}\n</script>\n\n<style scoped>\n  .fe-ueditor-toolbar-buttons {\n    font-size: 12px;\n  }\n  .fe-toolbar-buttons-border-property-dialog-font-mini {\n    font-size: 12px;\n  }\n  .el-button--mini, .el-button--mini.is-round {\n    padding: 5px 8px;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/UEditorToolbar.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"fe-ueditor-toolbar-buttons\"},[_c('el-button-group',[_c('el-button',{attrs:{\"type\":\"danger\",\"size\":\"mini\",\"title\":\"返回\"},on:{\"click\":_vm.cancelUEdit}},[_c('i',{staticClass:\"iconfont fe-iconfont-back\"})]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\",\"title\":\"确定\"},on:{\"click\":_vm.endEdit}},[_c('i',{staticClass:\"iconfont fe-iconfont-yes\"})])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-e887beba\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/UEditorToolbar.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-e887beba\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./UEditorToolbar.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./UEditorToolbar.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./UEditorToolbar.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-e887beba\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./UEditorToolbar.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-e887beba\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/UEditorToolbar.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"fe-ueditor-toolbar-buttons\">\n    <el-button-group>\n      <el-button size=\"mini\" @click=\"cancelUEdit\" title=\"返回\">\n        <i class=\"iconfont fe-iconfont-back\"></i>\n      </el-button>\n      <el-button type=\"primary\" size=\"mini\" @click=\"endEdit\" title=\"确定\">\n        <i class=\"iconfont fe-iconfont-yes\"></i>\n      </el-button>\n    </el-button-group>\n    <el-button-group>\n      <el-button size=\"mini\" type=\"primary\" title=\"普通文本框\">\n        <i class=\"iconfont \">文本框</i>\n      </el-button>\n      <el-button size=\"mini\" type=\"primary\" title=\"日期选择框\">\n        <i class=\"iconfont \">日期控件</i>\n      </el-button>\n      <el-button size=\"mini\" type=\"primary\" title=\"多行文本框\">\n        <i class=\"iconfont \">多行文本</i>\n      </el-button>\n    </el-button-group>\n  </div>\n</template>\n\n<script>\nimport { mapActions } from 'vuex'\nexport default {\n  name: 'NEditorToolbar',\n  methods: {\n    endEdit () {\n      this.$emit('save')\n    },\n    ...mapActions([\n      'cancelUEdit'\n    ])\n  }\n}\n</script>\n\n<style scoped>\n  .fe-ueditor-toolbar-buttons {\n    font-size: 12px;\n  }\n  .fe-toolbar-buttons-border-property-dialog-font-mini {\n    font-size: 12px;\n  }\n  .el-button--mini, .el-button--mini.is-round {\n    padding: 5px 8px;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/NEditorToolbar.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"fe-ueditor-toolbar-buttons\"},[_c('el-button-group',[_c('el-button',{attrs:{\"size\":\"mini\",\"title\":\"返回\"},on:{\"click\":_vm.cancelUEdit}},[_c('i',{staticClass:\"iconfont fe-iconfont-back\"})]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\",\"title\":\"确定\"},on:{\"click\":_vm.endEdit}},[_c('i',{staticClass:\"iconfont fe-iconfont-yes\"})])],1),_vm._v(\" \"),_c('el-button-group',[_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\",\"title\":\"普通文本框\"}},[_c('i',{staticClass:\"iconfont \"},[_vm._v(\"文本框\")])]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\",\"title\":\"日期选择框\"}},[_c('i',{staticClass:\"iconfont \"},[_vm._v(\"日期控件\")])]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\",\"title\":\"多行文本框\"}},[_c('i',{staticClass:\"iconfont \"},[_vm._v(\"多行文本\")])])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0cfcfe40\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/NEditorToolbar.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0cfcfe40\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./NEditorToolbar.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./NEditorToolbar.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./NEditorToolbar.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0cfcfe40\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./NEditorToolbar.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-0cfcfe40\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/NEditorToolbar.vue\n// module id = null\n// module chunks = ","<template>\n  <div>\n    <NEditorToolbar @save=\"saveUEContent\"/>\n    <script :id=id type=\"text/plain\"></script>\n  </div>\n</template>\n<script>\nimport UEditorToolbar from './UEditorToolbar'\nimport NEditorToolbar from './NEditorToolbar'\nimport { mapActions } from 'vuex'\nexport default {\n  name: 'UEditor',\n  components: {\n    UEditorToolbar,\n    NEditorToolbar\n  },\n  data () {\n    return {\n      editor: null\n    }\n  },\n  props: {\n    defaultMsg: {\n      type: String\n    },\n    config: {\n      type: Object\n    },\n    id: {\n      type: String\n    }\n  },\n  computed: {\n    ueditContent () {\n      return this.$store.state.cache.uedit.content\n    }\n  },\n  mounted () {\n    const _this = this\n    // eslint-disable-next-line\n    this.editor = UE.getEditor(this.id, this.config) // 初始化UE\n    window.__EDITOR__ = this.editor\n    // console.log(this.editor.commands)\n    // let controls = ['controlinput']\n    // for (let i in controls) {\n    //   (function (editor, controlname) {\n    //     console.log(controlname)\n    //     editor.commands[controlname] = {\n    //       execCommand: function () {\n    //         console.log(1111122222)\n    //         editor.execCommand(controlname)\n    //       },\n    //       queryCommandState: function () { }\n    //     }\n    //   })(this.editor, controls[i])\n    // }\n    // this.editor.commands['controlinput'] = {\n    //   execCommand: function () {\n    //     console.log(1111122222)\n    //     window.__EDITOR__.execCommand('controlinput')\n    //   },\n    //   queryCommandState: function () { }\n    // }\n    this.editor.addListener('ready', function () {\n      _this.editor.setContent(_this.ueditContent || '') // 确保UE加载完成后，放入内容。\n    })\n    // console.log('上传这堆错误不用理会，上传接口需自行开发配置')\n  },\n  methods: {\n    getUEContent () { // 获取内容方法\n      return this.editor.getContent()\n    },\n    getUEContentText () { // 获取纯文本内容方法\n      return this.editor.getContentTxt()\n    },\n    saveUEContent () {\n      console.log('saveUEContent')\n      let source = this.getUEContent()\n      this.endUEdit({source})\n    },\n    ...mapActions([\n      'endUEdit'\n    ])\n  },\n  destroyed () {\n    this.editor.destroy()\n  }\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/components/NEditor.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('NEditorToolbar',{on:{\"save\":_vm.saveUEContent}}),_vm._v(\" \"),_c('script',{attrs:{\"id\":_vm.id,\"type\":\"text/plain\"}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4e55a1bc\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/NEditor.vue\n// module id = null\n// module chunks = ","<template draggable=\"false\" ondragstart=\"javascript: return false;\">\n  <div draggable=\"false\" ondragstart=\"javascript: return false;\">\n    <div v-if=\"type === 'edit'\">\n      <NEditor :config=\"ueditorConfig\" id=\"fe-ueditor\" ref=\"ueditor\" @save=\"saveUEContent\"></NEditor>\n    </div>\n    <div v-else>\n      <FormEditor/>\n      <ContentMenu/>\n    </div>\n  </div>\n</template>\n\n<script>\nimport FormEditor from './components/FormEditor'\nimport ContentMenu from './components/ContentMenu'\nimport NEditor from './components/NEditor'\n\nexport default {\n  name: 'app',\n  components: {\n    FormEditor,\n    ContentMenu,\n    NEditor\n  },\n  computed: {\n    type () {\n      return this.$store.state.cache.type\n    },\n    ueditorConfig () {\n      return this.$store.state.config.ueditorConfig\n    }\n  },\n  data: function () {\n    return {\n    }\n  },\n  methods: {\n    saveUEContent () {\n      console.log('saveUEContent')\n      let source = this.$refs['ueditor'].getUEContent()\n      this.endUEdit({source})\n    }\n  }\n}\n</script>\n\n<style>\n  #app {\n    font-family: 'Avenir', Helvetica, Arial, sans-serif;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    color: #2c3e50;\n    width: 100%;\n  }\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/Editor.vue","var normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./NEditor.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./NEditor.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4e55a1bc\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./NEditor.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/NEditor.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"draggable\":\"false\",\"ondragstart\":\"javascript: return false;\"}},[(_vm.type === 'edit')?_c('div',[_c('NEditor',{ref:\"ueditor\",attrs:{\"config\":_vm.ueditorConfig,\"id\":\"fe-ueditor\"},on:{\"save\":_vm.saveUEContent}})],1):_c('div',[_c('FormEditor'),_vm._v(\" \"),_c('ContentMenu')],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5fedf00e\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/Editor.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5fedf00e\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./Editor.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./Editor.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./Editor.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5fedf00e\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./Editor.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/Editor.vue\n// module id = null\n// module chunks = ","import Vue from 'vue'\nimport Vuex from 'vuex'\n\nVue.use(Vuex)\n\nconst state = {\n  config: { // 一些配置项\n    defaultColWidth: 72,\n    defaultRowHeight: 20,\n    predefinedColors: ['#000000', '#FFFFFF', '#FF0000', '#FFC000', '#FFFF00', '#92D050', '#00B0F0', '#0070C0', '#002060', '#7030A0'],\n    borderDefaultColor: '#dddddd',\n    borderDefaultStyle: 'solid',\n    borderDefaultWidth: '1',\n    borderDefault: 'solid 1px #dddddd',\n    selectedBorderDefaultColor: '#000000',\n    selectedBorderDefaultStyle: 'solid',\n    selectedBorderDefaultWidth: '2',\n    selectedBorderDefault: 'solid 2px #000000',\n    selectedCellBackground: '#EAECF5',\n    editInCell: false,\n    ueditorConfig: {\n      customtoolbar: true,\n      initialFrameWidth: null,\n      initialFrameHeight: null,\n      wordCount: false, // 关闭字数统计\n      elementPathEnabled: false, // 关闭elementPath\n      toolbars: [[\n        'fullscreen', '|', 'bold', 'italic', 'underline', '|', 'forecolor', 'insertunorderedlist', '|',\n        'fontfamily', 'fontsize', '|', 'preview', 'insertframe', '|', 'controlinput'\n      ]],\n      labelMap: {\n        'controlinput': '插入文本框'\n      },\n      'fontfamily': [\n        {label: '', name: 'songti', val: '宋体,SimSun'},\n        {label: '', name: 'kaiti', val: '楷体,楷体_GB2312, SimKai'},\n        {label: '', name: 'yahei', val: '微软雅黑,Microsoft YaHei'},\n        {label: '', name: 'heiti', val: '黑体, SimHei'},\n        {label: '', name: 'lishu', val: '隶书, SimLi'},\n        {label: '', name: 'arial', val: 'arial, helvetica,sans-serif'}\n      ],\n      'fontsize': [10, 11, 12, 14, 16, 18, 20, 24, 36, 72],\n      enableContextMenu: false,\n      theme: 'notadd',\n      zIndex: 110000\n    }\n  },\n  cache: {\n    type: '', // select:选择单元格模式 | resize_col:调整列宽模式 | resize_row:调整行高模式 | edit-cell:单元格编辑模式\n    select: {\n      beginCell: {\n        row: undefined,\n        col: undefined\n      },\n      endCell: {\n        row: undefined,\n        col: undefined\n      },\n      selectedArea: {\n        begin: {\n          row: undefined,\n          col: undefined\n        },\n        end: {\n          row: undefined,\n          col: undefined\n        }\n      }\n    },\n    resizeCol: {\n      targetCol: undefined,\n      initWidth: undefined,\n      begin: {\n        x: undefined,\n        y: undefined\n      },\n      end: {\n        x: undefined,\n        y: undefined\n      }\n    },\n    resizeRow: {\n      targetRow: undefined,\n      initHeight: undefined,\n      begin: {\n        x: undefined,\n        y: undefined\n      },\n      end: {\n        x: undefined,\n        y: undefined\n      }\n    },\n    editCell: {\n      row: undefined,\n      col: undefined\n    },\n    uedit: {\n      row: undefined,\n      col: undefined,\n      content: ''\n    }\n  },\n  rowNum: 32,\n  rows: [{}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}],\n  colNum: 26,\n  cols: [{}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}],\n  selectedColIndexList: [],\n  cells: [[], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], []],\n  contextMenu: {\n    width: 150,\n    e: {\n      offsetX: 500,\n      offsetY: 280\n    },\n    menuItemList: [\n    ]\n  },\n  editor: null\n}\n\nconst mutations = {\n  CLEAR_SELECT_AREA (state) {\n    state.selectedColIndexList = []\n  },\n  PUSH_SELECTED_COL_INDEX (state, colIndex) {\n    state.selectedColIndexList.push(colIndex)\n  },\n  SET_CACHE_TYPE (state, type) {\n    state.cache.type = type\n  },\n  SET_CACHE_SELECTED_AREA_BEGIN (state, {row, col}) {\n    state.cache.select.selectedArea.begin.row = row\n    state.cache.select.selectedArea.begin.col = col\n  },\n  SET_CACHE_SELECT_BEGIN_SELECT_CELL (state, {row, col}) {\n    // state.cache.select.beginCell.row = row\n    // state.cache.select.beginCell.col = col\n    // if (state.cache.select.beginCell.row === undefined || state.cache.select.beginCell.col === undefined) {\n    state.cache.select.beginCell.row = row\n    state.cache.select.beginCell.col = col\n    // } else {\n    //   console.log(Math.min(row, state.cache.select.beginCell.row))\n    //   state.cache.select.beginCell.row = Math.min(row, state.cache.select.beginCell.row) || undefined\n    //   state.cache.select.beginCell.col = Math.min(col, state.cache.select.beginCell.col) || undefined\n    // }\n  },\n  CLEAR_CACHE_SELECT_BEGIN_SELECT_CELL (state) {\n    state.cache.select.beginCell.row = undefined\n    state.cache.select.beginCell.col = undefined\n  },\n  SET_CACHE_SELECT_SELECTED_AREA_END (state, {row, col}) {\n    state.cache.select.selectedArea.end.row = row\n    state.cache.select.selectedArea.end.col = col\n  },\n  SET_CACHE_SELECT_END_SELECT_CELL (state, {row, col}) {\n    state.cache.select.endCell.row = row\n    state.cache.select.endCell.col = col\n\n    state.cache.select.selectedArea.begin.row = Math.min(state.cache.select.beginCell.row, state.cache.select.endCell.row)\n    state.cache.select.selectedArea.begin.col = Math.min(state.cache.select.beginCell.col, state.cache.select.endCell.col)\n\n    state.cache.select.selectedArea.end.row = Math.max(state.cache.select.beginCell.row, state.cache.select.endCell.row)\n    state.cache.select.selectedArea.end.col = Math.max(state.cache.select.beginCell.col, state.cache.select.endCell.col)\n  },\n  SET_CELLS_SELECTED (state) {\n    for (let i = 0; i <= state.rowNum; i++) {\n      for (let j = 0; j <= state.rowNum; j++) {\n        if (i >= state.cache.select.selectedArea.begin.row && i <= state.cache.select.selectedArea.end.row &&\n          j >= state.cache.select.selectedArea.begin.col && j <= state.cache.select.selectedArea.end.col) {\n          if (!state.cells[i][j]) {\n            Vue.set(state.cells[i], j, {})\n          }\n          if (state.cells[i][j].selected === undefined || state.cells[i][j].selected === false) {\n            Vue.set(state.cells[i][j], 'selected', true)\n          }\n          if (i === state.cache.select.selectedArea.begin.row) {\n            if (state.cells[i][j].selected_is_top === undefined || state.cells[i][j].selected_is_top === false) {\n              Vue.set(state.cells[i][j], 'selected_is_top', true)\n            }\n          } else {\n            if (state.cells[i][j].selected_is_top === true) {\n              Vue.set(state.cells[i][j], 'selected_is_top', false)\n            }\n          }\n          if (i === state.cache.select.selectedArea.end.row || state.cells[i][j].row_end === state.cache.select.selectedArea.end.row) {\n            if (state.cells[i][j].selected_is_bottom === undefined || state.cells[i][j].selected_is_bottom === false) {\n              Vue.set(state.cells[i][j], 'selected_is_bottom', true)\n            }\n          } else {\n            if (state.cells[i][j].selected_is_bottom === true) {\n              Vue.set(state.cells[i][j], 'selected_is_bottom', false)\n            }\n          }\n          if (j === state.cache.select.selectedArea.begin.col) {\n            if (state.cells[i][j].selected_is_left === undefined || state.cells[i][j].selected_is_left === false) {\n              Vue.set(state.cells[i][j], 'selected_is_left', true)\n            }\n          } else {\n            if (state.cells[i][j].selected_is_left === true) {\n              Vue.set(state.cells[i][j], 'selected_is_left', false)\n            }\n          }\n          if (j === state.cache.select.selectedArea.end.col || state.cells[i][j].col_end === state.cache.select.selectedArea.end.col) {\n            if (state.cells[i][j].selected_is_right === undefined || state.cells[i][j].selected_is_right === false) {\n              Vue.set(state.cells[i][j], 'selected_is_right', true)\n            }\n          } else {\n            if (state.cells[i][j].selected_is_right === true) {\n              Vue.set(state.cells[i][j], 'selected_is_right', false)\n            }\n          }\n        } else {\n          if (state.cells[i][j]) {\n            if (state.cells[i][j].selected === true) {\n              Vue.set(state.cells[i][j], 'selected', false)\n            }\n            if (state.cells[i][j].selected_is_top === true) {\n              Vue.set(state.cells[i][j], 'selected_is_top', false)\n            }\n            if (state.cells[i][j].selected_is_bottom === true) {\n              Vue.set(state.cells[i][j], 'selected_is_bottom', false)\n            }\n            if (state.cells[i][j].selected_is_left === true) {\n              Vue.set(state.cells[i][j], 'selected_is_left', false)\n            }\n            if (state.cells[i][j].selected_is_right === true) {\n              Vue.set(state.cells[i][j], 'selected_is_right', false)\n            }\n          }\n        }\n      }\n    }\n  },\n  SET_CACHE_SELECT_SELECTED_AREA (state, {row, col}) {\n    state.cache.select.selectedArea.begin.row = Math.min(state.cache.select.selectedArea.begin.row, row)\n    state.cache.select.selectedArea.begin.col = Math.min(state.cache.select.selectedArea.begin.col, col)\n    state.cache.select.selectedArea.end.row = Math.max(state.cache.select.selectedArea.end.row, row)\n    state.cache.select.selectedArea.end.col = Math.max(state.cache.select.selectedArea.end.col, col)\n  },\n  CLEAR_CACHE_SELECT_END_SELECT_CELL (state) {\n    state.cache.select.endCell.row = undefined\n    state.cache.select.endCell.col = undefined\n  },\n  SET_CELL_PROPERTIES (state, {row, col, properties}) {\n    if (!state.cells[row][col]) {\n      state.cells[row][col] = {}\n      Vue.set(state.cells[row], col, {})\n    }\n    for (let key in properties) {\n      Vue.set(state.cells[row][col], key, properties[key])\n    }\n  },\n  REMOVE_CELL_PROPERTIES (state, {row, col, key}) {\n    Vue.delete(state.cells[row][col], key)\n  },\n  INIT_CELL_PROPERTIES (state, {row, col}) {\n    Vue.set(state.cells[row], col, undefined)\n  },\n  SET_CACHE_RESIZECOL_TARGETCOL (state, col) {\n    state.cache.resizeCol.targetCol = col\n  },\n  CLEAR_CACHE_RESIZECOL_TARGETCOL (state) {\n    state.cache.resizeCol.targetCol = undefined\n  },\n  SET_CACHE_RESIZECOL_INITWIDTH (state, width) {\n    state.cache.resizeCol.initWidth = width\n  },\n  CLEAR_CACHE_RESIZECOL_INITWIDTH (state) {\n    state.cache.resizeCol.initWidth = undefined\n  },\n  SET_CACHE_RESIZECOL_BEGIN (state, {x, y}) {\n    state.cache.resizeCol.begin.x = x\n    state.cache.resizeCol.begin.y = y\n  },\n  CLEAR_CACHE_RESIZECOL_BEGIN (state) {\n    state.cache.resizeCol.begin.x = undefined\n    state.cache.resizeCol.begin.y = undefined\n  },\n  SET_CACHE_RESIZECOL_END (state, {x, y}) {\n    state.cache.resizeCol.end.x = x\n    state.cache.resizeCol.end.y = y\n  },\n  CLEAR_CACHE_RESIZECOL_END (state) {\n    state.cache.resizeCol.end.x = undefined\n    state.cache.resizeCol.end.y = undefined\n  },\n  SET_COL_WIDTH (state) {\n    if (state.cache.type === 'resize-col') {\n      let targetCol = state.cache.resizeCol.targetCol\n      if (targetCol >= 1) {\n        let colWidth = (state.cache.resizeCol.initWidth || state.config.defaultColWidth) + state.cache.resizeCol.end.x - state.cache.resizeCol.begin.x\n        if (colWidth < 0) {\n          Vue.set(state.cols[targetCol], 'width', 3)\n        } else {\n          Vue.set(state.cols[targetCol], 'width', colWidth)\n        }\n      }\n    }\n  },\n  /**\n   *\n   * @param state\n   * @param row\n   * @constructor\n   */\n  SET_CACHE_RESIZEROW_TARGETROW (state, row) {\n    state.cache.resizeRow.targetRow = row\n  },\n  CLEAR_CACHE_RESIZEROW_TARGETROW (state) {\n    state.cache.resizeRow.targetRow = undefined\n  },\n  SET_CACHE_RESIZEROW_INITHEIGHT (state, height) {\n    state.cache.resizeRow.initHeight = height\n  },\n  CLEAR_CACHE_RESIZEROW_INITHEIGHT (state) {\n    state.cache.resizeRow.initHeight = undefined\n  },\n  SET_CACHE_RESIZEROW_BEGIN (state, {x, y}) {\n    state.cache.resizeRow.begin.x = x\n    state.cache.resizeRow.begin.y = y\n  },\n  CLEAR_CACHE_RESIZEROW_BEGIN (state) {\n    state.cache.resizeRow.begin.x = undefined\n    state.cache.resizeRow.begin.y = undefined\n  },\n  SET_CACHE_RESIZEROW_END (state, {x, y}) {\n    state.cache.resizeRow.end.x = x\n    state.cache.resizeRow.end.y = y\n  },\n  CLEAR_CACHE_RESIZEROW_END (state) {\n    state.cache.resizeRow.end.x = undefined\n    state.cache.resizeRow.end.y = undefined\n  },\n  SET_ROW_HEIGHT (state) {\n    if (state.cache.type === 'resize-row') {\n      let targetRow = state.cache.resizeRow.targetRow\n      if (targetRow >= 1) {\n        let rowHeight = (state.cache.resizeRow.initHeight || state.config.defaultRowHeight) + state.cache.resizeRow.end.y - state.cache.resizeRow.begin.y\n        if (rowHeight < 0) {\n          Vue.set(state.rows[targetRow], 'height', 3)\n        } else {\n          Vue.set(state.rows[targetRow], 'height', rowHeight)\n        }\n      }\n    }\n  },\n  SET_CACHE_EDITCELL_TARGETCELL (state, {row, col}) {\n    state.cache.editCell.row = row\n    state.cache.editCell.col = col\n  },\n  CLEAR_CACHE_EDITCELL_TARGETCELL (state, {row, col}) {\n    state.cache.editCell.row = undefined\n    state.cache.editCell.col = undefined\n  },\n  INSERT_COL (state, col) {\n    state.cols.splice(col + 1, 0, {})\n    for (let i = 1; i < state.rowNum; i++) {\n      let hidden = state.cells[i][col + 1] && state.cells[i][col + 1].hidden\n      if (hidden) {\n        state.cells[i].splice(col + 1, 0, {hidden})\n      } else {\n        state.cells[i].splice(col + 1, 0, {})\n      }\n    }\n    for (let i = 0; i <= state.rowNum; i++) {\n      // if (i === 3) {\n      //   debugger\n      // }\n      for (let j = 0; j <= state.colNum; j++) {\n        let cell = state.cells[i][j]\n        if (cell && !cell.hidden && (cell.colspan && cell.colspan > 1) && col >= j && col < cell.col_end) {\n          cell.colspan = cell.colspan + 1\n          cell.col_end = cell.col_end + 1\n        }\n      }\n    }\n    state.colNum = state.colNum + 1\n  },\n  DELETE_COL (state, col) {\n    state.cols.splice(col, 1)\n    for (let i = 1; i < state.rowNum; i++) {\n      let cell = state.cells[i][col]\n\n      // 跨列，首个单元格\n      if (cell && cell.colspan > 1 && !cell.hidden) {\n        do {\n          state.cells[i][col + 1].hidden = false\n          cell.colspan = cell.colspan - 1\n        } while (cell.colspan > 1)\n      }\n\n      // 跨列，中间、末尾单元格 根据row_parent、col_parent判断\n      if (cell.hidden === true && state.cells[state.cells[i][col].row_parent][state.cells[i][col].col_parent].row_end === i) {\n        // let targetCol = col - 1\n        // do {\n        //   if (state.cells[i][targetCol] && !state.cells[i][targetCol].hidden) {\n        //     state.cells[i][targetCol].colspan = state.cells[i][targetCol].colspan - 1\n        //     state.cells[i][targetCol].col_end = state.cells[i][targetCol].col_end - 1\n        //   }\n        //   targetCol--\n        // } while (targetCol >= 1)\n        let parentCell = state.cells[state.cells[i][col].row_parent][state.cells[i][col].col_parent]\n        parentCell.colspan = parentCell.colspan - 1\n        parentCell.col_end = parentCell.col_end - 1\n      }\n\n      state.cells[i].splice(col, 1)\n    }\n    state.colNum = state.colNum - 1\n  },\n  INSERT_ROW (state, row) {\n    state.rows.splice(row + 1, 0, {})\n    state.cells.splice(row + 1, 0, [])\n    state.rowNum = state.rowNum + 1\n    for (let j = 1; j < state.colNum; j++) {\n      let hidden = state.cells[row + 2][j] && state.cells[row + 2][j].hidden\n      if (hidden) {\n        if (!state.cells[row + 1][j]) {\n          Vue.set(state.cells[row + 1], j, {})\n        }\n        Vue.set(state.cells[row + 1][j], 'hidden', true)\n      } else {\n        if (!state.cells[row + 1][j]) {\n          Vue.set(state.cells[row + 1], j, {})\n        }\n      }\n    }\n    for (let i = 0; i <= state.rowNum; i++) {\n      for (let j = 0; j <= state.colNum; j++) {\n        let cell = state.cells[i][j]\n        if (cell && !cell.hidden && (cell.rowspan && cell.rowspan > 1) && row >= i && row < cell.row_end) {\n          cell.rowspan = cell.rowspan + 1\n          cell.row_end = cell.row_end + 1\n        }\n      }\n    }\n  },\n  DELETE_ROW (state, row) {\n    state.rows.splice(row, 1)\n    for (let j = 1; j < state.colNum; j++) {\n      let cell = state.cells[row][j]\n\n      // 跨行，首个单元格\n      if (cell && cell.rowspan > 1 && !cell.hidden) {\n        do {\n          state.cells[row + 1][j].hidden = false\n          cell.rowspan = cell.rowspan - 1\n        } while (cell.rowspan > 1)\n      }\n\n      // 跨行，中间、末尾单元格\n      if (cell.hidden === true && state.cells[state.cells[row][j].row_parent][state.cells[row][j].col_parent].col_end === j) {\n        // let targetCol = col - 1\n        // do {\n        //   if (state.cells[i][targetCol] && !state.cells[i][targetCol].hidden) {\n        //     state.cells[i][targetCol].colspan = state.cells[i][targetCol].colspan - 1\n        //     state.cells[i][targetCol].col_end = state.cells[i][targetCol].col_end - 1\n        //   }\n        //   targetCol--\n        // } while (targetCol >= 1)\n        let parentCell = state.cells[state.cells[row][j].row_parent][state.cells[row][j].col_parent]\n        parentCell.rowspan = parentCell.rowspan - 1\n        parentCell.row_end = parentCell.row_end - 1\n      }\n    }\n    state.cells.splice(row, 1)\n    state.rowNum = state.rowNum - 1\n  },\n  SET_CACHE_UEDIT (state, {key, value}) {\n    state.cache.uedit[key] = value\n  }\n}\n\nconst actions = {\n  selectCol ({state, dispatch, commit}, col) {\n    commit('SET_CACHE_SELECT_BEGIN_SELECT_CELL', {row: 1, col: col})\n    commit('SET_CACHE_SELECT_END_SELECT_CELL', {row: state.rowNum, col: col})\n    commit('SET_CELLS_SELECTED')\n  },\n  selectRow ({state, dispatch, commit}, row) {\n    commit('SET_CACHE_SELECT_BEGIN_SELECT_CELL', {row: row, col: 1})\n    commit('SET_CACHE_SELECT_END_SELECT_CELL', {row: row, col: state.colNum})\n    commit('SET_CELLS_SELECTED')\n  },\n  selectTable ({state, dispatch, commit}) {\n    commit('SET_CACHE_SELECT_BEGIN_SELECT_CELL', {row: 1, col: 1})\n    commit('SET_CACHE_SELECT_END_SELECT_CELL', {row: state.rowNum, col: state.colNum})\n    commit('SET_CELLS_SELECTED')\n  },\n  beginSelectCell ({state, dispatch, commit}, {event, row, col}) {\n    console.log('beginSelectCell')\n    console.time('beginSelectCell')\n    if (state.cache.type !== '' && state.cache.type !== 'edit-cell') {\n      return\n    }\n    // commit('CLEAR_CACHE_SELECT_BEGIN_SELECT_CELL')\n    commit('SET_CACHE_SELECT_BEGIN_SELECT_CELL', {row, col})\n    commit('SET_CACHE_SELECT_END_SELECT_CELL', {row, col})\n    commit('SET_CELLS_SELECTED')\n    commit('SET_CACHE_TYPE', 'select')\n    console.timeEnd('beginSelectCell')\n    // commit('SET_CELL_PROPERTIES', {\n    //   row,\n    //   col,\n    //   properties: {\n    //     contenteditable: false\n    //   }\n    // })\n    // commit('SET_CACHE_SELECTED_AREA_BEGIN', {row, col})\n  },\n  endSelectCell ({state, dispatch, commit}, {event, row, col}) {\n    console.log('endSelectCell')\n    commit('SET_CACHE_TYPE', '')\n  },\n  mergeSelectedCells ({state, dispatch, commit}) {\n  },\n  doDragSelect ({state, dispatch, commit}, {event, row, col, stateStr}) {\n    let newRow\n    let newCol\n    for (let i = 1; i <= state.rowNum; i++) {\n      for (let j = 1; j <= state.colNum; j++) {\n        let cell = state.cells[i][j]\n        if (cell && cell.row_end && cell.col_end) {\n          let cross = false\n          // 单元格在是否选择范围内\n          for (let m = i; m <= i + cell.rowspan - 1; m++) {\n            for (let n = j; n <= j + cell.colspan - 1; n++) {\n              if (m >= state.cache.select.selectedArea.begin.row && m <= state.cache.select.selectedArea.end.row && n >= state.cache.select.selectedArea.begin.col && n <= state.cache.select.selectedArea.end.col) {\n                cross = true\n                break\n              }\n            }\n          }\n\n          if (cross) {\n            newRow = i\n            newCol = j\n            commit('SET_CACHE_SELECT_SELECTED_AREA', {\n              row: i,\n              col: j\n            })\n            commit('SET_CACHE_SELECT_SELECTED_AREA', {\n              row: cell.row_end,\n              col: cell.col_end\n            })\n          }\n        }\n      }\n    }\n    commit('SET_CELLS_SELECTED')\n\n    let endStateStr = JSON.stringify({\n      begin: {row: state.cache.select.selectedArea.begin.row, col: state.cache.select.selectedArea.begin.col},\n      end: {row: state.cache.select.selectedArea.end.row, col: state.cache.select.selectedArea.end.col}\n    })\n\n    if (endStateStr === stateStr) {\n      return stateStr\n    } else {\n      return dispatch('doDragSelect', {event, row: newRow, col: newCol, stateStr: endStateStr})\n    }\n  },\n  dragSelect ({state, dispatch, commit}, {event, row, col, stateStr}) {\n    console.log('dragSelect')\n    if (state.cache.type !== 'select') {\n      return\n    }\n\n    commit('SET_CACHE_SELECT_END_SELECT_CELL', {row, col})\n    dispatch('doDragSelect', {event, row, col, stateStr: null})\n  },\n  exitSelectMode ({state, commit}) {\n    commit('SET_CACHE_TYPE', '')\n  },\n  mergeCells ({state, commit}, vue) {\n    if (\n      state.cache.select.selectedArea.begin.row &&\n      state.cache.select.selectedArea.begin.col &&\n      state.cache.select.selectedArea.end.row &&\n      state.cache.select.selectedArea.end.col\n    ) {\n      // 设置首个单元格rowspan、colspan以及selected属性\n      commit('SET_CELL_PROPERTIES', {\n        row: state.cache.select.selectedArea.begin.row,\n        col: state.cache.select.selectedArea.begin.col,\n        properties: {\n          rowspan: state.cache.select.selectedArea.end.row - state.cache.select.selectedArea.begin.row + 1,\n          colspan: state.cache.select.selectedArea.end.col - state.cache.select.selectedArea.begin.col + 1,\n          row_end: state.cache.select.selectedArea.begin.row + state.cache.select.selectedArea.end.row - state.cache.select.selectedArea.begin.row,\n          col_end: state.cache.select.selectedArea.begin.col + state.cache.select.selectedArea.end.col - state.cache.select.selectedArea.begin.col,\n          selected: true,\n          selected_is_top: true,\n          selected_is_bottom: true,\n          selected_is_left: true,\n          selected_is_right: true\n        }\n      })\n      // 隐藏被合并单元格，同时将内容（content字段）设置成undefined\n      for (let i = state.cache.select.selectedArea.begin.row; i <= state.cache.select.selectedArea.end.row; i++) {\n        for (let j = state.cache.select.selectedArea.begin.col; j <= state.cache.select.selectedArea.end.col; j++) {\n          if (i === state.cache.select.selectedArea.begin.row && j === state.cache.select.selectedArea.begin.col) {\n            continue\n          }\n          commit('SET_CELL_PROPERTIES', {\n            row: i,\n            col: j,\n            properties: {\n              hidden: true,\n              content: undefined,\n              row_parent: state.cache.select.selectedArea.begin.row,\n              col_parent: state.cache.select.selectedArea.begin.col,\n              rowspan: 1,\n              colspan: 1\n            }\n          })\n        }\n      }\n    }\n  },\n  splitCells ({state, commit}) {\n    if (\n      state.cache.select.selectedArea.begin.row &&\n      state.cache.select.selectedArea.begin.col &&\n      state.cache.select.selectedArea.end.row &&\n      state.cache.select.selectedArea.end.col\n    ) {\n      // 设置首个单元格rowspan、colspan\n\n      let row = state.cache.select.selectedArea.begin.row\n      let col = state.cache.select.selectedArea.begin.col\n\n      commit('SET_CACHE_SELECT_SELECTED_AREA', {\n        row: row + (state.cells[row][col].rowspan || 1) - 1,\n        col: col + (state.cells[row][col].colspan || 1) - 1\n      })\n\n      // REMOVE_CELL_PROPERTIES\n      commit('REMOVE_CELL_PROPERTIES', {\n        row: row,\n        col: col,\n        key: 'rowspan'\n      })\n      commit('REMOVE_CELL_PROPERTIES', {\n        row: row,\n        col: col,\n        key: 'colspan'\n      })\n      commit('REMOVE_CELL_PROPERTIES', {\n        row: row,\n        col: col,\n        key: 'row_end'\n      })\n      commit('REMOVE_CELL_PROPERTIES', {\n        row: row,\n        col: col,\n        key: 'col_end'\n      })\n      commit('SET_CELL_PROPERTIES', {\n        row: row,\n        col: col,\n        properties: {\n          selected: true,\n          selected_is_top: true,\n          selected_is_bottom: false,\n          selected_is_left: true,\n          selected_is_right: false\n        }\n      })\n\n      // 显示被合并单元格\n      for (let i = state.cache.select.selectedArea.begin.row; i <= state.cache.select.selectedArea.end.row; i++) {\n        for (let j = state.cache.select.selectedArea.begin.col; j <= state.cache.select.selectedArea.end.col; j++) {\n          if (i === state.cache.select.selectedArea.begin.row && j === state.cache.select.selectedArea.begin.col) {\n            continue\n          }\n\n          commit('INIT_CELL_PROPERTIES', {row: i, col: j})\n          commit('SET_CELL_PROPERTIES', {\n            row: i,\n            col: j,\n            properties: {\n              selected: true,\n              selected_is_top: i === state.cache.select.selectedArea.begin.row,\n              selected_is_bottom: i === state.cache.select.selectedArea.end.row,\n              selected_is_left: j === state.cache.select.selectedArea.begin.col,\n              selected_is_right: j === state.cache.select.selectedArea.end.col\n            }\n          })\n        }\n      }\n    }\n  },\n  setCellsTextAlign ({state, commit}, {align}) {\n    if (\n      state.cache.select.selectedArea.begin.row &&\n      state.cache.select.selectedArea.begin.col &&\n      state.cache.select.selectedArea.end.row &&\n      state.cache.select.selectedArea.end.col\n    ) {\n      for (let i = state.cache.select.selectedArea.begin.row; i <= state.cache.select.selectedArea.end.row; i++) {\n        for (let j = state.cache.select.selectedArea.begin.col; j <= state.cache.select.selectedArea.end.col; j++) {\n          commit('SET_CELL_PROPERTIES', {row: i, col: j, properties: {textAlign: align}})\n        }\n      }\n    }\n  },\n  setCellsBackground ({state, commit}, background) {\n    if (\n      state.cache.select.selectedArea.begin.row &&\n      state.cache.select.selectedArea.begin.col &&\n      state.cache.select.selectedArea.end.row &&\n      state.cache.select.selectedArea.end.col\n    ) {\n      for (let i = state.cache.select.selectedArea.begin.row; i <= state.cache.select.selectedArea.end.row; i++) {\n        for (let j = state.cache.select.selectedArea.begin.col; j <= state.cache.select.selectedArea.end.col; j++) {\n          commit('SET_CELL_PROPERTIES', {row: i, col: j, properties: {background: background}})\n        }\n      }\n    }\n  },\n  beginEditCell ({state, commit, dispatch}, {row, col}) {\n    console.log('beginEditCell')\n    if (state.config.editInCell) {\n      if (state.cache.type === 'edit-cell') {\n        dispatch('endEditCell')\n      }\n      document.querySelector('#editor_' + row + '_' + col).style.display = 'block'\n      // eslint-disable-next-line\n      this.editor = UE.getEditor('editor_' + row + '_' + col, state.config.ueditorConfig)\n      commit('SET_CACHE_TYPE', 'edit-cell')\n      commit('SET_CELL_PROPERTIES', {\n        row,\n        col,\n        properties: {\n          contenteditable: true\n        }\n      })\n      commit('SET_CACHE_EDITCELL_TARGETCELL', {row, col})\n      setTimeout(function () {\n        document.querySelector('#td_content_' + row + '_' + col).classList.add('whole-size')\n        document.querySelector('#editor_' + row + '_' + col).classList.add('whole-size')\n        document.querySelector('#editor_' + row + '_' + col).style.width = '100%'\n        // eslint-disable-next-line\n        UE.getEditor('editor_' + row + '_' + col).focus()\n      }, 100)\n    } else {\n      dispatch('beginUEdit')\n      // commit('SET_CACHE_TYPE', 'edit-cell')\n      // commit('SET_CELL_PROPERTIES', {\n      //   row,\n      //   col,\n      //   properties: {\n      //     contenteditable: true\n      //   }\n      // })\n      // commit('SET_CACHE_EDITCELL_TARGETCELL', {row, col})\n      // setTimeout(function () {\n      //   document.querySelector('#td_content_' + row + '_' + col).focus()\n      //   document.querySelector('#td_content_' + row + '_' + col).style.cursor = 'text'\n      // }, 0)\n    }\n  },\n  endEditCell ({state, commit}) {\n    console.log('endEditCell')\n    let row = state.cache.editCell.row\n    let col = state.cache.editCell.col\n    if (state.config.editInCell) {\n      // eslint-disable-next-line\n      let content = UE.getEditor('editor_' + row + '_' + col).getContent()\n      // eslint-disable-next-line\n      UE.getEditor('editor_' + row + '_' + col).destroy();\n      commit('SET_CELL_PROPERTIES', {\n        row,\n        col,\n        properties: {\n          content: content,\n          contenteditable: false\n        }\n      })\n      commit('CLEAR_CACHE_EDITCELL_TARGETCELL', {row, col})\n      document.querySelector('#td_content_' + row + '_' + col).style.cursor = null\n      commit('REMOVE_CELL_PROPERTIES', {row, col, key: 'contenteditable'})\n      commit('SET_CACHE_TYPE', '')\n      document.querySelector('#editor_' + row + '_' + col).style.display = 'none'\n    } else {\n      commit('SET_CELL_PROPERTIES', {\n        row,\n        col,\n        properties: {\n          content: document.querySelector('#td_content_' + row + '_' + col).innerHTML,\n          contenteditable: false\n        }\n      })\n      commit('CLEAR_CACHE_EDITCELL_TARGETCELL', {row, col})\n      document.querySelector('#td_content_' + row + '_' + col).style.cursor = null\n      commit('REMOVE_CELL_PROPERTIES', {row, col, key: 'contenteditable'})\n      commit('SET_CACHE_TYPE', '')\n    }\n  },\n  /**\n   * 开始调整列宽\n   * @param state\n   * @param commit\n   * @param col\n   * @param beginLocation\n   */\n  beginResizeCol ({state, commit}, {col, beginLocation}) {\n    console.log('beginResizeCol')\n    if (state.cache.type !== '') {\n      return\n    }\n    commit('SET_CACHE_TYPE', 'resize-col')\n    commit('SET_CACHE_RESIZECOL_TARGETCOL', col)\n    commit('SET_CACHE_RESIZECOL_INITWIDTH', state.cols[col].width || state.config.defaultColWidth)\n    commit('SET_CACHE_RESIZECOL_BEGIN', {...beginLocation})\n  },\n  /**\n   * 调整列宽\n   * @param state\n   * @param commit\n   * @param location\n   */\n  dragResizeCol ({state, commit}, {location}) {\n    console.log('dragResizeCol')\n    if (state.cache.type !== 'resize-col') {\n      return\n    }\n    commit('SET_CACHE_RESIZECOL_END', {...location})\n    commit('SET_COL_WIDTH')\n  },\n  /**\n   * 结束调整列宽\n   * @param state\n   * @param commit\n   * @param location\n   */\n  endResizeCol ({state, commit}, {location}) {\n    console.log('endResizeCol')\n    if (state.cache.type !== 'resize-col') {\n      return\n    }\n    commit('SET_CACHE_RESIZECOL_END', {...location})\n    commit('SET_COL_WIDTH')\n    commit('SET_CACHE_TYPE', '')\n  },\n  /**\n   * 开始调整行高\n   * @param state\n   * @param commit\n   * @param row\n   * @param beginLocation\n   */\n  beginResizeRow ({state, commit}, {row, beginLocation}) {\n    console.log('beginResizeRow')\n    if (state.cache.type !== '') {\n      return\n    }\n    commit('SET_CACHE_TYPE', 'resize-row')\n    commit('SET_CACHE_RESIZEROW_TARGETROW', row)\n    commit('SET_CACHE_RESIZEROW_INITHEIGHT', state.rows[row].height || state.config.defaultRowHeight)\n    commit('SET_CACHE_RESIZEROW_BEGIN', {...beginLocation})\n  },\n  /**\n   * 调整列宽\n   * @param state\n   * @param commit\n   * @param location\n   */\n  dragResizeRow ({state, commit}, {location}) {\n    console.log('dragResizeRow')\n    if (state.cache.type !== 'resize-row') {\n      return\n    }\n    commit('SET_CACHE_RESIZEROW_END', {...location})\n    commit('SET_ROW_HEIGHT')\n  },\n  /**\n   * 结束调整列宽\n   * @param state\n   * @param commit\n   * @param location\n   */\n  endResizeRow ({state, commit}, {location}) {\n    console.log('endResizeRow')\n    if (state.cache.type !== 'resize-row') {\n      return\n    }\n    commit('SET_CACHE_RESIZEROW_END', {...location})\n    commit('SET_ROW_HEIGHT')\n    commit('SET_CACHE_TYPE', '')\n  },\n  setCellsBorder ({state, commit}, {borderTop, borderHorizon, borderBottom, borderLeft, borderVertical, borderRight}) {\n    console.log('setCellsBorder')\n    if (\n      state.cache.select.selectedArea.begin.row &&\n      state.cache.select.selectedArea.begin.col &&\n      state.cache.select.selectedArea.end.row &&\n      state.cache.select.selectedArea.end.col\n    ) {\n      // top\n      if (borderTop.width) {\n        for (let i = state.cache.select.selectedArea.begin.col; i <= state.cache.select.selectedArea.end.col; i++) {\n          if (state.cells[state.cache.select.selectedArea.begin.row][i] === undefined || state.cells[state.cache.select.selectedArea.begin.row][i].hidden !== true) {\n            commit('SET_CELL_PROPERTIES', {\n              row: state.cache.select.selectedArea.begin.row,\n              col: i,\n              properties: {\n                borderTopWidth: borderTop.width,\n                borderTopStyle: borderTop.style,\n                borderTopColor: borderTop.color,\n                borderTop: borderTop.width + 'px ' + borderTop.style + ' ' + borderTop.color,\n                border: true\n              }\n            })\n\n            if (state.cells[state.cache.select.selectedArea.begin.row - 1][i] === undefined || state.cells[state.cache.select.selectedArea.begin.row - 1][i].hidden !== true) {\n              commit('SET_CELL_PROPERTIES', {\n                row: state.cache.select.selectedArea.begin.row - 1,\n                col: i,\n                properties: {\n                  borderBottomWidth: borderTop.width,\n                  borderBottomStyle: borderTop.style,\n                  borderBottomColor: borderTop.color,\n                  borderBottom: borderTop.width + 'px ' + borderTop.style + ' ' + borderTop.color,\n                  border: true\n                }\n              })\n            }\n          }\n        }\n      }\n\n      // left\n      if (borderLeft.width) {\n        for (let i = state.cache.select.selectedArea.begin.row; i <= state.cache.select.selectedArea.end.row; i++) {\n          if (state.cells[i][state.cache.select.selectedArea.begin.col] === undefined || state.cells[i][state.cache.select.selectedArea.begin.col].hidden !== true) {\n            commit('SET_CELL_PROPERTIES', {\n              row: i,\n              col: state.cache.select.selectedArea.begin.col,\n              properties: {\n                borderLeftWidth: borderLeft.width,\n                borderLeftStyle: borderLeft.style,\n                borderLeftColor: borderLeft.color,\n                borderLeft: borderLeft.width + 'px ' + borderLeft.style + ' ' + borderLeft.color,\n                border: true\n              }\n            })\n\n            if (state.cells[i][state.cache.select.selectedArea.begin.col - 1] === undefined || state.cells[i][state.cache.select.selectedArea.begin.col - 1].hidden !== true) {\n              commit('SET_CELL_PROPERTIES', {\n                row: i,\n                col: state.cache.select.selectedArea.begin.col - 1,\n                properties: {\n                  borderRightWidth: borderLeft.width,\n                  borderRightStyle: borderLeft.style,\n                  borderRightColor: borderLeft.color,\n                  borderRight: borderLeft.width + 'px ' + borderLeft.style + ' ' + borderLeft.color,\n                  border: true\n                }\n              })\n            }\n          }\n        }\n      }\n\n      // bottom\n      if (borderBottom.width) {\n        for (let i = state.cache.select.selectedArea.begin.col; i <= state.cache.select.selectedArea.end.col; i++) {\n          if (state.cells[state.cache.select.selectedArea.end.row][i] === undefined || state.cells[state.cache.select.selectedArea.end.row][i].hidden !== true) {\n            commit('SET_CELL_PROPERTIES', {\n              row: state.cache.select.selectedArea.end.row,\n              col: i,\n              properties: {\n                borderBottomWidth: borderBottom.width,\n                borderBottomStyle: borderBottom.style,\n                borderBottomColor: borderBottom.color,\n                borderBottom: borderBottom.width + 'px ' + borderBottom.style + ' ' + borderBottom.color,\n                border: true\n              }\n            })\n\n            if (state.cells[state.cache.select.selectedArea.end.row + 1][i] === undefined || state.cells[state.cache.select.selectedArea.end.row + 1][i].hidden !== true) {\n              commit('SET_CELL_PROPERTIES', {\n                row: state.cache.select.selectedArea.end.row + 1,\n                col: i,\n                properties: {\n                  borderTopWidth: borderBottom.width,\n                  borderTopStyle: borderBottom.style,\n                  borderTopColor: borderBottom.color,\n                  borderTop: borderBottom.width + 'px ' + borderBottom.style + ' ' + borderBottom.color,\n                  border: true\n                }\n              })\n            }\n          }\n        }\n\n        for (let i = state.cache.select.selectedArea.begin.row; i < state.cache.select.selectedArea.end.row; i++) {\n          for (let j = state.cache.select.selectedArea.begin.col; j <= state.cache.select.selectedArea.end.row; j++) {\n            if (state.cells[i][j] && state.cells[i][j].hidden !== true && ((i + state.cells[i][j].rowspan - 1) === state.cache.select.selectedArea.end.row)) {\n              commit('SET_CELL_PROPERTIES', {\n                row: i,\n                col: j,\n                properties: {\n                  borderBottomWidth: borderBottom.width,\n                  borderBottomStyle: borderBottom.style,\n                  borderBottomColor: borderBottom.color,\n                  borderBottom: borderBottom.width + 'px ' + borderBottom.style + ' ' + borderBottom.color,\n                  border: true\n                }\n              })\n\n              if (state.cells[i + 1][i] === undefined || state.cells[i + 1][i].hidden !== true) {\n                commit('SET_CELL_PROPERTIES', {\n                  row: i + 1,\n                  col: j,\n                  properties: {\n                    borderTopWidth: borderBottom.width,\n                    borderTopStyle: borderBottom.style,\n                    borderTopColor: borderBottom.color,\n                    borderTop: borderBottom.width + 'px ' + borderBottom.style + ' ' + borderBottom.color,\n                    border: true\n                  }\n                })\n              }\n            }\n          }\n        }\n      }\n\n      // right\n      if (borderRight.width) {\n        for (let i = state.cache.select.selectedArea.begin.row; i <= state.cache.select.selectedArea.end.row; i++) {\n          if (state.cells[i][state.cache.select.selectedArea.end.col] === undefined || state.cells[i][state.cache.select.selectedArea.end.col].hidden !== true) {\n            commit('SET_CELL_PROPERTIES', {\n              row: i,\n              col: state.cache.select.selectedArea.end.col,\n              properties: {\n                borderRightWidth: borderRight.width,\n                borderRightStyle: borderRight.style,\n                borderRightColor: borderRight.color,\n                borderRight: borderRight.width + 'px ' + borderRight.style + ' ' + borderRight.color,\n                border: true\n              }\n            })\n\n            if (state.cells[i][state.cache.select.selectedArea.end.col + 1] === undefined || state.cells[i][state.cache.select.selectedArea.end.col + 1].hidden !== true) {\n              commit('SET_CELL_PROPERTIES', {\n                row: i,\n                col: state.cache.select.selectedArea.end.col + 1,\n                properties: {\n                  borderLeftWidth: borderRight.width,\n                  borderLeftStyle: borderRight.style,\n                  borderLeftColor: borderRight.color,\n                  borderLeft: borderRight.width + 'px ' + borderRight.style + ' ' + borderRight.color,\n                  border: true\n                }\n              })\n            }\n          }\n        }\n\n        for (let i = state.cache.select.selectedArea.begin.row; i <= state.cache.select.selectedArea.end.row; i++) {\n          for (let j = state.cache.select.selectedArea.begin.col; j < state.cache.select.selectedArea.end.row; j++) {\n            if (state.cells[i][j] && state.cells[i][j].hidden !== true && ((j + state.cells[i][j].colspan - 1) === state.cache.select.selectedArea.end.col)) {\n              commit('SET_CELL_PROPERTIES', {\n                row: i,\n                col: j,\n                properties: {\n                  borderRightWidth: borderRight.width,\n                  borderRightStyle: borderRight.style,\n                  borderRightColor: borderRight.color,\n                  borderRight: borderRight.width + 'px ' + borderRight.style + ' ' + borderRight.color,\n                  border: true\n                }\n              })\n\n              if (state.cells[i][j + 1] === undefined || state.cells[i][j + 1].hidden !== true) {\n                commit('SET_CELL_PROPERTIES', {\n                  row: i,\n                  col: j + 1,\n                  properties: {\n                    borderLeftWidth: borderRight.width,\n                    borderLeftStyle: borderRight.style,\n                    borderLeftColor: borderRight.color,\n                    borderLeft: borderRight.width + 'px ' + borderRight.style + ' ' + borderRight.color,\n                    border: true\n                  }\n                })\n              }\n            }\n          }\n        }\n      }\n\n      // vertical\n      if (borderVertical.width) {\n        for (let i = state.cache.select.selectedArea.begin.row; i <= state.cache.select.selectedArea.end.row; i++) {\n          for (let j = state.cache.select.selectedArea.begin.col; j < state.cache.select.selectedArea.end.col; j++) {\n            if (state.cells[i][j] === undefined || state.cells[i][j].hidden !== true) {\n              commit('SET_CELL_PROPERTIES', {\n                row: i,\n                col: j,\n                properties: {\n                  borderRightWidth: borderVertical.width,\n                  borderRightStyle: borderVertical.style,\n                  borderRightColor: borderVertical.color,\n                  borderRight: borderVertical.width + 'px ' + borderVertical.style + ' ' + borderVertical.color,\n                  border: true\n                }\n              })\n\n              if (state.cells[i][j + 1] === undefined || state.cells[i][j + 1].hidden !== true) {\n                commit('SET_CELL_PROPERTIES', {\n                  row: i,\n                  col: j + 1,\n                  properties: {\n                    borderLeftWidth: borderVertical.width,\n                    borderLeftStyle: borderVertical.style,\n                    borderLeftColor: borderVertical.color,\n                    borderLeft: borderVertical.width + 'px ' + borderVertical.style + ' ' + borderVertical.color,\n                    border: true\n                  }\n                })\n              }\n            }\n          }\n        }\n      }\n\n      // horizon\n      if (borderHorizon.width) {\n        for (let i = state.cache.select.selectedArea.begin.row; i < state.cache.select.selectedArea.end.row; i++) {\n          for (let j = state.cache.select.selectedArea.begin.col; j <= state.cache.select.selectedArea.end.col; j++) {\n            if (state.cells[i][j] === undefined || state.cells[i][j].hidden !== true) {\n              commit('SET_CELL_PROPERTIES', {\n                row: i,\n                col: j,\n                properties: {\n                  borderBottomWidth: borderHorizon.width,\n                  borderBottomStyle: borderHorizon.style,\n                  borderBottomColor: borderHorizon.color,\n                  borderBottom: borderHorizon.width + 'px ' + borderHorizon.style + ' ' + borderHorizon.color,\n                  border: true\n                }\n              })\n\n              if (state.cells[i + 1][j] === undefined || state.cells[i + 1][j].hidden !== true) {\n                commit('SET_CELL_PROPERTIES', {\n                  row: i + 1,\n                  col: j,\n                  properties: {\n                    borderTopWidth: borderHorizon.width,\n                    borderTopStyle: borderHorizon.style,\n                    borderTopColor: borderHorizon.color,\n                    borderTop: borderHorizon.width + 'px ' + borderHorizon.style + ' ' + borderHorizon.color,\n                    border: true\n                  }\n                })\n              }\n            }\n          }\n        }\n      }\n    }\n  },\n  showContentMenu ({state, dispatch}, param) {\n    state.contextMenu.e = param.e\n    state.contextMenu.width = param.width || 150\n\n    for (let i in param.menus) {\n      if (param.menus[i].disabled) {\n        param.menus[i].handler = function () { }\n      } else {\n        (function (tempFunc) {\n          param.menus[i].handler = function () {\n            tempFunc()\n            state.contextMenu.menuItemList = state.contextMenu.menuItemList.filter(() => false)\n          }\n        })(param.menus[i].handler)\n      }\n    }\n\n    state.contextMenu.menuItemList = state.contextMenu.menuItemList.filter(() => false).concat(param.menus)\n  },\n  hideContentMenu ({commit, state}, e) {\n    if (e.clientX < state.contextMenu.e.clientX ||\n      e.clientX > state.contextMenu.e.clientX + state.contextMenu.width - 5 ||\n      e.clientY < state.contextMenu.e.clientY ||\n      e.clientY > state.contextMenu.e.clientY + document.querySelector('.fe-content-menu').clientHeight - 5\n    ) {\n      state.contextMenu.menuItemList = state.contextMenu.menuItemList.filter(() => false)\n    }\n  },\n  insertCol ({state, commit}) {\n    let col = state.cache.select.selectedArea.end.col\n    commit('INSERT_COL', col)\n  },\n  deleteCol ({state, commit}) {\n    let col = state.cache.select.selectedArea.end.col\n    commit('DELETE_COL', col)\n  },\n  insertRow ({state, commit}) {\n    let row = state.cache.select.selectedArea.end.row\n    commit('INSERT_ROW', row)\n  },\n  deleteRow ({state, commit}) {\n    let row = state.cache.select.selectedArea.end.row\n    commit('DELETE_ROW', row)\n  },\n  beginUEdit ({state, commit}) {\n    commit('SET_CACHE_TYPE', 'edit')\n    let row = state.cache.select.beginCell.row\n    let col = state.cache.select.beginCell.col\n    commit('SET_CACHE_UEDIT', {key: 'row', value: row})\n    commit('SET_CACHE_UEDIT', {key: 'col', value: col})\n    let content = !state.cells[row][col] ? '' : state.cells[row][col].content\n    commit('SET_CACHE_UEDIT', {key: 'content', value: content})\n  },\n  cancelUEdit ({state, commit}) {\n    commit('SET_CACHE_TYPE', '')\n    commit('SET_CACHE_UEDIT', {key: 'row', value: undefined})\n    commit('SET_CACHE_UEDIT', {key: 'col', value: undefined})\n    commit('SET_CACHE_UEDIT', {key: 'content', value: ''})\n  },\n  endUEdit ({state, commit}, {source}) {\n    console.log('endUEdit')\n    let row = state.cache.uedit.row\n    let col = state.cache.uedit.col\n\n    commit('SET_CELL_PROPERTIES', {\n      row,\n      col,\n      properties: {\n        content: source\n      }\n    })\n    commit('SET_CACHE_TYPE', '')\n  },\n  doClearCellsContent ({state, commit}) {\n    for (let i = state.cache.select.selectedArea.begin.row; i <= state.cache.select.selectedArea.end.row; i++) {\n      for (let j = state.cache.select.selectedArea.begin.col; j <= state.cache.select.selectedArea.end.col; j++) {\n        commit('SET_CELL_PROPERTIES', {\n          row: i,\n          col: j,\n          properties: {\n            content: ''\n          }\n        })\n      }\n    }\n  }\n}\n\nexport default new Vuex.Store({\n  state,\n  actions,\n  mutations,\n  strict: false\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/vuex/store.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport Editor from './Editor'\nimport ElementUI from 'element-ui'\n\nimport store from './vuex/store'\n\nimport 'element-ui/lib/theme-chalk/index.css'\nimport '@/static/iconfont/iconfont.css'\n\nimport '@/static/neditor/neditor.config.js'\nimport '@/static/neditor/neditor.all.js'\nimport '@/static/neditor/i18n/zh-cn/zh-cn.js'\nimport '@/static/editor-extend/form-designer.js'\n\nVue.use(ElementUI)\n\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  store,\n  template: '<Editor/>',\n  components: { Editor }\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","/**\r\n * Created with JetBrains PhpStorm.\r\n * User: taoqili\r\n * Date: 12-6-12\r\n * Time: 下午5:02\r\n * To change this template use File | Settings | File Templates.\r\n */\r\nUE.I18N['zh-cn'] = {\r\n    'labelMap':{\r\n        'anchor':'锚点', 'undo':'撤销', 'redo':'重做', 'bold':'加粗', 'indent':'首行缩进', 'snapscreen':'截图',\r\n        'italic':'斜体', 'underline':'下划线', 'strikethrough':'删除线', 'subscript':'下标','fontborder':'字符边框',\r\n        'superscript':'上标', 'formatmatch':'格式刷', 'source':'源代码', 'blockquote':'引用',\r\n        'pasteplain':'纯文本粘贴模式', 'selectall':'全选', 'print':'打印', 'preview':'预览',\r\n        'horizontal':'分隔线', 'removeformat':'清除格式', 'time':'时间', 'date':'日期',\r\n        'unlink':'取消链接', 'insertrow':'前插入行', 'insertcol':'前插入列', 'mergeright':'右合并单元格', 'mergedown':'下合并单元格',\r\n        'deleterow':'删除行', 'deletecol':'删除列', 'splittorows':'拆分成行',\r\n        'splittocols':'拆分成列', 'splittocells':'完全拆分单元格','deletecaption':'删除表格标题','inserttitle':'插入标题',\r\n        'mergecells':'合并多个单元格', 'deletetable':'删除表格', 'cleardoc':'清空文档','insertparagraphbeforetable':\"表格前插入行\",'insertcode':'代码语言',\r\n        'fontfamily':'字体', 'fontsize':'字号', 'paragraph':'段落格式', 'simpleupload':'单图上传', 'insertimage':'多图上传','edittable':'表格属性','edittd':'单元格属性', 'link':'超链接',\r\n        'emotion':'表情', 'spechars':'特殊字符', 'searchreplace':'查询替换', 'map':'Baidu地图', 'gmap':'Google地图',\r\n        'insertvideo':'视频', 'help':'帮助', 'justifyleft':'居左对齐', 'justifyright':'居右对齐', 'justifycenter':'居中对齐',\r\n        'justifyjustify':'两端对齐', 'forecolor':'字体颜色', 'backcolor':'背景色', 'insertorderedlist':'有序列表',\r\n        'insertunorderedlist':'无序列表', 'fullscreen':'全屏', 'directionalityltr':'从左向右输入', 'directionalityrtl':'从右向左输入',\r\n        'rowspacingtop':'段前距', 'rowspacingbottom':'段后距',  'pagebreak':'分页', 'insertframe':'插入Iframe', 'imagenone':'默认',\r\n        'imageleft':'左浮动', 'imageright':'右浮动', 'attachment':'附件', 'imagecenter':'居中', 'wordimage':'图片转存',\r\n        'lineheight':'行间距','edittip' :'编辑提示','customstyle':'自定义标题', 'autotypeset':'自动排版',\r\n        'webapp':'百度应用','touppercase':'字母大写', 'tolowercase':'字母小写','background':'背景','template':'模板','scrawl':'涂鸦',\r\n        'music':'音乐','inserttable':'插入表格','drafts': '从草稿箱加载', 'charts': '图表'\r\n    },\r\n    'insertorderedlist':{\r\n        'num':'1,2,3...',\r\n        'num1':'1),2),3)...',\r\n        'num2':'(1),(2),(3)...',\r\n        'cn':'一,二,三....',\r\n        'cn1':'一),二),三)....',\r\n        'cn2':'(一),(二),(三)....',\r\n        'decimal':'1,2,3...',\r\n        'lower-alpha':'a,b,c...',\r\n        'lower-roman':'i,ii,iii...',\r\n        'upper-alpha':'A,B,C...',\r\n        'upper-roman':'I,II,III...'\r\n    },\r\n    'insertunorderedlist':{\r\n        'circle':'○ 大圆圈',\r\n        'disc':'● 小黑点',\r\n        'square':'■ 小方块 ',\r\n        'dash' :'— 破折号',\r\n        'dot':' 。 小圆圈'\r\n    },\r\n    'paragraph':{'p':'段落', 'h1':'标题 1', 'h2':'标题 2', 'h3':'标题 3', 'h4':'标题 4', 'h5':'标题 5', 'h6':'标题 6'},\r\n    'fontfamily':{\r\n        'songti':'宋体',\r\n        'kaiti':'楷体',\r\n        'heiti':'黑体',\r\n        'lishu':'隶书',\r\n        'yahei':'微软雅黑',\r\n        'andaleMono':'andale mono',\r\n        'arial': 'arial',\r\n        'arialBlack':'arial black',\r\n        'comicSansMs':'comic sans ms',\r\n        'impact':'impact',\r\n        'timesNewRoman':'times new roman'\r\n    },\r\n    'customstyle':{\r\n        'tc':'标题居中',\r\n        'tl':'标题居左',\r\n        'im':'强调',\r\n        'hi':'明显强调'\r\n    },\r\n    'autoupload': {\r\n        'exceedSizeError': '文件大小超出限制',\r\n        'exceedTypeError': '文件格式不允许',\r\n        'jsonEncodeError': '服务器返回格式错误',\r\n        'loading':\"正在上传...\",\r\n        'loadError':\"上传错误\",\r\n        'errorLoadConfig': '后端配置项没有正常加载，上传插件不能正常使用！'\r\n    },\r\n    'simpleupload':{\r\n        'exceedSizeError': '文件大小超出限制',\r\n        'exceedTypeError': '文件格式不允许',\r\n        'jsonEncodeError': '服务器返回格式错误',\r\n        'loading':\"正在上传...\",\r\n        'loadError':\"上传错误\",\r\n        'errorLoadConfig': '后端配置项没有正常加载，上传插件不能正常使用！'\r\n    },\r\n    'elementPathTip':\"元素路径\",\r\n    'wordCountTip':\"字数统计\",\r\n    'wordCountMsg':'当前已输入{#count}个字符, 您还可以输入{#leave}个字符。 ',\r\n    'wordOverFlowMsg':'<span style=\"color:red;\">字数超出最大允许值，服务器可能拒绝保存！</span>',\r\n    'ok':\"确认\",\r\n    'cancel':\"取消\",\r\n    'closeDialog':\"关闭对话框\",\r\n    'tableDrag':\"表格拖动必须引入uiUtils.js文件！\",\r\n    'autofloatMsg':\"工具栏浮动依赖编辑器UI，您首先需要引入UI文件!\",\r\n    'loadconfigError': '获取后台配置项请求出错，上传功能将不能正常使用！',\r\n    'loadconfigFormatError': '后台配置项返回格式出错，上传功能将不能正常使用！',\r\n    'loadconfigHttpError': '请求后台配置项http错误，上传功能将不能正常使用！',\r\n    'snapScreen_plugin':{\r\n        'browserMsg':\"仅支持IE浏览器！\",\r\n        'callBackErrorMsg':\"服务器返回数据有误，请检查配置项之后重试。\",\r\n        'uploadErrorMsg':\"截图上传失败，请检查服务器端环境! \"\r\n    },\r\n    'insertcode':{\r\n        'as3':'ActionScript 3',\r\n        'bash':'Bash/Shell',\r\n        'cpp':'C/C++',\r\n        'css':'CSS',\r\n        'cf':'ColdFusion',\r\n        'c#':'C#',\r\n        'delphi':'Delphi',\r\n        'diff':'Diff',\r\n        'erlang':'Erlang',\r\n        'groovy':'Groovy',\r\n        'html':'HTML',\r\n        'java':'Java',\r\n        'jfx':'JavaFX',\r\n        'js':'JavaScript',\r\n        'pl':'Perl',\r\n        'php':'PHP',\r\n        'plain':'Plain Text',\r\n        'ps':'PowerShell',\r\n        'python':'Python',\r\n        'ruby':'Ruby',\r\n        'scala':'Scala',\r\n        'sql':'SQL',\r\n        'vb':'Visual Basic',\r\n        'xml':'XML'\r\n    },\r\n    'confirmClear':\"确定清空当前文档么？\",\r\n    'contextMenu':{\r\n        'delete':\"删除\",\r\n        'selectall':\"全选\",\r\n        'deletecode':\"删除代码\",\r\n        'cleardoc':\"清空文档\",\r\n        'confirmclear':\"确定清空当前文档么？\",\r\n        'unlink':\"删除超链接\",\r\n        'paragraph':\"段落格式\",\r\n        'edittable':\"表格属性\",\r\n        'aligntd':\"单元格对齐方式\",\r\n        'aligntable':'表格对齐方式',\r\n        'tableleft':'左浮动',\r\n        'tablecenter':'居中显示',\r\n        'tableright':'右浮动',\r\n        'edittd':\"单元格属性\",\r\n        'setbordervisible':'设置表格边线可见',\r\n        'justifyleft':'左对齐',\r\n        'justifyright':'右对齐',\r\n        'justifycenter':'居中对齐',\r\n        'justifyjustify':'两端对齐',\r\n        'table':\"表格\",\r\n        'inserttable':'插入表格',\r\n        'deletetable':\"删除表格\",\r\n        'insertparagraphbefore':\"前插入段落\",\r\n        'insertparagraphafter':'后插入段落',\r\n        'deleterow':\"删除当前行\",\r\n        'deletecol':\"删除当前列\",\r\n        'insertrow':\"前插入行\",\r\n        'insertcol':\"左插入列\",\r\n        'insertrownext':'后插入行',\r\n        'insertcolnext':'右插入列',\r\n        'insertcaption':'插入表格名称',\r\n        'deletecaption':'删除表格名称',\r\n        'inserttitle':'插入表格标题行',\r\n        'deletetitle':'删除表格标题行',\r\n        'inserttitlecol':'插入表格标题列',\r\n        'deletetitlecol':'删除表格标题列',\r\n        'averageDiseRow':'平均分布各行',\r\n        'averageDisCol':'平均分布各列',\r\n        'mergeright':\"向右合并\",\r\n        'mergeleft':\"向左合并\",\r\n        'mergedown':\"向下合并\",\r\n        'mergecells':\"合并单元格\",\r\n        'splittocells':\"完全拆分单元格\",\r\n        'splittocols':\"拆分成列\",\r\n        'splittorows':\"拆分成行\",\r\n        'tablesort':'表格排序',\r\n        'enablesort':'设置表格可排序',\r\n        'disablesort':'取消表格可排序',\r\n        'reversecurrent':'逆序当前',\r\n        'orderbyasc':'按ASCII字符升序',\r\n        'reversebyasc':'按ASCII字符降序',\r\n        'orderbynum':'按数值大小升序',\r\n        'reversebynum':'按数值大小降序',\r\n        'borderbk':'边框底纹',\r\n        'setcolor':'表格隔行变色',\r\n        'unsetcolor':'取消表格隔行变色',\r\n        'setbackground':'选区背景隔行',\r\n        'unsetbackground':'取消选区背景',\r\n        'redandblue':'红蓝相间',\r\n        'threecolorgradient':'三色渐变',\r\n        'copy':\"复制(Ctrl + c)\",\r\n        'copymsg': \"浏览器不支持,请使用 'Ctrl + c'\",\r\n        'paste':\"粘贴(Ctrl + v)\",\r\n         'pastemsg': \"浏览器不支持,请使用 'Ctrl + v'\"\r\n    },\r\n    'copymsg': \"浏览器不支持,请使用 'Ctrl + c'\",\r\n    'pastemsg': \"浏览器不支持,请使用 'Ctrl + v'\",\r\n    'anthorMsg':\"链接\",\r\n    'clearColor':'清空颜色',\r\n    'standardColor':'标准颜色',\r\n    'themeColor':'主题颜色',\r\n    'property':'属性',\r\n    'default':'默认',\r\n    'modify':'修改',\r\n    'justifyleft':'左对齐',\r\n    'justifyright':'右对齐',\r\n    'justifycenter':'居中',\r\n    'justify':'默认',\r\n    'clear':'清除',\r\n    'anchorMsg':'锚点',\r\n    'delete':'删除',\r\n    'clickToUpload':\"点击上传\",\r\n    'unset':'尚未设置语言文件',\r\n    't_row':'行',\r\n    't_col':'列',\r\n    'more':'更多',\r\n    'pasteOpt':'粘贴选项',\r\n    'pasteSourceFormat':\"保留源格式\",\r\n    'tagFormat':'只保留标签',\r\n    'pasteTextFormat':'只保留文本',\r\n    'autoTypeSet':{\r\n        'mergeLine':\"合并空行\",\r\n        'delLine':\"清除空行\",\r\n        'removeFormat':\"清除格式\",\r\n        'indent':\"首行缩进\",\r\n        'alignment':\"对齐方式\",\r\n        'imageFloat':\"图片浮动\",\r\n        'removeFontsize':\"清除字号\",\r\n        'removeFontFamily':\"清除字体\",\r\n        'removeHtml':\"清除冗余HTML代码\",\r\n        'pasteFilter':\"粘贴过滤\",\r\n        'run':\"执行\",\r\n        'symbol':'符号转换',\r\n        'bdc2sb':'全角转半角',\r\n        'tobdc':'半角转全角'\r\n    },\r\n\r\n    'background':{\r\n        'static':{\r\n            'lang_background_normal':'背景设置',\r\n            'lang_background_local':'在线图片',\r\n            'lang_background_set':'选项',\r\n            'lang_background_none':'无背景色',\r\n            'lang_background_colored':'有背景色',\r\n            'lang_background_color':'颜色设置',\r\n            'lang_background_netimg':'网络图片',\r\n            'lang_background_align':'对齐方式',\r\n            'lang_background_position':'精确定位',\r\n            'repeatType':{'options':[\"居中\", \"横向重复\", \"纵向重复\", \"平铺\",\"自定义\"]}\r\n\r\n        },\r\n        'noUploadImage':\"当前未上传过任何图片！\",\r\n        'toggleSelect':\"单击可切换选中状态\\n原图尺寸: \"\r\n    },\r\n    //===============dialog i18N=======================\r\n    'insertimage':{\r\n        'static':{\r\n            'lang_tab_remote':\"插入图片\", //节点\r\n            'lang_tab_upload':\"本地上传\",\r\n            'lang_tab_online':\"在线管理\",\r\n            'lang_tab_search':\"图片搜索\",\r\n            'lang_input_url':\"地 址：\",\r\n            'lang_input_size':\"大 小：\",\r\n            'lang_input_width':\"宽度\",\r\n            'lang_input_height':\"高度\",\r\n            'lang_input_border':\"边 框：\",\r\n            'lang_input_vhspace':\"边 距：\",\r\n            'lang_input_title':\"描 述：\",\r\n            'lang_input_align':'图片浮动方式：',\r\n            'lang_imgLoading':\"　图片加载中……\",\r\n            'lang_start_upload':\"开始上传\",\r\n            'lock':{'title':\"锁定宽高比例\"}, //属性\r\n            'searchType':{'title':\"图片类型\", 'options':[\"全部类型\", \"头像图片\", \"面部特写\", \"卡通画\", \"简笔画\", \"动态图片\", \"静态图片\"]}, //select的option\r\n            'searchTxt':{'value':\"请输入搜索关键词\"},\r\n            'searchBtn':{'value':\"百度一下\"},\r\n            'searchReset':{'value':\"清空搜索\"},\r\n            'noneAlign':{'title':'无浮动'},\r\n            'leftAlign':{'title':'左浮动'},\r\n            'rightAlign':{'title':'右浮动'},\r\n            'centerAlign':{'title':'居中独占一行'}\r\n        },\r\n        'uploadSelectFile':'点击选择图片',\r\n        'uploadAddFile':'继续添加',\r\n        'uploadStart':'开始上传',\r\n        'uploadPause':'暂停上传',\r\n        'uploadContinue':'继续上传',\r\n        'uploadRetry':'重试上传',\r\n        'uploadDelete':'删除',\r\n        'uploadTurnLeft':'向左旋转',\r\n        'uploadTurnRight':'向右旋转',\r\n        'uploadPreview':'预览中',\r\n        'uploadNoPreview':'不能预览',\r\n        'updateStatusReady': '选中_张图片，共_KB。',\r\n        'updateStatusConfirm': '已成功上传_张照片，_张照片上传失败',\r\n        'updateStatusFinish': '共_张（_KB），_张上传成功',\r\n        'updateStatusError': '，_张上传失败。',\r\n        'errorNotSupport': 'WebUploader 不支持您的浏览器！如果你使用的是IE浏览器，请尝试升级 flash 播放器。',\r\n        'errorLoadConfig': '后端配置项没有正常加载，上传插件不能正常使用！',\r\n        'errorExceedSize':'文件大小超出',\r\n        'errorFileType':'文件格式不允许',\r\n        'errorInterrupt':'文件传输中断',\r\n        'errorUploadRetry':'上传失败，请重试',\r\n        'errorHttp':'http请求错误',\r\n        'errorServerUpload':'服务器返回出错',\r\n        'remoteLockError':\"宽高不正确,不能所定比例\",\r\n        'numError':\"请输入正确的长度或者宽度值！例如：123，400\",\r\n        'imageUrlError':\"不允许的图片格式或者图片域！\",\r\n        'imageLoadError':\"图片加载失败！请检查链接地址或网络状态！\",\r\n        'searchRemind':\"请输入搜索关键词\",\r\n        'searchLoading':\"图片加载中，请稍后……\",\r\n        'searchRetry':\" :( ，抱歉，没有找到图片！请重试一次！\"\r\n    },\r\n    'attachment':{\r\n        'static':{\r\n            'lang_tab_upload': '上传附件',\r\n            'lang_tab_online': '在线附件',\r\n            'lang_start_upload':\"开始上传\",\r\n            'lang_drop_remind':\"可以将文件拖到这里，单次最多可选100个文件\"\r\n        },\r\n        'uploadSelectFile':'点击选择文件',\r\n        'uploadAddFile':'继续添加',\r\n        'uploadStart':'开始上传',\r\n        'uploadPause':'暂停上传',\r\n        'uploadContinue':'继续上传',\r\n        'uploadRetry':'重试上传',\r\n        'uploadDelete':'删除',\r\n        'uploadTurnLeft':'向左旋转',\r\n        'uploadTurnRight':'向右旋转',\r\n        'uploadPreview':'预览中',\r\n        'updateStatusReady': '选中_个文件，共_KB。',\r\n        'updateStatusConfirm': '已成功上传_个文件，_个文件上传失败',\r\n        'updateStatusFinish': '共_个（_KB），_个上传成功',\r\n        'updateStatusError': '，_张上传失败。',\r\n        'errorNotSupport': 'WebUploader 不支持您的浏览器！如果你使用的是IE浏览器，请尝试升级 flash 播放器。',\r\n        'errorLoadConfig': '后端配置项没有正常加载，上传插件不能正常使用！',\r\n        'errorExceedSize':'文件大小超出',\r\n        'errorFileType':'文件格式不允许',\r\n        'errorInterrupt':'文件传输中断',\r\n        'errorUploadRetry':'上传失败，请重试',\r\n        'errorHttp':'http请求错误',\r\n        'errorServerUpload':'服务器返回出错'\r\n    },\r\n    'insertvideo':{\r\n        'static':{\r\n            'lang_tab_insertV':\"插入视频\",\r\n            'lang_tab_searchV':\"搜索视频\",\r\n            'lang_tab_uploadV':\"上传视频\",\r\n            'lang_video_url':\"视频网址\",\r\n            'lang_video_size':\"视频尺寸\",\r\n            'lang_videoW':\"宽度\",\r\n            'lang_videoH':\"高度\",\r\n            'lang_alignment':\"对齐方式\",\r\n            'videoSearchTxt':{'value':\"请输入搜索关键字！\"},\r\n            'videoType':{'options':[\"全部\", \"热门\", \"娱乐\", \"搞笑\", \"体育\", \"科技\", \"综艺\"]},\r\n            'videoSearchBtn':{'value':\"百度一下\"},\r\n            'videoSearchReset':{'value':\"清空结果\"},\r\n\r\n            'lang_input_fileStatus':' 当前未上传文件',\r\n            'startUpload':{'style':\"background:url(upload.png) no-repeat;\"},\r\n\r\n            'lang_upload_size':\"视频尺寸\",\r\n            'lang_upload_width':\"宽度\",\r\n            'lang_upload_height':\"高度\",\r\n            'lang_upload_alignment':\"对齐方式\",\r\n            'lang_format_advice':\"建议使用mp4格式.\"\r\n\r\n        },\r\n        'numError':\"请输入正确的数值，如123,400\",\r\n        'floatLeft':\"左浮动\",\r\n        'floatRight':\"右浮动\",\r\n        'default':\"默认\",\r\n        'block':\"独占一行\",\r\n        'urlError':\"输入的视频地址有误，请检查后再试！\",\r\n        'loading':\" &nbsp;视频加载中，请等待……\",\r\n        'clickToSelect':\"点击选中\",\r\n        'goToSource':'访问源视频',\r\n        'noVideo':\" &nbsp; &nbsp;抱歉，找不到对应的视频，请重试！\",\r\n\r\n        'browseFiles':'浏览文件',\r\n        'uploadSuccess':'上传成功!',\r\n        'delSuccessFile':'从成功队列中移除',\r\n        'delFailSaveFile':'移除保存失败文件',\r\n        'statusPrompt':' 个文件已上传！ ',\r\n        'flashVersionError':'当前Flash版本过低，请更新FlashPlayer后重试！',\r\n        'flashLoadingError':'Flash加载失败!请检查路径或网络状态',\r\n        'fileUploadReady':'等待上传……',\r\n        'delUploadQueue':'从上传队列中移除',\r\n        'limitPrompt1':'单次不能选择超过',\r\n        'limitPrompt2':'个文件！请重新选择！',\r\n        'delFailFile':'移除失败文件',\r\n        'fileSizeLimit':'文件大小超出限制！',\r\n        'emptyFile':'空文件无法上传！',\r\n        'fileTypeError':'文件类型不允许！',\r\n        'unknownError':'未知错误！',\r\n        'fileUploading':'上传中，请等待……',\r\n        'cancelUpload':'取消上传',\r\n        'netError':'网络错误',\r\n        'failUpload':'上传失败!',\r\n        'serverIOError':'服务器IO错误！',\r\n        'noAuthority':'无权限！',\r\n        'fileNumLimit':'上传个数限制',\r\n        'failCheck':'验证失败，本次上传被跳过！',\r\n        'fileCanceling':'取消中，请等待……',\r\n        'stopUploading':'上传已停止……',\r\n\r\n        'uploadSelectFile':'点击选择文件',\r\n        'uploadAddFile':'继续添加',\r\n        'uploadStart':'开始上传',\r\n        'uploadPause':'暂停上传',\r\n        'uploadContinue':'继续上传',\r\n        'uploadRetry':'重试上传',\r\n        'uploadDelete':'删除',\r\n        'uploadTurnLeft':'向左旋转',\r\n        'uploadTurnRight':'向右旋转',\r\n        'uploadPreview':'预览中',\r\n        'updateStatusReady': '选中_个文件，共_KB。',\r\n        'updateStatusConfirm': '成功上传_个，_个失败',\r\n        'updateStatusFinish': '共_个(_KB)，_个成功上传',\r\n        'updateStatusError': '，_张上传失败。',\r\n        'errorNotSupport': 'WebUploader 不支持您的浏览器！如果你使用的是IE浏览器，请尝试升级 flash 播放器。',\r\n        'errorLoadConfig': '后端配置项没有正常加载，上传插件不能正常使用！',\r\n        'errorExceedSize':'文件大小超出',\r\n        'errorFileType':'文件格式不允许',\r\n        'errorInterrupt':'文件传输中断',\r\n        'errorUploadRetry':'上传失败，请重试',\r\n        'errorHttp':'http请求错误',\r\n        'errorServerUpload':'服务器返回出错'\r\n    },\r\n    'webapp':{\r\n        'tip1':\"本功能由百度APP提供，如看到此页面，请各位站长首先申请百度APPKey!\",\r\n        'tip2':\"申请完成之后请至neditor.config.js中配置获得的appkey! \",\r\n        'applyFor':\"点此申请\",\r\n        'anthorApi':\"百度API\"\r\n    },\r\n    'template':{\r\n        'static':{\r\n            'lang_template_bkcolor':'背景颜色',\r\n            'lang_template_clear' : '保留原有内容',\r\n            'lang_template_select' : '选择模板'\r\n        },\r\n        'blank':\"空白文档\",\r\n        'blog':\"博客文章\",\r\n        'resume':\"个人简历\",\r\n        'richText':\"图文混排\",\r\n        'sciPapers':\"科技论文\"\r\n\r\n\r\n    },\r\n    'scrawl':{\r\n        'static':{\r\n            'lang_input_previousStep':\"上一步\",\r\n            'lang_input_nextsStep':\"下一步\",\r\n            'lang_input_clear':'清空',\r\n            'lang_input_addPic':'添加背景',\r\n            'lang_input_ScalePic':'缩放背景',\r\n            'lang_input_removePic':'删除背景',\r\n            'J_imgTxt':{title:'添加背景图片'}\r\n        },\r\n        'noScarwl':\"尚未作画，白纸一张~\",\r\n        'scrawlUpLoading':\"涂鸦上传中,别急哦~\",\r\n        'continueBtn':\"继续\",\r\n        'imageError':\"糟糕，图片读取失败了！\",\r\n        'backgroundUploading':'背景图片上传中,别急哦~'\r\n    },\r\n    'music':{\r\n        'static':{\r\n            'lang_input_tips':\"输入歌手/歌曲/专辑，搜索您感兴趣的音乐！\",\r\n            'J_searchBtn':{value:'搜索歌曲'}\r\n        },\r\n        'emptyTxt':'未搜索到相关音乐结果，请换一个关键词试试。',\r\n        'chapter':'歌曲',\r\n        'singer':'歌手',\r\n        'special':'专辑',\r\n        'listenTest':'试听'\r\n    },\r\n    'anchor':{\r\n        'static':{\r\n            'lang_input_anchorName':'锚点名字：'\r\n        }\r\n    },\r\n    'charts':{\r\n        'static':{\r\n            'lang_data_source':'数据源：',\r\n            'lang_chart_format': '图表格式：',\r\n            'lang_data_align': '数据对齐方式',\r\n            'lang_chart_align_same': '数据源与图表X轴Y轴一致',\r\n            'lang_chart_align_reverse': '数据源与图表X轴Y轴相反',\r\n            'lang_chart_title': '图表标题',\r\n            'lang_chart_main_title': '主标题：',\r\n            'lang_chart_sub_title': '子标题：',\r\n            'lang_chart_x_title': 'X轴标题：',\r\n            'lang_chart_y_title': 'Y轴标题：',\r\n            'lang_chart_tip': '提示文字',\r\n            'lang_cahrt_tip_prefix': '提示文字前缀：',\r\n            'lang_cahrt_tip_description': '仅饼图有效， 当鼠标移动到饼图中相应的块上时，提示框内的文字的前缀',\r\n            'lang_chart_data_unit': '数据单位',\r\n            'lang_chart_data_unit_title': '单位：',\r\n            'lang_chart_data_unit_description': '显示在每个数据点上的数据的单位， 比如： 温度的单位 ℃',\r\n            'lang_chart_type': '图表类型：',\r\n            'lang_prev_btn': '上一个',\r\n            'lang_next_btn': '下一个'\r\n        }\r\n    },\r\n    'emotion':{\r\n        'static':{\r\n            'lang_input_choice':'精选',\r\n            'lang_input_Tuzki':'兔斯基',\r\n            'lang_input_BOBO':'BOBO',\r\n            'lang_input_lvdouwa':'绿豆蛙',\r\n            'lang_input_babyCat':'baby猫',\r\n            'lang_input_bubble':'泡泡',\r\n            'lang_input_youa':'有啊'\r\n        }\r\n    },\r\n    'gmap':{\r\n        'static':{\r\n            'lang_input_address':'地址',\r\n            'lang_input_search':'搜索',\r\n            'address':{value:\"北京\"}\r\n        },\r\n        searchError:'无法定位到该地址!'\r\n    },\r\n    'help':{\r\n        'static':{\r\n            'lang_input_about':'关于UEditor',\r\n            'lang_input_shortcuts':'快捷键',\r\n            'lang_input_introduction':'UEditor是由百度web前端研发部开发的所见即所得富文本web编辑器，具有轻量，可定制，注重用户体验等特点。开源基于BSD协议，允许自由使用和修改代码。',\r\n            'lang_Txt_shortcuts':'快捷键',\r\n            'lang_Txt_func':'功能',\r\n            'lang_Txt_bold':'给选中字设置为加粗',\r\n            'lang_Txt_copy':'复制选中内容',\r\n            'lang_Txt_cut':'剪切选中内容',\r\n            'lang_Txt_Paste':'粘贴',\r\n            'lang_Txt_undo':'重新执行上次操作',\r\n            'lang_Txt_redo':'撤销上一次操作',\r\n            'lang_Txt_italic':'给选中字设置为斜体',\r\n            'lang_Txt_underline':'给选中字加下划线',\r\n            'lang_Txt_selectAll':'全部选中',\r\n            'lang_Txt_visualEnter':'软回车',\r\n            'lang_Txt_fullscreen':'全屏'\r\n        }\r\n    },\r\n    'insertframe':{\r\n        'static':{\r\n            'lang_input_address':'地址：',\r\n            'lang_input_width':'宽度：',\r\n            'lang_input_height':'高度：',\r\n            'lang_input_isScroll':'允许滚动条：',\r\n            'lang_input_frameborder':'显示框架边框：',\r\n            'lang_input_alignMode':'对齐方式：',\r\n            'align':{title:\"对齐方式\", options:[\"默认\", \"左对齐\", \"右对齐\", \"居中\"]}\r\n        },\r\n        'enterAddress':'请输入地址!'\r\n    },\r\n    'link':{\r\n        'static':{\r\n            'lang_input_text':'文本内容：',\r\n            'lang_input_url':'链接地址：',\r\n            'lang_input_title':'标题：',\r\n            'lang_input_target':'是否在新窗口打开：'\r\n        },\r\n        'validLink':'只支持选中一个链接时生效',\r\n        'httpPrompt':'您输入的超链接中不包含http等协议名称，默认将为您添加http://前缀'\r\n    },\r\n    'map':{\r\n        'static':{\r\n            lang_city:\"城市\",\r\n            lang_address:\"地址\",\r\n            city:{value:\"北京\"},\r\n            lang_search:\"搜索\",\r\n            lang_dynamicmap:\"插入动态地图\"\r\n        },\r\n        cityMsg:\"请选择城市\",\r\n        errorMsg:\"抱歉，找不到该位置！\"\r\n    },\r\n    'searchreplace':{\r\n        'static':{\r\n            lang_tab_search:\"查找\",\r\n            lang_tab_replace:\"替换\",\r\n            lang_search1:\"查找\",\r\n            lang_search2:\"查找\",\r\n            lang_replace:\"替换\",\r\n            lang_searchReg:'支持正则表达式，添加前后斜杠标示为正则表达式，例如“/表达式/”',\r\n            lang_searchReg1:'支持正则表达式，添加前后斜杠标示为正则表达式，例如“/表达式/”',\r\n            lang_case_sensitive1:\"区分大小写\",\r\n            lang_case_sensitive2:\"区分大小写\",\r\n            nextFindBtn:{value:\"下一个\"},\r\n            preFindBtn:{value:\"上一个\"},\r\n            nextReplaceBtn:{value:\"下一个\"},\r\n            preReplaceBtn:{value:\"上一个\"},\r\n            repalceBtn:{value:\"替换\"},\r\n            repalceAllBtn:{value:\"全部替换\"}\r\n        },\r\n        getEnd:\"已经搜索到文章末尾！\",\r\n        getStart:\"已经搜索到文章头部\",\r\n        countMsg:\"总共替换了{#count}处！\"\r\n    },\r\n    'snapscreen':{\r\n        'static':{\r\n            lang_showMsg:\"截图功能需要首先安装UEditor截图插件！ \",\r\n            lang_download:\"点此下载\",\r\n            lang_step1:\"第一步，下载UEditor截图插件并运行安装。\",\r\n            lang_step2:\"第二步，插件安装完成后即可使用，如不生效，请重启浏览器后再试！\"\r\n        }\r\n    },\r\n    'spechars':{\r\n        'static':{},\r\n        tsfh:\"特殊字符\",\r\n        lmsz:\"罗马字符\",\r\n        szfh:\"数学字符\",\r\n        rwfh:\"日文字符\",\r\n        xlzm:\"希腊字母\",\r\n        ewzm:\"俄文字符\",\r\n        pyzm:\"拼音字母\",\r\n        yyyb:\"英语音标\",\r\n        zyzf:\"其他\"\r\n    },\r\n    'edittable':{\r\n        'static':{\r\n            'lang_tableStyle':'表格样式',\r\n            'lang_insertCaption':'添加表格名称行',\r\n            'lang_insertTitle':'添加表格标题行',\r\n            'lang_insertTitleCol':'添加表格标题列',\r\n            'lang_orderbycontent':\"使表格内容可排序\",\r\n            'lang_tableSize':'自动调整表格尺寸',\r\n            'lang_autoSizeContent':'按表格文字自适应',\r\n            'lang_autoSizePage':'按页面宽度自适应',\r\n            'lang_example':'示例',\r\n            'lang_borderStyle':'表格边框',\r\n            'lang_color':'颜色:'\r\n        },\r\n        captionName:'表格名称',\r\n        titleName:'标题',\r\n        cellsName:'内容',\r\n        errorMsg:'有合并单元格，不可排序'\r\n    },\r\n    'edittip':{\r\n        'static':{\r\n            lang_delRow:'删除整行',\r\n            lang_delCol:'删除整列'\r\n        }\r\n    },\r\n    'edittd':{\r\n        'static':{\r\n            lang_tdBkColor:'背景颜色:'\r\n        }\r\n    },\r\n    'formula':{\r\n        'static':{\r\n        }\r\n    },\r\n    'wordimage':{\r\n        'static':{\r\n            lang_resave:\"转存步骤\",\r\n            uploadBtn:{src:\"upload.png\",alt:\"上传\"},\r\n            clipboard:{style:\"background: url(copy.png) -153px -1px no-repeat;\"},\r\n            lang_step:\"1、点击顶部复制按钮，将地址复制到剪贴板；2、点击添加照片按钮，在弹出的对话框中使用Ctrl+V粘贴地址；3、点击打开后选择图片上传流程。\"\r\n        },\r\n        'fileType':\"图片\",\r\n        'flashError':\"FLASH初始化失败，请检查FLASH插件是否正确安装！\",\r\n        'netError':\"网络连接错误，请重试！\",\r\n        'copySuccess':\"图片地址已经复制！\",\r\n        'flashI18n':{} //留空默认中文\r\n    },\r\n    'autosave': {\r\n        'saving':'保存中...',\r\n        'success':'本地保存成功'\r\n    }\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/static/neditor/i18n/zh-cn/zh-cn.js","/**\n * neditor完整配置项\n * 可以在这里配置整个编辑器的特性\n */\n/**************************提示********************************\n * 所有被注释的配置项均为UEditor默认值。\n * 修改默认配置请首先确保已经完全明确该参数的真实用途。\n * 主要有两种修改方案，一种是取消此处注释，然后修改成对应参数；另一种是在实例化编辑器时传入对应参数。\n * 当升级编辑器时，可直接使用旧版配置文件替换新版配置文件,不用担心旧版配置文件中因缺少新功能所需的参数而导致脚本报错。\n **************************提示********************************/\n\n(function () {\n    /**\n     * 编辑器资源文件根路径。它所表示的含义是：以编辑器实例化页面为当前路径，指向编辑器资源文件（即dialog等文件夹）的路径。\n     * 鉴于很多同学在使用编辑器的时候出现的种种路径问题，此处强烈建议大家使用\"相对于网站根目录的相对路径\"进行配置。\n     * \"相对于网站根目录的相对路径\"也就是以斜杠开头的形如\"/myProject/neditor/\"这样的路径。\n     * 如果站点中有多个不在同一层级的页面需要实例化编辑器，且引用了同一UEditor的时候，此处的URL可能不适用于每个页面的编辑器。\n     * 因此，UEditor提供了针对不同页面的编辑器可单独配置的根路径，具体来说，在需要实例化编辑器的页面最顶部写上如下代码即可。当然，需要令此处的URL等于对应的配置。\n     * window.UEDITOR_HOME_URL = \"/xxxx/xxxx/\";\n     */\n    window.UEDITOR_HOME_URL = \"static/neditor/\"\n    var URL = window.UEDITOR_HOME_URL || getUEBasePath();\n\n    /**\n     * 配置项主体。注意，此处所有涉及到路径的配置别遗漏URL变量。\n     */\n    window.UEDITOR_CONFIG = {\n        //为编辑器实例添加一个路径，这个不能被注释\n        UEDITOR_HOME_URL: URL,\n\n        // 服务器统一请求接口路径\n        //serverUrl: window.NEDITOR_UPLOAD || URL + \"php/controller.php\",\n        serverUrl: \"\",\n        imageActionName: \"uploadimage\",\n        scrawlActionName: \"uploadscrawl\",\n        videoActionName: \"uploadvideo\",\n        fileActionName: \"uploadfile\",\n        imageUrlPrefix: \"\",\n        scrawlUrlPrefix: \"\",\n        videoUrlPrefix: \"\",\n        fileUrlPrefix: \"\",\n        catcherLocalDomain: \"\",\n        //工具栏上的所有的功能按钮和下拉框，可以在new编辑器的实例时选择自己需要的重新定义\n        toolbars: [\n                [\n                    \"fullscreen\",\n                    \"source\",\n                    \"|\",\n                    \"undo\",\n                    \"redo\",\n                    \"|\",\n                    \"bold\",\n                    \"italic\",\n                    \"underline\",\n                    \"fontborder\",\n                    \"strikethrough\",\n                    \"superscript\",\n                    \"subscript\",\n                    \"removeformat\",\n                    \"formatmatch\",\n                    \"autotypeset\",\n                    \"blockquote\",\n                    \"pasteplain\",\n                    \"|\",\n                    \"forecolor\",\n                    \"backcolor\",\n                    \"insertorderedlist\",\n                    \"insertunorderedlist\",\n                    \"selectall\",\n                    \"cleardoc\",\n                    \"|\",\n                    \"rowspacingtop\",\n                    \"rowspacingbottom\",\n                    \"lineheight\",\n                    \"|\",\n                    \"customstyle\",\n                    \"paragraph\",\n                    \"fontfamily\",\n                    \"fontsize\",\n                    \"|\",\n                    \"directionalityltr\",\n                    \"directionalityrtl\",\n                    \"indent\",\n                    \"|\",\n                    \"justifyleft\",\n                    \"justifycenter\",\n                    \"justifyright\",\n                    \"justifyjustify\",\n                    \"|\",\n                    \"touppercase\",\n                    \"tolowercase\",\n                    \"|\",\n                    \"link\",\n                    \"unlink\",\n                    \"anchor\",\n                    \"|\",\n                    \"imagenone\",\n                    \"imageleft\",\n                    \"imageright\",\n                    \"imagecenter\",\n                    \"|\",\n                    // \"simpleupload\",\n                    \"insertimage\",\n                    \"emotion\",\n                    \"scrawl\",\n                    \"insertvideo\",\n                    \"music\",\n                    \"attachment\",\n                    \"map\",\n                    \"gmap\",\n                    \"insertframe\",\n                    // \"webapp\",\n                    \"pagebreak\",\n                    \"template\",\n                    \"background\",\n                    \"|\",\n                    \"insertcode\",\n                    \"horizontal\",\n                    \"date\",\n                    \"time\",\n                    \"spechars\",\n                    \"snapscreen\",\n                    \"wordimage\",\n                    \"|\",\n                    \"inserttable\",\n                    \"deletetable\",\n                    \"insertparagraphbeforetable\",\n                    \"insertrow\",\n                    \"deleterow\",\n                    \"insertcol\",\n                    \"deletecol\",\n                    \"mergecells\",\n                    \"mergeright\",\n                    \"mergedown\",\n                    \"splittocells\",\n                    \"splittorows\",\n                    \"splittocols\",\n                    \"charts\",\n                    \"|\",\n                    \"print\",\n                    \"preview\",\n                    \"searchreplace\",\n                    \"drafts\",\n                    \"help\"\n                ]\n            ]\n            //当鼠标放在工具栏上时显示的tooltip提示,留空支持自动多语言配置，否则以配置值为准\n            //,labelMap:{\n            //    'anchor':'', 'undo':''\n            //}\n\n            //语言配置项,默认是zh-cn。有需要的话也可以使用如下这样的方式来自动多语言切换，当然，前提条件是lang文件夹下存在对应的语言文件：\n            //lang值也可以通过自动获取 (navigator.language||navigator.browserLanguage ||navigator.userLanguage).toLowerCase()\n            //,lang:\"zh-cn\"\n            //,langPath:URL +\"i18n/\"\n\n            //主题配置项,默认是default。有需要的话也可以使用如下这样的方式来自动多主题切换，当然，前提条件是themes文件夹下存在对应的主题文件：\n            //现有如下皮肤:default\n            ,\n        theme: 'notadd'\n            //,themePath:URL +\"themes/\"\n\n            ,\n        zIndex: 1100 //编辑器层级的基数,默认是900\n\n            //针对getAllHtml方法，会在对应的head标签中增加该编码设置。\n            //,charset:\"utf-8\"\n\n            //若实例化编辑器的页面手动修改的domain，此处需要设置为true\n            //,customDomain:false\n\n            //常用配置项目\n            //,isShow : true    //默认显示编辑器\n\n            //,textarea:'editorValue' // 提交表单时，服务器获取编辑器提交内容的所用的参数，多实例时可以给容器name属性，会将name给定的值最为每个实例的键值，不用每次实例化的时候都设置这个值\n\n            //,initialContent:'欢迎使用neditor!'    //初始化编辑器的内容,也可以通过textarea/script给值，看官网例子\n\n            //,autoClearinitialContent:true //是否自动清除编辑器初始内容，注意：如果focus属性设置为true,这个也为真，那么编辑器一上来就会触发导致初始化的内容看不到了\n\n            //,focus:false //初始化时，是否让编辑器获得焦点true或false\n\n            //如果自定义，最好给p标签如下的行高，要不输入中文时，会有跳动感\n            //,initialStyle:'p{line-height:1em}'//编辑器层级的基数,可以用来改变字体等\n\n            //,iframeJsUrl: '' //给编辑区域的iframe引入一个js文件\n            //,iframeCssUrl: URL + '/themes/iframe.css' //给编辑区域的iframe引入一个css文件\n\n            //indentValue\n            //首行缩进距离,默认是2em\n            //,indentValue:'2em'\n\n            //,initialFrameWidth:1000  //初始化编辑器宽度,默认1000\n            //,initialFrameHeight:320  //初始化编辑器高度,默认320\n\n            //,readonly : false //编辑器初始化结束后,编辑区域是否是只读的，默认是false\n\n            //,autoClearEmptyNode : true //getContent时，是否删除空的inlineElement节点（包括嵌套的情况）\n\n            //启用自动保存\n            //,enableAutoSave: true\n            //自动保存间隔时间， 单位ms\n            //,saveInterval: 500\n\n            //启用拖放上传\n            //,enableDragUpload: true\n            //启用粘贴上传\n            //,enablePasteUpload: true\n\n            //启用图片拉伸缩放\n            //,imageScaleEnabled: true\n\n            //,fullscreen : false //是否开启初始化时即全屏，默认关闭\n\n            //,imagePopup:true      //图片操作的浮层开关，默认打开\n\n            //,autoSyncData:true //自动同步编辑器要提交的数据\n            //,emotionLocalization:false //是否开启表情本地化，默认关闭。若要开启请确保emotion文件夹下包含官网提供的images表情文件夹\n\n            //粘贴只保留标签，去除标签所有属性\n            //,retainOnlyLabelPasted: false\n\n            //,pasteplain:false  //是否默认为纯文本粘贴。false为不使用纯文本粘贴，true为使用纯文本粘贴\n            //纯文本粘贴模式下的过滤规则\n            //'filterTxtRules' : function(){\n            //    function transP(node){\n            //        node.tagName = 'p';\n            //        node.setStyle();\n            //    }\n            //    return {\n            //        //直接删除及其字节点内容\n            //        '-' : 'script style object iframe embed input select',\n            //        'p': {$:{}},\n            //        'br':{$:{}},\n            //        'div':{'$':{}},\n            //        'li':{'$':{}},\n            //        'caption':transP,\n            //        'th':transP,\n            //        'tr':transP,\n            //        'h1':transP,'h2':transP,'h3':transP,'h4':transP,'h5':transP,'h6':transP,\n            //        'td':function(node){\n            //            //没有内容的td直接删掉\n            //            var txt = !!node.innerText();\n            //            if(txt){\n            //                node.parentNode.insertAfter(UE.uNode.createText(' &nbsp; &nbsp;'),node);\n            //            }\n            //            node.parentNode.removeChild(node,node.innerText())\n            //        }\n            //    }\n            //}()\n\n            //,allHtmlEnabled:false //提交到后台的数据是否包含整个html字符串\n\n            //insertorderedlist\n            //有序列表的下拉配置,值留空时支持多语言自动识别，若配置值，则以此值为准\n            //,'insertorderedlist':{\n            //      //自定的样式\n            //        'num':'1,2,3...',\n            //        'num1':'1),2),3)...',\n            //        'num2':'(1),(2),(3)...',\n            //        'cn':'一,二,三....',\n            //        'cn1':'一),二),三)....',\n            //        'cn2':'(一),(二),(三)....',\n            //     //系统自带\n            //     'decimal' : '' ,         //'1,2,3...'\n            //     'lower-alpha' : '' ,    // 'a,b,c...'\n            //     'lower-roman' : '' ,    //'i,ii,iii...'\n            //     'upper-alpha' : '' , lang   //'A,B,C'\n            //     'upper-roman' : ''      //'I,II,III...'\n            //}\n\n            //insertunorderedlist\n            //无序列表的下拉配置，值留空时支持多语言自动识别，若配置值，则以此值为准\n            //,insertunorderedlist : { //自定的样式\n            //    'dash' :'— 破折号', //-破折号\n            //    'dot':' 。 小圆圈', //系统自带\n            //    'circle' : '',  // '○ 小圆圈'\n            //    'disc' : '',    // '● 小圆点'\n            //    'square' : ''   //'■ 小方块'\n            //}\n            //,listDefaultPaddingLeft : '30'//默认的左边缩进的基数倍\n            //,listiconpath : 'http://bs.baidu.com/listicon/'//自定义标号的路径\n            //,maxListLevel : 3 //限制可以tab的级数, 设置-1为不限制\n\n            //,autoTransWordToList:false  //禁止word中粘贴进来的列表自动变成列表标签\n\n            //fontfamily\n            //字体设置 label留空支持多语言自动切换，若配置，则以配置值为准\n            //,'fontfamily':[\n            //    { label:'',name:'songti',val:'宋体,SimSun'},\n            //    { label:'',name:'kaiti',val:'楷体,楷体_GB2312, SimKai'},\n            //    { label:'',name:'yahei',val:'微软雅黑,Microsoft YaHei'},\n            //    { label:'',name:'heiti',val:'黑体, SimHei'},\n            //    { label:'',name:'lishu',val:'隶书, SimLi'},\n            //    { label:'',name:'andaleMono',val:'andale mono'},\n            //    { label:'',name:'arial',val:'arial, helvetica,sans-serif'},\n            //    { label:'',name:'arialBlack',val:'arial black,avant garde'},\n            //    { label:'',name:'comicSansMs',val:'comic sans ms'},\n            //    { label:'',name:'impact',val:'impact,chicago'},\n            //    { label:'',name:'timesNewRoman',val:'times new roman'}\n            //]\n\n            //fontsize\n            //字号\n            //,'fontsize':[10, 11, 12, 14, 16, 18, 20, 24, 36]\n\n            //paragraph\n            //段落格式 值留空时支持多语言自动识别，若配置，则以配置值为准\n            //,'paragraph':{'p':'', 'h1':'', 'h2':'', 'h3':'', 'h4':'', 'h5':'', 'h6':''}\n\n            //rowspacingtop\n            //段间距 值和显示的名字相同\n            //,'rowspacingtop':['5', '10', '15', '20', '25']\n\n            //rowspacingBottom\n            //段间距 值和显示的名字相同\n            //,'rowspacingbottom':['5', '10', '15', '20', '25']\n\n            //lineheight\n            //行内间距 值和显示的名字相同\n            //,'lineheight':['1', '1.5','1.75','2', '3', '4', '5']\n\n            //customstyle\n            //自定义样式，不支持国际化，此处配置值即可最后显示值\n            //block的元素是依据设置段落的逻辑设置的，inline的元素依据BIU的逻辑设置\n            //尽量使用一些常用的标签\n            //参数说明\n            //tag 使用的标签名字\n            //label 显示的名字也是用来标识不同类型的标识符，注意这个值每个要不同，\n            //style 添加的样式\n            //每一个对象就是一个自定义的样式\n            //,'customstyle':[\n            //    {tag:'h1', name:'tc', label:'', style:'border-bottom:#ccc 2px solid;padding:0 4px 0 0;text-align:center;margin:0 0 20px 0;'},\n            //    {tag:'h1', name:'tl',label:'', style:'border-bottom:#ccc 2px solid;padding:0 4px 0 0;margin:0 0 10px 0;'},\n            //    {tag:'span',name:'im', label:'', style:'font-style:italic;font-weight:bold'},\n            //    {tag:'span',name:'hi', label:'', style:'font-style:italic;font-weight:bold;color:rgb(51, 153, 204)'}\n            //]\n\n            //打开右键菜单功能\n            //,enableContextMenu: true\n            //右键菜单的内容，可以参考plugins/contextmenu.js里边的默认菜单的例子，label留空支持国际化，否则以此配置为准\n            //,contextMenu:[\n            //    {\n            //        label:'',       //显示的名称\n            //        cmdName:'selectall',//执行的command命令，当点击这个右键菜单时\n            //        //exec可选，有了exec就会在点击时执行这个function，优先级高于cmdName\n            //        exec:function () {\n            //            //this是当前编辑器的实例\n            //            //this.ui._dialogs['inserttableDialog'].open();\n            //        }\n            //    }\n            //]\n\n            //快捷菜单\n            //,shortcutMenu:[\"fontfamily\", \"fontsize\", \"bold\", \"italic\", \"underline\", \"forecolor\", \"backcolor\", \"insertorderedlist\", \"insertunorderedlist\"]\n\n            //elementPathEnabled\n            //是否启用元素路径，默认是显示\n            //,elementPathEnabled : true\n\n            //wordCount\n            //,wordCount:true          //是否开启字数统计\n            //,maximumWords:10000       //允许的最大字符数\n            //字数统计提示，{#count}代表当前字数，{#leave}代表还可以输入多少字符数,留空支持多语言自动切换，否则按此配置显示\n            //,wordCountMsg:''   //当前已输入 {#count} 个字符，您还可以输入{#leave} 个字符\n            //超出字数限制提示  留空支持多语言自动切换，否则按此配置显示\n            //,wordOverFlowMsg:''    //<span style=\"color:red;\">你输入的字符个数已经超出最大允许值，服务器可能会拒绝保存！</span>\n\n            //tab\n            //点击tab键时移动的距离,tabSize倍数，tabNode什么字符做为单位\n            //,tabSize:4\n            //,tabNode:'&nbsp;'\n\n            //removeFormat\n            //清除格式时可以删除的标签和属性\n            //removeForamtTags标签\n            //,removeFormatTags:'b,big,code,del,dfn,em,font,i,ins,kbd,q,samp,small,span,strike,strong,sub,sup,tt,u,var'\n            //removeFormatAttributes属性\n            //,removeFormatAttributes:'class,style,lang,width,height,align,hspace,valign'\n\n            //undo\n            //可以最多回退的次数,默认20\n            //,maxUndoCount:20\n            //当输入的字符数超过该值时，保存一次现场\n            //,maxInputCount:1\n\n            //autoHeightEnabled\n            // 是否自动长高,默认true\n            ,\n        autoHeightEnabled: false\n\n            //scaleEnabled\n            //是否可以拉伸长高,默认true(当开启时，自动长高失效)\n            //,scaleEnabled:false\n            //,minFrameWidth:800    //编辑器拖动时最小宽度,默认800\n            //,minFrameHeight:220  //编辑器拖动时最小高度,默认220\n\n            //autoFloatEnabled\n            //是否保持toolbar的位置不动,默认true\n            //,autoFloatEnabled:true\n            //浮动时工具栏距离浏览器顶部的高度，用于某些具有固定头部的页面\n            //,topOffset:30\n            //编辑器底部距离工具栏高度(如果参数大于等于编辑器高度，则设置无效)\n            //,toolbarTopOffset:400\n\n            //设置远程图片是否抓取到本地保存\n            //,catchRemoteImageEnable: true //设置是否抓取远程图片\n\n            //pageBreakTag\n            //分页标识符,默认是_neditor_page_break_tag_\n            //,pageBreakTag:'_neditor_page_break_tag_'\n\n            //autotypeset\n            //自动排版参数\n            //,autotypeset: {\n            //    mergeEmptyline: true,           //合并空行\n            //    removeClass: true,              //去掉冗余的class\n            //    removeEmptyline: false,         //去掉空行\n            //    textAlign:\"left\",               //段落的排版方式，可以是 left,right,center,justify 去掉这个属性表示不执行排版\n            //    imageBlockLine: 'center',       //图片的浮动方式，独占一行剧中,左右浮动，默认: center,left,right,none 去掉这个属性表示不执行排版\n            //    pasteFilter: false,             //根据规则过滤没事粘贴进来的内容\n            //    clearFontSize: false,           //去掉所有的内嵌字号，使用编辑器默认的字号\n            //    clearFontFamily: false,         //去掉所有的内嵌字体，使用编辑器默认的字体\n            //    removeEmptyNode: false,         // 去掉空节点\n            //    //可以去掉的标签\n            //    removeTagNames: {标签名字:1},\n            //    indent: false,                  // 行首缩进\n            //    indentValue : '2em',            //行首缩进的大小\n            //    bdc2sb: false,\n            //    tobdc: false\n            //}\n\n            //tableDragable\n            //表格是否可以拖拽\n            //,tableDragable: true\n\n            //sourceEditor\n            //源码的查看方式,codemirror 是代码高亮，textarea是文本框,默认是codemirror\n            //注意默认codemirror只能在ie8+和非ie中使用\n            //,sourceEditor:\"codemirror\"\n            //如果sourceEditor是codemirror，还用配置一下两个参数\n            //codeMirrorJsUrl js加载的路径，默认是 URL + \"third-party/codemirror/codemirror.js\"\n            //,codeMirrorJsUrl:URL + \"third-party/codemirror/codemirror.js\"\n            //codeMirrorCssUrl css加载的路径，默认是 URL + \"third-party/codemirror/codemirror.css\"\n            //,codeMirrorCssUrl:URL + \"third-party/codemirror/codemirror.css\"\n            //编辑器初始化完成后是否进入源码模式，默认为否。\n            //,sourceEditorFirst:false\n\n            //iframeUrlMap\n            //dialog内容的路径 ～会被替换成URL,垓属性一旦打开，将覆盖所有的dialog的默认路径\n            //,iframeUrlMap:{\n            //    'anchor':'~/dialogs/anchor/anchor.html',\n            //}\n\n            //allowLinkProtocol 允许的链接地址，有这些前缀的链接地址不会自动添加http\n            //, allowLinkProtocols: ['http:', 'https:', '#', '/', 'ftp:', 'mailto:', 'tel:', 'git:', 'svn:']\n\n            //webAppKey 百度应用的APIkey，每个站长必须首先去百度官网注册一个key后方能正常使用app功能，注册介绍，http://app.baidu.com/static/cms/getapikey.html\n            //, webAppKey: \"\"\n\n            //默认过滤规则相关配置项目\n            //,disabledTableInTable:true  //禁止表格嵌套\n            //,allowDivTransToP:true      //允许进入编辑器的div标签自动变成p标签\n            //,rgb2Hex:true               //默认产出的数据中的color自动从rgb格式变成16进制格式\n\n            // xss 过滤是否开启,inserthtml等操作\n            ,\n        xssFilterRules: true\n            //input xss过滤\n            ,\n        inputXssFilter: true\n            //output xss过滤\n            ,\n        outputXssFilter: true\n            // xss过滤白名单 名单来源: https://raw.githubusercontent.com/leizongmin/js-xss/master/lib/default.js\n            ,\n        whitList: {\n            a: ['target', 'href', 'title', 'class', 'style'],\n            abbr: ['title', 'class', 'style'],\n            address: ['class', 'style'],\n            area: ['shape', 'coords', 'href', 'alt'],\n            article: [],\n            aside: [],\n            audio: ['autoplay', 'controls', 'loop', 'preload', 'src', 'class', 'style'],\n            b: ['class', 'style'],\n            bdi: ['dir'],\n            bdo: ['dir'],\n            big: [],\n            blockquote: ['cite', 'class', 'style'],\n            br: [],\n            caption: ['class', 'style'],\n            center: [],\n            cite: [],\n            code: ['class', 'style'],\n            col: ['align', 'valign', 'span', 'width', 'class', 'style'],\n            colgroup: ['align', 'valign', 'span', 'width', 'class', 'style'],\n            dd: ['class', 'style'],\n            del: ['datetime'],\n            details: ['open'],\n            div: ['class', 'style'],\n            dl: ['class', 'style'],\n            dt: ['class', 'style'],\n            em: ['class', 'style'],\n            font: ['color', 'size', 'face'],\n            footer: [],\n            h1: ['class', 'style'],\n            h2: ['class', 'style'],\n            h3: ['class', 'style'],\n            h4: ['class', 'style'],\n            h5: ['class', 'style'],\n            h6: ['class', 'style'],\n            header: [],\n            hr: [],\n            i: ['class', 'style'],\n            img: ['src', 'alt', 'title', 'width', 'height', 'id', '_src', '_url', 'loadingclass', 'class', 'data-latex'],\n            ins: ['datetime'],\n            li: ['class', 'style'],\n            mark: [],\n            nav: [],\n            ol: ['class', 'style'],\n            p: ['class', 'style'],\n            pre: ['class', 'style'],\n            s: [],\n            section: [],\n            small: [],\n            span: ['class', 'style'],\n            sub: ['class', 'style'],\n            sup: ['class', 'style'],\n            strong: ['class', 'style'],\n            table: ['width', 'border', 'align', 'valign', 'class', 'style'],\n            tbody: ['align', 'valign', 'class', 'style'],\n            td: ['width', 'rowspan', 'colspan', 'align', 'valign', 'class', 'style'],\n            tfoot: ['align', 'valign', 'class', 'style'],\n            th: ['width', 'rowspan', 'colspan', 'align', 'valign', 'class', 'style'],\n            thead: ['align', 'valign', 'class', 'style'],\n            tr: ['rowspan', 'align', 'valign', 'class', 'style'],\n            tt: [],\n            u: [],\n            ul: ['class', 'style'],\n            video: ['autoplay', 'controls', 'loop', 'preload', 'src', 'height', 'width', 'class', 'style'],\n            source: ['src', 'type'],\n            embed: ['type', 'class', 'pluginspage', 'src', 'width', 'height', 'align', 'style', 'wmode', 'play', 'autoplay', 'loop', 'menu', 'allowscriptaccess', 'allowfullscreen', 'controls', 'preload'],\n            iframe: ['src', 'class', 'height', 'width', 'max-width', 'max-height', 'align', 'frameborder', 'allowfullscreen']\n        }\n    };\n\n    function getUEBasePath(docUrl, confUrl) {\n        return getBasePath(\n            docUrl || self.document.URL || self.location.href,\n            confUrl || getConfigFilePath()\n        );\n    }\n\n    function getConfigFilePath() {\n        var configPath = document.getElementsByTagName(\"script\");\n\n        return configPath[configPath.length - 1].src;\n    }\n\n    function getBasePath(docUrl, confUrl) {\n        var basePath = confUrl;\n\n        if (/^(\\/|\\\\\\\\)/.test(confUrl)) {\n            basePath =\n                /^.+?\\w(\\/|\\\\\\\\)/.exec(docUrl)[0] + confUrl.replace(/^(\\/|\\\\\\\\)/, \"\");\n        } else if (!/^[a-z]+:/i.test(confUrl)) {\n            docUrl = docUrl.split(\"#\")[0].split(\"?\")[0].replace(/[^\\\\\\/]+$/, \"\");\n\n            basePath = docUrl + \"\" + confUrl;\n        }\n\n        return optimizationPath(basePath);\n    }\n\n    function optimizationPath(path) {\n        var protocol = /^[a-z]+:\\/\\//.exec(path)[0],\n            tmp = null,\n            res = [];\n\n        path = path.replace(protocol, \"\").split(\"?\")[0].split(\"#\")[0];\n\n        path = path.replace(/\\\\/g, \"/\").split(/\\//);\n\n        path[path.length - 1] = \"\";\n\n        while (path.length) {\n            if ((tmp = path.shift()) === \"..\") {\n                res.pop();\n            } else if (tmp !== \".\") {\n                res.push(tmp);\n            }\n        }\n\n        return protocol + res.join(\"/\");\n    }\n\n    window.UE = {\n        getUEBasePath: getUEBasePath\n    };\n})();\n\n\n\n// WEBPACK FOOTER //\n// ./src/static/neditor/neditor.config.js","/*!\n * neditor\n * version: 2.1.3\n * build: Thu Oct 11 2018 08:02:32 GMT+0800 (中国标准时间)\n */\n\n(function(){\n\n// editor.js\nUEDITOR_CONFIG = window.UEDITOR_CONFIG || {};\n\nvar baidu = window.baidu || {};\n\nwindow.baidu = baidu;\n\nwindow.UE = baidu.editor = {\n  plugins: {},\n  commands: {},\n  instants: {},\n  I18N: {},\n  _customizeUI: {},\n  version: \"1.5.0\"\n};\nvar dom = (UE.dom = {});\n\n\n// core/browser.js\n/**\n * 浏览器判断模块\n * @file\n * @module UE.browser\n * @since 1.2.6.1\n */\n\n/**\n * 提供浏览器检测的模块\n * @unfile\n * @module UE.browser\n */\nvar browser = (UE.browser = (function() {\n  var agent = navigator.userAgent.toLowerCase(),\n    opera = window.opera,\n    browser = {\n      /**\n         * @property {boolean} ie 检测当前浏览器是否为IE\n         * @example\n         * ```javascript\n         * if ( UE.browser.ie ) {\n         *     console.log( '当前浏览器是IE' );\n         * }\n         * ```\n         */\n      ie: /(msie\\s|trident.*rv:)([\\w.]+)/i.test(agent),\n\n      /**\n         * @property {boolean} opera 检测当前浏览器是否为Opera\n         * @example\n         * ```javascript\n         * if ( UE.browser.opera ) {\n         *     console.log( '当前浏览器是Opera' );\n         * }\n         * ```\n         */\n      opera: !!opera && opera.version,\n\n      /**\n         * @property {boolean} webkit 检测当前浏览器是否是webkit内核的浏览器\n         * @example\n         * ```javascript\n         * if ( UE.browser.webkit ) {\n         *     console.log( '当前浏览器是webkit内核浏览器' );\n         * }\n         * ```\n         */\n      webkit: agent.indexOf(\" applewebkit/\") > -1,\n\n      /**\n         * @property {boolean} mac 检测当前浏览器是否是运行在mac平台下\n         * @example\n         * ```javascript\n         * if ( UE.browser.mac ) {\n         *     console.log( '当前浏览器运行在mac平台下' );\n         * }\n         * ```\n         */\n      mac: agent.indexOf(\"macintosh\") > -1,\n\n      /**\n         * @property {boolean} quirks 检测当前浏览器是否处于“怪异模式”下\n         * @example\n         * ```javascript\n         * if ( UE.browser.quirks ) {\n         *     console.log( '当前浏览器运行处于“怪异模式”' );\n         * }\n         * ```\n         */\n      quirks: document.compatMode == \"BackCompat\"\n    };\n\n  /**\n    * @property {boolean} gecko 检测当前浏览器内核是否是gecko内核\n    * @example\n    * ```javascript\n    * if ( UE.browser.gecko ) {\n    *     console.log( '当前浏览器内核是gecko内核' );\n    * }\n    * ```\n    */\n  browser.gecko =\n    navigator.product == \"Gecko\" &&\n    !browser.webkit &&\n    !browser.opera &&\n    !browser.ie;\n\n  var version = 0;\n\n  // Internet Explorer 6.0+\n  if (browser.ie) {\n    var v1 = agent.match(/(?:msie\\s([\\w.]+))/);\n    var v2 = agent.match(/(?:trident.*rv:([\\w.]+))/);\n    if (v1 && v2 && v1[1] && v2[1]) {\n      version = Math.max(v1[1] * 1, v2[1] * 1);\n    } else if (v1 && v1[1]) {\n      version = v1[1] * 1;\n    } else if (v2 && v2[1]) {\n      version = v2[1] * 1;\n    } else {\n      version = 0;\n    }\n\n    browser.ie11Compat = document.documentMode == 11;\n    /**\n         * @property { boolean } ie9Compat 检测浏览器模式是否为 IE9 兼容模式\n         * @warning 如果浏览器不是IE， 则该值为undefined\n         * @example\n         * ```javascript\n         * if ( UE.browser.ie9Compat ) {\n         *     console.log( '当前浏览器运行在IE9兼容模式下' );\n         * }\n         * ```\n         */\n    browser.ie9Compat = document.documentMode == 9;\n\n    /**\n         * @property { boolean } ie8 检测浏览器是否是IE8浏览器\n         * @warning 如果浏览器不是IE， 则该值为undefined\n         * @example\n         * ```javascript\n         * if ( UE.browser.ie8 ) {\n         *     console.log( '当前浏览器是IE8浏览器' );\n         * }\n         * ```\n         */\n    browser.ie8 = !!document.documentMode;\n\n    /**\n         * @property { boolean } ie8Compat 检测浏览器模式是否为 IE8 兼容模式\n         * @warning 如果浏览器不是IE， 则该值为undefined\n         * @example\n         * ```javascript\n         * if ( UE.browser.ie8Compat ) {\n         *     console.log( '当前浏览器运行在IE8兼容模式下' );\n         * }\n         * ```\n         */\n    browser.ie8Compat = document.documentMode == 8;\n\n    /**\n         * @property { boolean } ie7Compat 检测浏览器模式是否为 IE7 兼容模式\n         * @warning 如果浏览器不是IE， 则该值为undefined\n         * @example\n         * ```javascript\n         * if ( UE.browser.ie7Compat ) {\n         *     console.log( '当前浏览器运行在IE7兼容模式下' );\n         * }\n         * ```\n         */\n    browser.ie7Compat =\n      (version == 7 && !document.documentMode) || document.documentMode == 7;\n\n    /**\n         * @property { boolean } ie6Compat 检测浏览器模式是否为 IE6 模式 或者怪异模式\n         * @warning 如果浏览器不是IE， 则该值为undefined\n         * @example\n         * ```javascript\n         * if ( UE.browser.ie6Compat ) {\n         *     console.log( '当前浏览器运行在IE6模式或者怪异模式下' );\n         * }\n         * ```\n         */\n    browser.ie6Compat = version < 7 || browser.quirks;\n\n    browser.ie9above = version > 8;\n\n    browser.ie9below = version < 9;\n\n    browser.ie11above = version > 10;\n\n    browser.ie11below = version < 11;\n  }\n\n  // Gecko.\n  if (browser.gecko) {\n    var geckoRelease = agent.match(/rv:([\\d\\.]+)/);\n    if (geckoRelease) {\n      geckoRelease = geckoRelease[1].split(\".\");\n      version =\n        geckoRelease[0] * 10000 +\n        (geckoRelease[1] || 0) * 100 +\n        (geckoRelease[2] || 0) * 1;\n    }\n  }\n\n  /**\n     * @property { Number } chrome 检测当前浏览器是否为Chrome, 如果是，则返回Chrome的大版本号\n     * @warning 如果浏览器不是chrome， 则该值为undefined\n     * @example\n     * ```javascript\n     * if ( UE.browser.chrome ) {\n     *     console.log( '当前浏览器是Chrome' );\n     * }\n     * ```\n     */\n  if (/chrome\\/(\\d+\\.\\d)/i.test(agent)) {\n    browser.chrome = +RegExp[\"\\x241\"];\n  }\n\n  /**\n     * @property { Number } safari 检测当前浏览器是否为Safari, 如果是，则返回Safari的大版本号\n     * @warning 如果浏览器不是safari， 则该值为undefined\n     * @example\n     * ```javascript\n     * if ( UE.browser.safari ) {\n     *     console.log( '当前浏览器是Safari' );\n     * }\n     * ```\n     */\n  if (\n    /(\\d+\\.\\d)?(?:\\.\\d)?\\s+safari\\/?(\\d+\\.\\d+)?/i.test(agent) &&\n    !/chrome/i.test(agent)\n  ) {\n    browser.safari = +(RegExp[\"\\x241\"] || RegExp[\"\\x242\"]);\n  }\n\n  // Opera 9.50+\n  if (browser.opera) version = parseFloat(opera.version());\n\n  // WebKit 522+ (Safari 3+)\n  if (browser.webkit)\n    version = parseFloat(agent.match(/ applewebkit\\/(\\d+)/)[1]);\n\n  /**\n     * @property { Number } version 检测当前浏览器版本号\n     * @remind\n     * <ul>\n     *     <li>IE系列返回值为5,6,7,8,9,10等</li>\n     *     <li>gecko系列会返回10900，158900等</li>\n     *     <li>webkit系列会返回其build号 (如 522等)</li>\n     * </ul>\n     * @example\n     * ```javascript\n     * console.log( '当前浏览器版本号是： ' + UE.browser.version );\n     * ```\n     */\n  browser.version = version;\n\n  /**\n     * @property { boolean } isCompatible 检测当前浏览器是否能够与UEditor良好兼容\n     * @example\n     * ```javascript\n     * if ( UE.browser.isCompatible ) {\n     *     console.log( '浏览器与UEditor能够良好兼容' );\n     * }\n     * ```\n     */\n  browser.isCompatible =\n    !browser.mobile &&\n    ((browser.ie && version >= 6) ||\n      (browser.gecko && version >= 10801) ||\n      (browser.opera && version >= 9.5) ||\n      (browser.air && version >= 1) ||\n      (browser.webkit && version >= 522) ||\n      false);\n  return browser;\n})());\n//快捷方式\nvar ie = browser.ie,\n  webkit = browser.webkit,\n  gecko = browser.gecko,\n  opera = browser.opera;\n\n\n// core/utils.js\n/**\n * 工具函数包\n * @file\n * @module UE.utils\n * @since 1.2.6.1\n */\n\n/**\n * UEditor封装使用的静态工具函数\n * @module UE.utils\n * @unfile\n */\n\nvar utils = (UE.utils = {\n  /**\n     * 用给定的迭代器遍历对象\n     * @method each\n     * @param { Object } obj 需要遍历的对象\n     * @param { Function } iterator 迭代器， 该方法接受两个参数， 第一个参数是当前所处理的value， 第二个参数是当前遍历对象的key\n     * @example\n     * ```javascript\n     * var demoObj = {\n     *     key1: 1,\n     *     key2: 2\n     * };\n     *\n     * //output: key1: 1, key2: 2\n     * UE.utils.each( demoObj, funciton ( value, key ) {\n     *\n     *     console.log( key + \":\" + value );\n     *\n     * } );\n     * ```\n     */\n\n  /**\n     * 用给定的迭代器遍历数组或类数组对象\n     * @method each\n     * @param { Array } array 需要遍历的数组或者类数组\n     * @param { Function } iterator 迭代器， 该方法接受两个参数， 第一个参数是当前所处理的value， 第二个参数是当前遍历对象的key\n     * @example\n     * ```javascript\n     * var divs = document.getElmentByTagNames( \"div\" );\n     *\n     * //output: 0: DIV, 1: DIV ...\n     * UE.utils.each( divs, funciton ( value, key ) {\n     *\n     *     console.log( key + \":\" + value.tagName );\n     *\n     * } );\n     * ```\n     */\n  each: function(obj, iterator, context) {\n    if (obj == null) return;\n    if (obj.length === +obj.length) {\n      for (var i = 0, l = obj.length; i < l; i++) {\n        if (iterator.call(context, obj[i], i, obj) === false) return false;\n      }\n    } else {\n      for (var key in obj) {\n        if (obj.hasOwnProperty(key)) {\n          if (iterator.call(context, obj[key], key, obj) === false)\n            return false;\n        }\n      }\n    }\n  },\n\n  /**\n     * 以给定对象作为原型创建一个新对象\n     * @method makeInstance\n     * @param { Object } protoObject 该对象将作为新创建对象的原型\n     * @return { Object } 新的对象， 该对象的原型是给定的protoObject对象\n     * @example\n     * ```javascript\n     *\n     * var protoObject = { sayHello: function () { console.log('Hello UEditor!'); } };\n     *\n     * var newObject = UE.utils.makeInstance( protoObject );\n     * //output: Hello UEditor!\n     * newObject.sayHello();\n     * ```\n     */\n  makeInstance: function(obj) {\n    var noop = new Function();\n    noop.prototype = obj;\n    obj = new noop();\n    noop.prototype = null;\n    return obj;\n  },\n\n  /**\n     * 将source对象中的属性扩展到target对象上\n     * @method extend\n     * @remind 该方法将强制把source对象上的属性复制到target对象上\n     * @see UE.utils.extend(Object,Object,Boolean)\n     * @param { Object } target 目标对象， 新的属性将附加到该对象上\n     * @param { Object } source 源对象， 该对象的属性会被附加到target对象上\n     * @return { Object } 返回target对象\n     * @example\n     * ```javascript\n     *\n     * var target = { name: 'target', sex: 1 },\n     *      source = { name: 'source', age: 17 };\n     *\n     * UE.utils.extend( target, source );\n     *\n     * //output: { name: 'source', sex: 1, age: 17 }\n     * console.log( target );\n     *\n     * ```\n     */\n\n  /**\n     * 将source对象中的属性扩展到target对象上， 根据指定的isKeepTarget值决定是否保留目标对象中与\n     * 源对象属性名相同的属性值。\n     * @method extend\n     * @param { Object } target 目标对象， 新的属性将附加到该对象上\n     * @param { Object } source 源对象， 该对象的属性会被附加到target对象上\n     * @param { Boolean } isKeepTarget 是否保留目标对象中与源对象中属性名相同的属性\n     * @return { Object } 返回target对象\n     * @example\n     * ```javascript\n     *\n     * var target = { name: 'target', sex: 1 },\n     *      source = { name: 'source', age: 17 };\n     *\n     * UE.utils.extend( target, source, true );\n     *\n     * //output: { name: 'target', sex: 1, age: 17 }\n     * console.log( target );\n     *\n     * ```\n     */\n  extend: function(t, s, b) {\n    if (s) {\n      for (var k in s) {\n        if (!b || !t.hasOwnProperty(k)) {\n          t[k] = s[k];\n        }\n      }\n    }\n    return t;\n  },\n\n  /**\n     * 将给定的多个对象的属性复制到目标对象target上\n     * @method extend2\n     * @remind 该方法将强制把源对象上的属性复制到target对象上\n     * @remind 该方法支持两个及以上的参数， 从第二个参数开始， 其属性都会被复制到第一个参数上。 如果遇到同名的属性，\n     *          将会覆盖掉之前的值。\n     * @param { Object } target 目标对象， 新的属性将附加到该对象上\n     * @param { Object... } source 源对象， 支持多个对象， 该对象的属性会被附加到target对象上\n     * @return { Object } 返回target对象\n     * @example\n     * ```javascript\n     *\n     * var target = {},\n     *     source1 = { name: 'source', age: 17 },\n     *     source2 = { title: 'dev' };\n     *\n     * UE.utils.extend2( target, source1, source2 );\n     *\n     * //output: { name: 'source', age: 17, title: 'dev' }\n     * console.log( target );\n     *\n     * ```\n     */\n  extend2: function(t) {\n    var a = arguments;\n    for (var i = 1; i < a.length; i++) {\n      var x = a[i];\n      for (var k in x) {\n        if (!t.hasOwnProperty(k)) {\n          t[k] = x[k];\n        }\n      }\n    }\n    return t;\n  },\n\n  /**\n     * 模拟继承机制， 使得subClass继承自superClass\n     * @method inherits\n     * @param { Object } subClass 子类对象\n     * @param { Object } superClass 超类对象\n     * @warning 该方法只能让subClass继承超类的原型， subClass对象自身的属性和方法不会被继承\n     * @return { Object } 继承superClass后的子类对象\n     * @example\n     * ```javascript\n     * function SuperClass(){\n     *     this.name = \"小李\";\n     * }\n     *\n     * SuperClass.prototype = {\n     *     hello:function(str){\n     *         console.log(this.name + str);\n     *     }\n     * }\n     *\n     * function SubClass(){\n     *     this.name = \"小张\";\n     * }\n     *\n     * UE.utils.inherits(SubClass,SuperClass);\n     *\n     * var sub = new SubClass();\n     * //output: '小张早上好!\n     * sub.hello(\"早上好!\");\n     * ```\n     */\n  inherits: function(subClass, superClass) {\n    var oldP = subClass.prototype,\n      newP = utils.makeInstance(superClass.prototype);\n    utils.extend(newP, oldP, true);\n    subClass.prototype = newP;\n    return (newP.constructor = subClass);\n  },\n\n  /**\n     * 用指定的context对象作为函数fn的上下文\n     * @method bind\n     * @param { Function } fn 需要绑定上下文的函数对象\n     * @param { Object } content 函数fn新的上下文对象\n     * @return { Function } 一个新的函数， 该函数作为原始函数fn的代理， 将完成fn的上下文调换工作。\n     * @example\n     * ```javascript\n     *\n     * var name = 'window',\n     *     newTest = null;\n     *\n     * function test () {\n     *     console.log( this.name );\n     * }\n     *\n     * newTest = UE.utils.bind( test, { name: 'object' } );\n     *\n     * //output: object\n     * newTest();\n     *\n     * //output: window\n     * test();\n     *\n     * ```\n     */\n  bind: function(fn, context) {\n    return function() {\n      return fn.apply(context, arguments);\n    };\n  },\n\n  /**\n     * 创建延迟指定时间后执行的函数fn\n     * @method defer\n     * @param { Function } fn 需要延迟执行的函数对象\n     * @param { int } delay 延迟的时间， 单位是毫秒\n     * @warning 该方法的时间控制是不精确的，仅仅只能保证函数的执行是在给定的时间之后，\n     *           而不能保证刚好到达延迟时间时执行。\n     * @return { Function } 目标函数fn的代理函数， 只有执行该函数才能起到延时效果\n     * @example\n     * ```javascript\n     * var start = 0;\n     *\n     * function test(){\n     *     console.log( new Date() - start );\n     * }\n     *\n     * var testDefer = UE.utils.defer( test, 1000 );\n     * //\n     * start = new Date();\n     * //output: (大约在1000毫秒之后输出) 1000\n     * testDefer();\n     * ```\n     */\n\n  /**\n     * 创建延迟指定时间后执行的函数fn, 如果在延迟时间内再次执行该方法， 将会根据指定的exclusion的值，\n     * 决定是否取消前一次函数的执行， 如果exclusion的值为true， 则取消执行，反之，将继续执行前一个方法。\n     * @method defer\n     * @param { Function } fn 需要延迟执行的函数对象\n     * @param { int } delay 延迟的时间， 单位是毫秒\n     * @param { Boolean } exclusion 如果在延迟时间内再次执行该函数，该值将决定是否取消执行前一次函数的执行，\n     *                     值为true表示取消执行， 反之则将在执行前一次函数之后才执行本次函数调用。\n     * @warning 该方法的时间控制是不精确的，仅仅只能保证函数的执行是在给定的时间之后，\n     *           而不能保证刚好到达延迟时间时执行。\n     * @return { Function } 目标函数fn的代理函数， 只有执行该函数才能起到延时效果\n     * @example\n     * ```javascript\n     *\n     * function test(){\n     *     console.log(1);\n     * }\n     *\n     * var testDefer = UE.utils.defer( test, 1000, true );\n     *\n     * //output: (两次调用仅有一次输出) 1\n     * testDefer();\n     * testDefer();\n     * ```\n     */\n  defer: function(fn, delay, exclusion) {\n    var timerID;\n    return function() {\n      if (exclusion) {\n        clearTimeout(timerID);\n      }\n      timerID = setTimeout(fn, delay);\n    };\n  },\n\n  /**\n     * 获取元素item在数组array中首次出现的位置, 如果未找到item， 则返回-1\n     * @method indexOf\n     * @remind 该方法的匹配过程使用的是恒等“===”\n     * @param { Array } array 需要查找的数组对象\n     * @param { * } item 需要在目标数组中查找的值\n     * @return { int } 返回item在目标数组array中首次出现的位置， 如果在数组中未找到item， 则返回-1\n     * @example\n     * ```javascript\n     * var item = 1,\n     *     arr = [ 3, 4, 6, 8, 1, 1, 2 ];\n     *\n     * //output: 4\n     * console.log( UE.utils.indexOf( arr, item ) );\n     * ```\n     */\n\n  /**\n     * 获取元素item数组array中首次出现的位置, 如果未找到item， 则返回-1。通过start的值可以指定搜索的起始位置。\n     * @method indexOf\n     * @remind 该方法的匹配过程使用的是恒等“===”\n     * @param { Array } array 需要查找的数组对象\n     * @param { * } item 需要在目标数组中查找的值\n     * @param { int } start 搜索的起始位置\n     * @return { int } 返回item在目标数组array中的start位置之后首次出现的位置， 如果在数组中未找到item， 则返回-1\n     * @example\n     * ```javascript\n     * var item = 1,\n     *     arr = [ 3, 4, 6, 8, 1, 2, 8, 3, 2, 1, 1, 4 ];\n     *\n     * //output: 9\n     * console.log( UE.utils.indexOf( arr, item, 5 ) );\n     * ```\n     */\n  indexOf: function(array, item, start) {\n    var index = -1;\n    start = this.isNumber(start) ? start : 0;\n    this.each(array, function(v, i) {\n      if (i >= start && v === item) {\n        index = i;\n        return false;\n      }\n    });\n    return index;\n  },\n\n  /**\n     * 移除数组array中所有的元素item\n     * @method removeItem\n     * @param { Array } array 要移除元素的目标数组\n     * @param { * } item 将要被移除的元素\n     * @remind 该方法的匹配过程使用的是恒等“===”\n     * @example\n     * ```javascript\n     * var arr = [ 4, 5, 7, 1, 3, 4, 6 ];\n     *\n     * UE.utils.removeItem( arr, 4 );\n     * //output: [ 5, 7, 1, 3, 6 ]\n     * console.log( arr );\n     *\n     * ```\n     */\n  removeItem: function(array, item) {\n    for (var i = 0, l = array.length; i < l; i++) {\n      if (array[i] === item) {\n        array.splice(i, 1);\n        i--;\n      }\n    }\n  },\n\n  /**\n     * 删除字符串str的首尾空格\n     * @method trim\n     * @param { String } str 需要删除首尾空格的字符串\n     * @return { String } 删除了首尾的空格后的字符串\n     * @example\n     * ```javascript\n     *\n     * var str = \" UEdtior \";\n     *\n     * //output: 9\n     * console.log( str.length );\n     *\n     * //output: 7\n     * console.log( UE.utils.trim( \" UEdtior \" ).length );\n     *\n     * //output: 9\n     * console.log( str.length );\n     *\n     *  ```\n     */\n  trim: function(str) {\n    return str.replace(/(^[ \\t\\n\\r]+)|([ \\t\\n\\r]+$)/g, \"\");\n  },\n\n  /**\n     * 将字符串str以','分隔成数组后，将该数组转换成哈希对象， 其生成的hash对象的key为数组中的元素， value为1\n     * @method listToMap\n     * @warning 该方法在生成的hash对象中，会为每一个key同时生成一个另一个全大写的key。\n     * @param { String } str 该字符串将被以','分割为数组， 然后进行转化\n     * @return { Object } 转化之后的hash对象\n     * @example\n     * ```javascript\n     *\n     * //output: Object {UEdtior: 1, UEDTIOR: 1, Hello: 1, HELLO: 1}\n     * console.log( UE.utils.listToMap( 'UEdtior,Hello' ) );\n     *\n     * ```\n     */\n\n  /**\n     * 将字符串数组转换成哈希对象， 其生成的hash对象的key为数组中的元素， value为1\n     * @method listToMap\n     * @warning 该方法在生成的hash对象中，会为每一个key同时生成一个另一个全大写的key。\n     * @param { Array } arr 字符串数组\n     * @return { Object } 转化之后的hash对象\n     * @example\n     * ```javascript\n     *\n     * //output: Object {UEdtior: 1, UEDTIOR: 1, Hello: 1, HELLO: 1}\n     * console.log( UE.utils.listToMap( [ 'UEdtior', 'Hello' ] ) );\n     *\n     * ```\n     */\n  listToMap: function(list) {\n    if (!list) return {};\n    list = utils.isArray(list) ? list : list.split(\",\");\n    for (var i = 0, ci, obj = {}; (ci = list[i++]); ) {\n      obj[ci.toUpperCase()] = obj[ci] = 1;\n    }\n    return obj;\n  },\n\n  /**\n     * 将str中的html符号转义,将转义“'，&，<，\"，>，”，“”七个字符\n     * @method unhtml\n     * @param { String } str 需要转义的字符串\n     * @return { String } 转义后的字符串\n     * @example\n     * ```javascript\n     * var html = '<body>&</body>';\n     *\n     * //output: &lt;body&gt;&amp;&lt;/body&gt;\n     * console.log( UE.utils.unhtml( html ) );\n     *\n     * ```\n     */\n  unhtml: function(str, reg) {\n    return str\n      ? str.replace(\n          reg || /[&<\">'](?:(amp|lt|ldquo|rdquo|quot|gt|#39|nbsp|#\\d+);)?/g,\n          function(a, b) {\n            if (b) {\n              return a;\n            } else {\n              return {\n                \"<\": \"&lt;\",\n                \"&\": \"&amp;\",\n                '\"': \"&quot;\",\n                \"“\": \"&ldquo;\",\n                \"”\": \"&rdquo;\",\n                \">\": \"&gt;\",\n                \"'\": \"&#39;\"\n              }[a];\n            }\n          }\n        )\n      : \"\";\n  },\n\n  /**\n     * 将str中的转义字符还原成html字符\n     * @see UE.utils.unhtml(String);\n     * @method html\n     * @param { String } str 需要逆转义的字符串\n     * @return { String } 逆转义后的字符串\n     * @example\n     * ```javascript\n     *\n     * var str = '&lt;body&gt;&amp;&lt;/body&gt;';\n     *\n     * //output: <body>&</body>\n     * console.log( UE.utils.html( str ) );\n     *\n     * ```\n     */\n  html: function(str) {\n    return str\n      ? str.replace(/&((g|l|quo|ldquo|rdquo)t|amp|#39|nbsp);/g, function(m) {\n          return {\n            \"&lt;\": \"<\",\n            \"&amp;\": \"&\",\n            \"&quot;\": '\"',\n            \"&ldquo;\": \"“\",\n            \"&rdquo;\": \"”\",\n            \"&gt;\": \">\",\n            \"&#39;\": \"'\",\n            \"&nbsp;\": \" \"\n          }[m];\n        })\n      : \"\";\n  },\n\n  /**\n     * 将css样式转换为驼峰的形式\n     * @method cssStyleToDomStyle\n     * @param { String } cssName 需要转换的css样式名\n     * @return { String } 转换成驼峰形式后的css样式名\n     * @example\n     * ```javascript\n     *\n     * var str = 'border-top';\n     *\n     * //output: borderTop\n     * console.log( UE.utils.cssStyleToDomStyle( str ) );\n     *\n     * ```\n     */\n  cssStyleToDomStyle: (function() {\n    var test = document.createElement(\"div\").style,\n      cache = {\n        float: test.cssFloat != undefined\n          ? \"cssFloat\"\n          : test.styleFloat != undefined ? \"styleFloat\" : \"float\"\n      };\n\n    return function(cssName) {\n      return (\n        cache[cssName] ||\n        (cache[cssName] = cssName.toLowerCase().replace(/-./g, function(match) {\n          return match.charAt(1).toUpperCase();\n        }))\n      );\n    };\n  })(),\n\n  /**\n     * 动态加载文件到doc中\n     * @method loadFile\n     * @param { DomDocument } document 需要加载资源文件的文档对象\n     * @param { Object } options 加载资源文件的属性集合， 取值请参考代码示例\n     * @example\n     * ```javascript\n     *\n     * UE.utils.loadFile( document, {\n     *     src:\"test.js\",\n     *     tag:\"script\",\n     *     type:\"text/javascript\",\n     *     defer:\"defer\"\n     * } );\n     *\n     * ```\n     */\n\n  /**\n     * 动态加载文件到doc中，加载成功后执行的回调函数fn\n     * @method loadFile\n     * @param { DomDocument } document 需要加载资源文件的文档对象\n     * @param { Object } options 加载资源文件的属性集合， 该集合支持的值是script标签和style标签支持的所有属性。\n     * @param { Function } fn 资源文件加载成功之后执行的回调\n     * @warning 对于在同一个文档中多次加载同一URL的文件， 该方法会在第一次加载之后缓存该请求，\n     *           在此之后的所有同一URL的请求， 将会直接触发回调。\n     * @example\n     * ```javascript\n     *\n     * UE.utils.loadFile( document, {\n     *     src:\"test.js\",\n     *     tag:\"script\",\n     *     type:\"text/javascript\",\n     *     defer:\"defer\"\n     * }, function () {\n     *     console.log('加载成功');\n     * } );\n     *\n     * ```\n     */\n  loadFile: (function() {\n    var tmpList = [];\n\n    function getItem(doc, obj) {\n      try {\n        for (var i = 0, ci; (ci = tmpList[i++]); ) {\n          if (ci.doc === doc && ci.url == (obj.src || obj.href)) {\n            return ci;\n          }\n        }\n      } catch (e) {\n        return null;\n      }\n    }\n\n    return function(doc, obj, fn) {\n      var item = getItem(doc, obj);\n      if (item) {\n        if (item.ready) {\n          fn && fn();\n        } else {\n          item.funs.push(fn);\n        }\n        return;\n      }\n      tmpList.push({\n        doc: doc,\n        url: obj.src || obj.href,\n        funs: [fn]\n      });\n      if (!doc.body) {\n        var html = [];\n        for (var p in obj) {\n          if (p == \"tag\") continue;\n          html.push(p + '=\"' + obj[p] + '\"');\n        }\n        doc.write(\n          \"<\" + obj.tag + \" \" + html.join(\" \") + \" ></\" + obj.tag + \">\"\n        );\n        return;\n      }\n      if (obj.id && doc.getElementById(obj.id)) {\n        return;\n      }\n      var element = doc.createElement(obj.tag);\n      delete obj.tag;\n      for (var p in obj) {\n        element.setAttribute(p, obj[p]);\n      }\n      element.onload = element.onreadystatechange = function() {\n        if (!this.readyState || /loaded|complete/.test(this.readyState)) {\n          item = getItem(doc, obj);\n          if (item.funs.length > 0) {\n            item.ready = 1;\n            for (var fi; (fi = item.funs.pop()); ) {\n              fi();\n            }\n          }\n          element.onload = element.onreadystatechange = null;\n        }\n      };\n      element.onerror = function() {\n        throw Error(\n          \"The load \" +\n            (obj.href || obj.src) +\n            \" fails,check the url settings of file neditor.config.js \"\n        );\n      };\n      doc.getElementsByTagName(\"head\")[0].appendChild(element);\n    };\n  })(),\n\n  /**\n     * 判断obj对象是否为空\n     * @method isEmptyObject\n     * @param { * } obj 需要判断的对象\n     * @remind 如果判断的对象是NULL， 将直接返回true， 如果是数组且为空， 返回true， 如果是字符串， 且字符串为空，\n     *          返回true， 如果是普通对象， 且该对象没有任何实例属性， 返回true\n     * @return { Boolean } 对象是否为空\n     * @example\n     * ```javascript\n     *\n     * //output: true\n     * console.log( UE.utils.isEmptyObject( {} ) );\n     *\n     * //output: true\n     * console.log( UE.utils.isEmptyObject( [] ) );\n     *\n     * //output: true\n     * console.log( UE.utils.isEmptyObject( \"\" ) );\n     *\n     * //output: false\n     * console.log( UE.utils.isEmptyObject( { key: 1 } ) );\n     *\n     * //output: false\n     * console.log( UE.utils.isEmptyObject( [1] ) );\n     *\n     * //output: false\n     * console.log( UE.utils.isEmptyObject( \"1\" ) );\n     *\n     * ```\n     */\n  isEmptyObject: function(obj) {\n    if (obj == null) return true;\n    if (this.isArray(obj) || this.isString(obj)) return obj.length === 0;\n    for (var key in obj) if (obj.hasOwnProperty(key)) return false;\n    return true;\n  },\n\n  /**\n     * 把rgb格式的颜色值转换成16进制格式\n     * @method fixColor\n     * @param { String } rgb格式的颜色值\n     * @param { String }\n     * @example\n     * rgb(255,255,255)  => \"#ffffff\"\n     */\n  fixColor: function(name, value) {\n    if (/color/i.test(name) && /rgba?/.test(value)) {\n      var array = value.split(\",\");\n      if (array.length > 3) return \"\";\n      value = \"#\";\n      for (var i = 0, color; (color = array[i++]); ) {\n        color = parseInt(color.replace(/[^\\d]/gi, \"\"), 10).toString(16);\n        value += color.length == 1 ? \"0\" + color : color;\n      }\n      value = value.toUpperCase();\n    }\n    return value;\n  },\n  /**\n     * 只针对border,padding,margin做了处理，因为性能问题\n     * @public\n     * @function\n     * @param {String}    val style字符串\n     */\n  optCss: function(val) {\n    var padding, margin, border;\n    val = val.replace(/(padding|margin|border)\\-([^:]+):([^;]+);?/gi, function(\n      str,\n      key,\n      name,\n      val\n    ) {\n      if (val.split(\" \").length == 1) {\n        switch (key) {\n          case \"padding\":\n            !padding && (padding = {});\n            padding[name] = val;\n            return \"\";\n          case \"margin\":\n            !margin && (margin = {});\n            margin[name] = val;\n            return \"\";\n          case \"border\":\n            return val == \"initial\" ? \"\" : str;\n        }\n      }\n      return str;\n    });\n\n    function opt(obj, name) {\n      if (!obj) {\n        return \"\";\n      }\n      var t = obj.top,\n        b = obj.bottom,\n        l = obj.left,\n        r = obj.right,\n        val = \"\";\n      if (!t || !l || !b || !r) {\n        for (var p in obj) {\n          val += \";\" + name + \"-\" + p + \":\" + obj[p] + \";\";\n        }\n      } else {\n        val +=\n          \";\" +\n          name +\n          \":\" +\n          (t == b && b == l && l == r\n            ? t\n            : t == b && l == r\n              ? t + \" \" + l\n              : l == r\n                ? t + \" \" + l + \" \" + b\n                : t + \" \" + r + \" \" + b + \" \" + l) +\n          \";\";\n      }\n      return val;\n    }\n\n    val += opt(padding, \"padding\") + opt(margin, \"margin\");\n    return val\n      .replace(/^[ \\n\\r\\t;]*|[ \\n\\r\\t]*$/, \"\")\n      .replace(/;([ \\n\\r\\t]+)|\\1;/g, \";\")\n      .replace(/(&((l|g)t|quot|#39))?;{2,}/g, function(a, b) {\n        return b ? b + \";;\" : \";\";\n      });\n  },\n\n  /**\n     * 克隆对象\n     * @method clone\n     * @param { Object } source 源对象\n     * @return { Object } source的一个副本\n     */\n\n  /**\n     * 深度克隆对象，将source的属性克隆到target对象， 会覆盖target重名的属性。\n     * @method clone\n     * @param { Object } source 源对象\n     * @param { Object } target 目标对象\n     * @return { Object } 附加了source对象所有属性的target对象\n     */\n  clone: function(source, target) {\n    var tmp;\n    target = target || {};\n    for (var i in source) {\n      if (source.hasOwnProperty(i)) {\n        tmp = source[i];\n        if (typeof tmp == \"object\") {\n          target[i] = utils.isArray(tmp) ? [] : {};\n          utils.clone(source[i], target[i]);\n        } else {\n          target[i] = tmp;\n        }\n      }\n    }\n    return target;\n  },\n\n  /**\n     * 把cm／pt为单位的值转换为px为单位的值\n     * @method transUnitToPx\n     * @param { String } 待转换的带单位的字符串\n     * @return { String } 转换为px为计量单位的值的字符串\n     * @example\n     * ```javascript\n     *\n     * //output: 500px\n     * console.log( UE.utils.transUnitToPx( '20cm' ) );\n     *\n     * //output: 27px\n     * console.log( UE.utils.transUnitToPx( '20pt' ) );\n     *\n     * ```\n     */\n  transUnitToPx: function(val) {\n    if (!/(pt|cm)/.test(val)) {\n      return val;\n    }\n    var unit;\n    val.replace(/([\\d.]+)(\\w+)/, function(str, v, u) {\n      val = v;\n      unit = u;\n    });\n    switch (unit) {\n      case \"cm\":\n        val = parseFloat(val) * 25;\n        break;\n      case \"pt\":\n        val = Math.round(parseFloat(val) * 96 / 72);\n    }\n    return val + (val ? \"px\" : \"\");\n  },\n\n  /**\n     * 在dom树ready之后执行给定的回调函数\n     * @method domReady\n     * @remind 如果在执行该方法的时候， dom树已经ready， 那么回调函数将立刻执行\n     * @param { Function } fn dom树ready之后的回调函数\n     * @example\n     * ```javascript\n     *\n     * UE.utils.domReady( function () {\n     *\n     *     console.log('123');\n     *\n     * } );\n     *\n     * ```\n     */\n  domReady: (function() {\n    var fnArr = [];\n\n    function doReady(doc) {\n      //确保onready只执行一次\n      doc.isReady = true;\n      for (var ci; (ci = fnArr.pop()); ci()) {}\n    }\n\n    return function(onready, win) {\n      win = win || window;\n      var doc = win.document;\n      onready && fnArr.push(onready);\n      if (doc.readyState === \"complete\") {\n        doReady(doc);\n      } else {\n        doc.isReady && doReady(doc);\n        if (browser.ie && browser.version != 11) {\n          (function() {\n            if (doc.isReady) return;\n            try {\n              doc.documentElement.doScroll(\"left\");\n            } catch (error) {\n              setTimeout(arguments.callee, 0);\n              return;\n            }\n            doReady(doc);\n          })();\n          win.attachEvent(\"onload\", function() {\n            doReady(doc);\n          });\n        } else {\n          doc.addEventListener(\n            \"DOMContentLoaded\",\n            function() {\n              doc.removeEventListener(\n                \"DOMContentLoaded\",\n                arguments.callee,\n                false\n              );\n              doReady(doc);\n            },\n            false\n          );\n          win.addEventListener(\n            \"load\",\n            function() {\n              doReady(doc);\n            },\n            false\n          );\n        }\n      }\n    };\n  })(),\n\n  /**\n     * 动态添加css样式\n     * @method cssRule\n     * @param { String } 节点名称\n     * @grammar UE.utils.cssRule('添加的样式的节点名称',['样式'，'放到哪个document上'])\n     * @grammar UE.utils.cssRule('body','body{background:#ccc}') => null  //给body添加背景颜色\n     * @grammar UE.utils.cssRule('body') =>样式的字符串  //取得key值为body的样式的内容,如果没有找到key值先关的样式将返回空，例如刚才那个背景颜色，将返回 body{background:#ccc}\n     * @grammar UE.utils.cssRule('body',document) => 返回指定key的样式，并且指定是哪个document\n     * @grammar UE.utils.cssRule('body','') =>null //清空给定的key值的背景颜色\n     */\n  cssRule: browser.ie && browser.version != 11\n    ? function(key, style, doc) {\n        var indexList, index;\n        if (\n          style === undefined ||\n          (style && style.nodeType && style.nodeType == 9)\n        ) {\n          //获取样式\n          doc = style && style.nodeType && style.nodeType == 9\n            ? style\n            : doc || document;\n          indexList = doc.indexList || (doc.indexList = {});\n          index = indexList[key];\n          if (index !== undefined) {\n            return doc.styleSheets[index].cssText;\n          }\n          return undefined;\n        }\n        doc = doc || document;\n        indexList = doc.indexList || (doc.indexList = {});\n        index = indexList[key];\n        //清除样式\n        if (style === \"\") {\n          if (index !== undefined) {\n            doc.styleSheets[index].cssText = \"\";\n            delete indexList[key];\n            return true;\n          }\n          return false;\n        }\n\n        //添加样式\n        if (index !== undefined) {\n          sheetStyle = doc.styleSheets[index];\n        } else {\n          sheetStyle = doc.createStyleSheet(\n            \"\",\n            (index = doc.styleSheets.length)\n          );\n          indexList[key] = index;\n        }\n        sheetStyle.cssText = style;\n      }\n    : function(key, style, doc) {\n        var head, node;\n        if (\n          style === undefined ||\n          (style && style.nodeType && style.nodeType == 9)\n        ) {\n          //获取样式\n          doc = style && style.nodeType && style.nodeType == 9\n            ? style\n            : doc || document;\n          node = doc.getElementById(key);\n          return node ? node.innerHTML : undefined;\n        }\n        doc = doc || document;\n        node = doc.getElementById(key);\n\n        //清除样式\n        if (style === \"\") {\n          if (node) {\n            node.parentNode.removeChild(node);\n            return true;\n          }\n          return false;\n        }\n\n        //添加样式\n        if (node) {\n          node.innerHTML = style;\n        } else {\n          node = doc.createElement(\"style\");\n          node.id = key;\n          node.innerHTML = style;\n          doc.getElementsByTagName(\"head\")[0].appendChild(node);\n        }\n      },\n  sort: function(array, compareFn) {\n    compareFn =\n      compareFn ||\n      function(item1, item2) {\n        return item1.localeCompare(item2);\n      };\n    for (var i = 0, len = array.length; i < len; i++) {\n      for (var j = i, length = array.length; j < length; j++) {\n        if (compareFn(array[i], array[j]) > 0) {\n          var t = array[i];\n          array[i] = array[j];\n          array[j] = t;\n        }\n      }\n    }\n    return array;\n  },\n  serializeParam: function(json) {\n    var strArr = [];\n    for (var i in json) {\n      //忽略默认的几个参数\n      if (i == \"method\" || i == \"timeout\" || i == \"async\") continue;\n      //传递过来的对象和函数不在提交之列\n      if (\n        !(\n          (typeof json[i]).toLowerCase() == \"function\" ||\n          (typeof json[i]).toLowerCase() == \"object\"\n        )\n      ) {\n        strArr.push(encodeURIComponent(i) + \"=\" + encodeURIComponent(json[i]));\n      } else if (utils.isArray(json[i])) {\n        //支持传数组内容\n        for (var j = 0; j < json[i].length; j++) {\n          strArr.push(\n            encodeURIComponent(i) + \"[]=\" + encodeURIComponent(json[i][j])\n          );\n        }\n      }\n    }\n    return strArr.join(\"&\");\n  },\n  formatUrl: function(url) {\n    var u = url.replace(/&&/g, \"&\");\n    u = u.replace(/\\?&/g, \"?\");\n    u = u.replace(/&$/g, \"\");\n    u = u.replace(/&#/g, \"#\");\n    u = u.replace(/&+/g, \"&\");\n    return u;\n  },\n  isCrossDomainUrl: function(url) {\n    var a = document.createElement(\"a\");\n    a.href = url;\n    if (browser.ie) {\n      a.href = a.href;\n    }\n    return !(\n      a.protocol == location.protocol &&\n      a.hostname == location.hostname &&\n      (a.port == location.port ||\n        (a.port == \"80\" && location.port == \"\") ||\n        (a.port == \"\" && location.port == \"80\"))\n    );\n  },\n  clearEmptyAttrs: function(obj) {\n    for (var p in obj) {\n      if (obj[p] === \"\") {\n        delete obj[p];\n      }\n    }\n    return obj;\n  },\n  str2json: function(s) {\n    if (!utils.isString(s)) return null;\n    if (window.JSON) {\n      return JSON.parse(s);\n    } else {\n      return new Function(\"return \" + utils.trim(s || \"\"))();\n    }\n  },\n  json2str: (function() {\n    if (window.JSON) {\n      return JSON.stringify;\n    } else {\n      var escapeMap = {\n        \"\\b\": \"\\\\b\",\n        \"\\t\": \"\\\\t\",\n        \"\\n\": \"\\\\n\",\n        \"\\f\": \"\\\\f\",\n        \"\\r\": \"\\\\r\",\n        '\"': '\\\\\"',\n        \"\\\\\": \"\\\\\\\\\"\n      };\n\n      function encodeString(source) {\n        if (/[\"\\\\\\x00-\\x1f]/.test(source)) {\n          source = source.replace(/[\"\\\\\\x00-\\x1f]/g, function(match) {\n            var c = escapeMap[match];\n            if (c) {\n              return c;\n            }\n            c = match.charCodeAt();\n            return (\n              \"\\\\u00\" + Math.floor(c / 16).toString(16) + (c % 16).toString(16)\n            );\n          });\n        }\n        return '\"' + source + '\"';\n      }\n\n      function encodeArray(source) {\n        var result = [\"[\"],\n          l = source.length,\n          preComma,\n          i,\n          item;\n\n        for (i = 0; i < l; i++) {\n          item = source[i];\n\n          switch (typeof item) {\n            case \"undefined\":\n            case \"function\":\n            case \"unknown\":\n              break;\n            default:\n              if (preComma) {\n                result.push(\",\");\n              }\n              result.push(utils.json2str(item));\n              preComma = 1;\n          }\n        }\n        result.push(\"]\");\n        return result.join(\"\");\n      }\n\n      function pad(source) {\n        return source < 10 ? \"0\" + source : source;\n      }\n\n      function encodeDate(source) {\n        return (\n          '\"' +\n          source.getFullYear() +\n          \"-\" +\n          pad(source.getMonth() + 1) +\n          \"-\" +\n          pad(source.getDate()) +\n          \"T\" +\n          pad(source.getHours()) +\n          \":\" +\n          pad(source.getMinutes()) +\n          \":\" +\n          pad(source.getSeconds()) +\n          '\"'\n        );\n      }\n\n      return function(value) {\n        switch (typeof value) {\n          case \"undefined\":\n            return \"undefined\";\n\n          case \"number\":\n            return isFinite(value) ? String(value) : \"null\";\n\n          case \"string\":\n            return encodeString(value);\n\n          case \"boolean\":\n            return String(value);\n\n          default:\n            if (value === null) {\n              return \"null\";\n            } else if (utils.isArray(value)) {\n              return encodeArray(value);\n            } else if (utils.isDate(value)) {\n              return encodeDate(value);\n            } else {\n              var result = [\"{\"],\n                encode = utils.json2str,\n                preComma,\n                item;\n\n              for (var key in value) {\n                if (Object.prototype.hasOwnProperty.call(value, key)) {\n                  item = value[key];\n                  switch (typeof item) {\n                    case \"undefined\":\n                    case \"unknown\":\n                    case \"function\":\n                      break;\n                    default:\n                      if (preComma) {\n                        result.push(\",\");\n                      }\n                      preComma = 1;\n                      result.push(encode(key) + \":\" + encode(item));\n                  }\n                }\n              }\n              result.push(\"}\");\n              return result.join(\"\");\n            }\n        }\n      };\n    }\n  })(),\n  renderTplstr: function(tpl, data) {\n    return tpl.replace(/\\$\\{\\s*(\\w*?)\\s*\\}/g, function (match, variable) {\n        if (data.hasOwnProperty(variable)) {\n            return data[variable];\n        }\n    });\n  }\n});\n/**\n * 判断给定的对象是否是字符串\n * @method isString\n * @param { * } object 需要判断的对象\n * @return { Boolean } 给定的对象是否是字符串\n */\n\n/**\n * 判断给定的对象是否是数组\n * @method isArray\n * @param { * } object 需要判断的对象\n * @return { Boolean } 给定的对象是否是数组\n */\n\n/**\n * 判断给定的对象是否是一个Function\n * @method isFunction\n * @param { * } object 需要判断的对象\n * @return { Boolean } 给定的对象是否是Function\n */\n\n/**\n * 判断给定的对象是否是Number\n * @method isNumber\n * @param { * } object 需要判断的对象\n * @return { Boolean } 给定的对象是否是Number\n */\n\n/**\n * 判断给定的对象是否是一个正则表达式\n * @method isRegExp\n * @param { * } object 需要判断的对象\n * @return { Boolean } 给定的对象是否是正则表达式\n */\n\n/**\n * 判断给定的对象是否是一个普通对象\n * @method isObject\n * @param { * } object 需要判断的对象\n * @return { Boolean } 给定的对象是否是普通对象\n */\nutils.each(\n  [\"String\", \"Function\", \"Array\", \"Number\", \"RegExp\", \"Object\", \"Date\"],\n  function(v) {\n    UE.utils[\"is\" + v] = function(obj) {\n      return Object.prototype.toString.apply(obj) == \"[object \" + v + \"]\";\n    };\n  }\n);\n\n\n// core/EventBase.js\n/**\n * UE采用的事件基类\n * @file\n * @module UE\n * @class EventBase\n * @since 1.2.6.1\n */\n\n/**\n * UEditor公用空间，UEditor所有的功能都挂载在该空间下\n * @unfile\n * @module UE\n */\n\n/**\n * UE采用的事件基类，继承此类的对应类将获取addListener,removeListener,fireEvent方法。\n * 在UE中，Editor以及所有ui实例都继承了该类，故可以在对应的ui对象以及editor对象上使用上述方法。\n * @unfile\n * @module UE\n * @class EventBase\n */\n\n/**\n * 通过此构造器，子类可以继承EventBase获取事件监听的方法\n * @constructor\n * @example\n * ```javascript\n * UE.EventBase.call(editor);\n * ```\n */\nvar EventBase = (UE.EventBase = function() {});\n\nEventBase.prototype = {\n  /**\n     * 注册事件监听器\n     * @method addListener\n     * @param { String } types 监听的事件名称，同时监听多个事件使用空格分隔\n     * @param { Function } fn 监听的事件被触发时，会执行该回调函数\n     * @waining 事件被触发时，监听的函数假如返回的值恒等于true，回调函数的队列中后面的函数将不执行\n     * @example\n     * ```javascript\n     * editor.addListener('selectionchange',function(){\n     *      console.log(\"选区已经变化！\");\n     * })\n     * editor.addListener('beforegetcontent aftergetcontent',function(type){\n     *         if(type == 'beforegetcontent'){\n     *             //do something\n     *         }else{\n     *             //do something\n     *         }\n     *         console.log(this.getContent) // this是注册的事件的编辑器实例\n     * })\n     * ```\n     * @see UE.EventBase:fireEvent(String)\n     */\n  addListener: function(types, listener) {\n    types = utils.trim(types).split(/\\s+/);\n    for (var i = 0, ti; (ti = types[i++]); ) {\n      getListener(this, ti, true).push(listener);\n    }\n  },\n\n  on: function(types, listener) {\n    return this.addListener(types, listener);\n  },\n  off: function(types, listener) {\n    return this.removeListener(types, listener);\n  },\n  trigger: function() {\n    return this.fireEvent.apply(this, arguments);\n  },\n  /**\n     * 移除事件监听器\n     * @method removeListener\n     * @param { String } types 移除的事件名称，同时移除多个事件使用空格分隔\n     * @param { Function } fn 移除监听事件的函数引用\n     * @example\n     * ```javascript\n     * //changeCallback为方法体\n     * editor.removeListener(\"selectionchange\",changeCallback);\n     * ```\n     */\n  removeListener: function(types, listener) {\n    types = utils.trim(types).split(/\\s+/);\n    for (var i = 0, ti; (ti = types[i++]); ) {\n      utils.removeItem(getListener(this, ti) || [], listener);\n    }\n  },\n\n  /**\n     * 触发事件\n     * @method fireEvent\n     * @param { String } types 触发的事件名称，同时触发多个事件使用空格分隔\n     * @remind 该方法会触发addListener\n     * @return { * } 返回触发事件的队列中，最后执行的回调函数的返回值\n     * @example\n     * ```javascript\n     * editor.fireEvent(\"selectionchange\");\n     * ```\n     */\n\n  /**\n     * 触发事件\n     * @method fireEvent\n     * @param { String } types 触发的事件名称，同时触发多个事件使用空格分隔\n     * @param { *... } options 可选参数，可以传入一个或多个参数，会传给事件触发的回调函数\n     * @return { * } 返回触发事件的队列中，最后执行的回调函数的返回值\n     * @example\n     * ```javascript\n     *\n     * editor.addListener( \"selectionchange\", function ( type, arg1, arg2 ) {\n     *\n     *     console.log( arg1 + \" \" + arg2 );\n     *\n     * } );\n     *\n     * //触发selectionchange事件， 会执行上面的事件监听器\n     * //output: Hello World\n     * editor.fireEvent(\"selectionchange\", \"Hello\", \"World\");\n     * ```\n     */\n  fireEvent: function() {\n    var types = arguments[0];\n    types = utils.trim(types).split(\" \");\n    for (var i = 0, ti; (ti = types[i++]); ) {\n      var listeners = getListener(this, ti),\n        r,\n        t,\n        k;\n      if (listeners) {\n        k = listeners.length;\n        while (k--) {\n          if (!listeners[k]) continue;\n          t = listeners[k].apply(this, arguments);\n          if (t === true) {\n            return t;\n          }\n          if (t !== undefined) {\n            r = t;\n          }\n        }\n      }\n      if ((t = this[\"on\" + ti.toLowerCase()])) {\n        r = t.apply(this, arguments);\n      }\n    }\n    return r;\n  }\n};\n/**\n * 获得对象所拥有监听类型的所有监听器\n * @unfile\n * @module UE\n * @since 1.2.6.1\n * @method getListener\n * @public\n * @param { Object } obj  查询监听器的对象\n * @param { String } type 事件类型\n * @param { Boolean } force  为true且当前所有type类型的侦听器不存在时，创建一个空监听器数组\n * @return { Array } 监听器数组\n */\nfunction getListener(obj, type, force) {\n  var allListeners;\n  type = type.toLowerCase();\n  return (\n    (allListeners =\n      obj.__allListeners || (force && (obj.__allListeners = {}))) &&\n    (allListeners[type] || (force && (allListeners[type] = [])))\n  );\n}\n\n\n// core/dtd.js\n///import editor.js\n///import core/dom/dom.js\n///import core/utils.js\n/**\n * dtd html语义化的体现类\n * @constructor\n * @namespace dtd\n */\nvar dtd = (dom.dtd = (function() {\n  function _(s) {\n    for (var k in s) {\n      s[k.toUpperCase()] = s[k];\n    }\n    return s;\n  }\n  var X = utils.extend2;\n  var A = _({ isindex: 1, fieldset: 1 }),\n    B = _({ input: 1, button: 1, select: 1, textarea: 1, label: 1 }),\n    C = X(_({ a: 1 }), B),\n    D = X({ iframe: 1 }, C),\n    E = _({\n      hr: 1,\n      ul: 1,\n      menu: 1,\n      div: 1,\n      blockquote: 1,\n      noscript: 1,\n      table: 1,\n      center: 1,\n      address: 1,\n      dir: 1,\n      pre: 1,\n      h5: 1,\n      dl: 1,\n      h4: 1,\n      noframes: 1,\n      h6: 1,\n      ol: 1,\n      h1: 1,\n      h3: 1,\n      h2: 1\n    }),\n    F = _({ ins: 1, del: 1, script: 1, style: 1 }),\n    G = X(\n      _({\n        mark: 1,\n        b: 1,\n        acronym: 1,\n        bdo: 1,\n        var: 1,\n        \"#\": 1,\n        abbr: 1,\n        code: 1,\n        br: 1,\n        i: 1,\n        cite: 1,\n        kbd: 1,\n        u: 1,\n        strike: 1,\n        s: 1,\n        tt: 1,\n        strong: 1,\n        q: 1,\n        samp: 1,\n        em: 1,\n        dfn: 1,\n        span: 1\n      }),\n      F\n    ),\n    H = X(\n      _({\n        sub: 1,\n        img: 1,\n        embed: 1,\n        object: 1,\n        sup: 1,\n        basefont: 1,\n        map: 1,\n        applet: 1,\n        font: 1,\n        big: 1,\n        small: 1\n      }),\n      G\n    ),\n    I = X(_({ p: 1 }), H),\n    J = X(_({ iframe: 1 }), H, B),\n    K = _({\n      img: 1,\n      embed: 1,\n      noscript: 1,\n      br: 1,\n      kbd: 1,\n      center: 1,\n      button: 1,\n      basefont: 1,\n      h5: 1,\n      h4: 1,\n      samp: 1,\n      h6: 1,\n      ol: 1,\n      h1: 1,\n      h3: 1,\n      h2: 1,\n      form: 1,\n      font: 1,\n      \"#\": 1,\n      select: 1,\n      menu: 1,\n      ins: 1,\n      abbr: 1,\n      label: 1,\n      code: 1,\n      table: 1,\n      script: 1,\n      cite: 1,\n      input: 1,\n      iframe: 1,\n      strong: 1,\n      textarea: 1,\n      noframes: 1,\n      big: 1,\n      small: 1,\n      span: 1,\n      hr: 1,\n      sub: 1,\n      bdo: 1,\n      var: 1,\n      div: 1,\n      object: 1,\n      sup: 1,\n      strike: 1,\n      dir: 1,\n      map: 1,\n      dl: 1,\n      applet: 1,\n      del: 1,\n      isindex: 1,\n      fieldset: 1,\n      ul: 1,\n      b: 1,\n      acronym: 1,\n      a: 1,\n      blockquote: 1,\n      i: 1,\n      u: 1,\n      s: 1,\n      tt: 1,\n      address: 1,\n      q: 1,\n      pre: 1,\n      p: 1,\n      em: 1,\n      dfn: 1\n    }),\n    L = X(_({ a: 0 }), J), //a不能被切开，所以把他\n    M = _({ tr: 1 }),\n    N = _({ \"#\": 1 }),\n    O = X(_({ param: 1 }), K),\n    P = X(_({ form: 1 }), A, D, E, I),\n    Q = _({ li: 1, ol: 1, ul: 1 }),\n    R = _({ style: 1, script: 1 }),\n    S = _({ base: 1, link: 1, meta: 1, title: 1 }),\n    T = X(S, R),\n    U = _({ head: 1, body: 1 }),\n    V = _({ html: 1 });\n\n  var block = _({\n    address: 1,\n    blockquote: 1,\n    center: 1,\n    dir: 1,\n    div: 1,\n    dl: 1,\n    fieldset: 1,\n    form: 1,\n    h1: 1,\n    h2: 1,\n    h3: 1,\n    h4: 1,\n    h5: 1,\n    h6: 1,\n    hr: 1,\n    isindex: 1,\n    menu: 1,\n    noframes: 1,\n    ol: 1,\n    p: 1,\n    pre: 1,\n    table: 1,\n    ul: 1\n  }),\n    empty = _({\n      area: 1,\n      base: 1,\n      basefont: 1,\n      br: 1,\n      col: 1,\n      command: 1,\n      dialog: 1,\n      embed: 1,\n      hr: 1,\n      img: 1,\n      input: 1,\n      isindex: 1,\n      keygen: 1,\n      link: 1,\n      meta: 1,\n      param: 1,\n      source: 1,\n      track: 1,\n      wbr: 1\n    });\n\n  return _({\n    // $ 表示自定的属性\n\n    // body外的元素列表.\n    $nonBodyContent: X(V, U, S),\n\n    //块结构元素列表\n    $block: block,\n\n    //内联元素列表\n    $inline: L,\n\n    $inlineWithA: X(_({ a: 1 }), L),\n\n    $body: X(_({ script: 1, style: 1 }), block),\n\n    $cdata: _({ script: 1, style: 1 }),\n\n    //自闭和元素\n    $empty: empty,\n\n    //不是自闭合，但不能让range选中里边\n    $nonChild: _({ iframe: 1, textarea: 1 }),\n    //列表元素列表\n    $listItem: _({ dd: 1, dt: 1, li: 1 }),\n\n    //列表根元素列表\n    $list: _({ ul: 1, ol: 1, dl: 1 }),\n\n    //不能认为是空的元素\n    $isNotEmpty: _({\n      table: 1,\n      ul: 1,\n      ol: 1,\n      dl: 1,\n      iframe: 1,\n      area: 1,\n      base: 1,\n      col: 1,\n      hr: 1,\n      img: 1,\n      embed: 1,\n      input: 1,\n      textarea: 1,\n      link: 1,\n      meta: 1,\n      param: 1,\n      h1: 1,\n      h2: 1,\n      h3: 1,\n      h4: 1,\n      h5: 1,\n      h6: 1\n    }),\n\n    //如果没有子节点就可以删除的元素列表，像span,a\n    $removeEmpty: _({\n      a: 1,\n      abbr: 1,\n      acronym: 1,\n      address: 1,\n      b: 1,\n      bdo: 1,\n      big: 1,\n      cite: 1,\n      code: 1,\n      del: 1,\n      dfn: 1,\n      em: 1,\n      font: 1,\n      i: 1,\n      ins: 1,\n      label: 1,\n      kbd: 1,\n      q: 1,\n      s: 1,\n      samp: 1,\n      small: 1,\n      span: 1,\n      strike: 1,\n      strong: 1,\n      sub: 1,\n      sup: 1,\n      tt: 1,\n      u: 1,\n      var: 1\n    }),\n\n    $removeEmptyBlock: _({ p: 1, div: 1 }),\n\n    //在table元素里的元素列表\n    $tableContent: _({\n      caption: 1,\n      col: 1,\n      colgroup: 1,\n      tbody: 1,\n      td: 1,\n      tfoot: 1,\n      th: 1,\n      thead: 1,\n      tr: 1,\n      table: 1\n    }),\n    //不转换的标签\n    $notTransContent: _({ pre: 1, script: 1, style: 1, textarea: 1 }),\n    html: U,\n    head: T,\n    style: N,\n    script: N,\n    body: P,\n    base: {},\n    link: {},\n    meta: {},\n    title: N,\n    col: {},\n    tr: _({ td: 1, th: 1 }),\n    img: {},\n    embed: {},\n    colgroup: _({ thead: 1, col: 1, tbody: 1, tr: 1, tfoot: 1 }),\n    noscript: P,\n    td: P,\n    br: {},\n    th: P,\n    center: P,\n    kbd: L,\n    button: X(I, E),\n    basefont: {},\n    h5: L,\n    h4: L,\n    samp: L,\n    h6: L,\n    ol: Q,\n    h1: L,\n    h3: L,\n    option: N,\n    h2: L,\n    form: X(A, D, E, I),\n    select: _({ optgroup: 1, option: 1 }),\n    font: L,\n    ins: L,\n    menu: Q,\n    abbr: L,\n    label: L,\n    table: _({\n      thead: 1,\n      col: 1,\n      tbody: 1,\n      tr: 1,\n      colgroup: 1,\n      caption: 1,\n      tfoot: 1\n    }),\n    code: L,\n    tfoot: M,\n    cite: L,\n    li: P,\n    input: {},\n    iframe: P,\n    strong: L,\n    textarea: N,\n    noframes: P,\n    big: L,\n    small: L,\n    //trace:\n    span: _({\n      \"#\": 1,\n      br: 1,\n      b: 1,\n      strong: 1,\n      u: 1,\n      i: 1,\n      em: 1,\n      sub: 1,\n      sup: 1,\n      strike: 1,\n      span: 1\n    }),\n    hr: L,\n    dt: L,\n    sub: L,\n    optgroup: _({ option: 1 }),\n    param: {},\n    bdo: L,\n    var: L,\n    div: P,\n    object: O,\n    sup: L,\n    dd: P,\n    strike: L,\n    area: {},\n    dir: Q,\n    map: X(_({ area: 1, form: 1, p: 1 }), A, F, E),\n    applet: O,\n    dl: _({ dt: 1, dd: 1 }),\n    del: L,\n    isindex: {},\n    fieldset: X(_({ legend: 1 }), K),\n    thead: M,\n    ul: Q,\n    acronym: L,\n    b: L,\n    a: X(_({ a: 1 }), J),\n    blockquote: X(_({ td: 1, tr: 1, tbody: 1, li: 1 }), P),\n    caption: L,\n    i: L,\n    u: L,\n    tbody: M,\n    s: L,\n    address: X(D, I),\n    tt: L,\n    legend: L,\n    q: L,\n    pre: X(G, C),\n    p: X(_({ a: 1 }), L),\n    em: L,\n    dfn: L,\n    mark: L\n  });\n})());\n\n\n// core/domUtils.js\n/**\n * Dom操作工具包\n * @file\n * @module UE.dom.domUtils\n * @since 1.2.6.1\n */\n\n/**\n * Dom操作工具包\n * @unfile\n * @module UE.dom.domUtils\n */\nfunction getDomNode(node, start, ltr, startFromChild, fn, guard) {\n  var tmpNode = startFromChild && node[start],\n    parent;\n  !tmpNode && (tmpNode = node[ltr]);\n  while (!tmpNode && (parent = (parent || node).parentNode)) {\n    if (parent.tagName == \"BODY\" || (guard && !guard(parent))) {\n      return null;\n    }\n    tmpNode = parent[ltr];\n  }\n  if (tmpNode && fn && !fn(tmpNode)) {\n    return getDomNode(tmpNode, start, ltr, false, fn);\n  }\n  return tmpNode;\n}\nvar attrFix = ie && browser.version < 9\n  ? {\n      tabindex: \"tabIndex\",\n      readonly: \"readOnly\",\n      for: \"htmlFor\",\n      class: \"className\",\n      maxlength: \"maxLength\",\n      cellspacing: \"cellSpacing\",\n      cellpadding: \"cellPadding\",\n      rowspan: \"rowSpan\",\n      colspan: \"colSpan\",\n      usemap: \"useMap\",\n      frameborder: \"frameBorder\"\n    }\n  : {\n      tabindex: \"tabIndex\",\n      readonly: \"readOnly\"\n    },\n  styleBlock = utils.listToMap([\n    \"-webkit-box\",\n    \"-moz-box\",\n    \"block\",\n    \"list-item\",\n    \"table\",\n    \"table-row-group\",\n    \"table-header-group\",\n    \"table-footer-group\",\n    \"table-row\",\n    \"table-column-group\",\n    \"table-column\",\n    \"table-cell\",\n    \"table-caption\"\n  ]);\nvar domUtils = (dom.domUtils = {\n  //节点常量\n  NODE_ELEMENT: 1,\n  NODE_DOCUMENT: 9,\n  NODE_TEXT: 3,\n  NODE_COMMENT: 8,\n  NODE_DOCUMENT_FRAGMENT: 11,\n\n  //位置关系\n  POSITION_IDENTICAL: 0,\n  POSITION_DISCONNECTED: 1,\n  POSITION_FOLLOWING: 2,\n  POSITION_PRECEDING: 4,\n  POSITION_IS_CONTAINED: 8,\n  POSITION_CONTAINS: 16,\n  //ie6使用其他的会有一段空白出现\n  fillChar: ie && browser.version == \"6\" ? \"\\ufeff\" : \"\\u200B\",\n  //-------------------------Node部分--------------------------------\n  keys: {\n    /*Backspace*/ 8: 1,\n    /*Delete*/ 46: 1,\n    /*Shift*/ 16: 1,\n    /*Ctrl*/ 17: 1,\n    /*Alt*/ 18: 1,\n    37: 1,\n    38: 1,\n    39: 1,\n    40: 1,\n    13: 1 /*enter*/\n  },\n  /**\n     * 获取节点A相对于节点B的位置关系\n     * @method getPosition\n     * @param { Node } nodeA 需要查询位置关系的节点A\n     * @param { Node } nodeB 需要查询位置关系的节点B\n     * @return { Number } 节点A与节点B的关系\n     * @example\n     * ```javascript\n     * //output: 20\n     * var position = UE.dom.domUtils.getPosition( document.documentElement, document.body );\n     *\n     * switch ( position ) {\n     *\n     *      //0\n     *      case UE.dom.domUtils.POSITION_IDENTICAL:\n     *          console.log('元素相同');\n     *          break;\n     *      //1\n     *      case UE.dom.domUtils.POSITION_DISCONNECTED:\n     *          console.log('两个节点在不同的文档中');\n     *          break;\n     *      //2\n     *      case UE.dom.domUtils.POSITION_FOLLOWING:\n     *          console.log('节点A在节点B之后');\n     *          break;\n     *      //4\n     *      case UE.dom.domUtils.POSITION_PRECEDING;\n     *          console.log('节点A在节点B之前');\n     *          break;\n     *      //8\n     *      case UE.dom.domUtils.POSITION_IS_CONTAINED:\n     *          console.log('节点A被节点B包含');\n     *          break;\n     *      case 10:\n     *          console.log('节点A被节点B包含且节点A在节点B之后');\n     *          break;\n     *      //16\n     *      case UE.dom.domUtils.POSITION_CONTAINS:\n     *          console.log('节点A包含节点B');\n     *          break;\n     *      case 20:\n     *          console.log('节点A包含节点B且节点A在节点B之前');\n     *          break;\n     *\n     * }\n     * ```\n     */\n  getPosition: function(nodeA, nodeB) {\n    // 如果两个节点是同一个节点\n    if (nodeA === nodeB) {\n      // domUtils.POSITION_IDENTICAL\n      return 0;\n    }\n    var node,\n      parentsA = [nodeA],\n      parentsB = [nodeB];\n    node = nodeA;\n    while ((node = node.parentNode)) {\n      // 如果nodeB是nodeA的祖先节点\n      if (node === nodeB) {\n        // domUtils.POSITION_IS_CONTAINED + domUtils.POSITION_FOLLOWING\n        return 10;\n      }\n      parentsA.push(node);\n    }\n    node = nodeB;\n    while ((node = node.parentNode)) {\n      // 如果nodeA是nodeB的祖先节点\n      if (node === nodeA) {\n        // domUtils.POSITION_CONTAINS + domUtils.POSITION_PRECEDING\n        return 20;\n      }\n      parentsB.push(node);\n    }\n    parentsA.reverse();\n    parentsB.reverse();\n    if (parentsA[0] !== parentsB[0]) {\n      // domUtils.POSITION_DISCONNECTED\n      return 1;\n    }\n    var i = -1;\n    while ((i++, parentsA[i] === parentsB[i])) {}\n    nodeA = parentsA[i];\n    nodeB = parentsB[i];\n    while ((nodeA = nodeA.nextSibling)) {\n      if (nodeA === nodeB) {\n        // domUtils.POSITION_PRECEDING\n        return 4;\n      }\n    }\n    // domUtils.POSITION_FOLLOWING\n    return 2;\n  },\n\n  /**\n     * 检测节点node在父节点中的索引位置\n     * @method getNodeIndex\n     * @param { Node } node 需要检测的节点对象\n     * @return { Number } 该节点在父节点中的位置\n     * @see UE.dom.domUtils.getNodeIndex(Node,Boolean)\n     */\n\n  /**\n     * 检测节点node在父节点中的索引位置， 根据给定的mergeTextNode参数决定是否要合并多个连续的文本节点为一个节点\n     * @method getNodeIndex\n     * @param { Node } node 需要检测的节点对象\n     * @param { Boolean } mergeTextNode 是否合并多个连续的文本节点为一个节点\n     * @return { Number } 该节点在父节点中的位置\n     * @example\n     * ```javascript\n     *\n     *      var node = document.createElement(\"div\");\n     *\n     *      node.appendChild( document.createTextNode( \"hello\" ) );\n     *      node.appendChild( document.createTextNode( \"world\" ) );\n     *      node.appendChild( node = document.createElement( \"div\" ) );\n     *\n     *      //output: 2\n     *      console.log( UE.dom.domUtils.getNodeIndex( node ) );\n     *\n     *      //output: 1\n     *      console.log( UE.dom.domUtils.getNodeIndex( node, true ) );\n     *\n     * ```\n     */\n  getNodeIndex: function(node, ignoreTextNode) {\n    var preNode = node,\n      i = 0;\n    while ((preNode = preNode.previousSibling)) {\n      if (ignoreTextNode && preNode.nodeType == 3) {\n        if (preNode.nodeType != preNode.nextSibling.nodeType) {\n          i++;\n        }\n        continue;\n      }\n      i++;\n    }\n    return i;\n  },\n\n  /**\n     * 检测节点node是否在给定的document对象上\n     * @method inDoc\n     * @param { Node } node 需要检测的节点对象\n     * @param { DomDocument } doc 需要检测的document对象\n     * @return { Boolean } 该节点node是否在给定的document的dom树上\n     * @example\n     * ```javascript\n     *\n     * var node = document.createElement(\"div\");\n     *\n     * //output: false\n     * console.log( UE.do.domUtils.inDoc( node, document ) );\n     *\n     * document.body.appendChild( node );\n     *\n     * //output: true\n     * console.log( UE.do.domUtils.inDoc( node, document ) );\n     *\n     * ```\n     */\n  inDoc: function(node, doc) {\n    return domUtils.getPosition(node, doc) == 10;\n  },\n  /**\n     * 根据给定的过滤规则filterFn， 查找符合该过滤规则的node节点的第一个祖先节点，\n     * 查找的起点是给定node节点的父节点。\n     * @method findParent\n     * @param { Node } node 需要查找的节点\n     * @param { Function } filterFn 自定义的过滤方法。\n     * @warning 查找的终点是到body节点为止\n     * @remind 自定义的过滤方法filterFn接受一个Node对象作为参数， 该对象代表当前执行检测的祖先节点。 如果该\n     *          节点满足过滤条件， 则要求返回true， 这时将直接返回该节点作为findParent()的结果， 否则， 请返回false。\n     * @return { Node | Null } 如果找到符合过滤条件的节点， 就返回该节点， 否则返回NULL\n     * @example\n     * ```javascript\n     * var filterNode = UE.dom.domUtils.findParent( document.body.firstChild, function ( node ) {\n     *\n     *     //由于查找的终点是body节点， 所以永远也不会匹配当前过滤器的条件， 即这里永远会返回false\n     *     return node.tagName === \"HTML\";\n     *\n     * } );\n     *\n     * //output: true\n     * console.log( filterNode === null );\n     * ```\n     */\n\n  /**\n     * 根据给定的过滤规则filterFn， 查找符合该过滤规则的node节点的第一个祖先节点，\n     * 如果includeSelf的值为true，则查找的起点是给定的节点node， 否则， 起点是node的父节点\n     * @method findParent\n     * @param { Node } node 需要查找的节点\n     * @param { Function } filterFn 自定义的过滤方法。\n     * @param { Boolean } includeSelf 查找过程是否包含自身\n     * @warning 查找的终点是到body节点为止\n     * @remind 自定义的过滤方法filterFn接受一个Node对象作为参数， 该对象代表当前执行检测的祖先节点。 如果该\n     *          节点满足过滤条件， 则要求返回true， 这时将直接返回该节点作为findParent()的结果， 否则， 请返回false。\n     * @remind 如果includeSelf为true， 则过滤器第一次执行时的参数会是节点本身。\n     *          反之， 过滤器第一次执行时的参数将是该节点的父节点。\n     * @return { Node | Null } 如果找到符合过滤条件的节点， 就返回该节点， 否则返回NULL\n     * @example\n     * ```html\n     * <body>\n     *\n     *      <div id=\"test\">\n     *      </div>\n     *\n     *      <script type=\"text/javascript\">\n     *\n     *          //output: DIV, BODY\n     *          var filterNode = UE.dom.domUtils.findParent( document.getElementById( \"test\" ), function ( node ) {\n     *\n     *              console.log( node.tagName );\n     *              return false;\n     *\n     *          }, true );\n     *\n     *      </script>\n     * </body>\n     * ```\n     */\n  findParent: function(node, filterFn, includeSelf) {\n    if (node && !domUtils.isBody(node)) {\n      node = includeSelf ? node : node.parentNode;\n      while (node) {\n        if (!filterFn || filterFn(node) || domUtils.isBody(node)) {\n          return filterFn && !filterFn(node) && domUtils.isBody(node)\n            ? null\n            : node;\n        }\n        node = node.parentNode;\n      }\n    }\n    return null;\n  },\n  /**\n     * 查找node的节点名为tagName的第一个祖先节点， 查找的起点是node节点的父节点。\n     * @method findParentByTagName\n     * @param { Node } node 需要查找的节点对象\n     * @param { Array } tagNames 需要查找的父节点的名称数组\n     * @warning 查找的终点是到body节点为止\n     * @return { Node | NULL } 如果找到符合条件的节点， 则返回该节点， 否则返回NULL\n     * @example\n     * ```javascript\n     * var node = UE.dom.domUtils.findParentByTagName( document.getElementsByTagName(\"div\")[0], [ \"BODY\" ] );\n     * //output: BODY\n     * console.log( node.tagName );\n     * ```\n     */\n\n  /**\n     * 查找node的节点名为tagName的祖先节点， 如果includeSelf的值为true，则查找的起点是给定的节点node，\n     * 否则， 起点是node的父节点。\n     * @method findParentByTagName\n     * @param { Node } node 需要查找的节点对象\n     * @param { Array } tagNames 需要查找的父节点的名称数组\n     * @param { Boolean } includeSelf 查找过程是否包含node节点自身\n     * @warning 查找的终点是到body节点为止\n     * @return { Node | NULL } 如果找到符合条件的节点， 则返回该节点， 否则返回NULL\n     * @example\n     * ```javascript\n     * var queryTarget = document.getElementsByTagName(\"div\")[0];\n     * var node = UE.dom.domUtils.findParentByTagName( queryTarget, [ \"DIV\" ], true );\n     * //output: true\n     * console.log( queryTarget === node );\n     * ```\n     */\n  findParentByTagName: function(node, tagNames, includeSelf, excludeFn) {\n    tagNames = utils.listToMap(utils.isArray(tagNames) ? tagNames : [tagNames]);\n    return domUtils.findParent(\n      node,\n      function(node) {\n        return tagNames[node.tagName] && !(excludeFn && excludeFn(node));\n      },\n      includeSelf\n    );\n  },\n  /**\n     * 查找节点node的祖先节点集合， 查找的起点是给定节点的父节点，结果集中不包含给定的节点。\n     * @method findParents\n     * @param { Node } node 需要查找的节点对象\n     * @return { Array } 给定节点的祖先节点数组\n     * @grammar UE.dom.domUtils.findParents(node)  => Array  //返回一个祖先节点数组集合，不包含自身\n     * @grammar UE.dom.domUtils.findParents(node,includeSelf)  => Array  //返回一个祖先节点数组集合，includeSelf指定是否包含自身\n     * @grammar UE.dom.domUtils.findParents(node,includeSelf,filterFn)  => Array  //返回一个祖先节点数组集合，filterFn指定过滤条件，返回true的node将被选取\n     * @grammar UE.dom.domUtils.findParents(node,includeSelf,filterFn,closerFirst)  => Array  //返回一个祖先节点数组集合，closerFirst为true的话，node的直接父亲节点是数组的第0个\n     */\n\n  /**\n     * 查找节点node的祖先节点集合， 如果includeSelf的值为true，\n     * 则返回的结果集中允许出现当前给定的节点， 否则， 该节点不会出现在其结果集中。\n     * @method findParents\n     * @param { Node } node 需要查找的节点对象\n     * @param { Boolean } includeSelf 查找的结果中是否允许包含当前查找的节点对象\n     * @return { Array } 给定节点的祖先节点数组\n     */\n  findParents: function(node, includeSelf, filterFn, closerFirst) {\n    var parents = includeSelf && ((filterFn && filterFn(node)) || !filterFn)\n      ? [node]\n      : [];\n    while ((node = domUtils.findParent(node, filterFn))) {\n      parents.push(node);\n    }\n    return closerFirst ? parents : parents.reverse();\n  },\n\n  /**\n     * 在节点node后面插入新节点newNode\n     * @method insertAfter\n     * @param { Node } node 目标节点\n     * @param { Node } newNode 新插入的节点， 该节点将置于目标节点之后\n     * @return { Node } 新插入的节点\n     */\n  insertAfter: function(node, newNode) {\n    return node.nextSibling\n      ? node.parentNode.insertBefore(newNode, node.nextSibling)\n      : node.parentNode.appendChild(newNode);\n  },\n\n  /**\n     * 删除节点node及其下属的所有节点\n     * @method remove\n     * @param { Node } node 需要删除的节点对象\n     * @return { Node } 返回刚删除的节点对象\n     * @example\n     * ```html\n     * <div id=\"test\">\n     *     <div id=\"child\">你好</div>\n     * </div>\n     * <script>\n     *     UE.dom.domUtils.remove( document.body, false );\n     *     //output: false\n     *     console.log( document.getElementById( \"child\" ) !== null );\n     * </script>\n     * ```\n     */\n\n  /**\n     * 删除节点node，并根据keepChildren的值决定是否保留子节点\n     * @method remove\n     * @param { Node } node 需要删除的节点对象\n     * @param { Boolean } keepChildren 是否需要保留子节点\n     * @return { Node } 返回刚删除的节点对象\n     * @example\n     * ```html\n     * <div id=\"test\">\n     *     <div id=\"child\">你好</div>\n     * </div>\n     * <script>\n     *     UE.dom.domUtils.remove( document.body, true );\n     *     //output: true\n     *     console.log( document.getElementById( \"child\" ) !== null );\n     * </script>\n     * ```\n     */\n  remove: function(node, keepChildren) {\n    var parent = node.parentNode,\n      child;\n    if (parent) {\n      if (keepChildren && node.hasChildNodes()) {\n        while ((child = node.firstChild)) {\n          parent.insertBefore(child, node);\n        }\n      }\n      parent.removeChild(node);\n    }\n    return node;\n  },\n\n  /**\n     * 取得node节点的下一个兄弟节点， 如果该节点其后没有兄弟节点， 则递归查找其父节点之后的第一个兄弟节点，\n     * 直到找到满足条件的节点或者递归到BODY节点之后才会结束。\n     * @method getNextDomNode\n     * @param { Node } node 需要获取其后的兄弟节点的节点对象\n     * @return { Node | NULL } 如果找满足条件的节点， 则返回该节点， 否则返回NULL\n     * @example\n     * ```html\n     *     <body>\n     *      <div id=\"test\">\n     *          <span></span>\n     *      </div>\n     *      <i>xxx</i>\n     * </body>\n     * <script>\n     *\n     *     //output: i节点\n     *     console.log( UE.dom.domUtils.getNextDomNode( document.getElementById( \"test\" ) ) );\n     *\n     * </script>\n     * ```\n     * @example\n     * ```html\n     * <body>\n     *      <div>\n     *          <span></span>\n     *          <i id=\"test\">xxx</i>\n     *      </div>\n     *      <b>xxx</b>\n     * </body>\n     * <script>\n     *\n     *     //由于id为test的i节点之后没有兄弟节点， 则查找其父节点（div）后面的兄弟节点\n     *     //output: b节点\n     *     console.log( UE.dom.domUtils.getNextDomNode( document.getElementById( \"test\" ) ) );\n     *\n     * </script>\n     * ```\n     */\n\n  /**\n     * 取得node节点的下一个兄弟节点， 如果startFromChild的值为ture，则先获取其子节点，\n     * 如果有子节点则直接返回第一个子节点；如果没有子节点或者startFromChild的值为false，\n     * 则执行<a href=\"#UE.dom.domUtils.getNextDomNode(Node)\">getNextDomNode(Node node)</a>的查找过程。\n     * @method getNextDomNode\n     * @param { Node } node 需要获取其后的兄弟节点的节点对象\n     * @param { Boolean } startFromChild 查找过程是否从其子节点开始\n     * @return { Node | NULL } 如果找满足条件的节点， 则返回该节点， 否则返回NULL\n     * @see UE.dom.domUtils.getNextDomNode(Node)\n     */\n  getNextDomNode: function(node, startFromChild, filterFn, guard) {\n    return getDomNode(\n      node,\n      \"firstChild\",\n      \"nextSibling\",\n      startFromChild,\n      filterFn,\n      guard\n    );\n  },\n  getPreDomNode: function(node, startFromChild, filterFn, guard) {\n    return getDomNode(\n      node,\n      \"lastChild\",\n      \"previousSibling\",\n      startFromChild,\n      filterFn,\n      guard\n    );\n  },\n  /**\n     * 检测节点node是否属是UEditor定义的bookmark节点\n     * @method isBookmarkNode\n     * @private\n     * @param { Node } node 需要检测的节点对象\n     * @return { Boolean } 是否是bookmark节点\n     * @example\n     * ```html\n     * <span id=\"_baidu_bookmark_1\"></span>\n     * <script>\n     *      var bookmarkNode = document.getElementById(\"_baidu_bookmark_1\");\n     *      //output: true\n     *      console.log( UE.dom.domUtils.isBookmarkNode( bookmarkNode ) );\n     * </script>\n     * ```\n     */\n  isBookmarkNode: function(node) {\n    return node.nodeType == 1 && node.id && /^_baidu_bookmark_/i.test(node.id);\n  },\n  /**\n     * 获取节点node所属的window对象\n     * @method  getWindow\n     * @param { Node } node 节点对象\n     * @return { Window } 当前节点所属的window对象\n     * @example\n     * ```javascript\n     * //output: true\n     * console.log( UE.dom.domUtils.getWindow( document.body ) === window );\n     * ```\n     */\n  getWindow: function(node) {\n    var doc = node.ownerDocument || node;\n    return doc.defaultView || doc.parentWindow;\n  },\n  /**\n     * 获取离nodeA与nodeB最近的公共的祖先节点\n     * @method  getCommonAncestor\n     * @param { Node } nodeA 第一个节点\n     * @param { Node } nodeB 第二个节点\n     * @remind 如果给定的两个节点是同一个节点， 将直接返回该节点。\n     * @return { Node | NULL } 如果未找到公共节点， 返回NULL， 否则返回最近的公共祖先节点。\n     * @example\n     * ```javascript\n     * var commonAncestor = UE.dom.domUtils.getCommonAncestor( document.body, document.body.firstChild );\n     * //output: true\n     * console.log( commonAncestor.tagName.toLowerCase() === 'body' );\n     * ```\n     */\n  getCommonAncestor: function(nodeA, nodeB) {\n    if (nodeA === nodeB) return nodeA;\n    var parentsA = [nodeA],\n      parentsB = [nodeB],\n      parent = nodeA,\n      i = -1;\n    while ((parent = parent.parentNode)) {\n      if (parent === nodeB) {\n        return parent;\n      }\n      parentsA.push(parent);\n    }\n    parent = nodeB;\n    while ((parent = parent.parentNode)) {\n      if (parent === nodeA) return parent;\n      parentsB.push(parent);\n    }\n    parentsA.reverse();\n    parentsB.reverse();\n    while ((i++, parentsA[i] === parentsB[i])) {}\n    return i == 0 ? null : parentsA[i - 1];\n  },\n  /**\n     * 清除node节点左右连续为空的兄弟inline节点\n     * @method clearEmptySibling\n     * @param { Node } node 执行的节点对象， 如果该节点的左右连续的兄弟节点是空的inline节点，\n     * 则这些兄弟节点将被删除\n     * @grammar UE.dom.domUtils.clearEmptySibling(node,ignoreNext)  //ignoreNext指定是否忽略右边空节点\n     * @grammar UE.dom.domUtils.clearEmptySibling(node,ignoreNext,ignorePre)  //ignorePre指定是否忽略左边空节点\n     * @example\n     * ```html\n     * <body>\n     *     <div></div>\n     *     <span id=\"test\"></span>\n     *     <i></i>\n     *     <b></b>\n     *     <em>xxx</em>\n     *     <span></span>\n     * </body>\n     * <script>\n     *\n     *      UE.dom.domUtils.clearEmptySibling( document.getElementById( \"test\" ) );\n     *\n     *      //output: <div></div><span id=\"test\"></span><em>xxx</em><span></span>\n     *      console.log( document.body.innerHTML );\n     *\n     * </script>\n     * ```\n     */\n\n  /**\n     * 清除node节点左右连续为空的兄弟inline节点， 如果ignoreNext的值为true，\n     * 则忽略对右边兄弟节点的操作。\n     * @method clearEmptySibling\n     * @param { Node } node 执行的节点对象， 如果该节点的左右连续的兄弟节点是空的inline节点，\n     * @param { Boolean } ignoreNext 是否忽略忽略对右边的兄弟节点的操作\n     * 则这些兄弟节点将被删除\n     * @see UE.dom.domUtils.clearEmptySibling(Node)\n     */\n\n  /**\n     * 清除node节点左右连续为空的兄弟inline节点， 如果ignoreNext的值为true，\n     * 则忽略对右边兄弟节点的操作， 如果ignorePre的值为true，则忽略对左边兄弟节点的操作。\n     * @method clearEmptySibling\n     * @param { Node } node 执行的节点对象， 如果该节点的左右连续的兄弟节点是空的inline节点，\n     * @param { Boolean } ignoreNext 是否忽略忽略对右边的兄弟节点的操作\n     * @param { Boolean } ignorePre 是否忽略忽略对左边的兄弟节点的操作\n     * 则这些兄弟节点将被删除\n     * @see UE.dom.domUtils.clearEmptySibling(Node)\n     */\n  clearEmptySibling: function(node, ignoreNext, ignorePre) {\n    function clear(next, dir) {\n      var tmpNode;\n      while (\n        next &&\n        !domUtils.isBookmarkNode(next) &&\n        (domUtils.isEmptyInlineElement(next) ||\n          //这里不能把空格算进来会吧空格干掉，出现文字间的空格丢掉了\n          !new RegExp(\"[^\\t\\n\\r\" + domUtils.fillChar + \"]\").test(\n            next.nodeValue\n          ))\n      ) {\n        tmpNode = next[dir];\n        domUtils.remove(next);\n        next = tmpNode;\n      }\n    }\n    !ignoreNext && clear(node.nextSibling, \"nextSibling\");\n    !ignorePre && clear(node.previousSibling, \"previousSibling\");\n  },\n  /**\n     * 将一个文本节点textNode拆分成两个文本节点，offset指定拆分位置\n     * @method split\n     * @param { Node } textNode 需要拆分的文本节点对象\n     * @param { int } offset 需要拆分的位置， 位置计算从0开始\n     * @return { Node } 拆分后形成的新节点\n     * @example\n     * ```html\n     * <div id=\"test\">abcdef</div>\n     * <script>\n     *      var newNode = UE.dom.domUtils.split( document.getElementById( \"test\" ).firstChild, 3 );\n     *      //output: def\n     *      console.log( newNode.nodeValue );\n     * </script>\n     * ```\n     */\n  split: function(node, offset) {\n    var doc = node.ownerDocument;\n    if (browser.ie && offset == node.nodeValue.length) {\n      var next = doc.createTextNode(\"\");\n      return domUtils.insertAfter(node, next);\n    }\n    var retval = node.splitText(offset);\n    //ie8下splitText不会跟新childNodes,我们手动触发他的更新\n    if (browser.ie8) {\n      var tmpNode = doc.createTextNode(\"\");\n      domUtils.insertAfter(retval, tmpNode);\n      domUtils.remove(tmpNode);\n    }\n    return retval;\n  },\n\n  /**\n     * 检测文本节点textNode是否为空节点（包括空格、换行、占位符等字符）\n     * @method  isWhitespace\n     * @param { Node } node 需要检测的节点对象\n     * @return { Boolean } 检测的节点是否为空\n     * @example\n     * ```html\n     * <div id=\"test\">\n     *\n     * </div>\n     * <script>\n     *      //output: true\n     *      console.log( UE.dom.domUtils.isWhitespace( document.getElementById(\"test\").firstChild ) );\n     * </script>\n     * ```\n     */\n  isWhitespace: function(node) {\n    return !new RegExp(\"[^ \\t\\n\\r\" + domUtils.fillChar + \"]\").test(\n      node.nodeValue\n    );\n  },\n  /**\n     * 获取元素element相对于viewport的位置坐标\n     * @method getXY\n     * @param { Node } element 需要计算位置的节点对象\n     * @return { Object } 返回形如{x:left,y:top}的一个key-value映射对象， 其中键x代表水平偏移距离，\n     *                          y代表垂直偏移距离。\n     *\n     * @example\n     * ```javascript\n     * var location = UE.dom.domUtils.getXY( document.getElementById(\"test\") );\n     * //output: test的坐标为: 12, 24\n     * console.log( 'test的坐标为： ', location.x, ',', location.y );\n     * ```\n     */\n  getXY: function(element) {\n    var x = 0,\n      y = 0;\n    while (element.offsetParent) {\n      y += element.offsetTop;\n      x += element.offsetLeft;\n      element = element.offsetParent;\n    }\n    return { x: x, y: y };\n  },\n  /**\n     * 为元素element绑定原生DOM事件，type为事件类型，handler为处理函数\n     * @method on\n     * @param { Node } element 需要绑定事件的节点对象\n     * @param { String } type 绑定的事件类型\n     * @param { Function } handler 事件处理器\n     * @example\n     * ```javascript\n     * UE.dom.domUtils.on(document.body,\"click\",function(e){\n     *     //e为事件对象，this为被点击元素对戏那个\n     * });\n     * ```\n     */\n\n  /**\n     * 为元素element绑定原生DOM事件，type为事件类型，handler为处理函数\n     * @method on\n     * @param { Node } element 需要绑定事件的节点对象\n     * @param { Array } type 绑定的事件类型数组\n     * @param { Function } handler 事件处理器\n     * @example\n     * ```javascript\n     * UE.dom.domUtils.on(document.body,[\"click\",\"mousedown\"],function(evt){\n     *     //evt为事件对象，this为被点击元素对象\n     * });\n     * ```\n     */\n  on: function(element, type, handler) {\n    var types = utils.isArray(type) ? type : utils.trim(type).split(/\\s+/),\n      k = types.length;\n    if (k)\n      while (k--) {\n        type = types[k];\n        if (element.addEventListener) {\n          element.addEventListener(type, handler, false);\n        } else {\n          if (!handler._d) {\n            handler._d = {\n              els: []\n            };\n          }\n          var key = type + handler.toString(),\n            index = utils.indexOf(handler._d.els, element);\n          if (!handler._d[key] || index == -1) {\n            if (index == -1) {\n              handler._d.els.push(element);\n            }\n            if (!handler._d[key]) {\n              handler._d[key] = function(evt) {\n                return handler.call(evt.srcElement, evt || window.event);\n              };\n            }\n\n            element.attachEvent(\"on\" + type, handler._d[key]);\n          }\n        }\n      }\n    element = null;\n  },\n  /**\n     * 解除DOM事件绑定\n     * @method un\n     * @param { Node } element 需要解除事件绑定的节点对象\n     * @param { String } type 需要接触绑定的事件类型\n     * @param { Function } handler 对应的事件处理器\n     * @example\n     * ```javascript\n     * UE.dom.domUtils.un(document.body,\"click\",function(evt){\n     *     //evt为事件对象，this为被点击元素对象\n     * });\n     * ```\n     */\n\n  /**\n     * 解除DOM事件绑定\n     * @method un\n     * @param { Node } element 需要解除事件绑定的节点对象\n     * @param { Array } type 需要接触绑定的事件类型数组\n     * @param { Function } handler 对应的事件处理器\n     * @example\n     * ```javascript\n     * UE.dom.domUtils.un(document.body, [\"click\",\"mousedown\"],function(evt){\n     *     //evt为事件对象，this为被点击元素对象\n     * });\n     * ```\n     */\n  un: function(element, type, handler) {\n    var types = utils.isArray(type) ? type : utils.trim(type).split(/\\s+/),\n      k = types.length;\n    if (k)\n      while (k--) {\n        type = types[k];\n        if (element.removeEventListener) {\n          element.removeEventListener(type, handler, false);\n        } else {\n          var key = type + handler.toString();\n          try {\n            element.detachEvent(\n              \"on\" + type,\n              handler._d ? handler._d[key] : handler\n            );\n          } catch (e) {}\n          if (handler._d && handler._d[key]) {\n            var index = utils.indexOf(handler._d.els, element);\n            if (index != -1) {\n              handler._d.els.splice(index, 1);\n            }\n            handler._d.els.length == 0 && delete handler._d[key];\n          }\n        }\n      }\n  },\n\n  /**\n     * 比较节点nodeA与节点nodeB是否具有相同的标签名、属性名以及属性值\n     * @method  isSameElement\n     * @param { Node } nodeA 需要比较的节点\n     * @param { Node } nodeB 需要比较的节点\n     * @return { Boolean } 两个节点是否具有相同的标签名、属性名以及属性值\n     * @example\n     * ```html\n     * <span style=\"font-size:12px\">ssss</span>\n     * <span style=\"font-size:12px\">bbbbb</span>\n     * <span style=\"font-size:13px\">ssss</span>\n     * <span style=\"font-size:14px\">bbbbb</span>\n     *\n     * <script>\n     *\n     *     var nodes = document.getElementsByTagName( \"span\" );\n     *\n     *     //output: true\n     *     console.log( UE.dom.domUtils.isSameElement( nodes[0], nodes[1] ) );\n     *\n     *     //output: false\n     *     console.log( UE.dom.domUtils.isSameElement( nodes[2], nodes[3] ) );\n     *\n     * </script>\n     * ```\n     */\n  isSameElement: function(nodeA, nodeB) {\n    if (nodeA.tagName != nodeB.tagName) {\n      return false;\n    }\n    var thisAttrs = nodeA.attributes,\n      otherAttrs = nodeB.attributes;\n    if (!ie && thisAttrs.length != otherAttrs.length) {\n      return false;\n    }\n    var attrA,\n      attrB,\n      al = 0,\n      bl = 0;\n    for (var i = 0; (attrA = thisAttrs[i++]); ) {\n      if (attrA.nodeName == \"style\") {\n        if (attrA.specified) {\n          al++;\n        }\n        if (domUtils.isSameStyle(nodeA, nodeB)) {\n          continue;\n        } else {\n          return false;\n        }\n      }\n      if (ie) {\n        if (attrA.specified) {\n          al++;\n          attrB = otherAttrs.getNamedItem(attrA.nodeName);\n        } else {\n          continue;\n        }\n      } else {\n        attrB = nodeB.attributes[attrA.nodeName];\n      }\n      if (!attrB.specified || attrA.nodeValue != attrB.nodeValue) {\n        return false;\n      }\n    }\n    // 有可能attrB的属性包含了attrA的属性之外还有自己的属性\n    if (ie) {\n      for (i = 0; (attrB = otherAttrs[i++]); ) {\n        if (attrB.specified) {\n          bl++;\n        }\n      }\n      if (al != bl) {\n        return false;\n      }\n    }\n    return true;\n  },\n\n  /**\n     * 判断节点nodeA与节点nodeB的元素的style属性是否一致\n     * @method isSameStyle\n     * @param { Node } nodeA 需要比较的节点\n     * @param { Node } nodeB 需要比较的节点\n     * @return { Boolean } 两个节点是否具有相同的style属性值\n     * @example\n     * ```html\n     * <span style=\"font-size:12px\">ssss</span>\n     * <span style=\"font-size:12px\">bbbbb</span>\n     * <span style=\"font-size:13px\">ssss</span>\n     * <span style=\"font-size:14px\">bbbbb</span>\n     *\n     * <script>\n     *\n     *     var nodes = document.getElementsByTagName( \"span\" );\n     *\n     *     //output: true\n     *     console.log( UE.dom.domUtils.isSameStyle( nodes[0], nodes[1] ) );\n     *\n     *     //output: false\n     *     console.log( UE.dom.domUtils.isSameStyle( nodes[2], nodes[3] ) );\n     *\n     * </script>\n     * ```\n     */\n  isSameStyle: function(nodeA, nodeB) {\n    var styleA = nodeA.style.cssText\n      .replace(/( ?; ?)/g, \";\")\n      .replace(/( ?: ?)/g, \":\"),\n      styleB = nodeB.style.cssText\n        .replace(/( ?; ?)/g, \";\")\n        .replace(/( ?: ?)/g, \":\");\n    if (browser.opera) {\n      styleA = nodeA.style;\n      styleB = nodeB.style;\n      if (styleA.length != styleB.length) return false;\n      for (var p in styleA) {\n        if (/^(\\d+|csstext)$/i.test(p)) {\n          continue;\n        }\n        if (styleA[p] != styleB[p]) {\n          return false;\n        }\n      }\n      return true;\n    }\n    if (!styleA || !styleB) {\n      return styleA == styleB;\n    }\n    styleA = styleA.split(\";\");\n    styleB = styleB.split(\";\");\n    if (styleA.length != styleB.length) {\n      return false;\n    }\n    for (var i = 0, ci; (ci = styleA[i++]); ) {\n      if (utils.indexOf(styleB, ci) == -1) {\n        return false;\n      }\n    }\n    return true;\n  },\n  /**\n     * 检查节点node是否为block元素\n     * @method isBlockElm\n     * @param { Node } node 需要检测的节点对象\n     * @return { Boolean } 是否是block元素节点\n     * @warning 该方法的判断规则如下： 如果该元素原本是block元素， 则不论该元素当前的css样式是什么都会返回true；\n     *          否则，检测该元素的css样式， 如果该元素当前是block元素， 则返回true。 其余情况下都返回false。\n     * @example\n     * ```html\n     * <span id=\"test1\" style=\"display: block\"></span>\n     * <span id=\"test2\"></span>\n     * <div id=\"test3\" style=\"display: inline\"></div>\n     *\n     * <script>\n     *\n     *     //output: true\n     *     console.log( UE.dom.domUtils.isBlockElm( document.getElementById(\"test1\") ) );\n     *\n     *     //output: false\n     *     console.log( UE.dom.domUtils.isBlockElm( document.getElementById(\"test2\") ) );\n     *\n     *     //output: true\n     *     console.log( UE.dom.domUtils.isBlockElm( document.getElementById(\"test3\") ) );\n     *\n     * </script>\n     * ```\n     */\n  isBlockElm: function(node) {\n    return (\n      node.nodeType == 1 &&\n      (dtd.$block[node.tagName] ||\n        styleBlock[domUtils.getComputedStyle(node, \"display\")]) &&\n      !dtd.$nonChild[node.tagName]\n    );\n  },\n  /**\n     * 检测node节点是否为body节点\n     * @method isBody\n     * @param { Element } node 需要检测的dom元素\n     * @return { Boolean } 给定的元素是否是body元素\n     * @example\n     * ```javascript\n     * //output: true\n     * console.log( UE.dom.domUtils.isBody( document.body ) );\n     * ```\n     */\n  isBody: function(node) {\n    return node && node.nodeType == 1 && node.tagName.toLowerCase() == \"body\";\n  },\n  /**\n     * 以node节点为分界，将该节点的指定祖先节点parent拆分成两个独立的节点，\n     * 拆分形成的两个节点之间是node节点\n     * @method breakParent\n     * @param { Node } node 作为分界的节点对象\n     * @param { Node } parent 该节点必须是node节点的祖先节点， 且是block节点。\n     * @return { Node } 给定的node分界节点\n     * @example\n     * ```javascript\n     *\n     *      var node = document.createElement(\"span\"),\n     *          wrapNode = document.createElement( \"div\" ),\n     *          parent = document.createElement(\"p\");\n     *\n     *      parent.appendChild( node );\n     *      wrapNode.appendChild( parent );\n     *\n     *      //拆分前\n     *      //output: <p><span></span></p>\n     *      console.log( wrapNode.innerHTML );\n     *\n     *\n     *      UE.dom.domUtils.breakParent( node, parent );\n     *      //拆分后\n     *      //output: <p></p><span></span><p></p>\n     *      console.log( wrapNode.innerHTML );\n     *\n     * ```\n     */\n  breakParent: function(node, parent) {\n    var tmpNode,\n      parentClone = node,\n      clone = node,\n      leftNodes,\n      rightNodes;\n    do {\n      parentClone = parentClone.parentNode;\n      if (leftNodes) {\n        tmpNode = parentClone.cloneNode(false);\n        tmpNode.appendChild(leftNodes);\n        leftNodes = tmpNode;\n        tmpNode = parentClone.cloneNode(false);\n        tmpNode.appendChild(rightNodes);\n        rightNodes = tmpNode;\n      } else {\n        leftNodes = parentClone.cloneNode(false);\n        rightNodes = leftNodes.cloneNode(false);\n      }\n      while ((tmpNode = clone.previousSibling)) {\n        leftNodes.insertBefore(tmpNode, leftNodes.firstChild);\n      }\n      while ((tmpNode = clone.nextSibling)) {\n        rightNodes.appendChild(tmpNode);\n      }\n      clone = parentClone;\n    } while (parent !== parentClone);\n    tmpNode = parent.parentNode;\n    tmpNode.insertBefore(leftNodes, parent);\n    tmpNode.insertBefore(rightNodes, parent);\n    tmpNode.insertBefore(node, rightNodes);\n    domUtils.remove(parent);\n    return node;\n  },\n  /**\n     * 检查节点node是否是空inline节点\n     * @method  isEmptyInlineElement\n     * @param { Node } node 需要检测的节点对象\n     * @return { Number }  如果给定的节点是空的inline节点， 则返回1, 否则返回0。\n     * @example\n     * ```html\n     * <b><i></i></b> => 1\n     * <b><i></i><u></u></b> => 1\n     * <b></b> => 1\n     * <b>xx<i></i></b> => 0\n     * ```\n     */\n  isEmptyInlineElement: function(node) {\n    if (node.nodeType != 1 || !dtd.$removeEmpty[node.tagName]) {\n      return 0;\n    }\n    node = node.firstChild;\n    while (node) {\n      //如果是创建的bookmark就跳过\n      if (domUtils.isBookmarkNode(node)) {\n        return 0;\n      }\n      if (\n        (node.nodeType == 1 && !domUtils.isEmptyInlineElement(node)) ||\n        (node.nodeType == 3 && !domUtils.isWhitespace(node))\n      ) {\n        return 0;\n      }\n      node = node.nextSibling;\n    }\n    return 1;\n  },\n\n  /**\n     * 删除node节点下首尾两端的空白文本子节点\n     * @method trimWhiteTextNode\n     * @param { Element } node 需要执行删除操作的元素对象\n     * @example\n     * ```javascript\n     *      var node = document.createElement(\"div\");\n     *\n     *      node.appendChild( document.createTextNode( \"\" ) );\n     *\n     *      node.appendChild( document.createElement(\"div\") );\n     *\n     *      node.appendChild( document.createTextNode( \"\" ) );\n     *\n     *      //3\n     *      console.log( node.childNodes.length );\n     *\n     *      UE.dom.domUtils.trimWhiteTextNode( node );\n     *\n     *      //1\n     *      console.log( node.childNodes.length );\n     * ```\n     */\n  trimWhiteTextNode: function(node) {\n    function remove(dir) {\n      var child;\n      while (\n        (child = node[dir]) &&\n        child.nodeType == 3 &&\n        domUtils.isWhitespace(child)\n      ) {\n        node.removeChild(child);\n      }\n    }\n    remove(\"firstChild\");\n    remove(\"lastChild\");\n  },\n\n  /**\n     * 合并node节点下相同的子节点\n     * @name mergeChild\n     * @desc\n     * UE.dom.domUtils.mergeChild(node,tagName) //tagName要合并的子节点的标签\n     * @example\n     * <p><span style=\"font-size:12px;\">xx<span style=\"font-size:12px;\">aa</span>xx</span></p>\n     * ==> UE.dom.domUtils.mergeChild(node,'span')\n     * <p><span style=\"font-size:12px;\">xxaaxx</span></p>\n     */\n  mergeChild: function(node, tagName, attrs) {\n    var list = domUtils.getElementsByTagName(node, node.tagName.toLowerCase());\n    for (var i = 0, ci; (ci = list[i++]); ) {\n      if (!ci.parentNode || domUtils.isBookmarkNode(ci)) {\n        continue;\n      }\n      //span单独处理\n      if (ci.tagName.toLowerCase() == \"span\") {\n        if (node === ci.parentNode) {\n          domUtils.trimWhiteTextNode(node);\n          if (node.childNodes.length == 1) {\n            node.style.cssText = ci.style.cssText + \";\" + node.style.cssText;\n            domUtils.remove(ci, true);\n            continue;\n          }\n        }\n        ci.style.cssText = node.style.cssText + \";\" + ci.style.cssText;\n        if (attrs) {\n          var style = attrs.style;\n          if (style) {\n            style = style.split(\";\");\n            for (var j = 0, s; (s = style[j++]); ) {\n              ci.style[utils.cssStyleToDomStyle(s.split(\":\")[0])] = s.split(\n                \":\"\n              )[1];\n            }\n          }\n        }\n        if (domUtils.isSameStyle(ci, node)) {\n          domUtils.remove(ci, true);\n        }\n        continue;\n      }\n      if (domUtils.isSameElement(node, ci)) {\n        domUtils.remove(ci, true);\n      }\n    }\n  },\n\n  /**\n     * 原生方法getElementsByTagName的封装\n     * @method getElementsByTagName\n     * @param { Node } node 目标节点对象\n     * @param { String } tagName 需要查找的节点的tagName， 多个tagName以空格分割\n     * @return { Array } 符合条件的节点集合\n     */\n  getElementsByTagName: function(node, name, filter) {\n    if (filter && utils.isString(filter)) {\n      var className = filter;\n      filter = function(node) {\n        return domUtils.hasClass(node, className);\n      };\n    }\n    name = utils.trim(name).replace(/[ ]{2,}/g, \" \").split(\" \");\n    var arr = [];\n    for (var n = 0, ni; (ni = name[n++]); ) {\n      var list = node.getElementsByTagName(ni);\n      for (var i = 0, ci; (ci = list[i++]); ) {\n        if (!filter || filter(ci)) arr.push(ci);\n      }\n    }\n\n    return arr;\n  },\n  /**\n     * 将节点node提取到父节点上\n     * @method mergeToParent\n     * @param { Element } node 需要提取的元素对象\n     * @example\n     * ```html\n     * <div id=\"parent\">\n     *     <div id=\"sub\">\n     *         <span id=\"child\"></span>\n     *     </div>\n     * </div>\n     *\n     * <script>\n     *\n     *     var child = document.getElementById( \"child\" );\n     *\n     *     //output: sub\n     *     console.log( child.parentNode.id );\n     *\n     *     UE.dom.domUtils.mergeToParent( child );\n     *\n     *     //output: parent\n     *     console.log( child.parentNode.id );\n     *\n     * </script>\n     * ```\n     */\n  mergeToParent: function(node) {\n    var parent = node.parentNode;\n    while (parent && dtd.$removeEmpty[parent.tagName]) {\n      if (parent.tagName == node.tagName || parent.tagName == \"A\") {\n        //针对a标签单独处理\n        domUtils.trimWhiteTextNode(parent);\n        //span需要特殊处理  不处理这样的情况 <span stlye=\"color:#fff\">xxx<span style=\"color:#ccc\">xxx</span>xxx</span>\n        if (\n          (parent.tagName == \"SPAN\" && !domUtils.isSameStyle(parent, node)) ||\n          (parent.tagName == \"A\" && node.tagName == \"SPAN\")\n        ) {\n          if (parent.childNodes.length > 1 || parent !== node.parentNode) {\n            node.style.cssText =\n              parent.style.cssText + \";\" + node.style.cssText;\n            parent = parent.parentNode;\n            continue;\n          } else {\n            parent.style.cssText += \";\" + node.style.cssText;\n            //trace:952 a标签要保持下划线\n            if (parent.tagName == \"A\") {\n              parent.style.textDecoration = \"underline\";\n            }\n          }\n        }\n        if (parent.tagName != \"A\") {\n          parent === node.parentNode && domUtils.remove(node, true);\n          break;\n        }\n      }\n      parent = parent.parentNode;\n    }\n  },\n  /**\n     * 合并节点node的左右兄弟节点\n     * @method mergeSibling\n     * @param { Element } node 需要合并的目标节点\n     * @example\n     * ```html\n     * <b>xxxx</b><b id=\"test\">ooo</b><b>xxxx</b>\n     *\n     * <script>\n     *     var demoNode = document.getElementById(\"test\");\n     *     UE.dom.domUtils.mergeSibling( demoNode );\n     *     //output: xxxxoooxxxx\n     *     console.log( demoNode.innerHTML );\n     * </script>\n     * ```\n     */\n\n  /**\n     * 合并节点node的左右兄弟节点， 可以根据给定的条件选择是否忽略合并左节点。\n     * @method mergeSibling\n     * @param { Element } node 需要合并的目标节点\n     * @param { Boolean } ignorePre 是否忽略合并左节点\n     * @example\n     * ```html\n     * <b>xxxx</b><b id=\"test\">ooo</b><b>xxxx</b>\n     *\n     * <script>\n     *     var demoNode = document.getElementById(\"test\");\n     *     UE.dom.domUtils.mergeSibling( demoNode, true );\n     *     //output: oooxxxx\n     *     console.log( demoNode.innerHTML );\n     * </script>\n     * ```\n     */\n\n  /**\n     * 合并节点node的左右兄弟节点，可以根据给定的条件选择是否忽略合并左右节点。\n     * @method mergeSibling\n     * @param { Element } node 需要合并的目标节点\n     * @param { Boolean } ignorePre 是否忽略合并左节点\n     * @param { Boolean } ignoreNext 是否忽略合并右节点\n     * @remind 如果同时忽略左右节点， 则该操作什么也不会做\n     * @example\n     * ```html\n     * <b>xxxx</b><b id=\"test\">ooo</b><b>xxxx</b>\n     *\n     * <script>\n     *     var demoNode = document.getElementById(\"test\");\n     *     UE.dom.domUtils.mergeSibling( demoNode, false, true );\n     *     //output: xxxxooo\n     *     console.log( demoNode.innerHTML );\n     * </script>\n     * ```\n     */\n  mergeSibling: function(node, ignorePre, ignoreNext) {\n    function merge(rtl, start, node) {\n      var next;\n      if (\n        (next = node[rtl]) &&\n        !domUtils.isBookmarkNode(next) &&\n        next.nodeType == 1 &&\n        domUtils.isSameElement(node, next)\n      ) {\n        while (next.firstChild) {\n          if (start == \"firstChild\") {\n            node.insertBefore(next.lastChild, node.firstChild);\n          } else {\n            node.appendChild(next.firstChild);\n          }\n        }\n        domUtils.remove(next);\n      }\n    }\n    !ignorePre && merge(\"previousSibling\", \"firstChild\", node);\n    !ignoreNext && merge(\"nextSibling\", \"lastChild\", node);\n  },\n\n  /**\n     * 设置节点node及其子节点不会被选中\n     * @method unSelectable\n     * @param { Element } node 需要执行操作的dom元素\n     * @remind 执行该操作后的节点， 将不能被鼠标选中\n     * @example\n     * ```javascript\n     * UE.dom.domUtils.unSelectable( document.body );\n     * ```\n     */\n  unSelectable: (ie && browser.ie9below) || browser.opera\n    ? function(node) {\n        //for ie9\n        node.onselectstart = function() {\n          return false;\n        };\n        node.onclick = node.onkeyup = node.onkeydown = function() {\n          return false;\n        };\n        node.unselectable = \"on\";\n        node.setAttribute(\"unselectable\", \"on\");\n        for (var i = 0, ci; (ci = node.all[i++]); ) {\n          switch (ci.tagName.toLowerCase()) {\n            case \"iframe\":\n            case \"textarea\":\n            case \"input\":\n            case \"select\":\n              break;\n            default:\n              ci.unselectable = \"on\";\n              node.setAttribute(\"unselectable\", \"on\");\n          }\n        }\n      }\n    : function(node) {\n        node.style.MozUserSelect = node.style.webkitUserSelect = node.style.msUserSelect = node.style.KhtmlUserSelect =\n          \"none\";\n      },\n  /**\n     * 删除节点node上的指定属性名称的属性\n     * @method  removeAttributes\n     * @param { Node } node 需要删除属性的节点对象\n     * @param { String } attrNames 可以是空格隔开的多个属性名称，该操作将会依次删除相应的属性\n     * @example\n     * ```html\n     * <div id=\"wrap\">\n     *      <span style=\"font-size:14px;\" id=\"test\" name=\"followMe\">xxxxx</span>\n     * </div>\n     *\n     * <script>\n     *\n     *     UE.dom.domUtils.removeAttributes( document.getElementById( \"test\" ), \"id name\" );\n     *\n     *     //output: <span style=\"font-size:14px;\">xxxxx</span>\n     *     console.log( document.getElementById(\"wrap\").innerHTML );\n     *\n     * </script>\n     * ```\n     */\n\n  /**\n     * 删除节点node上的指定属性名称的属性\n     * @method  removeAttributes\n     * @param { Node } node 需要删除属性的节点对象\n     * @param { Array } attrNames 需要删除的属性名数组\n     * @example\n     * ```html\n     * <div id=\"wrap\">\n     *      <span style=\"font-size:14px;\" id=\"test\" name=\"followMe\">xxxxx</span>\n     * </div>\n     *\n     * <script>\n     *\n     *     UE.dom.domUtils.removeAttributes( document.getElementById( \"test\" ), [\"id\", \"name\"] );\n     *\n     *     //output: <span style=\"font-size:14px;\">xxxxx</span>\n     *     console.log( document.getElementById(\"wrap\").innerHTML );\n     *\n     * </script>\n     * ```\n     */\n  removeAttributes: function(node, attrNames) {\n    attrNames = utils.isArray(attrNames)\n      ? attrNames\n      : utils.trim(attrNames).replace(/[ ]{2,}/g, \" \").split(\" \");\n    for (var i = 0, ci; (ci = attrNames[i++]); ) {\n      ci = attrFix[ci] || ci;\n      switch (ci) {\n        case \"className\":\n          node[ci] = \"\";\n          break;\n        case \"style\":\n          node.style.cssText = \"\";\n          var val = node.getAttributeNode(\"style\");\n          !browser.ie && val && node.removeAttributeNode(val);\n      }\n      node.removeAttribute(ci);\n    }\n  },\n  /**\n     * 在doc下创建一个标签名为tag，属性为attrs的元素\n     * @method createElement\n     * @param { DomDocument } doc 新创建的元素属于该document节点创建\n     * @param { String } tagName 需要创建的元素的标签名\n     * @param { Object } attrs 新创建的元素的属性key-value集合\n     * @return { Element } 新创建的元素对象\n     * @example\n     * ```javascript\n     * var ele = UE.dom.domUtils.createElement( document, 'div', {\n     *     id: 'test'\n     * } );\n     *\n     * //output: DIV\n     * console.log( ele.tagName );\n     *\n     * //output: test\n     * console.log( ele.id );\n     *\n     * ```\n     */\n  createElement: function(doc, tag, attrs) {\n    return domUtils.setAttributes(doc.createElement(tag), attrs);\n  },\n  /**\n     * 为节点node添加属性attrs，attrs为属性键值对\n     * @method setAttributes\n     * @param { Element } node 需要设置属性的元素对象\n     * @param { Object } attrs 需要设置的属性名-值对\n     * @return { Element } 设置属性的元素对象\n     * @example\n     * ```html\n     * <span id=\"test\"></span>\n     *\n     * <script>\n     *\n     *     var testNode = UE.dom.domUtils.setAttributes( document.getElementById( \"test\" ), {\n     *         id: 'demo'\n     *     } );\n     *\n     *     //output: demo\n     *     console.log( testNode.id );\n     *\n     * </script>\n     *\n     */\n  setAttributes: function(node, attrs) {\n    for (var attr in attrs) {\n      if (attrs.hasOwnProperty(attr)) {\n        var value = attrs[attr];\n        switch (attr) {\n          case \"class\":\n            //ie下要这样赋值，setAttribute不起作用\n            node.className = value;\n            break;\n          case \"style\":\n            node.style.cssText = node.style.cssText + \";\" + value;\n            break;\n          case \"innerHTML\":\n            node[attr] = value;\n            break;\n          case \"value\":\n            node.value = value;\n            break;\n          default:\n            node.setAttribute(attrFix[attr] || attr, value);\n        }\n      }\n    }\n    return node;\n  },\n\n  /**\n     * 获取元素element经过计算后的样式值\n     * @method getComputedStyle\n     * @param { Element } element 需要获取样式的元素对象\n     * @param { String } styleName 需要获取的样式名\n     * @return { String } 获取到的样式值\n     * @example\n     * ```html\n     * <style type=\"text/css\">\n     *      #test {\n     *          font-size: 15px;\n     *      }\n     * </style>\n     *\n     * <span id=\"test\"></span>\n     *\n     * <script>\n     *     //output: 15px\n     *     console.log( UE.dom.domUtils.getComputedStyle( document.getElementById( \"test\" ), 'font-size' ) );\n     * </script>\n     * ```\n     */\n  getComputedStyle: function(element, styleName) {\n    //一下的属性单独处理\n    var pros = \"width height top left\";\n\n    if (pros.indexOf(styleName) > -1) {\n      return (\n        element[\n          \"offset\" +\n            styleName.replace(/^\\w/, function(s) {\n              return s.toUpperCase();\n            })\n        ] + \"px\"\n      );\n    }\n    //忽略文本节点\n    if (element.nodeType == 3) {\n      element = element.parentNode;\n    }\n    //ie下font-size若body下定义了font-size，则从currentStyle里会取到这个font-size. 取不到实际值，故此修改.\n    if (\n      browser.ie &&\n      browser.version < 9 &&\n      styleName == \"font-size\" &&\n      !element.style.fontSize &&\n      !dtd.$empty[element.tagName] &&\n      !dtd.$nonChild[element.tagName]\n    ) {\n      var span = element.ownerDocument.createElement(\"span\");\n      span.style.cssText = \"padding:0;border:0;font-family:simsun;\";\n      span.innerHTML = \".\";\n      element.appendChild(span);\n      var result = span.offsetHeight;\n      element.removeChild(span);\n      span = null;\n      return result + \"px\";\n    }\n    try {\n      var value =\n        domUtils.getStyle(element, styleName) ||\n        (window.getComputedStyle\n          ? domUtils\n              .getWindow(element)\n              .getComputedStyle(element, \"\")\n              .getPropertyValue(styleName)\n          : (element.currentStyle || element.style)[\n              utils.cssStyleToDomStyle(styleName)\n            ]);\n    } catch (e) {\n      return \"\";\n    }\n    return utils.transUnitToPx(utils.fixColor(styleName, value));\n  },\n  /**\n     * 删除元素element指定的className\n     * @method removeClasses\n     * @param { Element } ele 需要删除class的元素节点\n     * @param { String } classNames 需要删除的className， 多个className之间以空格分开\n     * @example\n     * ```html\n     * <span id=\"test\" class=\"test1 test2 test3\">xxx</span>\n     *\n     * <script>\n     *\n     *     var testNode = document.getElementById( \"test\" );\n     *     UE.dom.domUtils.removeClasses( testNode, \"test1 test2\" );\n     *\n     *     //output: test3\n     *     console.log( testNode.className );\n     *\n     * </script>\n     * ```\n     */\n\n  /**\n     * 删除元素element指定的className\n     * @method removeClasses\n     * @param { Element } ele 需要删除class的元素节点\n     * @param { Array } classNames 需要删除的className数组\n     * @example\n     * ```html\n     * <span id=\"test\" class=\"test1 test2 test3\">xxx</span>\n     *\n     * <script>\n     *\n     *     var testNode = document.getElementById( \"test\" );\n     *     UE.dom.domUtils.removeClasses( testNode, [\"test1\", \"test2\"] );\n     *\n     *     //output: test3\n     *     console.log( testNode.className );\n     *\n     * </script>\n     * ```\n     */\n  removeClasses: function(elm, classNames) {\n    classNames = utils.isArray(classNames)\n      ? classNames\n      : utils.trim(classNames).replace(/[ ]{2,}/g, \" \").split(\" \");\n    for (var i = 0, ci, cls = elm.className; (ci = classNames[i++]); ) {\n      cls = cls.replace(new RegExp(\"\\\\b\" + ci + \"\\\\b\"), \"\");\n    }\n    cls = utils.trim(cls).replace(/[ ]{2,}/g, \" \");\n    if (cls) {\n      elm.className = cls;\n    } else {\n      domUtils.removeAttributes(elm, [\"class\"]);\n    }\n  },\n  /**\n     * 给元素element添加className\n     * @method addClass\n     * @param { Node } ele 需要增加className的元素\n     * @param { String } classNames 需要添加的className， 多个className之间以空格分割\n     * @remind 相同的类名不会被重复添加\n     * @example\n     * ```html\n     * <span id=\"test\" class=\"cls1 cls2\"></span>\n     *\n     * <script>\n     *     var testNode = document.getElementById(\"test\");\n     *\n     *     UE.dom.domUtils.addClass( testNode, \"cls2 cls3 cls4\" );\n     *\n     *     //output: cl1 cls2 cls3 cls4\n     *     console.log( testNode.className );\n     *\n     * <script>\n     * ```\n     */\n\n  /**\n     * 给元素element添加className\n     * @method addClass\n     * @param { Node } ele 需要增加className的元素\n     * @param { Array } classNames 需要添加的className的数组\n     * @remind 相同的类名不会被重复添加\n     * @example\n     * ```html\n     * <span id=\"test\" class=\"cls1 cls2\"></span>\n     *\n     * <script>\n     *     var testNode = document.getElementById(\"test\");\n     *\n     *     UE.dom.domUtils.addClass( testNode, [\"cls2\", \"cls3\", \"cls4\"] );\n     *\n     *     //output: cl1 cls2 cls3 cls4\n     *     console.log( testNode.className );\n     *\n     * <script>\n     * ```\n     */\n  addClass: function(elm, classNames) {\n    if (!elm) return;\n    classNames = utils.trim(classNames).replace(/[ ]{2,}/g, \" \").split(\" \");\n    for (var i = 0, ci, cls = elm.className; (ci = classNames[i++]); ) {\n      if (!new RegExp(\"\\\\b\" + ci + \"\\\\b\").test(cls)) {\n        cls += \" \" + ci;\n      }\n    }\n    elm.className = utils.trim(cls);\n  },\n  /**\n     * 判断元素element是否包含给定的样式类名className\n     * @method hasClass\n     * @param { Node } ele 需要检测的元素\n     * @param { String } classNames 需要检测的className， 多个className之间用空格分割\n     * @return { Boolean } 元素是否包含所有给定的className\n     * @example\n     * ```html\n     * <span id=\"test1\" class=\"cls1 cls2\"></span>\n     *\n     * <script>\n     *     var test1 = document.getElementById(\"test1\");\n     *\n     *     //output: false\n     *     console.log( UE.dom.domUtils.hasClass( test1, \"cls2 cls1 cls3\" ) );\n     *\n     *     //output: true\n     *     console.log( UE.dom.domUtils.hasClass( test1, \"cls2 cls1\" ) );\n     * </script>\n     * ```\n     */\n\n  /**\n     * 判断元素element是否包含给定的样式类名className\n     * @method hasClass\n     * @param { Node } ele 需要检测的元素\n     * @param { Array } classNames 需要检测的className数组\n     * @return { Boolean } 元素是否包含所有给定的className\n     * @example\n     * ```html\n     * <span id=\"test1\" class=\"cls1 cls2\"></span>\n     *\n     * <script>\n     *     var test1 = document.getElementById(\"test1\");\n     *\n     *     //output: false\n     *     console.log( UE.dom.domUtils.hasClass( test1, [ \"cls2\", \"cls1\", \"cls3\" ] ) );\n     *\n     *     //output: true\n     *     console.log( UE.dom.domUtils.hasClass( test1, [ \"cls2\", \"cls1\" ]) );\n     * </script>\n     * ```\n     */\n  hasClass: function(element, className) {\n    if (utils.isRegExp(className)) {\n      return className.test(element.className);\n    }\n    className = utils.trim(className).replace(/[ ]{2,}/g, \" \").split(\" \");\n    for (var i = 0, ci, cls = element.className; (ci = className[i++]); ) {\n      if (!new RegExp(\"\\\\b\" + ci + \"\\\\b\", \"i\").test(cls)) {\n        return false;\n      }\n    }\n    return i - 1 == className.length;\n  },\n\n  /**\n     * 阻止事件默认行为\n     * @method preventDefault\n     * @param { Event } evt 需要阻止默认行为的事件对象\n     * @example\n     * ```javascript\n     * UE.dom.domUtils.preventDefault( evt );\n     * ```\n     */\n  preventDefault: function(evt) {\n    evt.preventDefault ? evt.preventDefault() : (evt.returnValue = false);\n  },\n  /**\n     * 删除元素element指定的样式\n     * @method removeStyle\n     * @param { Element } element 需要删除样式的元素\n     * @param { String } styleName 需要删除的样式名\n     * @example\n     * ```html\n     * <span id=\"test\" style=\"color: red; background: blue;\"></span>\n     *\n     * <script>\n     *\n     *     var testNode = document.getElementById(\"test\");\n     *\n     *     UE.dom.domUtils.removeStyle( testNode, 'color' );\n     *\n     *     //output: background: blue;\n     *     console.log( testNode.style.cssText );\n     *\n     * </script>\n     * ```\n     */\n  removeStyle: function(element, name) {\n    if (browser.ie) {\n      //针对color先单独处理一下\n      if (name == \"color\") {\n        name = \"(^|;)\" + name;\n      }\n      element.style.cssText = element.style.cssText.replace(\n        new RegExp(name + \"[^:]*:[^;]+;?\", \"ig\"),\n        \"\"\n      );\n    } else {\n      if (element.style.removeProperty) {\n        element.style.removeProperty(name);\n      } else {\n        element.style.removeAttribute(utils.cssStyleToDomStyle(name));\n      }\n    }\n\n    if (!element.style.cssText) {\n      domUtils.removeAttributes(element, [\"style\"]);\n    }\n  },\n  /**\n     * 获取元素element的style属性的指定值\n     * @method getStyle\n     * @param { Element } element 需要获取属性值的元素\n     * @param { String } styleName 需要获取的style的名称\n     * @warning 该方法仅获取元素style属性中所标明的值\n     * @return { String } 该元素包含指定的style属性值\n     * @example\n     * ```html\n     * <div id=\"test\" style=\"color: red;\"></div>\n     *\n     * <script>\n     *\n     *      var testNode = document.getElementById( \"test\" );\n     *\n     *      //output: red\n     *      console.log( UE.dom.domUtils.getStyle( testNode, \"color\" ) );\n     *\n     *      //output: \"\"\n     *      console.log( UE.dom.domUtils.getStyle( testNode, \"background\" ) );\n     *\n     * </script>\n     * ```\n     */\n  getStyle: function(element, name) {\n    var value = element.style[utils.cssStyleToDomStyle(name)];\n    return utils.fixColor(name, value);\n  },\n  /**\n     * 为元素element设置样式属性值\n     * @method setStyle\n     * @param { Element } element 需要设置样式的元素\n     * @param { String } styleName 样式名\n     * @param { String } styleValue 样式值\n     * @example\n     * ```html\n     * <div id=\"test\"></div>\n     *\n     * <script>\n     *\n     *      var testNode = document.getElementById( \"test\" );\n     *\n     *      //output: \"\"\n     *      console.log( testNode.style.color );\n     *\n     *      UE.dom.domUtils.setStyle( testNode, 'color', 'red' );\n     *      //output: \"red\"\n     *      console.log( testNode.style.color );\n     *\n     * </script>\n     * ```\n     */\n  setStyle: function(element, name, value) {\n    element.style[utils.cssStyleToDomStyle(name)] = value;\n    if (!utils.trim(element.style.cssText)) {\n      this.removeAttributes(element, \"style\");\n    }\n  },\n  /**\n     * 为元素element设置多个样式属性值\n     * @method setStyles\n     * @param { Element } element 需要设置样式的元素\n     * @param { Object } styles 样式名值对\n     * @example\n     * ```html\n     * <div id=\"test\"></div>\n     *\n     * <script>\n     *\n     *      var testNode = document.getElementById( \"test\" );\n     *\n     *      //output: \"\"\n     *      console.log( testNode.style.color );\n     *\n     *      UE.dom.domUtils.setStyles( testNode, {\n     *          'color': 'red'\n     *      } );\n     *      //output: \"red\"\n     *      console.log( testNode.style.color );\n     *\n     * </script>\n     * ```\n     */\n  setStyles: function(element, styles) {\n    for (var name in styles) {\n      if (styles.hasOwnProperty(name)) {\n        domUtils.setStyle(element, name, styles[name]);\n      }\n    }\n  },\n  /**\n     * 删除_moz_dirty属性\n     * @private\n     * @method removeDirtyAttr\n     */\n  removeDirtyAttr: function(node) {\n    for (\n      var i = 0, ci, nodes = node.getElementsByTagName(\"*\");\n      (ci = nodes[i++]);\n\n    ) {\n      ci.removeAttribute(\"_moz_dirty\");\n    }\n    node.removeAttribute(\"_moz_dirty\");\n  },\n  /**\n     * 获取子节点的数量\n     * @method getChildCount\n     * @param { Element } node 需要检测的元素\n     * @return { Number } 给定的node元素的子节点数量\n     * @example\n     * ```html\n     * <div id=\"test\">\n     *      <span></span>\n     * </div>\n     *\n     * <script>\n     *\n     *     //output: 3\n     *     console.log( UE.dom.domUtils.getChildCount( document.getElementById(\"test\") ) );\n     *\n     * </script>\n     * ```\n     */\n\n  /**\n     * 根据给定的过滤规则， 获取符合条件的子节点的数量\n     * @method getChildCount\n     * @param { Element } node 需要检测的元素\n     * @param { Function } fn 过滤器， 要求对符合条件的子节点返回true， 反之则要求返回false\n     * @return { Number } 符合过滤条件的node元素的子节点数量\n     * @example\n     * ```html\n     * <div id=\"test\">\n     *      <span></span>\n     * </div>\n     *\n     * <script>\n     *\n     *     //output: 1\n     *     console.log( UE.dom.domUtils.getChildCount( document.getElementById(\"test\"), function ( node ) {\n     *\n     *         return node.nodeType === 1;\n     *\n     *     } ) );\n     *\n     * </script>\n     * ```\n     */\n  getChildCount: function(node, fn) {\n    var count = 0,\n      first = node.firstChild;\n    fn =\n      fn ||\n      function() {\n        return 1;\n      };\n    while (first) {\n      if (fn(first)) {\n        count++;\n      }\n      first = first.nextSibling;\n    }\n    return count;\n  },\n\n  /**\n     * 判断给定节点是否为空节点\n     * @method isEmptyNode\n     * @param { Node } node 需要检测的节点对象\n     * @return { Boolean } 节点是否为空\n     * @example\n     * ```javascript\n     * UE.dom.domUtils.isEmptyNode( document.body );\n     * ```\n     */\n  isEmptyNode: function(node) {\n    return (\n      !node.firstChild ||\n      domUtils.getChildCount(node, function(node) {\n        return (\n          !domUtils.isBr(node) &&\n          !domUtils.isBookmarkNode(node) &&\n          !domUtils.isWhitespace(node)\n        );\n      }) == 0\n    );\n  },\n  clearSelectedArr: function(nodes) {\n    var node;\n    while ((node = nodes.pop())) {\n      domUtils.removeAttributes(node, [\"class\"]);\n    }\n  },\n  /**\n     * 将显示区域滚动到指定节点的位置\n     * @method scrollToView\n     * @param    {Node}   node    节点\n     * @param    {window}   win      window对象\n     * @param    {Number}    offsetTop    距离上方的偏移量\n     */\n  scrollToView: function(node, win, offsetTop) {\n    var getViewPaneSize = function() {\n      var doc = win.document,\n        mode = doc.compatMode == \"CSS1Compat\";\n      return {\n        width:\n          (mode ? doc.documentElement.clientWidth : doc.body.clientWidth) || 0,\n        height:\n          (mode ? doc.documentElement.clientHeight : doc.body.clientHeight) || 0\n      };\n    },\n      getScrollPosition = function(win) {\n        if (\"pageXOffset\" in win) {\n          return {\n            x: win.pageXOffset || 0,\n            y: win.pageYOffset || 0\n          };\n        } else {\n          var doc = win.document;\n          return {\n            x: doc.documentElement.scrollLeft || doc.body.scrollLeft || 0,\n            y: doc.documentElement.scrollTop || doc.body.scrollTop || 0\n          };\n        }\n      };\n    var winHeight = getViewPaneSize().height,\n      offset = winHeight * -1 + offsetTop;\n    offset += node.offsetHeight || 0;\n    var elementPosition = domUtils.getXY(node);\n    offset += elementPosition.y;\n    var currentScroll = getScrollPosition(win).y;\n    // offset += 50;\n    if (offset > currentScroll || offset < currentScroll - winHeight) {\n      win.scrollTo(0, offset + (offset < 0 ? -20 : 20));\n    }\n  },\n  /**\n     * 判断给定节点是否为br\n     * @method isBr\n     * @param { Node } node 需要判断的节点对象\n     * @return { Boolean } 给定的节点是否是br节点\n     */\n  isBr: function(node) {\n    return node.nodeType == 1 && node.tagName == \"BR\";\n  },\n  /**\n     * 判断给定的节点是否是一个“填充”节点\n     * @private\n     * @method isFillChar\n     * @param { Node } node 需要判断的节点\n     * @param { Boolean } isInStart 是否从节点内容的开始位置匹配\n     * @returns { Boolean } 节点是否是填充节点\n     */\n  isFillChar: function(node, isInStart) {\n    if (node.nodeType != 3) return false;\n    var text = node.nodeValue;\n    if (isInStart) {\n      return new RegExp(\"^\" + domUtils.fillChar).test(text);\n    }\n    return !text.replace(new RegExp(domUtils.fillChar, \"g\"), \"\").length;\n  },\n  isStartInblock: function(range) {\n    var tmpRange = range.cloneRange(),\n      flag = 0,\n      start = tmpRange.startContainer,\n      tmp;\n    if (start.nodeType == 1 && start.childNodes[tmpRange.startOffset]) {\n      start = start.childNodes[tmpRange.startOffset];\n      var pre = start.previousSibling;\n      while (pre && domUtils.isFillChar(pre)) {\n        start = pre;\n        pre = pre.previousSibling;\n      }\n    }\n    if (this.isFillChar(start, true) && tmpRange.startOffset == 1) {\n      tmpRange.setStartBefore(start);\n      start = tmpRange.startContainer;\n    }\n\n    while (start && domUtils.isFillChar(start)) {\n      tmp = start;\n      start = start.previousSibling;\n    }\n    if (tmp) {\n      tmpRange.setStartBefore(tmp);\n      start = tmpRange.startContainer;\n    }\n    if (\n      start.nodeType == 1 &&\n      domUtils.isEmptyNode(start) &&\n      tmpRange.startOffset == 1\n    ) {\n      tmpRange.setStart(start, 0).collapse(true);\n    }\n    while (!tmpRange.startOffset) {\n      start = tmpRange.startContainer;\n      if (domUtils.isBlockElm(start) || domUtils.isBody(start)) {\n        flag = 1;\n        break;\n      }\n      var pre = tmpRange.startContainer.previousSibling,\n        tmpNode;\n      if (!pre) {\n        tmpRange.setStartBefore(tmpRange.startContainer);\n      } else {\n        while (pre && domUtils.isFillChar(pre)) {\n          tmpNode = pre;\n          pre = pre.previousSibling;\n        }\n        if (tmpNode) {\n          tmpRange.setStartBefore(tmpNode);\n        } else {\n          tmpRange.setStartBefore(tmpRange.startContainer);\n        }\n      }\n    }\n    return flag && !domUtils.isBody(tmpRange.startContainer) ? 1 : 0;\n  },\n\n  /**\n     * 判断给定的元素是否是一个空元素\n     * @method isEmptyBlock\n     * @param { Element } node 需要判断的元素\n     * @return { Boolean } 是否是空元素\n     * @example\n     * ```html\n     * <div id=\"test\"></div>\n     *\n     * <script>\n     *     //output: true\n     *     console.log( UE.dom.domUtils.isEmptyBlock( document.getElementById(\"test\") ) );\n     * </script>\n     * ```\n     */\n\n  /**\n     * 根据指定的判断规则判断给定的元素是否是一个空元素\n     * @method isEmptyBlock\n     * @param { Element } node 需要判断的元素\n     * @param { RegExp } reg 对内容执行判断的正则表达式对象\n     * @return { Boolean } 是否是空元素\n     */\n  isEmptyBlock: function(node, reg) {\n    if (node.nodeType != 1) return 0;\n    reg = reg || new RegExp(\"[ \\xa0\\t\\r\\n\" + domUtils.fillChar + \"]\", \"g\");\n\n    if (\n      node[browser.ie ? \"innerText\" : \"textContent\"].replace(reg, \"\").length > 0\n    ) {\n      return 0;\n    }\n    for (var n in dtd.$isNotEmpty) {\n      if (node.getElementsByTagName(n).length) {\n        return 0;\n      }\n    }\n    return 1;\n  },\n\n  /**\n     * 移动元素使得该元素的位置移动指定的偏移量的距离\n     * @method setViewportOffset\n     * @param { Element } element 需要设置偏移量的元素\n     * @param { Object } offset 偏移量， 形如{ left: 100, top: 50 }的一个键值对， 表示该元素将在\n     *                                  现有的位置上向水平方向偏移offset.left的距离， 在竖直方向上偏移\n     *                                  offset.top的距离\n     * @example\n     * ```html\n     * <div id=\"test\" style=\"top: 100px; left: 50px; position: absolute;\"></div>\n     *\n     * <script>\n     *\n     *     var testNode = document.getElementById(\"test\");\n     *\n     *     UE.dom.domUtils.setViewportOffset( testNode, {\n     *         left: 200,\n     *         top: 50\n     *     } );\n     *\n     *     //output: top: 300px; left: 100px; position: absolute;\n     *     console.log( testNode.style.cssText );\n     *\n     * </script>\n     * ```\n     */\n  setViewportOffset: function(element, offset) {\n    var left = parseInt(element.style.left) | 0;\n    var top = parseInt(element.style.top) | 0;\n    var rect = element.getBoundingClientRect();\n    var offsetLeft = offset.left - rect.left;\n    var offsetTop = offset.top - rect.top;\n    if (offsetLeft) {\n      element.style.left = left + offsetLeft + \"px\";\n    }\n    if (offsetTop) {\n      element.style.top = top + offsetTop + \"px\";\n    }\n  },\n\n  /**\n     * 用“填充字符”填充节点\n     * @method fillNode\n     * @private\n     * @param { DomDocument } doc 填充的节点所在的docment对象\n     * @param { Node } node 需要填充的节点对象\n     * @example\n     * ```html\n     * <div id=\"test\"></div>\n     *\n     * <script>\n     *     var testNode = document.getElementById(\"test\");\n     *\n     *     //output: 0\n     *     console.log( testNode.childNodes.length );\n     *\n     *     UE.dom.domUtils.fillNode( document, testNode );\n     *\n     *     //output: 1\n     *     console.log( testNode.childNodes.length );\n     *\n     * </script>\n     * ```\n     */\n  fillNode: function(doc, node) {\n    var tmpNode = browser.ie\n      ? doc.createTextNode(domUtils.fillChar)\n      : doc.createElement(\"br\");\n    node.innerHTML = \"\";\n    node.appendChild(tmpNode);\n  },\n\n  /**\n     * 把节点src的所有子节点追加到另一个节点tag上去\n     * @method moveChild\n     * @param { Node } src 源节点， 该节点下的所有子节点将被移除\n     * @param { Node } tag 目标节点， 从源节点移除的子节点将被追加到该节点下\n     * @example\n     * ```html\n     * <div id=\"test1\">\n     *      <span></span>\n     * </div>\n     * <div id=\"test2\">\n     *     <div></div>\n     * </div>\n     *\n     * <script>\n     *\n     *     var test1 = document.getElementById(\"test1\"),\n     *         test2 = document.getElementById(\"test2\");\n     *\n     *     UE.dom.domUtils.moveChild( test1, test2 );\n     *\n     *     //output: \"\"（空字符串）\n     *     console.log( test1.innerHTML );\n     *\n     *     //output: \"<div></div><span></span>\"\n     *     console.log( test2.innerHTML );\n     *\n     * </script>\n     * ```\n     */\n\n  /**\n     * 把节点src的所有子节点移动到另一个节点tag上去, 可以通过dir参数控制附加的行为是“追加”还是“插入顶部”\n     * @method moveChild\n     * @param { Node } src 源节点， 该节点下的所有子节点将被移除\n     * @param { Node } tag 目标节点， 从源节点移除的子节点将被附加到该节点下\n     * @param { Boolean } dir 附加方式， 如果为true， 则附加进去的节点将被放到目标节点的顶部， 反之，则放到末尾\n     * @example\n     * ```html\n     * <div id=\"test1\">\n     *      <span></span>\n     * </div>\n     * <div id=\"test2\">\n     *     <div></div>\n     * </div>\n     *\n     * <script>\n     *\n     *     var test1 = document.getElementById(\"test1\"),\n     *         test2 = document.getElementById(\"test2\");\n     *\n     *     UE.dom.domUtils.moveChild( test1, test2, true );\n     *\n     *     //output: \"\"（空字符串）\n     *     console.log( test1.innerHTML );\n     *\n     *     //output: \"<span></span><div></div>\"\n     *     console.log( test2.innerHTML );\n     *\n     * </script>\n     * ```\n     */\n  moveChild: function(src, tag, dir) {\n    while (src.firstChild) {\n      if (dir && tag.firstChild) {\n        tag.insertBefore(src.lastChild, tag.firstChild);\n      } else {\n        tag.appendChild(src.firstChild);\n      }\n    }\n  },\n\n  /**\n     * 判断节点的标签上是否不存在任何属性\n     * @method hasNoAttributes\n     * @private\n     * @param { Node } node 需要检测的节点对象\n     * @return { Boolean } 节点是否不包含任何属性\n     * @example\n     * ```html\n     * <div id=\"test\"><span>xxxx</span></div>\n     *\n     * <script>\n     *\n     *     //output: false\n     *     console.log( UE.dom.domUtils.hasNoAttributes( document.getElementById(\"test\") ) );\n     *\n     *     //output: true\n     *     console.log( UE.dom.domUtils.hasNoAttributes( document.getElementById(\"test\").firstChild ) );\n     *\n     * </script>\n     * ```\n     */\n  hasNoAttributes: function(node) {\n    return browser.ie\n      ? /^<\\w+\\s*?>/.test(node.outerHTML)\n      : node.attributes.length == 0;\n  },\n\n  /**\n     * 检测节点是否是UEditor所使用的辅助节点\n     * @method isCustomeNode\n     * @private\n     * @param { Node } node 需要检测的节点\n     * @remind 辅助节点是指编辑器要完成工作临时添加的节点， 在输出的时候将会从编辑器内移除， 不会影响最终的结果。\n     * @return { Boolean } 给定的节点是否是一个辅助节点\n     */\n  isCustomeNode: function(node) {\n    return node.nodeType == 1 && node.getAttribute(\"_ue_custom_node_\");\n  },\n\n  /**\n     * 检测节点的标签是否是给定的标签\n     * @method isTagNode\n     * @param { Node } node 需要检测的节点对象\n     * @param { String } tagName 标签\n     * @return { Boolean } 节点的标签是否是给定的标签\n     * @example\n     * ```html\n     * <div id=\"test\"></div>\n     *\n     * <script>\n     *\n     *     //output: true\n     *     console.log( UE.dom.domUtils.isTagNode( document.getElementById(\"test\"), \"div\" ) );\n     *\n     * </script>\n     * ```\n     */\n  isTagNode: function(node, tagNames) {\n    return (\n      node.nodeType == 1 &&\n      new RegExp(\"\\\\b\" + node.tagName + \"\\\\b\", \"i\").test(tagNames)\n    );\n  },\n\n  /**\n     * 给定一个节点数组，在通过指定的过滤器过滤后， 获取其中满足过滤条件的第一个节点\n     * @method filterNodeList\n     * @param { Array } nodeList 需要过滤的节点数组\n     * @param { Function } fn 过滤器， 对符合条件的节点， 执行结果返回true， 反之则返回false\n     * @return { Node | NULL } 如果找到符合过滤条件的节点， 则返回该节点， 否则返回NULL\n     * @example\n     * ```javascript\n     * var divNodes = document.getElementsByTagName(\"div\");\n     * divNodes = [].slice.call( divNodes, 0 );\n     *\n     * //output: null\n     * console.log( UE.dom.domUtils.filterNodeList( divNodes, function ( node ) {\n     *     return node.tagName.toLowerCase() !== 'div';\n     * } ) );\n     * ```\n     */\n\n  /**\n     * 给定一个节点数组nodeList和一组标签名tagNames， 获取其中能够匹配标签名的节点集合中的第一个节点\n     * @method filterNodeList\n     * @param { Array } nodeList 需要过滤的节点数组\n     * @param { String } tagNames 需要匹配的标签名， 多个标签名之间用空格分割\n     * @return { Node | NULL } 如果找到标签名匹配的节点， 则返回该节点， 否则返回NULL\n     * @example\n     * ```javascript\n     * var divNodes = document.getElementsByTagName(\"div\");\n     * divNodes = [].slice.call( divNodes, 0 );\n     *\n     * //output: null\n     * console.log( UE.dom.domUtils.filterNodeList( divNodes, 'a span' ) );\n     * ```\n     */\n\n  /**\n     * 给定一个节点数组，在通过指定的过滤器过滤后， 如果参数forAll为true， 则会返回所有满足过滤\n     * 条件的节点集合， 否则， 返回满足条件的节点集合中的第一个节点\n     * @method filterNodeList\n     * @param { Array } nodeList 需要过滤的节点数组\n     * @param { Function } fn 过滤器， 对符合条件的节点， 执行结果返回true， 反之则返回false\n     * @param { Boolean } forAll 是否返回整个节点数组, 如果该参数为false， 则返回节点集合中的第一个节点\n     * @return { Array | Node | NULL } 如果找到符合过滤条件的节点， 则根据参数forAll的值决定返回满足\n     *                                      过滤条件的节点数组或第一个节点， 否则返回NULL\n     * @example\n     * ```javascript\n     * var divNodes = document.getElementsByTagName(\"div\");\n     * divNodes = [].slice.call( divNodes, 0 );\n     *\n     * //output: 3（假定有3个div）\n     * console.log( divNodes.length );\n     *\n     * var nodes = UE.dom.domUtils.filterNodeList( divNodes, function ( node ) {\n     *     return node.tagName.toLowerCase() === 'div';\n     * }, true );\n     *\n     * //output: 3\n     * console.log( nodes.length );\n     *\n     * var node = UE.dom.domUtils.filterNodeList( divNodes, function ( node ) {\n     *     return node.tagName.toLowerCase() === 'div';\n     * }, false );\n     *\n     * //output: div\n     * console.log( node.nodeName );\n     * ```\n     */\n  filterNodeList: function(nodelist, filter, forAll) {\n    var results = [];\n    if (!utils.isFunction(filter)) {\n      var str = filter;\n      filter = function(n) {\n        return (\n          utils.indexOf(\n            utils.isArray(str) ? str : str.split(\" \"),\n            n.tagName.toLowerCase()\n          ) != -1\n        );\n      };\n    }\n    utils.each(nodelist, function(n) {\n      filter(n) && results.push(n);\n    });\n    return results.length == 0\n      ? null\n      : results.length == 1 || !forAll ? results[0] : results;\n  },\n\n  /**\n     * 查询给定的range选区是否在给定的node节点内，且在该节点的最末尾\n     * @method isInNodeEndBoundary\n     * @param { UE.dom.Range } rng 需要判断的range对象， 该对象的startContainer不能为NULL\n     * @param node 需要检测的节点对象\n     * @return { Number } 如果给定的选取range对象是在node内部的最末端， 则返回1, 否则返回0\n     */\n  isInNodeEndBoundary: function(rng, node) {\n    var start = rng.startContainer;\n    if (start.nodeType == 3 && rng.startOffset != start.nodeValue.length) {\n      return 0;\n    }\n    if (start.nodeType == 1 && rng.startOffset != start.childNodes.length) {\n      return 0;\n    }\n    while (start !== node) {\n      if (start.nextSibling) {\n        return 0;\n      }\n      start = start.parentNode;\n    }\n    return 1;\n  },\n  isBoundaryNode: function(node, dir) {\n    var tmp;\n    while (!domUtils.isBody(node)) {\n      tmp = node;\n      node = node.parentNode;\n      if (tmp !== node[dir]) {\n        return false;\n      }\n    }\n    return true;\n  },\n  fillHtml: browser.ie11below ? \"&nbsp;\" : \"<br/>\"\n});\nvar fillCharReg = new RegExp(domUtils.fillChar, \"g\");\n\n\n// core/Range.js\n/**\n * Range封装\n * @file\n * @module UE.dom\n * @class Range\n * @since 1.2.6.1\n */\n\n/**\n * dom操作封装\n * @unfile\n * @module UE.dom\n */\n\n/**\n * Range实现类，本类是UEditor底层核心类，封装不同浏览器之间的Range操作。\n * @unfile\n * @module UE.dom\n * @class Range\n */\n\n;(function() {\n  var guid = 0,\n    fillChar = domUtils.fillChar,\n    fillData;\n\n  /**\n     * 更新range的collapse状态\n     * @param  {Range}   range    range对象\n     */\n  function updateCollapse(range) {\n    range.collapsed =\n      range.startContainer &&\n      range.endContainer &&\n      range.startContainer === range.endContainer &&\n      range.startOffset == range.endOffset;\n  }\n\n  function selectOneNode(rng) {\n    return (\n      !rng.collapsed &&\n      rng.startContainer.nodeType == 1 &&\n      rng.startContainer === rng.endContainer &&\n      rng.endOffset - rng.startOffset == 1\n    );\n  }\n  function setEndPoint(toStart, node, offset, range) {\n    //如果node是自闭合标签要处理\n    if (\n      node.nodeType == 1 &&\n      (dtd.$empty[node.tagName] || dtd.$nonChild[node.tagName])\n    ) {\n      offset = domUtils.getNodeIndex(node) + (toStart ? 0 : 1);\n      node = node.parentNode;\n    }\n    if (toStart) {\n      range.startContainer = node;\n      range.startOffset = offset;\n      if (!range.endContainer) {\n        range.collapse(true);\n      }\n    } else {\n      range.endContainer = node;\n      range.endOffset = offset;\n      if (!range.startContainer) {\n        range.collapse(false);\n      }\n    }\n    updateCollapse(range);\n    return range;\n  }\n\n  function execContentsAction(range, action) {\n    //调整边界\n    //range.includeBookmark();\n    var start = range.startContainer,\n      end = range.endContainer,\n      startOffset = range.startOffset,\n      endOffset = range.endOffset,\n      doc = range.document,\n      frag = doc.createDocumentFragment(),\n      tmpStart,\n      tmpEnd;\n    if (start.nodeType == 1) {\n      start =\n        start.childNodes[startOffset] ||\n        (tmpStart = start.appendChild(doc.createTextNode(\"\")));\n    }\n    if (end.nodeType == 1) {\n      end =\n        end.childNodes[endOffset] ||\n        (tmpEnd = end.appendChild(doc.createTextNode(\"\")));\n    }\n    if (start === end && start.nodeType == 3) {\n      frag.appendChild(\n        doc.createTextNode(\n          start.substringData(startOffset, endOffset - startOffset)\n        )\n      );\n      //is not clone\n      if (action) {\n        start.deleteData(startOffset, endOffset - startOffset);\n        range.collapse(true);\n      }\n      return frag;\n    }\n    var current,\n      currentLevel,\n      clone = frag,\n      startParents = domUtils.findParents(start, true),\n      endParents = domUtils.findParents(end, true);\n    for (var i = 0; startParents[i] == endParents[i]; ) {\n      i++;\n    }\n    for (var j = i, si; (si = startParents[j]); j++) {\n      current = si.nextSibling;\n      if (si == start) {\n        if (!tmpStart) {\n          if (range.startContainer.nodeType == 3) {\n            clone.appendChild(\n              doc.createTextNode(start.nodeValue.slice(startOffset))\n            );\n            //is not clone\n            if (action) {\n              start.deleteData(\n                startOffset,\n                start.nodeValue.length - startOffset\n              );\n            }\n          } else {\n            clone.appendChild(!action ? start.cloneNode(true) : start);\n          }\n        }\n      } else {\n        currentLevel = si.cloneNode(false);\n        clone.appendChild(currentLevel);\n      }\n      while (current) {\n        if (current === end || current === endParents[j]) {\n          break;\n        }\n        si = current.nextSibling;\n        clone.appendChild(!action ? current.cloneNode(true) : current);\n        current = si;\n      }\n      clone = currentLevel;\n    }\n    clone = frag;\n    if (!startParents[i]) {\n      clone.appendChild(startParents[i - 1].cloneNode(false));\n      clone = clone.firstChild;\n    }\n    for (var j = i, ei; (ei = endParents[j]); j++) {\n      current = ei.previousSibling;\n      if (ei == end) {\n        if (!tmpEnd && range.endContainer.nodeType == 3) {\n          clone.appendChild(\n            doc.createTextNode(end.substringData(0, endOffset))\n          );\n          //is not clone\n          if (action) {\n            end.deleteData(0, endOffset);\n          }\n        }\n      } else {\n        currentLevel = ei.cloneNode(false);\n        clone.appendChild(currentLevel);\n      }\n      //如果两端同级，右边第一次已经被开始做了\n      if (j != i || !startParents[i]) {\n        while (current) {\n          if (current === start) {\n            break;\n          }\n          ei = current.previousSibling;\n          clone.insertBefore(\n            !action ? current.cloneNode(true) : current,\n            clone.firstChild\n          );\n          current = ei;\n        }\n      }\n      clone = currentLevel;\n    }\n    if (action) {\n      range\n        .setStartBefore(\n          !endParents[i]\n            ? endParents[i - 1]\n            : !startParents[i] ? startParents[i - 1] : endParents[i]\n        )\n        .collapse(true);\n    }\n    tmpStart && domUtils.remove(tmpStart);\n    tmpEnd && domUtils.remove(tmpEnd);\n    return frag;\n  }\n\n  /**\n     * 创建一个跟document绑定的空的Range实例\n     * @constructor\n     * @param { Document } document 新建的选区所属的文档对象\n     */\n\n  /**\n     * @property { Node } startContainer 当前Range的开始边界的容器节点, 可以是一个元素节点或者是文本节点\n     */\n\n  /**\n     * @property { Node } startOffset 当前Range的开始边界容器节点的偏移量, 如果是元素节点，\n     *                              该值就是childNodes中的第几个节点， 如果是文本节点就是文本内容的第几个字符\n     */\n\n  /**\n     * @property { Node } endContainer 当前Range的结束边界的容器节点, 可以是一个元素节点或者是文本节点\n     */\n\n  /**\n     * @property { Node } endOffset 当前Range的结束边界容器节点的偏移量, 如果是元素节点，\n     *                              该值就是childNodes中的第几个节点， 如果是文本节点就是文本内容的第几个字符\n     */\n\n  /**\n     * @property { Boolean } collapsed 当前Range是否闭合\n     * @default true\n     * @remind Range是闭合的时候， startContainer === endContainer && startOffset === endOffset\n     */\n\n  /**\n     * @property { Document } document 当前Range所属的Document对象\n     * @remind 不同range的的document属性可以是不同的\n     */\n  var Range = (dom.Range = function(document) {\n    var me = this;\n    me.startContainer = me.startOffset = me.endContainer = me.endOffset = null;\n    me.document = document;\n    me.collapsed = true;\n  });\n\n  /**\n     * 删除fillData\n     * @param doc\n     * @param excludeNode\n     */\n  function removeFillData(doc, excludeNode) {\n    try {\n      if (fillData && domUtils.inDoc(fillData, doc)) {\n        if (!fillData.nodeValue.replace(fillCharReg, \"\").length) {\n          var tmpNode = fillData.parentNode;\n          domUtils.remove(fillData);\n          while (\n            tmpNode &&\n            domUtils.isEmptyInlineElement(tmpNode) &&\n            //safari的contains有bug\n            (browser.safari\n              ? !(\n                  domUtils.getPosition(tmpNode, excludeNode) &\n                  domUtils.POSITION_CONTAINS\n                )\n              : !tmpNode.contains(excludeNode))\n          ) {\n            fillData = tmpNode.parentNode;\n            domUtils.remove(tmpNode);\n            tmpNode = fillData;\n          }\n        } else {\n          fillData.nodeValue = fillData.nodeValue.replace(fillCharReg, \"\");\n        }\n      }\n    } catch (e) {}\n  }\n\n  /**\n     * @param node\n     * @param dir\n     */\n  function mergeSibling(node, dir) {\n    var tmpNode;\n    node = node[dir];\n    while (node && domUtils.isFillChar(node)) {\n      tmpNode = node[dir];\n      domUtils.remove(node);\n      node = tmpNode;\n    }\n  }\n\n  Range.prototype = {\n    /**\n         * 克隆选区的内容到一个DocumentFragment里\n         * @method cloneContents\n         * @return { DocumentFragment | NULL } 如果选区是闭合的将返回null， 否则， 返回包含所clone内容的DocumentFragment元素\n         * @example\n         * ```html\n         * <body>\n         *      <!-- 中括号表示选区 -->\n         *      <b>x<i>x[x</i>xx]x</b>\n         *\n         *      <script>\n         *          //range是已选中的选区\n         *          var fragment = range.cloneContents(),\n         *              node = document.createElement(\"div\");\n         *\n         *          node.appendChild( fragment );\n         *\n         *          //output: <i>x</i>xx\n         *          console.log( node.innerHTML );\n         *\n         *      </script>\n         * </body>\n         * ```\n         */\n    cloneContents: function() {\n      return this.collapsed ? null : execContentsAction(this, 0);\n    },\n\n    /**\n         * 删除当前选区范围中的所有内容\n         * @method deleteContents\n         * @remind 执行完该操作后， 当前Range对象变成了闭合状态\n         * @return { UE.dom.Range } 当前操作的Range对象\n         * @example\n         * ```html\n         * <body>\n         *      <!-- 中括号表示选区 -->\n         *      <b>x<i>x[x</i>xx]x</b>\n         *\n         *      <script>\n         *          //range是已选中的选区\n         *          range.deleteContents();\n         *\n         *          //竖线表示闭合后的选区位置\n         *          //output: <b>x<i>x</i>|x</b>\n         *          console.log( document.body.innerHTML );\n         *\n         *          //此时， range的各项属性为\n         *          //output: B\n         *          console.log( range.startContainer.tagName );\n         *          //output: 2\n         *          console.log( range.startOffset );\n         *          //output: B\n         *          console.log( range.endContainer.tagName );\n         *          //output: 2\n         *          console.log( range.endOffset );\n         *          //output: true\n         *          console.log( range.collapsed );\n         *\n         *      </script>\n         * </body>\n         * ```\n         */\n    deleteContents: function() {\n      var txt;\n      if (!this.collapsed) {\n        execContentsAction(this, 1);\n      }\n      if (browser.webkit) {\n        txt = this.startContainer;\n        if (txt.nodeType == 3 && !txt.nodeValue.length) {\n          this.setStartBefore(txt).collapse(true);\n          domUtils.remove(txt);\n        }\n      }\n      return this;\n    },\n\n    /**\n         * 将当前选区的内容提取到一个DocumentFragment里\n         * @method extractContents\n         * @remind 执行该操作后， 选区将变成闭合状态\n         * @warning 执行该操作后， 原来选区所选中的内容将从dom树上剥离出来\n         * @return { DocumentFragment } 返回包含所提取内容的DocumentFragment对象\n         * @example\n         * ```html\n         * <body>\n         *      <!-- 中括号表示选区 -->\n         *      <b>x<i>x[x</i>xx]x</b>\n         *\n         *      <script>\n         *          //range是已选中的选区\n         *          var fragment = range.extractContents(),\n         *              node = document.createElement( \"div\" );\n         *\n         *          node.appendChild( fragment );\n         *\n         *          //竖线表示闭合后的选区位置\n         *\n         *          //output: <b>x<i>x</i>|x</b>\n         *          console.log( document.body.innerHTML );\n         *          //output: <i>x</i>xx\n         *          console.log( node.innerHTML );\n         *\n         *          //此时， range的各项属性为\n         *          //output: B\n         *          console.log( range.startContainer.tagName );\n         *          //output: 2\n         *          console.log( range.startOffset );\n         *          //output: B\n         *          console.log( range.endContainer.tagName );\n         *          //output: 2\n         *          console.log( range.endOffset );\n         *          //output: true\n         *          console.log( range.collapsed );\n         *\n         *      </script>\n         * </body>\n         */\n    extractContents: function() {\n      return this.collapsed ? null : execContentsAction(this, 2);\n    },\n\n    /**\n         * 设置Range的开始容器节点和偏移量\n         * @method  setStart\n         * @remind 如果给定的节点是元素节点，那么offset指的是其子元素中索引为offset的元素，\n         *          如果是文本节点，那么offset指的是其文本内容的第offset个字符\n         * @remind 如果提供的容器节点是一个不能包含子元素的节点， 则该选区的开始容器将被设置\n         *          为该节点的父节点， 此时， 其距离开始容器的偏移量也变成了该节点在其父节点\n         *          中的索引\n         * @param { Node } node 将被设为当前选区开始边界容器的节点对象\n         * @param { int } offset 选区的开始位置偏移量\n         * @return { UE.dom.Range } 当前range对象\n         * @example\n         * ```html\n         * <!-- 选区 -->\n         * <b>xxx<i>x<span>xx</span>xx<em>xx</em>xxx</i>[xxx]</b>\n         *\n         * <script>\n         *\n         *     //执行操作\n         *     range.setStart( document.getElementsByTagName(\"i\")[0], 1 );\n         *\n         *     //此时， 选区变成了\n         *     //<b>xxx<i>x[<span>xx</span>xx<em>xx</em>xxx</i>xxx]</b>\n         *\n         * </script>\n         * ```\n         * @example\n         * ```html\n         * <!-- 选区 -->\n         * <b>xxx<img>[xx]x</b>\n         *\n         * <script>\n         *\n         *     //执行操作\n         *     range.setStart( document.getElementsByTagName(\"img\")[0], 3 );\n         *\n         *     //此时， 选区变成了\n         *     //<b>xxx[<img>xx]x</b>\n         *\n         * </script>\n         * ```\n         */\n    setStart: function(node, offset) {\n      return setEndPoint(true, node, offset, this);\n    },\n\n    /**\n         * 设置Range的结束容器和偏移量\n         * @method  setEnd\n         * @param { Node } node 作为当前选区结束边界容器的节点对象\n         * @param { int } offset 结束边界的偏移量\n         * @see UE.dom.Range:setStart(Node,int)\n         * @return { UE.dom.Range } 当前range对象\n         */\n    setEnd: function(node, offset) {\n      return setEndPoint(false, node, offset, this);\n    },\n\n    /**\n         * 将Range开始位置设置到node节点之后\n         * @method  setStartAfter\n         * @remind 该操作将会把给定节点的父节点作为range的开始容器， 且偏移量是该节点在其父节点中的位置索引+1\n         * @param { Node } node 选区的开始边界将紧接着该节点之后\n         * @return { UE.dom.Range } 当前range对象\n         * @example\n         * ```html\n         * <!-- 选区示例 -->\n         * <b>xx<i>xxx</i><span>xx[x</span>xxx]</b>\n         *\n         * <script>\n         *\n         *     //执行操作\n         *     range.setStartAfter( document.getElementsByTagName(\"i\")[0] );\n         *\n         *     //结果选区\n         *     //<b>xx<i>xxx</i>[<span>xxx</span>xxx]</b>\n         *\n         * </script>\n         * ```\n         */\n    setStartAfter: function(node) {\n      return this.setStart(node.parentNode, domUtils.getNodeIndex(node) + 1);\n    },\n\n    /**\n         * 将Range开始位置设置到node节点之前\n         * @method  setStartBefore\n         * @remind 该操作将会把给定节点的父节点作为range的开始容器， 且偏移量是该节点在其父节点中的位置索引\n         * @param { Node } node 新的选区开始位置在该节点之前\n         * @see UE.dom.Range:setStartAfter(Node)\n         * @return { UE.dom.Range } 当前range对象\n         */\n    setStartBefore: function(node) {\n      return this.setStart(node.parentNode, domUtils.getNodeIndex(node));\n    },\n\n    /**\n         * 将Range结束位置设置到node节点之后\n         * @method  setEndAfter\n         * @remind 该操作将会把给定节点的父节点作为range的结束容器， 且偏移量是该节点在其父节点中的位置索引+1\n         * @param { Node } node 目标节点\n         * @see UE.dom.Range:setStartAfter(Node)\n         * @return { UE.dom.Range } 当前range对象\n         * @example\n         * ```html\n         * <!-- 选区示例 -->\n         * <b>[xx<i>xxx</i><span>xx]x</span>xxx</b>\n         *\n         * <script>\n         *\n         *     //执行操作\n         *     range.setStartAfter( document.getElementsByTagName(\"span\")[0] );\n         *\n         *     //结果选区\n         *     //<b>[xx<i>xxx</i><span>xxx</span>]xxx</b>\n         *\n         * </script>\n         * ```\n         */\n    setEndAfter: function(node) {\n      return this.setEnd(node.parentNode, domUtils.getNodeIndex(node) + 1);\n    },\n\n    /**\n         * 将Range结束位置设置到node节点之前\n         * @method  setEndBefore\n         * @remind 该操作将会把给定节点的父节点作为range的结束容器， 且偏移量是该节点在其父节点中的位置索引\n         * @param { Node } node 目标节点\n         * @see UE.dom.Range:setEndAfter(Node)\n         * @return { UE.dom.Range } 当前range对象\n         */\n    setEndBefore: function(node) {\n      return this.setEnd(node.parentNode, domUtils.getNodeIndex(node));\n    },\n\n    /**\n         * 设置Range的开始位置到node节点内的第一个子节点之前\n         * @method  setStartAtFirst\n         * @remind 选区的开始容器将变成给定的节点， 且偏移量为0\n         * @remind 如果给定的节点是元素节点， 则该节点必须是允许包含子节点的元素。\n         * @param { Node } node 目标节点\n         * @see UE.dom.Range:setStartBefore(Node)\n         * @return { UE.dom.Range } 当前range对象\n         * @example\n         * ```html\n         * <!-- 选区示例 -->\n         * <b>xx<i>xxx</i><span>[xx]x</span>xxx</b>\n         *\n         * <script>\n         *\n         *     //执行操作\n         *     range.setStartAtFirst( document.getElementsByTagName(\"i\")[0] );\n         *\n         *     //结果选区\n         *     //<b>xx<i>[xxx</i><span>xx]x</span>xxx</b>\n         *\n         * </script>\n         * ```\n         */\n    setStartAtFirst: function(node) {\n      return this.setStart(node, 0);\n    },\n\n    /**\n         * 设置Range的开始位置到node节点内的最后一个节点之后\n         * @method setStartAtLast\n         * @remind 选区的开始容器将变成给定的节点， 且偏移量为该节点的子节点数\n         * @remind 如果给定的节点是元素节点， 则该节点必须是允许包含子节点的元素。\n         * @param { Node } node 目标节点\n         * @see UE.dom.Range:setStartAtFirst(Node)\n         * @return { UE.dom.Range } 当前range对象\n         */\n    setStartAtLast: function(node) {\n      return this.setStart(\n        node,\n        node.nodeType == 3 ? node.nodeValue.length : node.childNodes.length\n      );\n    },\n\n    /**\n         * 设置Range的结束位置到node节点内的第一个节点之前\n         * @method  setEndAtFirst\n         * @param { Node } node 目标节点\n         * @remind 选区的结束容器将变成给定的节点， 且偏移量为0\n         * @remind node必须是一个元素节点， 且必须是允许包含子节点的元素。\n         * @see UE.dom.Range:setStartAtFirst(Node)\n         * @return { UE.dom.Range } 当前range对象\n         */\n    setEndAtFirst: function(node) {\n      return this.setEnd(node, 0);\n    },\n\n    /**\n         * 设置Range的结束位置到node节点内的最后一个节点之后\n         * @method  setEndAtLast\n         * @param { Node } node 目标节点\n         * @remind 选区的结束容器将变成给定的节点， 且偏移量为该节点的子节点数量\n         * @remind node必须是一个元素节点， 且必须是允许包含子节点的元素。\n         * @see UE.dom.Range:setStartAtFirst(Node)\n         * @return { UE.dom.Range } 当前range对象\n         */\n    setEndAtLast: function(node) {\n      return this.setEnd(\n        node,\n        node.nodeType == 3 ? node.nodeValue.length : node.childNodes.length\n      );\n    },\n\n    /**\n         * 选中给定节点\n         * @method  selectNode\n         * @remind 此时， 选区的开始容器和结束容器都是该节点的父节点， 其startOffset是该节点在父节点中的位置索引，\n         *          而endOffset为startOffset+1\n         * @param { Node } node 需要选中的节点\n         * @return { UE.dom.Range } 当前range对象，此时的range仅包含当前给定的节点对象\n         * @example\n         * ```html\n         * <!-- 选区示例 -->\n         * <b>xx<i>xxx</i><span>[xx]x</span>xxx</b>\n         *\n         * <script>\n         *\n         *     //执行操作\n         *     range.selectNode( document.getElementsByTagName(\"i\")[0] );\n         *\n         *     //结果选区\n         *     //<b>xx[<i>xxx</i>]<span>xxx</span>xxx</b>\n         *\n         * </script>\n         * ```\n         */\n    selectNode: function(node) {\n      return this.setStartBefore(node).setEndAfter(node);\n    },\n\n    /**\n         * 选中给定节点内部的所有节点\n         * @method  selectNodeContents\n         * @remind 此时， 选区的开始容器和结束容器都是该节点， 其startOffset为0，\n         *          而endOffset是该节点的子节点数。\n         * @param { Node } node 目标节点， 当前range将包含该节点内的所有节点\n         * @return { UE.dom.Range } 当前range对象， 此时range仅包含给定节点的所有子节点\n         * @example\n         * ```html\n         * <!-- 选区示例 -->\n         * <b>xx<i>xxx</i><span>[xx]x</span>xxx</b>\n         *\n         * <script>\n         *\n         *     //执行操作\n         *     range.selectNode( document.getElementsByTagName(\"b\")[0] );\n         *\n         *     //结果选区\n         *     //<b>[xx<i>xxx</i><span>xxx</span>xxx]</b>\n         *\n         * </script>\n         * ```\n         */\n    selectNodeContents: function(node) {\n      return this.setStart(node, 0).setEndAtLast(node);\n    },\n\n    /**\n         * clone当前Range对象\n         * @method  cloneRange\n         * @remind 返回的range是一个全新的range对象， 其内部所有属性与当前被clone的range相同。\n         * @return { UE.dom.Range } 当前range对象的一个副本\n         */\n    cloneRange: function() {\n      var me = this;\n      return new Range(me.document)\n        .setStart(me.startContainer, me.startOffset)\n        .setEnd(me.endContainer, me.endOffset);\n    },\n\n    /**\n         * 向当前选区的结束处闭合选区\n         * @method  collapse\n         * @return { UE.dom.Range } 当前range对象\n         * @example\n         * ```html\n         * <!-- 选区示例 -->\n         * <b>xx<i>xxx</i><span>[xx]x</span>xxx</b>\n         *\n         * <script>\n         *\n         *     //执行操作\n         *     range.collapse();\n         *\n         *     //结果选区\n         *     //“|”表示选区已闭合\n         *     //<b>xx<i>xxx</i><span>xx|x</span>xxx</b>\n         *\n         * </script>\n         * ```\n         */\n\n    /**\n         * 闭合当前选区，根据给定的toStart参数项决定是向当前选区开始处闭合还是向结束处闭合，\n         * 如果toStart的值为true，则向开始位置闭合， 反之，向结束位置闭合。\n         * @method  collapse\n         * @param { Boolean } toStart 是否向选区开始处闭合\n         * @return { UE.dom.Range } 当前range对象，此时range对象处于闭合状态\n         * @see UE.dom.Range:collapse()\n         * @example\n         * ```html\n         * <!-- 选区示例 -->\n         * <b>xx<i>xxx</i><span>[xx]x</span>xxx</b>\n         *\n         * <script>\n         *\n         *     //执行操作\n         *     range.collapse( true );\n         *\n         *     //结果选区\n         *     //“|”表示选区已闭合\n         *     //<b>xx<i>xxx</i><span>|xxx</span>xxx</b>\n         *\n         * </script>\n         * ```\n         */\n    collapse: function(toStart) {\n      var me = this;\n      if (toStart) {\n        me.endContainer = me.startContainer;\n        me.endOffset = me.startOffset;\n      } else {\n        me.startContainer = me.endContainer;\n        me.startOffset = me.endOffset;\n      }\n      me.collapsed = true;\n      return me;\n    },\n\n    /**\n         * 调整range的开始位置和结束位置，使其\"收缩\"到最小的位置\n         * @method  shrinkBoundary\n         * @return { UE.dom.Range } 当前range对象\n         * @example\n         * ```html\n         * <span>xx<b>xx[</b>xxxxx]</span> => <span>xx<b>xx</b>[xxxxx]</span>\n         * ```\n         *\n         * @example\n         * ```html\n         * <!-- 选区示例 -->\n         * <b>x[xx</b><i>]xxx</i>\n         *\n         * <script>\n         *\n         *     //执行收缩\n         *     range.shrinkBoundary();\n         *\n         *     //结果选区\n         *     //<b>x[xx]</b><i>xxx</i>\n         * </script>\n         * ```\n         *\n         * @example\n         * ```html\n         * [<b><i>xxxx</i>xxxxxxx</b>] => <b><i>[xxxx</i>xxxxxxx]</b>\n         * ```\n         */\n\n    /**\n         * 调整range的开始位置和结束位置，使其\"收缩\"到最小的位置，\n         * 如果ignoreEnd的值为true，则忽略对结束位置的调整\n         * @method  shrinkBoundary\n         * @param { Boolean } ignoreEnd 是否忽略对结束位置的调整\n         * @return { UE.dom.Range } 当前range对象\n         * @see UE.dom.domUtils.Range:shrinkBoundary()\n         */\n    shrinkBoundary: function(ignoreEnd) {\n      var me = this,\n        child,\n        collapsed = me.collapsed;\n      function check(node) {\n        return (\n          node.nodeType == 1 &&\n          !domUtils.isBookmarkNode(node) &&\n          !dtd.$empty[node.tagName] &&\n          !dtd.$nonChild[node.tagName]\n        );\n      }\n      while (\n        me.startContainer.nodeType == 1 && //是element\n        (child = me.startContainer.childNodes[me.startOffset]) && //子节点也是element\n        check(child)\n      ) {\n        me.setStart(child, 0);\n      }\n      if (collapsed) {\n        return me.collapse(true);\n      }\n      if (!ignoreEnd) {\n        while (\n          me.endContainer.nodeType == 1 && //是element\n          me.endOffset > 0 && //如果是空元素就退出 endOffset=0那么endOffst-1为负值，childNodes[endOffset]报错\n          (child = me.endContainer.childNodes[me.endOffset - 1]) && //子节点也是element\n          check(child)\n        ) {\n          me.setEnd(child, child.childNodes.length);\n        }\n      }\n      return me;\n    },\n\n    /**\n         * 获取离当前选区内包含的所有节点最近的公共祖先节点，\n         * @method  getCommonAncestor\n         * @remind 返回的公共祖先节点一定不是range自身的容器节点， 但有可能是一个文本节点\n         * @return { Node } 当前range对象内所有节点的公共祖先节点\n         * @example\n         * ```html\n         * //选区示例\n         * <span>xxx<b>x[x<em>xx]x</em>xxx</b>xx</span>\n         * <script>\n         *\n         *     var node = range.getCommonAncestor();\n         *\n         *     //公共祖先节点是： b节点\n         *     //输出： B\n         *     console.log(node.tagName);\n         *\n         * </script>\n         * ```\n         */\n\n    /**\n         * 获取当前选区所包含的所有节点的公共祖先节点， 可以根据给定的参数 includeSelf 决定获取到\n         * 的公共祖先节点是否可以是当前选区的startContainer或endContainer节点， 如果 includeSelf\n         * 的取值为true， 则返回的节点可以是自身的容器节点， 否则， 则不能是容器节点\n         * @method  getCommonAncestor\n         * @param { Boolean } includeSelf 是否允许获取到的公共祖先节点是当前range对象的容器节点\n         * @return { Node } 当前range对象内所有节点的公共祖先节点\n         * @see UE.dom.Range:getCommonAncestor()\n         * @example\n         * ```html\n         * <body>\n         *\n         *     <!-- 选区示例 -->\n         *     <b>xxx<i>xxxx<span>xx[x</span>xx]x</i>xxxxxxx</b>\n         *\n         *     <script>\n         *\n         *         var node = range.getCommonAncestor( false );\n         *\n         *         //这里的公共祖先节点是B而不是I， 是因为参数限制了获取到的节点不能是容器节点\n         *         //output: B\n         *         console.log( node.tagName );\n         *\n         *     </script>\n         *\n         * </body>\n         * ```\n         */\n\n    /**\n         * 获取当前选区所包含的所有节点的公共祖先节点， 可以根据给定的参数 includeSelf 决定获取到\n         * 的公共祖先节点是否可以是当前选区的startContainer或endContainer节点， 如果 includeSelf\n         * 的取值为true， 则返回的节点可以是自身的容器节点， 否则， 则不能是容器节点； 同时可以根据\n         * ignoreTextNode 参数的取值决定是否忽略类型为文本节点的祖先节点。\n         * @method  getCommonAncestor\n         * @param { Boolean } includeSelf 是否允许获取到的公共祖先节点是当前range对象的容器节点\n         * @param { Boolean } ignoreTextNode 获取祖先节点的过程中是否忽略类型为文本节点的祖先节点\n         * @return { Node } 当前range对象内所有节点的公共祖先节点\n         * @see UE.dom.Range:getCommonAncestor()\n         * @see UE.dom.Range:getCommonAncestor(Boolean)\n         * @example\n         * ```html\n         * <body>\n         *\n         *     <!-- 选区示例 -->\n         *     <b>xxx<i>xxxx<span>x[x]x</span>xxx</i>xxxxxxx</b>\n         *\n         *     <script>\n         *\n         *         var node = range.getCommonAncestor( true, false );\n         *\n         *         //output: SPAN\n         *         console.log( node.tagName );\n         *\n         *     </script>\n         *\n         * </body>\n         * ```\n         */\n    getCommonAncestor: function(includeSelf, ignoreTextNode) {\n      var me = this,\n        start = me.startContainer,\n        end = me.endContainer;\n      if (start === end) {\n        if (includeSelf && selectOneNode(this)) {\n          start = start.childNodes[me.startOffset];\n          if (start.nodeType == 1) return start;\n        }\n        //只有在上来就相等的情况下才会出现是文本的情况\n        return ignoreTextNode && start.nodeType == 3 ? start.parentNode : start;\n      }\n      return domUtils.getCommonAncestor(start, end);\n    },\n\n    /**\n         * 调整当前Range的开始和结束边界容器，如果是容器节点是文本节点,就调整到包含该文本节点的父节点上\n         * @method trimBoundary\n         * @remind 该操作有可能会引起文本节点被切开\n         * @return { UE.dom.Range } 当前range对象\n         * @example\n         * ```html\n         *\n         * //选区示例\n         * <b>xxx<i>[xxxxx]</i>xxx</b>\n         *\n         * <script>\n         *     //未调整前， 选区的开始容器和结束都是文本节点\n         *     //执行调整\n         *     range.trimBoundary();\n         *\n         *     //调整之后， 容器节点变成了i节点\n         *     //<b>xxx[<i>xxxxx</i>]xxx</b>\n         * </script>\n         * ```\n         */\n\n    /**\n         * 调整当前Range的开始和结束边界容器，如果是容器节点是文本节点,就调整到包含该文本节点的父节点上，\n         * 可以根据 ignoreEnd 参数的值决定是否调整对结束边界的调整\n         * @method trimBoundary\n         * @param { Boolean } ignoreEnd 是否忽略对结束边界的调整\n         * @return { UE.dom.Range } 当前range对象\n         * @example\n         * ```html\n         *\n         * //选区示例\n         * <b>xxx<i>[xxxxx]</i>xxx</b>\n         *\n         * <script>\n         *     //未调整前， 选区的开始容器和结束都是文本节点\n         *     //执行调整\n         *     range.trimBoundary( true );\n         *\n         *     //调整之后， 开始容器节点变成了i节点\n         *     //但是， 结束容器没有发生变化\n         *     //<b>xxx[<i>xxxxx]</i>xxx</b>\n         * </script>\n         * ```\n         */\n    trimBoundary: function(ignoreEnd) {\n      this.txtToElmBoundary();\n      var start = this.startContainer,\n        offset = this.startOffset,\n        collapsed = this.collapsed,\n        end = this.endContainer;\n      if (start.nodeType == 3) {\n        if (offset == 0) {\n          this.setStartBefore(start);\n        } else {\n          if (offset >= start.nodeValue.length) {\n            this.setStartAfter(start);\n          } else {\n            var textNode = domUtils.split(start, offset);\n            //跟新结束边界\n            if (start === end) {\n              this.setEnd(textNode, this.endOffset - offset);\n            } else if (start.parentNode === end) {\n              this.endOffset += 1;\n            }\n            this.setStartBefore(textNode);\n          }\n        }\n        if (collapsed) {\n          return this.collapse(true);\n        }\n      }\n      if (!ignoreEnd) {\n        offset = this.endOffset;\n        end = this.endContainer;\n        if (end.nodeType == 3) {\n          if (offset == 0) {\n            this.setEndBefore(end);\n          } else {\n            offset < end.nodeValue.length && domUtils.split(end, offset);\n            this.setEndAfter(end);\n          }\n        }\n      }\n      return this;\n    },\n\n    /**\n         * 如果选区在文本的边界上，就扩展选区到文本的父节点上, 如果当前选区是闭合的， 则什么也不做\n         * @method txtToElmBoundary\n         * @remind 该操作不会修改dom节点\n         * @return { UE.dom.Range } 当前range对象\n         */\n\n    /**\n         * 如果选区在文本的边界上，就扩展选区到文本的父节点上, 如果当前选区是闭合的， 则根据参数项\n         * ignoreCollapsed 的值决定是否执行该调整\n         * @method txtToElmBoundary\n         * @param { Boolean } ignoreCollapsed 是否忽略选区的闭合状态， 如果该参数取值为true， 则\n         *                      不论选区是否闭合， 都会执行该操作， 反之， 则不会对闭合的选区执行该操作\n         * @return { UE.dom.Range } 当前range对象\n         */\n    txtToElmBoundary: function(ignoreCollapsed) {\n      function adjust(r, c) {\n        var container = r[c + \"Container\"],\n          offset = r[c + \"Offset\"];\n        if (container.nodeType == 3) {\n          if (!offset) {\n            r[\n              \"set\" +\n                c.replace(/(\\w)/, function(a) {\n                  return a.toUpperCase();\n                }) +\n                \"Before\"\n            ](container);\n          } else if (offset >= container.nodeValue.length) {\n            r[\n              \"set\" +\n                c.replace(/(\\w)/, function(a) {\n                  return a.toUpperCase();\n                }) +\n                \"After\"\n            ](container);\n          }\n        }\n      }\n\n      if (ignoreCollapsed || !this.collapsed) {\n        adjust(this, \"start\");\n        adjust(this, \"end\");\n      }\n      return this;\n    },\n\n    /**\n         * 在当前选区的开始位置前插入节点，新插入的节点会被该range包含\n         * @method  insertNode\n         * @param { Node } node 需要插入的节点\n         * @remind 插入的节点可以是一个DocumentFragment依次插入多个节点\n         * @return { UE.dom.Range } 当前range对象\n         */\n    insertNode: function(node) {\n      var first = node,\n        length = 1;\n      if (node.nodeType == 11) {\n        first = node.firstChild;\n        length = node.childNodes.length;\n      }\n      this.trimBoundary(true);\n      var start = this.startContainer,\n        offset = this.startOffset;\n      var nextNode = start.childNodes[offset];\n      if (nextNode) {\n        start.insertBefore(node, nextNode);\n      } else {\n        start.appendChild(node);\n      }\n      if (first.parentNode === this.endContainer) {\n        this.endOffset = this.endOffset + length;\n      }\n      return this.setStartBefore(first);\n    },\n\n    /**\n         * 闭合选区到当前选区的开始位置， 并且定位光标到闭合后的位置\n         * @method  setCursor\n         * @return { UE.dom.Range } 当前range对象\n         * @see UE.dom.Range:collapse()\n         */\n\n    /**\n         * 闭合选区，可以根据参数toEnd的值控制选区是向前闭合还是向后闭合， 并且定位光标到闭合后的位置。\n         * @method  setCursor\n         * @param { Boolean } toEnd 是否向后闭合， 如果为true， 则闭合选区时， 将向结束容器方向闭合，\n         *                      反之，则向开始容器方向闭合\n         * @return { UE.dom.Range } 当前range对象\n         * @see UE.dom.Range:collapse(Boolean)\n         */\n    setCursor: function(toEnd, noFillData) {\n      return this.collapse(!toEnd).select(noFillData);\n    },\n\n    /**\n         * 创建当前range的一个书签，记录下当前range的位置，方便当dom树改变时，还能找回原来的选区位置\n         * @method createBookmark\n         * @param { Boolean } serialize 控制返回的标记位置是对当前位置的引用还是ID，如果该值为true，则\n         *                              返回标记位置的ID， 反之则返回标记位置节点的引用\n         * @return { Object } 返回一个书签记录键值对， 其包含的key有： start => 开始标记的ID或者引用，\n         *                          end => 结束标记的ID或引用， id => 当前标记的类型， 如果为true，则表示\n         *                          返回的记录的类型为ID， 反之则为引用\n         */\n    createBookmark: function(serialize, same) {\n      var endNode,\n        startNode = this.document.createElement(\"span\");\n      startNode.style.cssText = \"display:none;line-height:0px;\";\n      startNode.appendChild(this.document.createTextNode(\"\\u200D\"));\n      startNode.id = \"_baidu_bookmark_start_\" + (same ? \"\" : guid++);\n\n      if (!this.collapsed) {\n        endNode = startNode.cloneNode(true);\n        endNode.id = \"_baidu_bookmark_end_\" + (same ? \"\" : guid++);\n      }\n      this.insertNode(startNode);\n      if (endNode) {\n        this.collapse().insertNode(endNode).setEndBefore(endNode);\n      }\n      this.setStartAfter(startNode);\n      return {\n        start: serialize ? startNode.id : startNode,\n        end: endNode ? (serialize ? endNode.id : endNode) : null,\n        id: serialize\n      };\n    },\n\n    /**\n         *  调整当前range的边界到书签位置，并删除该书签对象所标记的位置内的节点\n         *  @method  moveToBookmark\n         *  @param { BookMark } bookmark createBookmark所创建的标签对象\n         *  @return { UE.dom.Range } 当前range对象\n         *  @see UE.dom.Range:createBookmark(Boolean)\n         */\n    moveToBookmark: function(bookmark) {\n      var start = bookmark.id\n        ? this.document.getElementById(bookmark.start)\n        : bookmark.start,\n        end = bookmark.end && bookmark.id\n          ? this.document.getElementById(bookmark.end)\n          : bookmark.end;\n      this.setStartBefore(start);\n      domUtils.remove(start);\n      if (end) {\n        this.setEndBefore(end);\n        domUtils.remove(end);\n      } else {\n        this.collapse(true);\n      }\n      return this;\n    },\n\n    /**\n         * 调整range的边界，使其\"放大\"到最近的父节点\n         * @method  enlarge\n         * @remind 会引起选区的变化\n         * @return { UE.dom.Range } 当前range对象\n         */\n\n    /**\n         * 调整range的边界，使其\"放大\"到最近的父节点，根据参数 toBlock 的取值， 可以\n         * 要求扩大之后的父节点是block节点\n         * @method  enlarge\n         * @param { Boolean } toBlock 是否要求扩大之后的父节点必须是block节点\n         * @return { UE.dom.Range } 当前range对象\n         */\n    enlarge: function(toBlock, stopFn) {\n      var isBody = domUtils.isBody,\n        pre,\n        node,\n        tmp = this.document.createTextNode(\"\");\n      if (toBlock) {\n        node = this.startContainer;\n        if (node.nodeType == 1) {\n          if (node.childNodes[this.startOffset]) {\n            pre = node = node.childNodes[this.startOffset];\n          } else {\n            node.appendChild(tmp);\n            pre = node = tmp;\n          }\n        } else {\n          pre = node;\n        }\n        while (1) {\n          if (domUtils.isBlockElm(node)) {\n            node = pre;\n            while ((pre = node.previousSibling) && !domUtils.isBlockElm(pre)) {\n              node = pre;\n            }\n            this.setStartBefore(node);\n            break;\n          }\n          pre = node;\n          node = node.parentNode;\n        }\n        node = this.endContainer;\n        if (node.nodeType == 1) {\n          if ((pre = node.childNodes[this.endOffset])) {\n            node.insertBefore(tmp, pre);\n          } else {\n            node.appendChild(tmp);\n          }\n          pre = node = tmp;\n        } else {\n          pre = node;\n        }\n        while (1) {\n          if (domUtils.isBlockElm(node)) {\n            node = pre;\n            while ((pre = node.nextSibling) && !domUtils.isBlockElm(pre)) {\n              node = pre;\n            }\n            this.setEndAfter(node);\n            break;\n          }\n          pre = node;\n          node = node.parentNode;\n        }\n        if (tmp.parentNode === this.endContainer) {\n          this.endOffset--;\n        }\n        domUtils.remove(tmp);\n      }\n\n      // 扩展边界到最大\n      if (!this.collapsed) {\n        while (this.startOffset == 0) {\n          if (stopFn && stopFn(this.startContainer)) {\n            break;\n          }\n          if (isBody(this.startContainer)) {\n            break;\n          }\n          this.setStartBefore(this.startContainer);\n        }\n        while (\n          this.endOffset ==\n          (this.endContainer.nodeType == 1\n            ? this.endContainer.childNodes.length\n            : this.endContainer.nodeValue.length)\n        ) {\n          if (stopFn && stopFn(this.endContainer)) {\n            break;\n          }\n          if (isBody(this.endContainer)) {\n            break;\n          }\n          this.setEndAfter(this.endContainer);\n        }\n      }\n      return this;\n    },\n    enlargeToBlockElm: function(ignoreEnd) {\n      while (!domUtils.isBlockElm(this.startContainer)) {\n        this.setStartBefore(this.startContainer);\n      }\n      if (!ignoreEnd) {\n        while (!domUtils.isBlockElm(this.endContainer)) {\n          this.setEndAfter(this.endContainer);\n        }\n      }\n      return this;\n    },\n    /**\n         * 调整Range的边界，使其\"缩小\"到最合适的位置\n         * @method adjustmentBoundary\n         * @return { UE.dom.Range } 当前range对象\n         * @see UE.dom.Range:shrinkBoundary()\n         */\n    adjustmentBoundary: function() {\n      if (!this.collapsed) {\n        while (\n          !domUtils.isBody(this.startContainer) &&\n          this.startOffset ==\n            this.startContainer[\n              this.startContainer.nodeType == 3 ? \"nodeValue\" : \"childNodes\"\n            ].length &&\n          this.startContainer[\n            this.startContainer.nodeType == 3 ? \"nodeValue\" : \"childNodes\"\n          ].length\n        ) {\n          this.setStartAfter(this.startContainer);\n        }\n        while (\n          !domUtils.isBody(this.endContainer) &&\n          !this.endOffset &&\n          this.endContainer[\n            this.endContainer.nodeType == 3 ? \"nodeValue\" : \"childNodes\"\n          ].length\n        ) {\n          this.setEndBefore(this.endContainer);\n        }\n      }\n      return this;\n    },\n\n    /**\n         * 给range选区中的内容添加给定的inline标签\n         * @method applyInlineStyle\n         * @param { String } tagName 需要添加的标签名\n         * @example\n         * ```html\n         * <p>xxxx[xxxx]x</p>  ==>  range.applyInlineStyle(\"strong\")  ==>  <p>xxxx[<strong>xxxx</strong>]x</p>\n         * ```\n         */\n\n    /**\n         * 给range选区中的内容添加给定的inline标签， 并且为标签附加上一些初始化属性。\n         * @method applyInlineStyle\n         * @param { String } tagName 需要添加的标签名\n         * @param { Object } attrs 跟随新添加的标签的属性\n         * @return { UE.dom.Range } 当前选区\n         * @example\n         * ```html\n         * <p>xxxx[xxxx]x</p>\n         *\n         * ==>\n         *\n         * <!-- 执行操作 -->\n         * range.applyInlineStyle(\"strong\",{\"style\":\"font-size:12px\"})\n         *\n         * ==>\n         *\n         * <p>xxxx[<strong style=\"font-size:12px\">xxxx</strong>]x</p>\n         * ```\n         */\n    applyInlineStyle: function(tagName, attrs, list) {\n      if (this.collapsed) return this;\n      this.trimBoundary()\n        .enlarge(false, function(node) {\n          return node.nodeType == 1 && domUtils.isBlockElm(node);\n        })\n        .adjustmentBoundary();\n      var bookmark = this.createBookmark(),\n        end = bookmark.end,\n        filterFn = function(node) {\n          return node.nodeType == 1\n            ? node.tagName.toLowerCase() != \"br\"\n            : !domUtils.isWhitespace(node);\n        },\n        current = domUtils.getNextDomNode(bookmark.start, false, filterFn),\n        node,\n        pre,\n        range = this.cloneRange();\n      while (\n        current &&\n        domUtils.getPosition(current, end) & domUtils.POSITION_PRECEDING\n      ) {\n        if (current.nodeType == 3 || dtd[tagName][current.tagName]) {\n          range.setStartBefore(current);\n          node = current;\n          while (\n            node &&\n            (node.nodeType == 3 || dtd[tagName][node.tagName]) &&\n            node !== end\n          ) {\n            pre = node;\n            node = domUtils.getNextDomNode(\n              node,\n              node.nodeType == 1,\n              null,\n              function(parent) {\n                return dtd[tagName][parent.tagName];\n              }\n            );\n          }\n          var frag = range.setEndAfter(pre).extractContents(),\n            elm;\n          if (list && list.length > 0) {\n            var level, top;\n            top = level = list[0].cloneNode(false);\n            for (var i = 1, ci; (ci = list[i++]); ) {\n              level.appendChild(ci.cloneNode(false));\n              level = level.firstChild;\n            }\n            elm = level;\n          } else {\n            elm = range.document.createElement(tagName);\n          }\n          if (attrs) {\n            domUtils.setAttributes(elm, attrs);\n          }\n          elm.appendChild(frag);\n          //针对嵌套span的全局样式指定，做容错处理\n          if (elm.tagName == \"SPAN\" && attrs && attrs.style) {\n            utils.each(elm.getElementsByTagName(\"span\"), function(s) {\n              s.style.cssText = s.style.cssText + \";\" + attrs.style;\n            });\n          }\n          range.insertNode(list ? top : elm);\n          //处理下滑线在a上的情况\n          var aNode;\n          if (\n            tagName == \"span\" &&\n            attrs.style &&\n            /text\\-decoration/.test(attrs.style) &&\n            (aNode = domUtils.findParentByTagName(elm, \"a\", true))\n          ) {\n            domUtils.setAttributes(aNode, attrs);\n            domUtils.remove(elm, true);\n            elm = aNode;\n          } else {\n            domUtils.mergeSibling(elm);\n            domUtils.clearEmptySibling(elm);\n          }\n          //去除子节点相同的\n          domUtils.mergeChild(elm, attrs);\n          current = domUtils.getNextDomNode(elm, false, filterFn);\n          domUtils.mergeToParent(elm);\n          if (node === end) {\n            break;\n          }\n        } else {\n          current = domUtils.getNextDomNode(current, true, filterFn);\n        }\n      }\n      return this.moveToBookmark(bookmark);\n    },\n\n    /**\n         * 移除当前选区内指定的inline标签，但保留其中的内容\n         * @method removeInlineStyle\n         * @param { String } tagName 需要移除的标签名\n         * @return { UE.dom.Range } 当前的range对象\n         * @example\n         * ```html\n         * xx[x<span>xxx<em>yyy</em>zz]z</span>  => range.removeInlineStyle([\"em\"])  => xx[x<span>xxxyyyzz]z</span>\n         * ```\n         */\n\n    /**\n         * 移除当前选区内指定的一组inline标签，但保留其中的内容\n         * @method removeInlineStyle\n         * @param { Array } tagNameArr 需要移除的标签名的数组\n         * @return { UE.dom.Range } 当前的range对象\n         * @see UE.dom.Range:removeInlineStyle(String)\n         */\n    removeInlineStyle: function(tagNames) {\n      if (this.collapsed) return this;\n      tagNames = utils.isArray(tagNames) ? tagNames : [tagNames];\n      this.shrinkBoundary().adjustmentBoundary();\n      var start = this.startContainer,\n        end = this.endContainer;\n      while (1) {\n        if (start.nodeType == 1) {\n          if (utils.indexOf(tagNames, start.tagName.toLowerCase()) > -1) {\n            break;\n          }\n          if (start.tagName.toLowerCase() == \"body\") {\n            start = null;\n            break;\n          }\n        }\n        start = start.parentNode;\n      }\n      while (1) {\n        if (end.nodeType == 1) {\n          if (utils.indexOf(tagNames, end.tagName.toLowerCase()) > -1) {\n            break;\n          }\n          if (end.tagName.toLowerCase() == \"body\") {\n            end = null;\n            break;\n          }\n        }\n        end = end.parentNode;\n      }\n      var bookmark = this.createBookmark(),\n        frag,\n        tmpRange;\n      if (start) {\n        tmpRange = this.cloneRange()\n          .setEndBefore(bookmark.start)\n          .setStartBefore(start);\n        frag = tmpRange.extractContents();\n        tmpRange.insertNode(frag);\n        domUtils.clearEmptySibling(start, true);\n        start.parentNode.insertBefore(bookmark.start, start);\n      }\n      if (end) {\n        tmpRange = this.cloneRange()\n          .setStartAfter(bookmark.end)\n          .setEndAfter(end);\n        frag = tmpRange.extractContents();\n        tmpRange.insertNode(frag);\n        domUtils.clearEmptySibling(end, false, true);\n        end.parentNode.insertBefore(bookmark.end, end.nextSibling);\n      }\n      var current = domUtils.getNextDomNode(bookmark.start, false, function(\n        node\n      ) {\n        return node.nodeType == 1;\n      }),\n        next;\n      while (current && current !== bookmark.end) {\n        next = domUtils.getNextDomNode(current, true, function(node) {\n          return node.nodeType == 1;\n        });\n        if (utils.indexOf(tagNames, current.tagName.toLowerCase()) > -1) {\n          domUtils.remove(current, true);\n        }\n        current = next;\n      }\n      return this.moveToBookmark(bookmark);\n    },\n\n    /**\n         * 获取当前选中的自闭合的节点\n         * @method  getClosedNode\n         * @return { Node | NULL } 如果当前选中的是自闭合节点， 则返回该节点， 否则返回NULL\n         */\n    getClosedNode: function() {\n      var node;\n      if (!this.collapsed) {\n        var range = this.cloneRange().adjustmentBoundary().shrinkBoundary();\n        if (selectOneNode(range)) {\n          var child = range.startContainer.childNodes[range.startOffset];\n          if (\n            child &&\n            child.nodeType == 1 &&\n            (dtd.$empty[child.tagName] || dtd.$nonChild[child.tagName])\n          ) {\n            node = child;\n          }\n        }\n      }\n      return node;\n    },\n\n    /**\n         * 在页面上高亮range所表示的选区\n         * @method select\n         * @return { UE.dom.Range } 返回当前Range对象\n         */\n    //这里不区分ie9以上，trace:3824\n    select: browser.ie\n      ? function(noFillData, textRange) {\n          var nativeRange;\n          if (!this.collapsed) this.shrinkBoundary();\n          var node = this.getClosedNode();\n          if (node && !textRange) {\n            try {\n              nativeRange = this.document.body.createControlRange();\n              nativeRange.addElement(node);\n              nativeRange.select();\n            } catch (e) {}\n            return this;\n          }\n          var bookmark = this.createBookmark(),\n            start = bookmark.start,\n            end;\n          nativeRange = this.document.body.createTextRange();\n          nativeRange.moveToElementText(start);\n          nativeRange.moveStart(\"character\", 1);\n          if (!this.collapsed) {\n            var nativeRangeEnd = this.document.body.createTextRange();\n            end = bookmark.end;\n            nativeRangeEnd.moveToElementText(end);\n            nativeRange.setEndPoint(\"EndToEnd\", nativeRangeEnd);\n          } else {\n            if (!noFillData && this.startContainer.nodeType != 3) {\n              //使用<span>|x<span>固定住光标\n              var tmpText = this.document.createTextNode(fillChar),\n                tmp = this.document.createElement(\"span\");\n              tmp.appendChild(this.document.createTextNode(fillChar));\n              start.parentNode.insertBefore(tmp, start);\n              start.parentNode.insertBefore(tmpText, start);\n              //当点b,i,u时，不能清除i上边的b\n              removeFillData(this.document, tmpText);\n              fillData = tmpText;\n              mergeSibling(tmp, \"previousSibling\");\n              mergeSibling(start, \"nextSibling\");\n              nativeRange.moveStart(\"character\", -1);\n              nativeRange.collapse(true);\n            }\n          }\n          this.moveToBookmark(bookmark);\n          tmp && domUtils.remove(tmp);\n          //IE在隐藏状态下不支持range操作，catch一下\n          try {\n            nativeRange.select();\n          } catch (e) {}\n          return this;\n        }\n      : function(notInsertFillData) {\n          function checkOffset(rng) {\n            function check(node, offset, dir) {\n              if (node.nodeType == 3 && node.nodeValue.length < offset) {\n                rng[dir + \"Offset\"] = node.nodeValue.length;\n              }\n            }\n            check(rng.startContainer, rng.startOffset, \"start\");\n            check(rng.endContainer, rng.endOffset, \"end\");\n          }\n          var win = domUtils.getWindow(this.document),\n            sel = win.getSelection(),\n            txtNode;\n          //FF下关闭自动长高时滚动条在关闭dialog时会跳\n          //ff下如果不body.focus将不能定位闭合光标到编辑器内\n          browser.gecko ? this.document.body.focus() : win.focus();\n          if (sel) {\n            sel.removeAllRanges();\n            // trace:870 chrome/safari后边是br对于闭合得range不能定位 所以去掉了判断\n            // this.startContainer.nodeType != 3 &&! ((child = this.startContainer.childNodes[this.startOffset]) && child.nodeType == 1 && child.tagName == 'BR'\n            if (this.collapsed && !notInsertFillData) {\n              //                    //opear如果没有节点接着，原生的不能够定位,不能在body的第一级插入空白节点\n              //                    if (notInsertFillData && browser.opera && !domUtils.isBody(this.startContainer) && this.startContainer.nodeType == 1) {\n              //                        var tmp = this.document.createTextNode('');\n              //                        this.insertNode(tmp).setStart(tmp, 0).collapse(true);\n              //                    }\n              //\n              //处理光标落在文本节点的情况\n              //处理以下的情况\n              //<b>|xxxx</b>\n              //<b>xxxx</b>|xxxx\n              //xxxx<b>|</b>\n              var start = this.startContainer,\n                child = start;\n              if (start.nodeType == 1) {\n                child = start.childNodes[this.startOffset];\n              }\n              if (\n                !(start.nodeType == 3 && this.startOffset) &&\n                (child\n                  ? !child.previousSibling ||\n                      child.previousSibling.nodeType != 3\n                  : !start.lastChild || start.lastChild.nodeType != 3)\n              ) {\n                txtNode = this.document.createTextNode(fillChar);\n                //跟着前边走\n                this.insertNode(txtNode);\n                removeFillData(this.document, txtNode);\n                mergeSibling(txtNode, \"previousSibling\");\n                mergeSibling(txtNode, \"nextSibling\");\n                fillData = txtNode;\n                this.setStart(txtNode, browser.webkit ? 1 : 0).collapse(true);\n              }\n            }\n            var nativeRange = this.document.createRange();\n            if (\n              this.collapsed &&\n              browser.opera &&\n              this.startContainer.nodeType == 1\n            ) {\n              var child = this.startContainer.childNodes[this.startOffset];\n              if (!child) {\n                //往前靠拢\n                child = this.startContainer.lastChild;\n                if (child && domUtils.isBr(child)) {\n                  this.setStartBefore(child).collapse(true);\n                }\n              } else {\n                //向后靠拢\n                while (child && domUtils.isBlockElm(child)) {\n                  if (child.nodeType == 1 && child.childNodes[0]) {\n                    child = child.childNodes[0];\n                  } else {\n                    break;\n                  }\n                }\n                child && this.setStartBefore(child).collapse(true);\n              }\n            }\n            //是createAddress最后一位算的不准，现在这里进行微调\n            checkOffset(this);\n            nativeRange.setStart(this.startContainer, this.startOffset);\n            nativeRange.setEnd(this.endContainer, this.endOffset);\n            sel.addRange(nativeRange);\n          }\n          return this;\n        },\n\n    /**\n         * 滚动到当前range开始的位置\n         * @method scrollToView\n         * @param { Window } win 当前range对象所属的window对象\n         * @return { UE.dom.Range } 当前Range对象\n         */\n\n    /**\n         * 滚动到距离当前range开始位置 offset 的位置处\n         * @method scrollToView\n         * @param { Window } win 当前range对象所属的window对象\n         * @param { Number } offset 距离range开始位置处的偏移量， 如果为正数， 则向下偏移， 反之， 则向上偏移\n         * @return { UE.dom.Range } 当前Range对象\n         */\n    scrollToView: function(win, offset) {\n      win = win ? window : domUtils.getWindow(this.document);\n      var me = this,\n        span = me.document.createElement(\"span\");\n      //trace:717\n      span.innerHTML = \"&nbsp;\";\n      me.cloneRange().insertNode(span);\n      domUtils.scrollToView(span, win, offset);\n      domUtils.remove(span);\n      return me;\n    },\n\n    /**\n         * 判断当前选区内容是否占位符\n         * @private\n         * @method inFillChar\n         * @return { Boolean } 如果是占位符返回true，否则返回false\n         */\n    inFillChar: function() {\n      var start = this.startContainer;\n      if (\n        this.collapsed &&\n        start.nodeType == 3 &&\n        start.nodeValue.replace(new RegExp(\"^\" + domUtils.fillChar), \"\")\n          .length +\n          1 ==\n          start.nodeValue.length\n      ) {\n        return true;\n      }\n      return false;\n    },\n\n    /**\n         * 保存\n         * @method createAddress\n         * @private\n         * @return { Boolean } 返回开始和结束的位置\n         * @example\n         * ```html\n         * <body>\n         *     <p>\n         *         aaaa\n         *         <em>\n         *             <!-- 选区开始 -->\n         *             bbbb\n         *             <!-- 选区结束 -->\n         *         </em>\n         *     </p>\n         *\n         *     <script>\n         *         //output: {startAddress:[0,1,0,0],endAddress:[0,1,0,4]}\n         *         console.log( range.createAddress() );\n         *     </script>\n         * </body>\n         * ```\n         */\n    createAddress: function(ignoreEnd, ignoreTxt) {\n      var addr = {},\n        me = this;\n\n      function getAddress(isStart) {\n        var node = isStart ? me.startContainer : me.endContainer;\n        var parents = domUtils.findParents(node, true, function(node) {\n          return !domUtils.isBody(node);\n        }),\n          addrs = [];\n        for (var i = 0, ci; (ci = parents[i++]); ) {\n          addrs.push(domUtils.getNodeIndex(ci, ignoreTxt));\n        }\n        var firstIndex = 0;\n\n        if (ignoreTxt) {\n          if (node.nodeType == 3) {\n            var tmpNode = node.previousSibling;\n            while (tmpNode && tmpNode.nodeType == 3) {\n              firstIndex += tmpNode.nodeValue.replace(fillCharReg, \"\").length;\n              tmpNode = tmpNode.previousSibling;\n            }\n            firstIndex += isStart ? me.startOffset : me.endOffset; // - (fillCharReg.test(node.nodeValue) ? 1 : 0 )\n          } else {\n            node = node.childNodes[isStart ? me.startOffset : me.endOffset];\n            if (node) {\n              firstIndex = domUtils.getNodeIndex(node, ignoreTxt);\n            } else {\n              node = isStart ? me.startContainer : me.endContainer;\n              var first = node.firstChild;\n              while (first) {\n                if (domUtils.isFillChar(first)) {\n                  first = first.nextSibling;\n                  continue;\n                }\n                firstIndex++;\n                if (first.nodeType == 3) {\n                  while (first && first.nodeType == 3) {\n                    first = first.nextSibling;\n                  }\n                } else {\n                  first = first.nextSibling;\n                }\n              }\n            }\n          }\n        } else {\n          firstIndex = isStart\n            ? domUtils.isFillChar(node) ? 0 : me.startOffset\n            : me.endOffset;\n        }\n        if (firstIndex < 0) {\n          firstIndex = 0;\n        }\n        addrs.push(firstIndex);\n        return addrs;\n      }\n      addr.startAddress = getAddress(true);\n      if (!ignoreEnd) {\n        addr.endAddress = me.collapsed\n          ? [].concat(addr.startAddress)\n          : getAddress();\n      }\n      return addr;\n    },\n\n    /**\n         * 保存\n         * @method createAddress\n         * @private\n         * @return { Boolean } 返回开始和结束的位置\n         * @example\n         * ```html\n         * <body>\n         *     <p>\n         *         aaaa\n         *         <em>\n         *             <!-- 选区开始 -->\n         *             bbbb\n         *             <!-- 选区结束 -->\n         *         </em>\n         *     </p>\n         *\n         *     <script>\n         *         var range = editor.selection.getRange();\n         *         range.moveToAddress({startAddress:[0,1,0,0],endAddress:[0,1,0,4]});\n         *         range.select();\n         *         //output: 'bbbb'\n         *         console.log(editor.selection.getText());\n         *     </script>\n         * </body>\n         * ```\n         */\n    moveToAddress: function(addr, ignoreEnd) {\n      var me = this;\n      function getNode(address, isStart) {\n        var tmpNode = me.document.body,\n          parentNode,\n          offset;\n        for (var i = 0, ci, l = address.length; i < l; i++) {\n          ci = address[i];\n          parentNode = tmpNode;\n          tmpNode = tmpNode.childNodes[ci];\n          if (!tmpNode) {\n            offset = ci;\n            break;\n          }\n        }\n        if (isStart) {\n          if (tmpNode) {\n            me.setStartBefore(tmpNode);\n          } else {\n            me.setStart(parentNode, offset);\n          }\n        } else {\n          if (tmpNode) {\n            me.setEndBefore(tmpNode);\n          } else {\n            me.setEnd(parentNode, offset);\n          }\n        }\n      }\n      getNode(addr.startAddress, true);\n      !ignoreEnd && addr.endAddress && getNode(addr.endAddress);\n      return me;\n    },\n\n    /**\n         * 判断给定的Range对象是否和当前Range对象表示的是同一个选区\n         * @method equals\n         * @param { UE.dom.Range } 需要判断的Range对象\n         * @return { Boolean } 如果给定的Range对象与当前Range对象表示的是同一个选区， 则返回true， 否则返回false\n         */\n    equals: function(rng) {\n      for (var p in this) {\n        if (this.hasOwnProperty(p)) {\n          if (this[p] !== rng[p]) return false;\n        }\n      }\n      return true;\n    },\n\n    /**\n         * 遍历range内的节点。每当遍历一个节点时， 都会执行参数项 doFn 指定的函数， 该函数的接受当前遍历的节点\n         * 作为其参数。\n         * @method traversal\n         * @param { Function }  doFn 对每个遍历的节点要执行的方法， 该方法接受当前遍历的节点作为其参数\n         * @return { UE.dom.Range } 当前range对象\n         * @example\n         * ```html\n         *\n         * <body>\n         *\n         *     <!-- 选区开始 -->\n         *     <span></span>\n         *     <a></a>\n         *     <!-- 选区结束 -->\n         * </body>\n         *\n         * <script>\n         *\n         *     //output: <span></span><a></a>\n         *     console.log( range.cloneContents() );\n         *\n         *     range.traversal( function ( node ) {\n         *\n         *         if ( node.nodeType === 1 ) {\n         *             node.className = \"test\";\n         *         }\n         *\n         *     } );\n         *\n         *     //output: <span class=\"test\"></span><a class=\"test\"></a>\n         *     console.log( range.cloneContents() );\n         *\n         * </script>\n         * ```\n         */\n\n    /**\n         * 遍历range内的节点。\n         * 每当遍历一个节点时， 都会执行参数项 doFn 指定的函数， 该函数的接受当前遍历的节点\n         * 作为其参数。\n         * 可以通过参数项 filterFn 来指定一个过滤器， 只有符合该过滤器过滤规则的节点才会触\n         * 发doFn函数的执行\n         * @method traversal\n         * @param { Function } doFn 对每个遍历的节点要执行的方法， 该方法接受当前遍历的节点作为其参数\n         * @param { Function } filterFn 过滤器， 该函数接受当前遍历的节点作为参数， 如果该节点满足过滤\n         *                      规则， 请返回true， 该节点会触发doFn， 否则， 请返回false， 则该节点不\n         *                      会触发doFn。\n         * @return { UE.dom.Range } 当前range对象\n         * @see UE.dom.Range:traversal(Function)\n         * @example\n         * ```html\n         *\n         * <body>\n         *\n         *     <!-- 选区开始 -->\n         *     <span></span>\n         *     <a></a>\n         *     <!-- 选区结束 -->\n         * </body>\n         *\n         * <script>\n         *\n         *     //output: <span></span><a></a>\n         *     console.log( range.cloneContents() );\n         *\n         *     range.traversal( function ( node ) {\n         *\n         *         node.className = \"test\";\n         *\n         *     }, function ( node ) {\n         *          return node.nodeType === 1;\n         *     } );\n         *\n         *     //output: <span class=\"test\"></span><a class=\"test\"></a>\n         *     console.log( range.cloneContents() );\n         *\n         * </script>\n         * ```\n         */\n    traversal: function(doFn, filterFn) {\n      if (this.collapsed) return this;\n      var bookmark = this.createBookmark(),\n        end = bookmark.end,\n        current = domUtils.getNextDomNode(bookmark.start, false, filterFn);\n      while (\n        current &&\n        current !== end &&\n        domUtils.getPosition(current, end) & domUtils.POSITION_PRECEDING\n      ) {\n        var tmpNode = domUtils.getNextDomNode(current, false, filterFn);\n        doFn(current);\n        current = tmpNode;\n      }\n      return this.moveToBookmark(bookmark);\n    }\n  };\n})();\n\n\n// core/Selection.js\n/**\n * 选集\n * @file\n * @module UE.dom\n * @class Selection\n * @since 1.2.6.1\n */\n\n/**\n * 选区集合\n * @unfile\n * @module UE.dom\n * @class Selection\n */\n;(function() {\n  function getBoundaryInformation(range, start) {\n    var getIndex = domUtils.getNodeIndex;\n    range = range.duplicate();\n    range.collapse(start);\n    var parent = range.parentElement();\n    //如果节点里没有子节点，直接退出\n    if (!parent.hasChildNodes()) {\n      return { container: parent, offset: 0 };\n    }\n    var siblings = parent.children,\n      child,\n      testRange = range.duplicate(),\n      startIndex = 0,\n      endIndex = siblings.length - 1,\n      index = -1,\n      distance;\n    while (startIndex <= endIndex) {\n      index = Math.floor((startIndex + endIndex) / 2);\n      child = siblings[index];\n      testRange.moveToElementText(child);\n      var position = testRange.compareEndPoints(\"StartToStart\", range);\n      if (position > 0) {\n        endIndex = index - 1;\n      } else if (position < 0) {\n        startIndex = index + 1;\n      } else {\n        //trace:1043\n        return { container: parent, offset: getIndex(child) };\n      }\n    }\n    if (index == -1) {\n      testRange.moveToElementText(parent);\n      testRange.setEndPoint(\"StartToStart\", range);\n      distance = testRange.text.replace(/(\\r\\n|\\r)/g, \"\\n\").length;\n      siblings = parent.childNodes;\n      if (!distance) {\n        child = siblings[siblings.length - 1];\n        return { container: child, offset: child.nodeValue.length };\n      }\n\n      var i = siblings.length;\n      while (distance > 0) {\n        distance -= siblings[--i].nodeValue.length;\n      }\n      return { container: siblings[i], offset: -distance };\n    }\n    testRange.collapse(position > 0);\n    testRange.setEndPoint(position > 0 ? \"StartToStart\" : \"EndToStart\", range);\n    distance = testRange.text.replace(/(\\r\\n|\\r)/g, \"\\n\").length;\n    if (!distance) {\n      return dtd.$empty[child.tagName] || dtd.$nonChild[child.tagName]\n        ? {\n            container: parent,\n            offset: getIndex(child) + (position > 0 ? 0 : 1)\n          }\n        : {\n            container: child,\n            offset: position > 0 ? 0 : child.childNodes.length\n          };\n    }\n    while (distance > 0) {\n      try {\n        var pre = child;\n        child = child[position > 0 ? \"previousSibling\" : \"nextSibling\"];\n        distance -= child.nodeValue.length;\n      } catch (e) {\n        return { container: parent, offset: getIndex(pre) };\n      }\n    }\n    return {\n      container: child,\n      offset: position > 0 ? -distance : child.nodeValue.length + distance\n    };\n  }\n\n  /**\n     * 将ieRange转换为Range对象\n     * @param {Range}   ieRange    ieRange对象\n     * @param {Range}   range      Range对象\n     * @return  {Range}  range       返回转换后的Range对象\n     */\n  function transformIERangeToRange(ieRange, range) {\n    if (ieRange.item) {\n      range.selectNode(ieRange.item(0));\n    } else {\n      var bi = getBoundaryInformation(ieRange, true);\n      range.setStart(bi.container, bi.offset);\n      if (ieRange.compareEndPoints(\"StartToEnd\", ieRange) != 0) {\n        bi = getBoundaryInformation(ieRange, false);\n        range.setEnd(bi.container, bi.offset);\n      }\n    }\n    return range;\n  }\n\n  /**\n     * 获得ieRange\n     * @param {Selection} sel    Selection对象\n     * @return {ieRange}    得到ieRange\n     */\n  function _getIERange(sel) {\n    var ieRange;\n    //ie下有可能报错\n    try {\n      ieRange = sel.getNative().createRange();\n    } catch (e) {\n      return null;\n    }\n    var el = ieRange.item ? ieRange.item(0) : ieRange.parentElement();\n    if ((el.ownerDocument || el) === sel.document) {\n      return ieRange;\n    }\n    return null;\n  }\n\n  var Selection = (dom.Selection = function(doc) {\n    var me = this,\n      iframe;\n    me.document = doc;\n    if (browser.ie9below) {\n      iframe = domUtils.getWindow(doc).frameElement;\n      domUtils.on(iframe, \"beforedeactivate\", function() {\n        me._bakIERange = me.getIERange();\n      });\n      domUtils.on(iframe, \"activate\", function() {\n        try {\n          if (!_getIERange(me) && me._bakIERange) {\n            me._bakIERange.select();\n          }\n        } catch (ex) {}\n        me._bakIERange = null;\n      });\n    }\n    iframe = doc = null;\n  });\n\n  Selection.prototype = {\n    rangeInBody: function(rng, txtRange) {\n      var node = browser.ie9below || txtRange\n        ? rng.item ? rng.item() : rng.parentElement()\n        : rng.startContainer;\n\n      return node === this.document.body || domUtils.inDoc(node, this.document);\n    },\n\n    /**\n         * 获取原生seleciton对象\n         * @method getNative\n         * @return { Object } 获得selection对象\n         * @example\n         * ```javascript\n         * editor.selection.getNative();\n         * ```\n         */\n    getNative: function() {\n      var doc = this.document;\n      try {\n        return !doc\n          ? null\n          : browser.ie9below\n            ? doc.selection\n            : domUtils.getWindow(doc).getSelection();\n      } catch (e) {\n        return null;\n      }\n    },\n\n    /**\n         * 获得ieRange\n         * @method getIERange\n         * @return { Object } 返回ie原生的Range\n         * @example\n         * ```javascript\n         * editor.selection.getIERange();\n         * ```\n         */\n    getIERange: function() {\n      var ieRange = _getIERange(this);\n      if (!ieRange) {\n        if (this._bakIERange) {\n          return this._bakIERange;\n        }\n      }\n      return ieRange;\n    },\n\n    /**\n         * 缓存当前选区的range和选区的开始节点\n         * @method cache\n         */\n    cache: function() {\n      this.clear();\n      this._cachedRange = this.getRange();\n      this._cachedStartElement = this.getStart();\n      this._cachedStartElementPath = this.getStartElementPath();\n    },\n\n    /**\n         * 获取选区开始位置的父节点到body\n         * @method getStartElementPath\n         * @return { Array } 返回父节点集合\n         * @example\n         * ```javascript\n         * editor.selection.getStartElementPath();\n         * ```\n         */\n    getStartElementPath: function() {\n      if (this._cachedStartElementPath) {\n        return this._cachedStartElementPath;\n      }\n      var start = this.getStart();\n      if (start) {\n        return domUtils.findParents(start, true, null, true);\n      }\n      return [];\n    },\n\n    /**\n         * 清空缓存\n         * @method clear\n         */\n    clear: function() {\n      this._cachedStartElementPath = this._cachedRange = this._cachedStartElement = null;\n    },\n\n    /**\n         * 编辑器是否得到了选区\n         * @method isFocus\n         */\n    isFocus: function() {\n      try {\n        if (browser.ie9below) {\n          var nativeRange = _getIERange(this);\n          return !!(nativeRange && this.rangeInBody(nativeRange));\n        } else {\n          return !!this.getNative().rangeCount;\n        }\n      } catch (e) {\n        return false;\n      }\n    },\n\n    /**\n         * 获取选区对应的Range\n         * @method getRange\n         * @return { Object } 得到Range对象\n         * @example\n         * ```javascript\n         * editor.selection.getRange();\n         * ```\n         */\n    getRange: function() {\n      var me = this;\n      function optimze(range) {\n        var child = me.document.body.firstChild,\n          collapsed = range.collapsed;\n        while (child && child.firstChild) {\n          range.setStart(child, 0);\n          child = child.firstChild;\n        }\n        if (!range.startContainer) {\n          range.setStart(me.document.body, 0);\n        }\n        if (collapsed) {\n          range.collapse(true);\n        }\n      }\n\n      if (me._cachedRange != null) {\n        return this._cachedRange;\n      }\n      var range = new baidu.editor.dom.Range(me.document);\n\n      if (browser.ie9below) {\n        var nativeRange = me.getIERange();\n        if (nativeRange) {\n          //备份的_bakIERange可能已经实效了，dom树发生了变化比如从源码模式切回来，所以try一下，实效就放到body开始位置\n          try {\n            transformIERangeToRange(nativeRange, range);\n          } catch (e) {\n            optimze(range);\n          }\n        } else {\n          optimze(range);\n        }\n      } else {\n        var sel = me.getNative();\n        if (sel && sel.rangeCount) {\n          var firstRange = sel.getRangeAt(0);\n          var lastRange = sel.getRangeAt(sel.rangeCount - 1);\n          range\n            .setStart(firstRange.startContainer, firstRange.startOffset)\n            .setEnd(lastRange.endContainer, lastRange.endOffset);\n          if (\n            range.collapsed &&\n            domUtils.isBody(range.startContainer) &&\n            !range.startOffset\n          ) {\n            optimze(range);\n          }\n        } else {\n          //trace:1734 有可能已经不在dom树上了，标识的节点\n          if (\n            this._bakRange &&\n            domUtils.inDoc(this._bakRange.startContainer, this.document)\n          ) {\n            return this._bakRange;\n          }\n          optimze(range);\n        }\n      }\n      return (this._bakRange = range);\n    },\n\n    /**\n         * 获取开始元素，用于状态反射\n         * @method getStart\n         * @return { Element } 获得开始元素\n         * @example\n         * ```javascript\n         * editor.selection.getStart();\n         * ```\n         */\n    getStart: function() {\n      if (this._cachedStartElement) {\n        return this._cachedStartElement;\n      }\n      var range = browser.ie9below ? this.getIERange() : this.getRange(),\n        tmpRange,\n        start,\n        tmp,\n        parent;\n      if (browser.ie9below) {\n        if (!range) {\n          //todo 给第一个值可能会有问题\n          return this.document.body.firstChild;\n        }\n        //control元素\n        if (range.item) {\n          return range.item(0);\n        }\n        tmpRange = range.duplicate();\n        //修正ie下<b>x</b>[xx] 闭合后 <b>x|</b>xx\n        tmpRange.text.length > 0 && tmpRange.moveStart(\"character\", 1);\n        tmpRange.collapse(1);\n        start = tmpRange.parentElement();\n        parent = tmp = range.parentElement();\n        while ((tmp = tmp.parentNode)) {\n          if (tmp == start) {\n            start = parent;\n            break;\n          }\n        }\n      } else {\n        range.shrinkBoundary();\n        start = range.startContainer;\n        if (start.nodeType == 1 && start.hasChildNodes()) {\n          start =\n            start.childNodes[\n              Math.min(start.childNodes.length - 1, range.startOffset)\n            ];\n        }\n        if (start.nodeType == 3) {\n          return start.parentNode;\n        }\n      }\n      return start;\n    },\n\n    /**\n         * 得到选区中的文本\n         * @method getText\n         * @return { String } 选区中包含的文本\n         * @example\n         * ```javascript\n         * editor.selection.getText();\n         * ```\n         */\n    getText: function() {\n      var nativeSel, nativeRange;\n      if (this.isFocus() && (nativeSel = this.getNative())) {\n        nativeRange = browser.ie9below\n          ? nativeSel.createRange()\n          : nativeSel.getRangeAt(0);\n        return browser.ie9below ? nativeRange.text : nativeRange.toString();\n      }\n      return \"\";\n    },\n\n    /**\n         * 清除选区\n         * @method clearRange\n         * @example\n         * ```javascript\n         * editor.selection.clearRange();\n         * ```\n         */\n    clearRange: function() {\n      this.getNative()[browser.ie9below ? \"empty\" : \"removeAllRanges\"]();\n    }\n  };\n})();\n\n\n// core/Editor.js\n/**\n * 编辑器主类，包含编辑器提供的大部分公用接口\n * @file\n * @module UE\n * @class Editor\n * @since 1.2.6.1\n */\n\n/**\n * UEditor公用空间，UEditor所有的功能都挂载在该空间下\n * @unfile\n * @module UE\n */\n\n/**\n * UEditor的核心类，为用户提供与编辑器交互的接口。\n * @unfile\n * @module UE\n * @class Editor\n */\n\n;(function() {\n  var uid = 0,\n    _selectionChangeTimer;\n\n  /**\n     * 获取编辑器的html内容，赋值到编辑器所在表单的textarea文本域里面\n     * @private\n     * @method setValue\n     * @param { UE.Editor } editor 编辑器事例\n     */\n  function setValue(form, editor) {\n    var textarea;\n    if (editor.options.textarea) {\n      if (utils.isString(editor.options.textarea)) {\n        for (\n          var i = 0, ti, tis = domUtils.getElementsByTagName(form, \"textarea\");\n          (ti = tis[i++]);\n\n        ) {\n          if (ti.id == \"ueditor_textarea_\" + editor.options.textarea) {\n            textarea = ti;\n            break;\n          }\n        }\n      } else {\n        textarea = editor.textarea;\n      }\n    }\n    if (!textarea) {\n      form.appendChild(\n        (textarea = domUtils.createElement(document, \"textarea\", {\n          name: editor.options.textarea,\n          id: \"ueditor_textarea_\" + editor.options.textarea,\n          style: \"display:none\"\n        }))\n      );\n      //不要产生多个textarea\n      editor.textarea = textarea;\n    }\n    !textarea.getAttribute(\"name\") &&\n      textarea.setAttribute(\"name\", editor.options.textarea);\n    textarea.value = editor.hasContents()\n      ? editor.options.allHtmlEnabled\n        ? editor.getAllHtml()\n        : editor.getContent(null, null, true)\n      : \"\";\n  }\n  function loadPlugins(me) {\n    //初始化插件\n    for (var pi in UE.plugins) {\n      UE.plugins[pi].call(me);\n    }\n  }\n  function checkCurLang(I18N) {\n    for (var lang in I18N) {\n      return lang;\n    }\n  }\n\n  function langReadied(me) {\n    me.langIsReady = true;\n\n    me.fireEvent(\"langReady\");\n  }\n\n  /**\n     * 编辑器准备就绪后会触发该事件\n     * @module UE\n     * @class Editor\n     * @event ready\n     * @remind render方法执行完成之后,会触发该事件\n     * @remind\n     * @example\n     * ```javascript\n     * editor.addListener( 'ready', function( editor ) {\n     *     editor.execCommand( 'focus' ); //编辑器家在完成后，让编辑器拿到焦点\n     * } );\n     * ```\n     */\n  /**\n     * 执行destroy方法,会触发该事件\n     * @module UE\n     * @class Editor\n     * @event destroy\n     * @see UE.Editor:destroy()\n     */\n  /**\n     * 执行reset方法,会触发该事件\n     * @module UE\n     * @class Editor\n     * @event reset\n     * @see UE.Editor:reset()\n     */\n  /**\n     * 执行focus方法,会触发该事件\n     * @module UE\n     * @class Editor\n     * @event focus\n     * @see UE.Editor:focus(Boolean)\n     */\n  /**\n     * 语言加载完成会触发该事件\n     * @module UE\n     * @class Editor\n     * @event langReady\n     */\n  /**\n     * 运行命令之后会触发该命令\n     * @module UE\n     * @class Editor\n     * @event beforeExecCommand\n     */\n  /**\n     * 运行命令之后会触发该命令\n     * @module UE\n     * @class Editor\n     * @event afterExecCommand\n     */\n  /**\n     * 运行命令之前会触发该命令\n     * @module UE\n     * @class Editor\n     * @event firstBeforeExecCommand\n     */\n  /**\n     * 在getContent方法执行之前会触发该事件\n     * @module UE\n     * @class Editor\n     * @event beforeGetContent\n     * @see UE.Editor:getContent()\n     */\n  /**\n     * 在getContent方法执行之后会触发该事件\n     * @module UE\n     * @class Editor\n     * @event afterGetContent\n     * @see UE.Editor:getContent()\n     */\n  /**\n     * 在getAllHtml方法执行时会触发该事件\n     * @module UE\n     * @class Editor\n     * @event getAllHtml\n     * @see UE.Editor:getAllHtml()\n     */\n  /**\n     * 在setContent方法执行之前会触发该事件\n     * @module UE\n     * @class Editor\n     * @event beforeSetContent\n     * @see UE.Editor:setContent(String)\n     */\n  /**\n     * 在setContent方法执行之后会触发该事件\n     * @module UE\n     * @class Editor\n     * @event afterSetContent\n     * @see UE.Editor:setContent(String)\n     */\n  /**\n     * 每当编辑器内部选区发生改变时，将触发该事件\n     * @event selectionchange\n     * @warning 该事件的触发非常频繁，不建议在该事件的处理过程中做重量级的处理\n     * @example\n     * ```javascript\n     * editor.addListener( 'selectionchange', function( editor ) {\n     *     console.log('选区发生改变');\n     * }\n     */\n  /**\n     * 在所有selectionchange的监听函数执行之前，会触发该事件\n     * @module UE\n     * @class Editor\n     * @event beforeSelectionChange\n     * @see UE.Editor:selectionchange\n     */\n  /**\n     * 在所有selectionchange的监听函数执行完之后，会触发该事件\n     * @module UE\n     * @class Editor\n     * @event afterSelectionChange\n     * @see UE.Editor:selectionchange\n     */\n  /**\n     * 编辑器内容发生改变时会触发该事件\n     * @module UE\n     * @class Editor\n     * @event contentChange\n     */\n\n  /**\n     * 以默认参数构建一个编辑器实例\n     * @constructor\n     * @remind 通过 改构造方法实例化的编辑器,不带ui层.需要render到一个容器,编辑器实例才能正常渲染到页面\n     * @example\n     * ```javascript\n     * var editor = new UE.Editor();\n     * editor.execCommand('blod');\n     * ```\n     * @see UE.Config\n     */\n\n  /**\n     * 以给定的参数集合创建一个编辑器实例，对于未指定的参数，将应用默认参数。\n     * @constructor\n     * @remind 通过 改构造方法实例化的编辑器,不带ui层.需要render到一个容器,编辑器实例才能正常渲染到页面\n     * @param { Object } setting 创建编辑器的参数\n     * @example\n     * ```javascript\n     * var editor = new UE.Editor();\n     * editor.execCommand('blod');\n     * ```\n     * @see UE.Config\n     */\n  var Editor = (UE.Editor = function(options) {\n    var me = this;\n    me.uid = uid++;\n    EventBase.call(me);\n    me.commands = {};\n    me.options = utils.extend(utils.clone(options || {}), UEDITOR_CONFIG, true);\n    me.shortcutkeys = {};\n    me.inputRules = [];\n    me.outputRules = [];\n    //设置默认的常用属性\n    me.setOpt(Editor.defaultOptions(me));\n\n    /* 尝试异步加载后台配置 */\n    //me.loadServerConfig();\n\n    if (!utils.isEmptyObject(UE.I18N)) {\n      //修改默认的语言类型\n      me.options.lang = checkCurLang(UE.I18N);\n      UE.plugin.load(me);\n      langReadied(me);\n    } else {\n      utils.loadFile(\n        document,\n        {\n          src:\n            me.options.langPath +\n              me.options.lang +\n              \"/\" +\n              me.options.lang +\n              \".js\",\n          tag: \"script\",\n          type: \"text/javascript\",\n          defer: \"defer\"\n        },\n        function() {\n          UE.plugin.load(me);\n          langReadied(me);\n        }\n      );\n    }\n\n    UE.instants[\"ueditorInstant\" + me.uid] = me;\n  });\n  Editor.prototype = {\n    registerCommand: function(name, obj) {\n      this.commands[name] = obj;\n    },\n    /**\n         * 编辑器对外提供的监听ready事件的接口， 通过调用该方法，达到的效果与监听ready事件是一致的\n         * @method ready\n         * @param { Function } fn 编辑器ready之后所执行的回调, 如果在注册事件之前编辑器已经ready，将会\n         * 立即触发该回调。\n         * @remind 需要等待编辑器加载完成后才能执行的代码,可以使用该方法传入\n         * @example\n         * ```javascript\n         * editor.ready( function( editor ) {\n         *     editor.setContent('初始化完毕');\n         * } );\n         * ```\n         * @see UE.Editor.event:ready\n         */\n    ready: function(fn) {\n      var me = this;\n      if (fn) {\n        me.isReady ? fn.apply(me) : me.addListener(\"ready\", fn);\n      }\n    },\n    /**\n       * 该方法用于设置placeholder\n       * @method setPlaceholder\n       * @param { String } placeholder 编辑器的placeholder文案\n       * @example\n       * ```javascript\n       * editor.setPlaceholder('请输入内容');\n       * ```\n       */\n      setPlaceholder: function(){\n\n          function contentChange(){\n              var localHtml = this.getPlainTxt();\n              if(!localHtml.trim()){\n                  UE.dom.domUtils.addClass( this.body, 'empty' );\n              }else{\n                  UE.dom.domUtils.removeClasses( this.body, 'empty' );\n              }\n          }\n\n          return function(placeholder){\n              var _editor = this;\n\n              _editor.ready(function () {\n                  contentChange.call(_editor);\n                  _editor.body.setAttribute('placeholder', placeholder);\n              });\n              _editor.removeListener('keyup contentchange', contentChange);\n              _editor.addListener('keyup contentchange', contentChange);\n          }\n      }(),\n\n    /**\n         * 该方法是提供给插件里面使用，设置配置项默认值\n         * @method setOpt\n         * @warning 三处设置配置项的优先级: 实例化时传入参数 > setOpt()设置 > config文件里设置\n         * @warning 该方法仅供编辑器插件内部和编辑器初始化时调用，其他地方不能调用。\n         * @param { String } key 编辑器的可接受的选项名称\n         * @param { * } val  该选项可接受的值\n         * @example\n         * ```javascript\n         * editor.setOpt( 'initContent', '欢迎使用编辑器' );\n         * ```\n         */\n\n    /**\n         * 该方法是提供给插件里面使用，以{key:value}集合的方式设置插件内用到的配置项默认值\n         * @method setOpt\n         * @warning 三处设置配置项的优先级: 实例化时传入参数 > setOpt()设置 > config文件里设置\n         * @warning 该方法仅供编辑器插件内部和编辑器初始化时调用，其他地方不能调用。\n         * @param { Object } options 将要设置的选项的键值对对象\n         * @example\n         * ```javascript\n         * editor.setOpt( {\n         *     'initContent': '欢迎使用编辑器'\n         * } );\n         * ```\n         */\n    setOpt: function(key, val) {\n      var obj = {};\n      if (utils.isString(key)) {\n        obj[key] = val;\n      } else {\n        obj = key;\n      }\n      utils.extend(this.options, obj, true);\n    },\n    getOpt: function(key) {\n      return this.options[key];\n    },\n    /**\n         * 销毁编辑器实例，使用textarea代替\n         * @method destroy\n         * @example\n         * ```javascript\n         * editor.destroy();\n         * ```\n         */\n    destroy: function() {\n      var me = this;\n      me.fireEvent(\"destroy\");\n      var container = me.container.parentNode;\n      var textarea = me.textarea;\n      if (!textarea) {\n        textarea = document.createElement(\"textarea\");\n        container.parentNode.insertBefore(textarea, container);\n      } else {\n        textarea.style.display = \"\";\n      }\n\n      textarea.style.width = me.iframe.offsetWidth + \"px\";\n      textarea.style.height = me.iframe.offsetHeight + \"px\";\n      textarea.value = me.getContent();\n      textarea.id = me.key;\n      container.innerHTML = \"\";\n      domUtils.remove(container);\n      var key = me.key;\n      //trace:2004\n      for (var p in me) {\n        if (me.hasOwnProperty(p)) {\n          delete this[p];\n        }\n      }\n      UE.delEditor(key);\n    },\n\n    /**\n         * 渲染编辑器的DOM到指定容器\n         * @method render\n         * @param { String } containerId 指定一个容器ID\n         * @remind 执行该方法,会触发ready事件\n         * @warning 必须且只能调用一次\n         */\n\n    /**\n         * 渲染编辑器的DOM到指定容器\n         * @method render\n         * @param { Element } containerDom 直接指定容器对象\n         * @remind 执行该方法,会触发ready事件\n         * @warning 必须且只能调用一次\n         */\n    render: function(container) {\n      var me = this,\n        options = me.options,\n        getStyleValue = function(attr) {\n          return parseInt(domUtils.getComputedStyle(container, attr));\n        };\n      if (utils.isString(container)) {\n        container = document.getElementById(container);\n      }\n      if (container) {\n        if (options.initialFrameWidth) {\n          options.minFrameWidth = options.initialFrameWidth;\n        } else {\n          options.minFrameWidth = options.initialFrameWidth =\n            container.offsetWidth;\n        }\n        if (options.initialFrameHeight) {\n          options.minFrameHeight = options.initialFrameHeight;\n        } else {\n          options.initialFrameHeight = options.minFrameHeight =\n            container.offsetHeight;\n        }\n\n        container.style.width = /%$/.test(options.initialFrameWidth)\n          ? \"100%\"\n          : options.initialFrameWidth -\n              getStyleValue(\"padding-left\") -\n              getStyleValue(\"padding-right\") +\n              \"px\";\n        container.style.height = /%$/.test(options.initialFrameHeight)\n          ? \"100%\"\n          : options.initialFrameHeight -\n              getStyleValue(\"padding-top\") -\n              getStyleValue(\"padding-bottom\") +\n              \"px\";\n\n        container.style.zIndex = options.zIndex;\n\n        var html =\n          (ie && browser.version < 9 ? \"\" : \"<!DOCTYPE html>\") +\n          \"<html xmlns='http://www.w3.org/1999/xhtml' class='view' >\" +\n          \"<head>\" +\n          \"<style type='text/css'>\" +\n          //设置四周的留边\n          \".view{padding:0;word-wrap:break-word;cursor:text;height:90%;}\\n\" +\n          //设置默认字体和字号\n          //font-family不能呢随便改，在safari下fillchar会有解析问题\n          \"body{margin:8px;font-family:sans-serif;font-size:16px;}\" +\n          //设置placeholder\n          \"body.empty:before{content:attr(placeholder);position:absolute;color:#999;}\"+\n          //设置段落间距\n          \"p{margin:5px 0;}</style>\" +\n          (options.iframeCssUrl\n            ? \"<link rel='stylesheet' type='text/css' href='\" +\n                utils.unhtml(options.iframeCssUrl) +\n                \"'/>\"\n            : \"\") +\n          (options.initialStyle\n            ? \"<style>\" + options.initialStyle + \"</style>\"\n            : \"\") +\n          \"</head>\" +\n          \"<body class='view' ></body>\" +\n          \"<script type='text/javascript' \" +\n          (ie ? \"defer='defer'\" : \"\") +\n          \" id='_initialScript'>\" +\n          \"setTimeout(function(){editor = window.parent.UE.instants['ueditorInstant\" +\n          me.uid +\n          \"'];editor._setup(document);},0);\" +\n          \"var _tmpScript = document.getElementById('_initialScript');_tmpScript.parentNode.removeChild(_tmpScript);\" +\n          \"</script>\" +\n          (options.iframeJsUrl\n            ? \"<script type='text/javascript' src='\" +\n                utils.unhtml(options.iframeJsUrl) +\n                \"'></script>\"\n            : \"\") +\n          \"</html>\";\n\n        container.appendChild(\n          domUtils.createElement(document, \"iframe\", {\n            id: \"ueditor_\" + me.uid,\n            width: \"100%\",\n            height: \"100%\",\n            frameborder: \"0\",\n            //先注释掉了，加的原因忘记了，但开启会直接导致全屏模式下内容多时不会出现滚动条\n            //                    scrolling :'no',\n            src:\n              \"javascript:void(function(){document.open();\" +\n                (options.customDomain && document.domain != location.hostname\n                  ? 'document.domain=\"' + document.domain + '\";'\n                  : \"\") +\n                'document.write(\"' +\n                html +\n                '\");document.close();}())'\n          })\n        );\n        container.style.overflow = \"hidden\";\n        //解决如果是给定的百分比，会导致高度算不对的问题\n        setTimeout(function() {\n          if (/%$/.test(options.initialFrameWidth)) {\n            options.minFrameWidth = options.initialFrameWidth =\n              container.offsetWidth;\n            //如果这里给定宽度，会导致ie在拖动窗口大小时，编辑区域不随着变化\n            //                        container.style.width = options.initialFrameWidth + 'px';\n          }\n          if (/%$/.test(options.initialFrameHeight)) {\n            options.minFrameHeight = options.initialFrameHeight =\n              container.offsetHeight;\n            container.style.height = options.initialFrameHeight + \"px\";\n          }\n        });\n      }\n    },\n\n    /**\n         * 编辑器初始化\n         * @method _setup\n         * @private\n         * @param { Element } doc 编辑器Iframe中的文档对象\n         */\n    _setup: function(doc) {\n      var me = this,\n        options = me.options;\n      if (ie) {\n        doc.body.disabled = true;\n        doc.body.contentEditable = true;\n        doc.body.disabled = false;\n      } else {\n        doc.body.contentEditable = true;\n      }\n      doc.body.spellcheck = false;\n      me.document = doc;\n      me.window = doc.defaultView || doc.parentWindow;\n      me.iframe = me.window.frameElement;\n      me.body = doc.body;\n      me.selection = new dom.Selection(doc);\n      //gecko初始化就能得到range,无法判断isFocus了\n      var geckoSel;\n      if (browser.gecko && (geckoSel = this.selection.getNative())) {\n        geckoSel.removeAllRanges();\n      }\n      this._initEvents();\n      //为form提交提供一个隐藏的textarea\n      for (\n        var form = this.iframe.parentNode;\n        !domUtils.isBody(form);\n        form = form.parentNode\n      ) {\n        if (form.tagName == \"FORM\") {\n          me.form = form;\n          if (me.options.autoSyncData) {\n            domUtils.on(me.window, \"blur\", function() {\n              setValue(form, me);\n            });\n          } else {\n            domUtils.on(form, \"submit\", function() {\n              setValue(this, me);\n            });\n          }\n          break;\n        }\n      }\n      if (options.initialContent) {\n        if (options.autoClearinitialContent) {\n          var oldExecCommand = me.execCommand;\n          me.execCommand = function() {\n            me.fireEvent(\"firstBeforeExecCommand\");\n            return oldExecCommand.apply(me, arguments);\n          };\n          this._setDefaultContent(options.initialContent);\n        } else this.setContent(options.initialContent, false, true);\n      }\n\n      //编辑器不能为空内容\n\n      if (domUtils.isEmptyNode(me.body)) {\n        me.body.innerHTML = \"<p>\" + (browser.ie ? \"\" : \"<br/>\") + \"</p>\";\n      }\n      //如果要求focus, 就把光标定位到内容开始\n      if (options.focus) {\n        setTimeout(function() {\n          me.focus(me.options.focusInEnd);\n          //如果自动清除开着，就不需要做selectionchange;\n          !me.options.autoClearinitialContent && me._selectionChange();\n        }, 0);\n      }\n      if (!me.container) {\n        me.container = this.iframe.parentNode;\n      }\n      if (options.fullscreen && me.ui) {\n        me.ui.setFullScreen(true);\n      }\n\n      try {\n        me.document.execCommand(\"2D-position\", false, false);\n      } catch (e) {}\n      try {\n        me.document.execCommand(\"enableInlineTableEditing\", false, false);\n      } catch (e) {}\n      try {\n        me.document.execCommand(\"enableObjectResizing\", false, false);\n      } catch (e) {}\n\n      //挂接快捷键\n      me._bindshortcutKeys();\n      me.isReady = 1;\n      me.fireEvent(\"ready\");\n      options.onready && options.onready.call(me);\n      if (!browser.ie9below) {\n        domUtils.on(me.window, [\"blur\", \"focus\"], function(e) {\n          //chrome下会出现alt+tab切换时，导致选区位置不对\n          if (e.type == \"blur\") {\n            me._bakRange = me.selection.getRange();\n            try {\n              me._bakNativeRange = me.selection.getNative().getRangeAt(0);\n              me.selection.getNative().removeAllRanges();\n            } catch (e) {\n              me._bakNativeRange = null;\n            }\n          } else {\n            try {\n              me._bakRange && me._bakRange.select();\n            } catch (e) {}\n          }\n        });\n      }\n      //trace:1518 ff3.6body不够寛，会导致点击空白处无法获得焦点\n      if (browser.gecko && browser.version <= 10902) {\n        //修复ff3.6初始化进来，不能点击获得焦点\n        me.body.contentEditable = false;\n        setTimeout(function() {\n          me.body.contentEditable = true;\n        }, 100);\n        setInterval(function() {\n          me.body.style.height = me.iframe.offsetHeight - 20 + \"px\";\n        }, 100);\n      }\n\n      !options.isShow && me.setHide();\n      options.readonly && me.setDisabled();\n    },\n\n    /**\n         * 同步数据到编辑器所在的form\n         * 从编辑器的容器节点向上查找form元素，若找到，就同步编辑内容到找到的form里，为提交数据做准备，主要用于是手动提交的情况\n         * 后台取得数据的键值，使用你容器上的name属性，如果没有就使用参数里的textarea项\n         * @method sync\n         * @example\n         * ```javascript\n         * editor.sync();\n         * form.sumbit(); //form变量已经指向了form元素\n         * ```\n         */\n\n    /**\n         * 根据传入的formId，在页面上查找要同步数据的表单，若找到，就同步编辑内容到找到的form里，为提交数据做准备\n         * 后台取得数据的键值，该键值默认使用给定的编辑器容器的name属性，如果没有name属性则使用参数项里给定的“textarea”项\n         * @method sync\n         * @param { String } formID 指定一个要同步数据的form的id,编辑器的数据会同步到你指定form下\n         */\n    sync: function(formId) {\n      var me = this,\n        form = formId\n          ? document.getElementById(formId)\n          : domUtils.findParent(\n              me.iframe.parentNode,\n              function(node) {\n                return node.tagName == \"FORM\";\n              },\n              true\n            );\n      form && setValue(form, me);\n    },\n\n    /**\n         * 设置编辑器高度\n         * @method setHeight\n         * @remind 当配置项autoHeightEnabled为真时,该方法无效\n         * @param { Number } number 设置的高度值，纯数值，不带单位\n         * @example\n         * ```javascript\n         * editor.setHeight(number);\n         * ```\n         */\n    setHeight: function(height, notSetHeight) {\n      if (height !== parseInt(this.iframe.parentNode.style.height)) {\n        this.iframe.parentNode.style.height = height + \"px\";\n      }\n      !notSetHeight &&\n        (this.options.minFrameHeight = this.options.initialFrameHeight = height);\n      this.body.style.height = height + \"px\";\n      !notSetHeight && this.trigger(\"setHeight\");\n    },\n\n    /**\n         * 为编辑器的编辑命令提供快捷键\n         * 这个接口是为插件扩展提供的接口,主要是为新添加的插件，如果需要添加快捷键，所提供的接口\n         * @method addshortcutkey\n         * @param { Object } keyset 命令名和快捷键键值对对象，多个按钮的快捷键用“＋”分隔\n         * @example\n         * ```javascript\n         * editor.addshortcutkey({\n         *     \"Bold\" : \"ctrl+66\",//^B\n         *     \"Italic\" : \"ctrl+73\", //^I\n         * });\n         * ```\n         */\n    /**\n         * 这个接口是为插件扩展提供的接口,主要是为新添加的插件，如果需要添加快捷键，所提供的接口\n         * @method addshortcutkey\n         * @param { String } cmd 触发快捷键时，响应的命令\n         * @param { String } keys 快捷键的字符串，多个按钮用“＋”分隔\n         * @example\n         * ```javascript\n         * editor.addshortcutkey(\"Underline\", \"ctrl+85\"); //^U\n         * ```\n         */\n    addshortcutkey: function(cmd, keys) {\n      var obj = {};\n      if (keys) {\n        obj[cmd] = keys;\n      } else {\n        obj = cmd;\n      }\n      utils.extend(this.shortcutkeys, obj);\n    },\n\n    /**\n         * 对编辑器设置keydown事件监听，绑定快捷键和命令，当快捷键组合触发成功，会响应对应的命令\n         * @method _bindshortcutKeys\n         * @private\n         */\n    _bindshortcutKeys: function() {\n      var me = this,\n        shortcutkeys = this.shortcutkeys;\n      me.addListener(\"keydown\", function(type, e) {\n        var keyCode = e.keyCode || e.which;\n        for (var i in shortcutkeys) {\n          var tmp = shortcutkeys[i].split(\",\");\n          for (var t = 0, ti; (ti = tmp[t++]); ) {\n            ti = ti.split(\":\");\n            var key = ti[0],\n              param = ti[1];\n            if (\n              /^(ctrl)(\\+shift)?\\+(\\d+)$/.test(key.toLowerCase()) ||\n              /^(\\d+)$/.test(key)\n            ) {\n              if (\n                ((RegExp.$1 == \"ctrl\" ? e.ctrlKey || e.metaKey : 0) &&\n                  (RegExp.$2 != \"\" ? e[RegExp.$2.slice(1) + \"Key\"] : 1) &&\n                  keyCode == RegExp.$3) ||\n                keyCode == RegExp.$1\n              ) {\n                if (me.queryCommandState(i, param) != -1)\n                  me.execCommand(i, param);\n                domUtils.preventDefault(e);\n              }\n            }\n          }\n        }\n      });\n    },\n\n    /**\n         * 获取编辑器的内容\n         * @method getContent\n         * @warning 该方法获取到的是经过编辑器内置的过滤规则进行过滤后得到的内容\n         * @return { String } 编辑器的内容字符串, 如果编辑器的内容为空，或者是空的标签内容（如:”&lt;p&gt;&lt;br/&gt;&lt;/p&gt;“）， 则返回空字符串\n         * @example\n         * ```javascript\n         * //编辑器html内容:<p>1<strong>2<em>34</em>5</strong>6</p>\n         * var content = editor.getContent(); //返回值:<p>1<strong>2<em>34</em>5</strong>6</p>\n         * ```\n         */\n\n    /**\n         * 获取编辑器的内容。 可以通过参数定义编辑器内置的判空规则\n         * @method getContent\n         * @param { Function } fn 自定的判空规则， 要求该方法返回一个boolean类型的值，\n         *                      代表当前编辑器的内容是否空，\n         *                      如果返回true， 则该方法将直接返回空字符串；如果返回false，则编辑器将返回\n         *                      经过内置过滤规则处理后的内容。\n         * @remind 该方法在处理包含有初始化内容的时候能起到很好的作用。\n         * @warning 该方法获取到的是经过编辑器内置的过滤规则进行过滤后得到的内容\n         * @return { String } 编辑器的内容字符串\n         * @example\n         * ```javascript\n         * // editor 是一个编辑器的实例\n         * var content = editor.getContent( function ( editor ) {\n         *      return editor.body.innerHTML === '欢迎使用UEditor'; //返回空字符串\n         * } );\n         * ```\n         */\n    getContent: function(cmd, fn, notSetCursor, ignoreBlank, formatter) {\n      var me = this;\n      if (cmd && utils.isFunction(cmd)) {\n        fn = cmd;\n        cmd = \"\";\n      }\n      if (fn ? !fn() : !this.hasContents()) {\n        return \"\";\n      }\n      me.fireEvent(\"beforegetcontent\");\n      var root = UE.htmlparser(me.body.innerHTML, ignoreBlank);\n      me.filterOutputRule(root);\n      me.fireEvent(\"aftergetcontent\", cmd, root);\n      return root.toHtml(formatter);\n    },\n\n    /**\n         * 取得完整的html代码，可以直接显示成完整的html文档\n         * @method getAllHtml\n         * @return { String } 编辑器的内容html文档字符串\n         * @eaxmple\n         * ```javascript\n         * editor.getAllHtml(); //返回格式大致是: <html><head>...</head><body>...</body></html>\n         * ```\n         */\n    getAllHtml: function() {\n      var me = this,\n        headHtml = [],\n        html = \"\";\n      me.fireEvent(\"getAllHtml\", headHtml);\n      if (browser.ie && browser.version > 8) {\n        var headHtmlForIE9 = \"\";\n        utils.each(me.document.styleSheets, function(si) {\n          headHtmlForIE9 += si.href\n            ? '<link rel=\"stylesheet\" type=\"text/css\" href=\"' + si.href + '\" />'\n            : \"<style>\" + si.cssText + \"</style>\";\n        });\n        utils.each(me.document.getElementsByTagName(\"script\"), function(si) {\n          headHtmlForIE9 += si.outerHTML;\n        });\n      }\n      return (\n        \"<html><head>\" +\n        (me.options.charset\n          ? '<meta http-equiv=\"Content-Type\" content=\"text/html; charset=' +\n              me.options.charset +\n              '\"/>'\n          : \"\") +\n        (headHtmlForIE9 ||\n          me.document.getElementsByTagName(\"head\")[0].innerHTML) +\n        headHtml.join(\"\\n\") +\n        \"</head>\" +\n        \"<body \" +\n        (ie && browser.version < 9 ? 'class=\"view\"' : \"\") +\n        \">\" +\n        me.getContent(null, null, true) +\n        \"</body></html>\"\n      );\n    },\n\n    /**\n         * 得到编辑器的纯文本内容，但会保留段落格式\n         * @method getPlainTxt\n         * @return { String } 编辑器带段落格式的纯文本内容字符串\n         * @example\n         * ```javascript\n         * //编辑器html内容:<p><strong>1</strong></p><p><strong>2</strong></p>\n         * console.log(editor.getPlainTxt()); //输出:\"1\\n2\\n\n         * ```\n         */\n    getPlainTxt: function() {\n      var reg = new RegExp(domUtils.fillChar, \"g\"),\n        html = this.body.innerHTML.replace(/[\\n\\r]/g, \"\"); //ie要先去了\\n在处理\n      html = html\n        .replace(/<(p|div)[^>]*>(<br\\/?>|&nbsp;)<\\/\\1>/gi, \"\\n\")\n        .replace(/<br\\/?>/gi, \"\\n\")\n        .replace(/<[^>/]+>/g, \"\")\n        .replace(/(\\n)?<\\/([^>]+)>/g, function(a, b, c) {\n          return dtd.$block[c] ? \"\\n\" : b ? b : \"\";\n        });\n      //取出来的空格会有c2a0会变成乱码，处理这种情况\\u00a0\n      return html\n        .replace(reg, \"\")\n        .replace(/\\u00a0/g, \" \")\n        .replace(/&nbsp;/g, \" \");\n    },\n\n    /**\n         * 获取编辑器中的纯文本内容,没有段落格式\n         * @method getContentTxt\n         * @return { String } 编辑器不带段落格式的纯文本内容字符串\n         * @example\n         * ```javascript\n         * //编辑器html内容:<p><strong>1</strong></p><p><strong>2</strong></p>\n         * console.log(editor.getPlainTxt()); //输出:\"12\n         * ```\n         */\n    getContentTxt: function() {\n      var reg = new RegExp(domUtils.fillChar, \"g\");\n      //取出来的空格会有c2a0会变成乱码，处理这种情况\\u00a0\n      return this.body[browser.ie ? \"innerText\" : \"textContent\"]\n        .replace(reg, \"\")\n        .replace(/\\u00a0/g, \" \");\n    },\n\n    /**\n         * 设置编辑器的内容，可修改编辑器当前的html内容\n         * @method setContent\n         * @warning 通过该方法插入的内容，是经过编辑器内置的过滤规则进行过滤后得到的内容\n         * @warning 该方法会触发selectionchange事件\n         * @param { String } html 要插入的html内容\n         * @example\n         * ```javascript\n         * editor.getContent('<p>test</p>');\n         * ```\n         */\n\n    /**\n         * 设置编辑器的内容，可修改编辑器当前的html内容\n         * @method setContent\n         * @warning 通过该方法插入的内容，是经过编辑器内置的过滤规则进行过滤后得到的内容\n         * @warning 该方法会触发selectionchange事件\n         * @param { String } html 要插入的html内容\n         * @param { Boolean } isAppendTo 若传入true，不清空原来的内容，在最后插入内容，否则，清空内容再插入\n         * @example\n         * ```javascript\n         * //假设设置前的编辑器内容是 <p>old text</p>\n         * editor.setContent('<p>new text</p>', true); //插入的结果是<p>old text</p><p>new text</p>\n         * ```\n         */\n    setContent: function(html, isAppendTo, notFireSelectionchange) {\n      var me = this;\n\n      me.fireEvent(\"beforesetcontent\", html);\n      var root = UE.htmlparser(html);\n      me.filterInputRule(root);\n      html = root.toHtml();\n\n      me.body.innerHTML = (isAppendTo ? me.body.innerHTML : \"\") + html;\n\n      function isCdataDiv(node) {\n        return node.tagName == \"DIV\" && node.getAttribute(\"cdata_tag\");\n      }\n      //给文本或者inline节点套p标签\n      if (me.options.enterTag == \"p\") {\n        var child = this.body.firstChild,\n          tmpNode;\n        if (\n          !child ||\n          (child.nodeType == 1 &&\n            (dtd.$cdata[child.tagName] ||\n              isCdataDiv(child) ||\n              domUtils.isCustomeNode(child)) &&\n            child === this.body.lastChild)\n        ) {\n          this.body.innerHTML =\n            \"<p>\" +\n            (browser.ie ? \"&nbsp;\" : \"<br/>\") +\n            \"</p>\" +\n            this.body.innerHTML;\n        } else {\n          var p = me.document.createElement(\"p\");\n          while (child) {\n            while (\n              child &&\n              (child.nodeType == 3 ||\n                (child.nodeType == 1 &&\n                  dtd.p[child.tagName] &&\n                  !dtd.$cdata[child.tagName]))\n            ) {\n              tmpNode = child.nextSibling;\n              p.appendChild(child);\n              child = tmpNode;\n            }\n            if (p.firstChild) {\n              if (!child) {\n                me.body.appendChild(p);\n                break;\n              } else {\n                child.parentNode.insertBefore(p, child);\n                p = me.document.createElement(\"p\");\n              }\n            }\n            child = child.nextSibling;\n          }\n        }\n      }\n      me.fireEvent(\"aftersetcontent\");\n      me.fireEvent(\"contentchange\");\n\n      !notFireSelectionchange && me._selectionChange();\n      //清除保存的选区\n      me._bakRange = me._bakIERange = me._bakNativeRange = null;\n      //trace:1742 setContent后gecko能得到焦点问题\n      var geckoSel;\n      if (browser.gecko && (geckoSel = this.selection.getNative())) {\n        geckoSel.removeAllRanges();\n      }\n      if (me.options.autoSyncData) {\n        me.form && setValue(me.form, me);\n      }\n    },\n\n    /**\n         * 让编辑器获得焦点，默认focus到编辑器头部\n         * @method focus\n         * @example\n         * ```javascript\n         * editor.focus()\n         * ```\n         */\n\n    /**\n         * 让编辑器获得焦点，toEnd确定focus位置\n         * @method focus\n         * @param { Boolean } toEnd 默认focus到编辑器头部，toEnd为true时focus到内容尾部\n         * @example\n         * ```javascript\n         * editor.focus(true)\n         * ```\n         */\n    focus: function(toEnd) {\n      try {\n        var me = this,\n          rng = me.selection.getRange();\n        if (toEnd) {\n          var node = me.body.lastChild;\n          if (node && node.nodeType == 1 && !dtd.$empty[node.tagName]) {\n            if (domUtils.isEmptyBlock(node)) {\n              rng.setStartAtFirst(node);\n            } else {\n              rng.setStartAtLast(node);\n            }\n            rng.collapse(true);\n          }\n          rng.setCursor(true);\n        } else {\n          if (\n            !rng.collapsed &&\n            domUtils.isBody(rng.startContainer) &&\n            rng.startOffset == 0\n          ) {\n            var node = me.body.firstChild;\n            if (node && node.nodeType == 1 && !dtd.$empty[node.tagName]) {\n              rng.setStartAtFirst(node).collapse(true);\n            }\n          }\n\n          rng.select(true);\n        }\n        this.fireEvent(\"focus selectionchange\");\n      } catch (e) {}\n    },\n    isFocus: function() {\n      return this.selection.isFocus();\n    },\n    blur: function() {\n      var sel = this.selection.getNative();\n      if (sel.empty && browser.ie) {\n        var nativeRng = document.body.createTextRange();\n        nativeRng.moveToElementText(document.body);\n        nativeRng.collapse(true);\n        nativeRng.select();\n        sel.empty();\n      } else {\n        sel.removeAllRanges();\n      }\n\n      //this.fireEvent('blur selectionchange');\n    },\n    /**\n         * 初始化UE事件及部分事件代理\n         * @method _initEvents\n         * @private\n         */\n    _initEvents: function() {\n      var me = this,\n        doc = me.document,\n        win = me.window;\n      me._proxyDomEvent = utils.bind(me._proxyDomEvent, me);\n      domUtils.on(\n        doc,\n        [\n          \"click\",\n          \"contextmenu\",\n          \"mousedown\",\n          \"keydown\",\n          \"keyup\",\n          \"keypress\",\n          \"mouseup\",\n          \"mouseover\",\n          \"mouseout\",\n          \"selectstart\"\n        ],\n        me._proxyDomEvent\n      );\n      domUtils.on(win, [\"focus\", \"blur\"], me._proxyDomEvent);\n      domUtils.on(me.body, \"drop\", function(e) {\n        //阻止ff下默认的弹出新页面打开图片\n        if (browser.gecko && e.stopPropagation) {\n          e.stopPropagation();\n        }\n        me.fireEvent(\"contentchange\");\n      });\n      domUtils.on(doc, [\"mouseup\", \"keydown\"], function(evt) {\n        //特殊键不触发selectionchange\n        if (\n          evt.type == \"keydown\" &&\n          (evt.ctrlKey || evt.metaKey || evt.shiftKey || evt.altKey)\n        ) {\n          return;\n        }\n        if (evt.button == 2) return;\n        me._selectionChange(250, evt);\n      });\n    },\n    /**\n         * 触发事件代理\n         * @method _proxyDomEvent\n         * @private\n         * @return { * } fireEvent的返回值\n         * @see UE.EventBase:fireEvent(String)\n         */\n    _proxyDomEvent: function(evt) {\n      if (\n        this.fireEvent(\"before\" + evt.type.replace(/^on/, \"\").toLowerCase()) ===\n        false\n      ) {\n        return false;\n      }\n      if (this.fireEvent(evt.type.replace(/^on/, \"\"), evt) === false) {\n        return false;\n      }\n      return this.fireEvent(\n        \"after\" + evt.type.replace(/^on/, \"\").toLowerCase()\n      );\n    },\n    /**\n         * 变化选区\n         * @method _selectionChange\n         * @private\n         */\n    _selectionChange: function(delay, evt) {\n      var me = this;\n      //有光标才做selectionchange 为了解决未focus时点击source不能触发更改工具栏状态的问题（source命令notNeedUndo=1）\n      //            if ( !me.selection.isFocus() ){\n      //                return;\n      //            }\n\n      var hackForMouseUp = false;\n      var mouseX, mouseY;\n      if (browser.ie && browser.version < 9 && evt && evt.type == \"mouseup\") {\n        var range = this.selection.getRange();\n        if (!range.collapsed) {\n          hackForMouseUp = true;\n          mouseX = evt.clientX;\n          mouseY = evt.clientY;\n        }\n      }\n      clearTimeout(_selectionChangeTimer);\n      _selectionChangeTimer = setTimeout(function() {\n        if (!me.selection || !me.selection.getNative()) {\n          return;\n        }\n        //修复一个IE下的bug: 鼠标点击一段已选择的文本中间时，可能在mouseup后的一段时间内取到的range是在selection的type为None下的错误值.\n        //IE下如果用户是拖拽一段已选择文本，则不会触发mouseup事件，所以这里的特殊处理不会对其有影响\n        var ieRange;\n        if (hackForMouseUp && me.selection.getNative().type == \"None\") {\n          ieRange = me.document.body.createTextRange();\n          try {\n            ieRange.moveToPoint(mouseX, mouseY);\n          } catch (ex) {\n            ieRange = null;\n          }\n        }\n        var bakGetIERange;\n        if (ieRange) {\n          bakGetIERange = me.selection.getIERange;\n          me.selection.getIERange = function() {\n            return ieRange;\n          };\n        }\n        me.selection.cache();\n        if (bakGetIERange) {\n          me.selection.getIERange = bakGetIERange;\n        }\n        if (me.selection._cachedRange && me.selection._cachedStartElement) {\n          me.fireEvent(\"beforeselectionchange\");\n          // 第二个参数causeByUi为true代表由用户交互造成的selectionchange.\n          me.fireEvent(\"selectionchange\", !!evt);\n          me.fireEvent(\"afterselectionchange\");\n          me.selection.clear();\n        }\n      }, delay || 50);\n    },\n\n    /**\n         * 执行编辑命令\n         * @method _callCmdFn\n         * @private\n         * @param { String } fnName 函数名称\n         * @param { * } args 传给命令函数的参数\n         * @return { * } 返回命令函数运行的返回值\n         */\n    _callCmdFn: function(fnName, args) {\n      var cmdName = args[0].toLowerCase(),\n        cmd,\n        cmdFn;\n      cmd = this.commands[cmdName] || UE.commands[cmdName];\n      cmdFn = cmd && cmd[fnName];\n      //没有querycommandstate或者没有command的都默认返回0\n      if ((!cmd || !cmdFn) && fnName == \"queryCommandState\") {\n        return 0;\n      } else if (cmdFn) {\n        return cmdFn.apply(this, args);\n      }\n    },\n\n    /**\n         * 执行编辑命令cmdName，完成富文本编辑效果\n         * @method execCommand\n         * @param { String } cmdName 需要执行的命令\n         * @remind 具体命令的使用请参考<a href=\"#COMMAND.LIST\">命令列表</a>\n         * @return { * } 返回命令函数运行的返回值\n         * @example\n         * ```javascript\n         * editor.execCommand(cmdName);\n         * ```\n         */\n    execCommand: function(cmdName) {\n      cmdName = cmdName.toLowerCase();\n      var me = this;\n      var result;\n      var cmd = me.commands[cmdName] || UE.commands[cmdName];\n      if (!cmd || !cmd.execCommand) {\n        return null;\n      }\n      if (!cmd.notNeedUndo && !me.__hasEnterExecCommand) {\n        me.__hasEnterExecCommand = true;\n        if (me.queryCommandState.apply(me, arguments) != -1) {\n          me.fireEvent(\"saveScene\");\n          me.fireEvent.apply(\n            me,\n            [\"beforeexeccommand\", cmdName].concat(arguments)\n          );\n          result = this._callCmdFn(\"execCommand\", arguments);\n          //保存场景时，做了内容对比，再看是否进行contentchange触发，这里多触发了一次，去掉\n          //                    (!cmd.ignoreContentChange && !me._ignoreContentChange) && me.fireEvent('contentchange');\n          me.fireEvent.apply(\n            me,\n            [\"afterexeccommand\", cmdName].concat(arguments)\n          );\n          me.fireEvent(\"saveScene\");\n        }\n        me.__hasEnterExecCommand = false;\n      } else {\n        result = this._callCmdFn(\"execCommand\", arguments);\n        !me.__hasEnterExecCommand &&\n          !cmd.ignoreContentChange &&\n          !me._ignoreContentChange &&\n          me.fireEvent(\"contentchange\");\n      }\n      !me.__hasEnterExecCommand &&\n        !cmd.ignoreContentChange &&\n        !me._ignoreContentChange &&\n        me._selectionChange();\n      return result;\n    },\n\n    /**\n         * 根据传入的command命令，查选编辑器当前的选区，返回命令的状态\n         * @method  queryCommandState\n         * @param { String } cmdName 需要查询的命令名称\n         * @remind 具体命令的使用请参考<a href=\"#COMMAND.LIST\">命令列表</a>\n         * @return { Number } number 返回放前命令的状态，返回值三种情况：(-1|0|1)\n         * @example\n         * ```javascript\n         * editor.queryCommandState(cmdName)  => (-1|0|1)\n         * ```\n         * @see COMMAND.LIST\n         */\n    queryCommandState: function(cmdName) {\n      return this._callCmdFn(\"queryCommandState\", arguments);\n    },\n\n    /**\n         * 根据传入的command命令，查选编辑器当前的选区，根据命令返回相关的值\n         * @method queryCommandValue\n         * @param { String } cmdName 需要查询的命令名称\n         * @remind 具体命令的使用请参考<a href=\"#COMMAND.LIST\">命令列表</a>\n         * @remind 只有部分插件有此方法\n         * @return { * } 返回每个命令特定的当前状态值\n         * @grammar editor.queryCommandValue(cmdName)  =>  {*}\n         * @see COMMAND.LIST\n         */\n    queryCommandValue: function(cmdName) {\n      return this._callCmdFn(\"queryCommandValue\", arguments);\n    },\n\n    /**\n         * 检查编辑区域中是否有内容\n         * @method  hasContents\n         * @remind 默认有文本内容，或者有以下节点都不认为是空\n         * table,ul,ol,dl,iframe,area,base,col,hr,img,embed,input,link,meta,param\n         * @return { Boolean } 检查有内容返回true，否则返回false\n         * @example\n         * ```javascript\n         * editor.hasContents()\n         * ```\n         */\n\n    /**\n         * 检查编辑区域中是否有内容，若包含参数tags中的节点类型，直接返回true\n         * @method  hasContents\n         * @param { Array } tags 传入数组判断时用到的节点类型\n         * @return { Boolean } 若文档中包含tags数组里对应的tag，返回true，否则返回false\n         * @example\n         * ```javascript\n         * editor.hasContents(['span']);\n         * ```\n         */\n    hasContents: function(tags) {\n      if (tags) {\n        for (var i = 0, ci; (ci = tags[i++]); ) {\n          if (this.document.getElementsByTagName(ci).length > 0) {\n            return true;\n          }\n        }\n      }\n      if (!domUtils.isEmptyBlock(this.body)) {\n        return true;\n      }\n      //随时添加,定义的特殊标签如果存在，不能认为是空\n      tags = [\"div\"];\n      for (i = 0; (ci = tags[i++]); ) {\n        var nodes = domUtils.getElementsByTagName(this.document, ci);\n        for (var n = 0, cn; (cn = nodes[n++]); ) {\n          if (domUtils.isCustomeNode(cn)) {\n            return true;\n          }\n        }\n      }\n      return false;\n    },\n\n    /**\n         * 重置编辑器，可用来做多个tab使用同一个编辑器实例\n         * @method  reset\n         * @remind 此方法会清空编辑器内容，清空回退列表，会触发reset事件\n         * @example\n         * ```javascript\n         * editor.reset()\n         * ```\n         */\n    reset: function() {\n      this.fireEvent(\"reset\");\n    },\n\n    /**\n         * 设置当前编辑区域可以编辑\n         * @method setEnabled\n         * @example\n         * ```javascript\n         * editor.setEnabled()\n         * ```\n         */\n    setEnabled: function() {\n      var me = this,\n        range;\n      if (me.body.contentEditable == \"false\") {\n        me.body.contentEditable = true;\n        range = me.selection.getRange();\n        //有可能内容丢失了\n        try {\n          range.moveToBookmark(me.lastBk);\n          delete me.lastBk;\n        } catch (e) {\n          range.setStartAtFirst(me.body).collapse(true);\n        }\n        range.select(true);\n        if (me.bkqueryCommandState) {\n          me.queryCommandState = me.bkqueryCommandState;\n          delete me.bkqueryCommandState;\n        }\n        if (me.bkqueryCommandValue) {\n          me.queryCommandValue = me.bkqueryCommandValue;\n          delete me.bkqueryCommandValue;\n        }\n        me.fireEvent(\"selectionchange\");\n      }\n    },\n    enable: function() {\n      return this.setEnabled();\n    },\n\n    /** 设置当前编辑区域不可编辑\n         * @method setDisabled\n         */\n\n    /** 设置当前编辑区域不可编辑,except中的命令除外\n         * @method setDisabled\n         * @param { String } except 例外命令的字符串\n         * @remind 即使设置了disable，此处配置的例外命令仍然可以执行\n         * @example\n         * ```javascript\n         * editor.setDisabled('bold'); //禁用工具栏中除加粗之外的所有功能\n         * ```\n         */\n\n    /** 设置当前编辑区域不可编辑,except中的命令除外\n         * @method setDisabled\n         * @param { Array } except 例外命令的字符串数组，数组中的命令仍然可以执行\n         * @remind 即使设置了disable，此处配置的例外命令仍然可以执行\n         * @example\n         * ```javascript\n         * editor.setDisabled(['bold','insertimage']); //禁用工具栏中除加粗和插入图片之外的所有功能\n         * ```\n         */\n    setDisabled: function(except) {\n      var me = this;\n      except = except ? (utils.isArray(except) ? except : [except]) : [];\n      if (me.body.contentEditable == \"true\") {\n        if (!me.lastBk) {\n          me.lastBk = me.selection.getRange().createBookmark(true);\n        }\n        me.body.contentEditable = false;\n        me.bkqueryCommandState = me.queryCommandState;\n        me.bkqueryCommandValue = me.queryCommandValue;\n        me.queryCommandState = function(type) {\n          if (utils.indexOf(except, type) != -1) {\n            return me.bkqueryCommandState.apply(me, arguments);\n          }\n          return -1;\n        };\n        me.queryCommandValue = function(type) {\n          if (utils.indexOf(except, type) != -1) {\n            return me.bkqueryCommandValue.apply(me, arguments);\n          }\n          return null;\n        };\n        me.fireEvent(\"selectionchange\");\n      }\n    },\n    disable: function(except) {\n      return this.setDisabled(except);\n    },\n\n    /**\n         * 设置默认内容\n         * @method _setDefaultContent\n         * @private\n         * @param  { String } cont 要存入的内容\n         */\n    _setDefaultContent: (function() {\n      function clear() {\n        var me = this;\n        if (me.document.getElementById(\"initContent\")) {\n          me.body.innerHTML = \"<p>\" + (ie ? \"\" : \"<br/>\") + \"</p>\";\n          me.removeListener(\"firstBeforeExecCommand focus\", clear);\n          setTimeout(function() {\n            me.focus();\n            me._selectionChange();\n          }, 0);\n        }\n      }\n\n      return function(cont) {\n        var me = this;\n        me.body.innerHTML = '<p id=\"initContent\">' + cont + \"</p>\";\n\n        me.addListener(\"firstBeforeExecCommand focus\", clear);\n      };\n    })(),\n\n    /**\n         * 显示编辑器\n         * @method setShow\n         * @example\n         * ```javascript\n         * editor.setShow()\n         * ```\n         */\n    setShow: function() {\n      var me = this,\n        range = me.selection.getRange();\n      if (me.container.style.display == \"none\") {\n        //有可能内容丢失了\n        try {\n          range.moveToBookmark(me.lastBk);\n          delete me.lastBk;\n        } catch (e) {\n          range.setStartAtFirst(me.body).collapse(true);\n        }\n        //ie下focus实效，所以做了个延迟\n        setTimeout(function() {\n          range.select(true);\n        }, 100);\n        me.container.style.display = \"\";\n      }\n    },\n    show: function() {\n      return this.setShow();\n    },\n    /**\n         * 隐藏编辑器\n         * @method setHide\n         * @example\n         * ```javascript\n         * editor.setHide()\n         * ```\n         */\n    setHide: function() {\n      var me = this;\n      if (!me.lastBk) {\n        me.lastBk = me.selection.getRange().createBookmark(true);\n      }\n      me.container.style.display = \"none\";\n    },\n    hide: function() {\n      return this.setHide();\n    },\n\n    /**\n         * 根据指定的路径，获取对应的语言资源\n         * @method getLang\n         * @param { String } path 路径根据的是lang目录下的语言文件的路径结构\n         * @return { Object | String } 根据路径返回语言资源的Json格式对象或者语言字符串\n         * @example\n         * ```javascript\n         * editor.getLang('contextMenu.delete'); //如果当前是中文，那返回是的是'删除'\n         * ```\n         */\n    getLang: function(path) {\n      var lang = UE.I18N[this.options.lang];\n      if (!lang) {\n        throw Error(\"not import language file\");\n      }\n      path = (path || \"\").split(\".\");\n      for (var i = 0, ci; (ci = path[i++]); ) {\n        lang = lang[ci];\n        if (!lang) break;\n      }\n      return lang;\n    },\n\n    /**\n         * 计算编辑器html内容字符串的长度\n         * @method  getContentLength\n         * @return { Number } 返回计算的长度\n         * @example\n         * ```javascript\n         * //编辑器html内容<p><strong>132</strong></p>\n         * editor.getContentLength() //返回27\n         * ```\n         */\n    /**\n         * 计算编辑器当前纯文本内容的长度\n         * @method  getContentLength\n         * @param { Boolean } ingoneHtml 传入true时，只按照纯文本来计算\n         * @return { Number } 返回计算的长度，内容中有hr/img/iframe标签，长度加1\n         * @example\n         * ```javascript\n         * //编辑器html内容<p><strong>132</strong></p>\n         * editor.getContentLength() //返回3\n         * ```\n         */\n    getContentLength: function(ingoneHtml, tagNames) {\n      var count = this.getContent(false, false, true).length;\n      if (ingoneHtml) {\n        tagNames = (tagNames || []).concat([\"hr\", \"img\", \"iframe\"]);\n        count = this.getContentTxt().replace(/[\\t\\r\\n]+/g, \"\").length;\n        for (var i = 0, ci; (ci = tagNames[i++]); ) {\n          count += this.document.getElementsByTagName(ci).length;\n        }\n      }\n      return count;\n    },\n\n    /**\n         * 注册输入过滤规则\n         * @method  addInputRule\n         * @param { Function } rule 要添加的过滤规则\n         * @example\n         * ```javascript\n         * editor.addInputRule(function(root){\n         *   $.each(root.getNodesByTagName('div'),function(i,node){\n         *       node.tagName=\"p\";\n         *   });\n         * });\n         * ```\n         */\n    addInputRule: function(rule) {\n      this.inputRules.push(rule);\n    },\n\n    /**\n         * 执行注册的过滤规则\n         * @method  filterInputRule\n         * @param { UE.uNode } root 要过滤的uNode节点\n         * @remind 执行editor.setContent方法和执行'inserthtml'命令后，会运行该过滤函数\n         * @example\n         * ```javascript\n         * editor.filterInputRule(editor.body);\n         * ```\n         * @see UE.Editor:addInputRule\n         */\n    filterInputRule: function(root) {\n      for (var i = 0, ci; (ci = this.inputRules[i++]); ) {\n        ci.call(this, root);\n      }\n    },\n\n    /**\n         * 注册输出过滤规则\n         * @method  addOutputRule\n         * @param { Function } rule 要添加的过滤规则\n         * @example\n         * ```javascript\n         * editor.addOutputRule(function(root){\n         *   $.each(root.getNodesByTagName('p'),function(i,node){\n         *       node.tagName=\"div\";\n         *   });\n         * });\n         * ```\n         */\n    addOutputRule: function(rule) {\n      this.outputRules.push(rule);\n    },\n\n    /**\n         * 根据输出过滤规则，过滤编辑器内容\n         * @method  filterOutputRule\n         * @remind 执行editor.getContent方法的时候，会先运行该过滤函数\n         * @param { UE.uNode } root 要过滤的uNode节点\n         * @example\n         * ```javascript\n         * editor.filterOutputRule(editor.body);\n         * ```\n         * @see UE.Editor:addOutputRule\n         */\n    filterOutputRule: function(root) {\n      for (var i = 0, ci; (ci = this.outputRules[i++]); ) {\n        ci.call(this, root);\n      }\n    },\n\n    /**\n         * 根据action名称获取请求的路径\n         * @method  getActionUrl\n         * @remind 假如没有设置serverUrl,会根据imageUrl设置默认的controller路径\n         * @param { String } action action名称\n         * @example\n         * ```javascript\n         * editor.getActionUrl('config'); //返回 \"/ueditor/php/controller.php?action=config\"\n         * editor.getActionUrl('image'); //返回 \"/ueditor/php/controller.php?action=uplaodimage\"\n         * editor.getActionUrl('scrawl'); //返回 \"/ueditor/php/controller.php?action=uplaodscrawl\"\n         * editor.getActionUrl('imageManager'); //返回 \"/ueditor/php/controller.php?action=listimage\"\n         * ```\n         */\n    getActionUrl: function(action) {\n      var actionName = this.getOpt(action) || action,\n        imageUrl = this.getOpt(\"imageUrl\"),\n        serverUrl = this.getOpt(\"serverUrl\");\n      /* if (!serverUrl && imageUrl) {\n        serverUrl = imageUrl.replace(/^(.*[\\/]).+([\\.].+)$/, \"$1controller$2\");\n      }\n\n      if (serverUrl) {\n        serverUrl =\n          serverUrl +\n          (serverUrl.indexOf(\"?\") == -1 ? \"?\" : \"&\") +\n          \"action=\" +\n          (actionName || \"\");\n        return utils.formatUrl(serverUrl);\n      } else {\n        return \"\";\n      } */\n\n      if (serverUrl) {\n        serverUrl = serverUrl + \"?\";\n        return utils.formatUrl(serverUrl);\n      } else {\n        return \"\";\n      }\n    }\n  };\n  utils.inherits(Editor, EventBase);\n})();\n\n\n// core/Editor.defaultoptions.js\n//维护编辑器一下默认的不在插件中的配置项\nUE.Editor.defaultOptions = function(editor) {\n  var _url = editor.options.UEDITOR_HOME_URL;\n  return {\n    isShow: true,\n    initialContent: \"\",\n    initialStyle: \"\",\n    autoClearinitialContent: false,\n    iframeCssUrl: _url + \"themes/iframe.css\",\n    textarea: \"editorValue\",\n    focus: false,\n    focusInEnd: true,\n    autoClearEmptyNode: true,\n    fullscreen: false,\n    readonly: false,\n    zIndex: 999,\n    imagePopup: true,\n    enterTag: \"p\",\n    customDomain: false,\n    lang: \"zh-cn\",\n    langPath: _url + \"i18n/\",\n    theme: \"default\",\n    themePath: _url + \"themes/\",\n    allHtmlEnabled: false,\n    scaleEnabled: false,\n    tableNativeEditInFF: false,\n    autoSyncData: true,\n    fileNameFormat: \"{time}{rand:6}\"\n  };\n};\n\n\n// core/loadconfig.js\n;(function() {\n  UE.Editor.prototype.loadServerConfig = function() {\n    var me = this;\n    setTimeout(function() {\n      try {\n        me.options.imageUrl &&\n          me.setOpt(\n            \"serverUrl\",\n            me.options.imageUrl.replace(\n              /^(.*[\\/]).+([\\.].+)$/,\n              \"$1controller$2\"\n            )\n          );\n\n        var configUrl = me.getActionUrl(\"config\"),\n          isJsonp = utils.isCrossDomainUrl(configUrl);\n\n        /* 发出ajax请求 */\n        me._serverConfigLoaded = false;\n\n        configUrl &&\n          UE.ajax.request(configUrl, {\n            method: \"GET\",\n            dataType: isJsonp ? \"jsonp\" : \"\",\n            onsuccess: function(r) {\n              try {\n                var config = isJsonp ? r : eval(\"(\" + r.responseText + \")\");\n                utils.extend(me.options, config);\n                me.fireEvent(\"serverConfigLoaded\");\n                me._serverConfigLoaded = true;\n              } catch (e) {\n                showErrorMsg(me.getLang(\"loadconfigFormatError\"));\n              }\n            },\n            onerror: function() {\n              showErrorMsg(me.getLang(\"loadconfigHttpError\"));\n            }\n          });\n      } catch (e) {\n        showErrorMsg(me.getLang(\"loadconfigError\"));\n      }\n    });\n\n    function showErrorMsg(msg) {\n      console && console.error(msg);\n      //me.fireEvent('showMessage', {\n      //    'title': msg,\n      //    'type': 'error'\n      //});\n    }\n  };\n\n  UE.Editor.prototype.isServerConfigLoaded = function() {\n    var me = this;\n    return me._serverConfigLoaded || false;\n  };\n\n  UE.Editor.prototype.afterConfigReady = function(handler) {\n    if (!handler || !utils.isFunction(handler)) return;\n    var me = this;\n    var readyHandler = function() {\n      handler.apply(me, arguments);\n      me.removeListener(\"serverConfigLoaded\", readyHandler);\n    };\n\n    if (me.isServerConfigLoaded()) {\n      handler.call(me, \"serverConfigLoaded\");\n    } else {\n      me.addListener(\"serverConfigLoaded\", readyHandler);\n    }\n  };\n})();\n\n\n// core/ajax.js\n/**\n * @file\n * @module UE.ajax\n * @since 1.2.6.1\n */\n\n/**\n * 提供对ajax请求的支持\n * @module UE.ajax\n */\nUE.ajax = (function() {\n  //创建一个ajaxRequest对象\n  var fnStr = \"XMLHttpRequest()\";\n  try {\n    new ActiveXObject(\"Msxml2.XMLHTTP\");\n    fnStr = \"ActiveXObject('Msxml2.XMLHTTP')\";\n  } catch (e) {\n    try {\n      new ActiveXObject(\"Microsoft.XMLHTTP\");\n      fnStr = \"ActiveXObject('Microsoft.XMLHTTP')\";\n    } catch (e) {}\n  }\n  var creatAjaxRequest = new Function(\"return new \" + fnStr);\n\n  /**\n     * 将json参数转化成适合ajax提交的参数列表\n     * @param json\n     */\n  function json2str(json) {\n    var strArr = [];\n    for (var i in json) {\n      //忽略默认的几个参数\n      if (\n        i == \"method\" ||\n        i == \"timeout\" ||\n        i == \"async\" ||\n        i == \"dataType\" ||\n        i == \"callback\"\n      )\n        continue;\n      //忽略控制\n      if (json[i] == undefined || json[i] == null) continue;\n      //传递过来的对象和函数不在提交之列\n      if (\n        !(\n          (typeof json[i]).toLowerCase() == \"function\" ||\n          (typeof json[i]).toLowerCase() == \"object\"\n        )\n      ) {\n        strArr.push(encodeURIComponent(i) + \"=\" + encodeURIComponent(json[i]));\n      } else if (utils.isArray(json[i])) {\n        //支持传数组内容\n        for (var j = 0; j < json[i].length; j++) {\n          strArr.push(\n            encodeURIComponent(i) + \"[]=\" + encodeURIComponent(json[i][j])\n          );\n        }\n      }\n    }\n    return strArr.join(\"&\");\n  }\n\n  function doAjax(url, ajaxOptions) {\n    var xhr = creatAjaxRequest(),\n      //是否超时\n      timeIsOut = false,\n      //默认参数\n      defaultAjaxOptions = {\n        method: \"POST\",\n        timeout: 5000,\n        async: true,\n        data: {}, //需要传递对象的话只能覆盖\n        onsuccess: function() {},\n        onerror: function() {}\n      };\n\n    if (typeof url === \"object\") {\n      ajaxOptions = url;\n      url = ajaxOptions.url;\n    }\n    if (!xhr || !url) return;\n    var ajaxOpts = ajaxOptions\n      ? utils.extend(defaultAjaxOptions, ajaxOptions)\n      : defaultAjaxOptions;\n\n    var submitStr = json2str(ajaxOpts); // { name:\"Jim\",city:\"Beijing\" } --> \"name=Jim&city=Beijing\"\n    //如果用户直接通过data参数传递json对象过来，则也要将此json对象转化为字符串\n    if (!utils.isEmptyObject(ajaxOpts.data)) {\n      submitStr += (submitStr ? \"&\" : \"\") + json2str(ajaxOpts.data);\n    }\n    //超时检测\n    var timerID = setTimeout(function() {\n      if (xhr.readyState != 4) {\n        timeIsOut = true;\n        xhr.abort();\n        clearTimeout(timerID);\n      }\n    }, ajaxOpts.timeout);\n\n    var method = ajaxOpts.method.toUpperCase();\n    var str =\n      url +\n      (url.indexOf(\"?\") == -1 ? \"?\" : \"&\") +\n      (method == \"POST\" ? \"\" : submitStr + \"&noCache=\" + +new Date());\n    xhr.open(method, str, ajaxOpts.async);\n    xhr.onreadystatechange = function() {\n      if (xhr.readyState == 4) {\n        if (!timeIsOut && xhr.status == 200) {\n          ajaxOpts.onsuccess(xhr);\n        } else {\n          ajaxOpts.onerror(xhr);\n        }\n      }\n    };\n    if (method == \"POST\") {\n      xhr.setRequestHeader(\"Content-Type\", \"application/x-www-form-urlencoded\");\n      xhr.send(submitStr);\n    } else {\n      xhr.send(null);\n    }\n  }\n\n  function doJsonp(url, opts) {\n    var successhandler = opts.onsuccess || function() {},\n      scr = document.createElement(\"SCRIPT\"),\n      options = opts || {},\n      charset = options[\"charset\"],\n      callbackField = options[\"jsonp\"] || \"callback\",\n      callbackFnName,\n      timeOut = options[\"timeOut\"] || 0,\n      timer,\n      reg = new RegExp(\"(\\\\?|&)\" + callbackField + \"=([^&]*)\"),\n      matches;\n\n    if (utils.isFunction(successhandler)) {\n      callbackFnName =\n        \"bd__editor__\" + Math.floor(Math.random() * 2147483648).toString(36);\n      window[callbackFnName] = getCallBack(0);\n    } else if (utils.isString(successhandler)) {\n      callbackFnName = successhandler;\n    } else {\n      if ((matches = reg.exec(url))) {\n        callbackFnName = matches[2];\n      }\n    }\n\n    url = url.replace(reg, \"\\x241\" + callbackField + \"=\" + callbackFnName);\n\n    if (url.search(reg) < 0) {\n      url +=\n        (url.indexOf(\"?\") < 0 ? \"?\" : \"&\") +\n        callbackField +\n        \"=\" +\n        callbackFnName;\n    }\n\n    var queryStr = json2str(opts); // { name:\"Jim\",city:\"Beijing\" } --> \"name=Jim&city=Beijing\"\n    //如果用户直接通过data参数传递json对象过来，则也要将此json对象转化为字符串\n    if (!utils.isEmptyObject(opts.data)) {\n      queryStr += (queryStr ? \"&\" : \"\") + json2str(opts.data);\n    }\n    if (queryStr) {\n      url = url.replace(/\\?/, \"?\" + queryStr + \"&\");\n    }\n\n    scr.onerror = getCallBack(1);\n    if (timeOut) {\n      timer = setTimeout(getCallBack(1), timeOut);\n    }\n    createScriptTag(scr, url, charset);\n\n    function createScriptTag(scr, url, charset) {\n      scr.setAttribute(\"type\", \"text/javascript\");\n      scr.setAttribute(\"defer\", \"defer\");\n      charset && scr.setAttribute(\"charset\", charset);\n      scr.setAttribute(\"src\", url);\n      document.getElementsByTagName(\"head\")[0].appendChild(scr);\n    }\n\n    function getCallBack(onTimeOut) {\n      return function() {\n        try {\n          if (onTimeOut) {\n            options.onerror && options.onerror();\n          } else {\n            try {\n              clearTimeout(timer);\n              successhandler.apply(window, arguments);\n            } catch (e) {}\n          }\n        } catch (exception) {\n          options.onerror && options.onerror.call(window, exception);\n        } finally {\n          options.oncomplete && options.oncomplete.apply(window, arguments);\n          scr.parentNode && scr.parentNode.removeChild(scr);\n          window[callbackFnName] = null;\n          try {\n            delete window[callbackFnName];\n          } catch (e) {}\n        }\n      };\n    }\n  }\n\n  return {\n    /**\n         * 根据给定的参数项，向指定的url发起一个ajax请求。 ajax请求完成后，会根据请求结果调用相应回调： 如果请求\n         * 成功， 则调用onsuccess回调， 失败则调用 onerror 回调\n         * @method request\n         * @param { URLString } url ajax请求的url地址\n         * @param { Object } ajaxOptions ajax请求选项的键值对，支持的选项如下：\n         * @example\n         * ```javascript\n         * //向sayhello.php发起一个异步的Ajax GET请求, 请求超时时间为10s， 请求完成后执行相应的回调。\n         * UE.ajax.requeset( 'sayhello.php', {\n         *\n         *     //请求方法。可选值： 'GET', 'POST'，默认值是'POST'\n         *     method: 'GET',\n         *\n         *     //超时时间。 默认为5000， 单位是ms\n         *     timeout: 10000,\n         *\n         *     //是否是异步请求。 true为异步请求， false为同步请求\n         *     async: true,\n         *\n         *     //请求携带的数据。如果请求为GET请求， data会经过stringify后附加到请求url之后。\n         *     data: {\n         *         name: 'neditor'\n         *     },\n         *\n         *     //请求成功后的回调， 该回调接受当前的XMLHttpRequest对象作为参数。\n         *     onsuccess: function ( xhr ) {\n         *         console.log( xhr.responseText );\n         *     },\n         *\n         *     //请求失败或者超时后的回调。\n         *     onerror: function ( xhr ) {\n         *          alert( 'Ajax请求失败' );\n         *     }\n         *\n         * } );\n         * ```\n         */\n\n    /**\n         * 根据给定的参数项发起一个ajax请求， 参数项里必须包含一个url地址。 ajax请求完成后，会根据请求结果调用相应回调： 如果请求\n         * 成功， 则调用onsuccess回调， 失败则调用 onerror 回调。\n         * @method request\n         * @warning 如果在参数项里未提供一个key为“url”的地址值，则该请求将直接退出。\n         * @param { Object } ajaxOptions ajax请求选项的键值对，支持的选项如下：\n         * @example\n         * ```javascript\n         *\n         * //向sayhello.php发起一个异步的Ajax POST请求, 请求超时时间为5s， 请求完成后不执行任何回调。\n         * UE.ajax.requeset( 'sayhello.php', {\n         *\n         *     //请求的地址， 该项是必须的。\n         *     url: 'sayhello.php'\n         *\n         * } );\n         * ```\n         */\n    request: function(url, opts) {\n      if (opts && opts.dataType == \"jsonp\") {\n        doJsonp(url, opts);\n      } else {\n        doAjax(url, opts);\n      }\n    },\n    getJSONP: function(url, data, fn) {\n      var opts = {\n        data: data,\n        oncomplete: fn\n      };\n      doJsonp(url, opts);\n    }\n  };\n})();\n\n\n// core/filterword.js\n/**\n * UE过滤word的静态方法\n * @file\n */\n\n/**\n * UEditor公用空间，UEditor所有的功能都挂载在该空间下\n * @module UE\n */\n\n/**\n * 根据传入html字符串过滤word\n * @module UE\n * @since 1.2.6.1\n * @method filterWord\n * @param { String } html html字符串\n * @return { String } 已过滤后的结果字符串\n * @example\n * ```javascript\n * UE.filterWord(html);\n * ```\n */\nvar filterWord = (UE.filterWord = (function() {\n  //是否是word过来的内容\n  function isWordDocument(str) {\n    return /(class=\"?Mso|style=\"[^\"]*\\bmso\\-|w:WordDocument|<(v|o):|lang=)/gi.test(\n      str\n    );\n  }\n  //去掉小数\n  function transUnit(v) {\n    v = v.replace(/[\\d.]+\\w+/g, function(m) {\n      return utils.transUnitToPx(m);\n    });\n    return v;\n  }\n\n  function filterPasteWord(str) {\n    return (\n      str\n        .replace(/[\\t\\r\\n]+/g, \" \")\n        .replace(/<!--[\\s\\S]*?-->/gi, \"\")\n        //转换图片\n        .replace(/<v:shape [^>]*>[\\s\\S]*?.<\\/v:shape>/gi, function(str) {\n          //opera能自己解析出image所这里直接返回空\n          if (browser.opera) {\n            return \"\";\n          }\n          try {\n            //有可能是bitmap占为图，无用，直接过滤掉，主要体现在粘贴excel表格中\n            if (/Bitmap/i.test(str)) {\n              return \"\";\n            }\n            var width = str.match(/width:([ \\d.]*p[tx])/i)[1],\n              height = str.match(/height:([ \\d.]*p[tx])/i)[1],\n              src = str.match(/src=\\s*\"([^\"]*)\"/i)[1];\n            return (\n              '<img width=\"' +\n              transUnit(width) +\n              '\" height=\"' +\n              transUnit(height) +\n              '\" src=\"' +\n              src +\n              '\" />'\n            );\n          } catch (e) {\n            return \"\";\n          }\n        })\n        //针对wps添加的多余标签处理\n        .replace(/<\\/?div[^>]*>/g, \"\")\n        //去掉多余的属性\n        .replace(/v:\\w+=([\"']?)[^'\"]+\\1/g, \"\")\n        .replace(\n          /<(!|script[^>]*>.*?<\\/script(?=[>\\s])|\\/?(\\?xml(:\\w+)?|xml|meta|link|style|\\w+:\\w+)(?=[\\s\\/>]))[^>]*>/gi,\n          \"\"\n        )\n        .replace(\n          /<p [^>]*class=\"?MsoHeading\"?[^>]*>(.*?)<\\/p>/gi,\n          \"<p><strong>$1</strong></p>\"\n        )\n        //去掉多余的属性\n        .replace(/\\s+(class|lang|align)\\s*=\\s*(['\"]?)([\\w-]+)\\2/gi, function(\n          str,\n          name,\n          marks,\n          val\n        ) {\n          //保留list的标示\n          return name == \"class\" && val == \"MsoListParagraph\" ? str : \"\";\n        })\n        //清除多余的font/span不能匹配&nbsp;有可能是空格\n        .replace(/<(font|span)[^>]*>(\\s*)<\\/\\1>/gi, function(a, b, c) {\n          return c.replace(/[\\t\\r\\n ]+/g, \" \");\n        })\n        //处理style的问题\n        .replace(/(<[a-z][^>]*)\\sstyle=([\"'])([^\\2]*?)\\2/gi, function(\n          str,\n          tag,\n          tmp,\n          style\n        ) {\n          var n = [],\n            s = style\n              .replace(/^\\s+|\\s+$/, \"\")\n              .replace(/&#39;/g, \"'\")\n              .replace(/&quot;/gi, \"'\")\n              .replace(/[\\d.]+(cm|pt)/g, function(str) {\n                return utils.transUnitToPx(str);\n              })\n              .split(/;\\s*/g);\n\n          for (var i = 0, v; (v = s[i]); i++) {\n            var name,\n              value,\n              parts = v.split(\":\");\n\n            if (parts.length == 2) {\n              name = parts[0].toLowerCase();\n              value = parts[1].toLowerCase();\n              if (\n                (/^(background)\\w*/.test(name) &&\n                  value.replace(/(initial|\\s)/g, \"\").length == 0) ||\n                (/^(margin)\\w*/.test(name) && /^0\\w+$/.test(value))\n              ) {\n                continue;\n              }\n\n              switch (name) {\n                case \"mso-padding-alt\":\n                case \"mso-padding-top-alt\":\n                case \"mso-padding-right-alt\":\n                case \"mso-padding-bottom-alt\":\n                case \"mso-padding-left-alt\":\n                case \"mso-margin-alt\":\n                case \"mso-margin-top-alt\":\n                case \"mso-margin-right-alt\":\n                case \"mso-margin-bottom-alt\":\n                case \"mso-margin-left-alt\":\n                //ie下会出现挤到一起的情况\n                //case \"mso-table-layout-alt\":\n                case \"mso-height\":\n                case \"mso-width\":\n                case \"mso-vertical-align-alt\":\n                  //trace:1819 ff下会解析出padding在table上\n                  if (!/<table/.test(tag))\n                    n[i] =\n                      name.replace(/^mso-|-alt$/g, \"\") + \":\" + transUnit(value);\n                  continue;\n                case \"horiz-align\":\n                  n[i] = \"text-align:\" + value;\n                  continue;\n\n                case \"vert-align\":\n                  n[i] = \"vertical-align:\" + value;\n                  continue;\n\n                case \"font-color\":\n                case \"mso-foreground\":\n                  n[i] = \"color:\" + value;\n                  continue;\n\n                case \"mso-background\":\n                case \"mso-highlight\":\n                  n[i] = \"background:\" + value;\n                  continue;\n\n                case \"mso-default-height\":\n                  n[i] = \"min-height:\" + transUnit(value);\n                  continue;\n\n                case \"mso-default-width\":\n                  n[i] = \"min-width:\" + transUnit(value);\n                  continue;\n\n                case \"mso-padding-between-alt\":\n                  n[i] =\n                    \"border-collapse:separate;border-spacing:\" +\n                    transUnit(value);\n                  continue;\n\n                case \"text-line-through\":\n                  if (value == \"single\" || value == \"double\") {\n                    n[i] = \"text-decoration:line-through\";\n                  }\n                  continue;\n                case \"mso-zero-height\":\n                  if (value == \"yes\") {\n                    n[i] = \"display:none\";\n                  }\n                  continue;\n                //                                case 'background':\n                //                                    break;\n                case \"margin\":\n                  if (!/[1-9]/.test(value)) {\n                    continue;\n                  }\n              }\n\n              if (\n                /^(mso|column|font-emph|lang|layout|line-break|list-image|nav|panose|punct|row|ruby|sep|size|src|tab-|table-border|text-(?:decor|trans)|top-bar|version|vnd|word-break)/.test(\n                  name\n                ) ||\n                (/text\\-indent|padding|margin/.test(name) &&\n                  /\\-[\\d.]+/.test(value))\n              ) {\n                continue;\n              }\n\n              n[i] = name + \":\" + parts[1];\n            }\n          }\n          return (\n            tag +\n            (n.length\n              ? ' style=\"' + n.join(\";\").replace(/;{2,}/g, \";\") + '\"'\n              : \"\")\n          );\n        })\n    );\n  }\n\n  return function(html) {\n    return isWordDocument(html) ? filterPasteWord(html) : html;\n  };\n})());\n\n\n// core/node.js\n/**\n * 编辑器模拟的节点类\n * @file\n * @module UE\n * @class uNode\n * @since 1.2.6.1\n */\n\n/**\n * UEditor公用空间，UEditor所有的功能都挂载在该空间下\n * @unfile\n * @module UE\n */\n\n;(function() {\n  /**\n     * 编辑器模拟的节点类\n     * @unfile\n     * @module UE\n     * @class uNode\n     */\n\n  /**\n     * 通过一个键值对，创建一个uNode对象\n     * @constructor\n     * @param { Object } attr 传入要创建的uNode的初始属性\n     * @example\n     * ```javascript\n     * var node = new uNode({\n     *     type:'element',\n     *     tagName:'span',\n     *     attrs:{style:'font-size:14px;'}\n     * })\n     * ```\n     */\n  var uNode = (UE.uNode = function(obj) {\n    this.type = obj.type;\n    this.data = obj.data;\n    this.tagName = obj.tagName;\n    this.parentNode = obj.parentNode;\n    this.attrs = obj.attrs || {};\n    this.children = obj.children;\n  });\n\n  var notTransAttrs = {\n    href: 1,\n    src: 1,\n    _src: 1,\n    _href: 1,\n    cdata_data: 1\n  };\n\n  var notTransTagName = {\n    style: 1,\n    script: 1\n  };\n\n  var indentChar = \"    \",\n    breakChar = \"\\n\";\n\n  function insertLine(arr, current, begin) {\n    arr.push(breakChar);\n    return current + (begin ? 1 : -1);\n  }\n\n  function insertIndent(arr, current) {\n    //插入缩进\n    for (var i = 0; i < current; i++) {\n      arr.push(indentChar);\n    }\n  }\n\n  //创建uNode的静态方法\n  //支持标签和html\n  uNode.createElement = function(html) {\n    if (/[<>]/.test(html)) {\n      return UE.htmlparser(html).children[0];\n    } else {\n      return new uNode({\n        type: \"element\",\n        children: [],\n        tagName: html\n      });\n    }\n  };\n  uNode.createText = function(data, noTrans) {\n    return new UE.uNode({\n      type: \"text\",\n      data: noTrans ? data : utils.unhtml(data || \"\")\n    });\n  };\n  function nodeToHtml(node, arr, formatter, current) {\n    switch (node.type) {\n      case \"root\":\n        for (var i = 0, ci; (ci = node.children[i++]); ) {\n          //插入新行\n          if (\n            formatter &&\n            ci.type == \"element\" &&\n            !dtd.$inlineWithA[ci.tagName] &&\n            i > 1\n          ) {\n            insertLine(arr, current, true);\n            insertIndent(arr, current);\n          }\n          nodeToHtml(ci, arr, formatter, current);\n        }\n        break;\n      case \"text\":\n        isText(node, arr);\n        break;\n      case \"element\":\n        isElement(node, arr, formatter, current);\n        break;\n      case \"comment\":\n        isComment(node, arr, formatter);\n    }\n    return arr;\n  }\n\n  function isText(node, arr) {\n    if (node.parentNode.tagName == \"pre\") {\n      //源码模式下输入html标签，不能做转换处理，直接输出\n      arr.push(node.data);\n    } else {\n      arr.push(\n        notTransTagName[node.parentNode.tagName]\n          ? utils.html(node.data)\n          : node.data.replace(/[ ]{2}/g, \" &nbsp;\")\n      );\n    }\n  }\n\n  function isElement(node, arr, formatter, current) {\n    var attrhtml = \"\";\n    if (node.attrs) {\n      attrhtml = [];\n      var attrs = node.attrs;\n      for (var a in attrs) {\n        //这里就针对\n        //<p>'<img src='http://nsclick.baidu.com/u.gif?&asdf=\\\"sdf&asdfasdfs;asdf'></p>\n        //这里边的\\\"做转换，要不用innerHTML直接被截断了，属性src\n        //有可能做的不够\n        attrhtml.push(\n          a +\n            (attrs[a] !== undefined\n              ? '=\"' +\n                  (notTransAttrs[a]\n                    ? utils.html(attrs[a]).replace(/[\"]/g, function(a) {\n                        return \"&quot;\";\n                      })\n                    : utils.unhtml(attrs[a])) +\n                  '\"'\n              : \"\")\n        );\n      }\n      attrhtml = attrhtml.join(\" \");\n    }\n    arr.push(\n      \"<\" +\n        node.tagName +\n        (attrhtml ? \" \" + attrhtml : \"\") +\n        (dtd.$empty[node.tagName] ? \"/\" : \"\") +\n        \">\"\n    );\n    //插入新行\n    if (formatter && !dtd.$inlineWithA[node.tagName] && node.tagName != \"pre\") {\n      if (node.children && node.children.length) {\n        current = insertLine(arr, current, true);\n        insertIndent(arr, current);\n      }\n    }\n    if (node.children && node.children.length) {\n      for (var i = 0, ci; (ci = node.children[i++]); ) {\n        if (\n          formatter &&\n          ci.type == \"element\" &&\n          !dtd.$inlineWithA[ci.tagName] &&\n          i > 1\n        ) {\n          insertLine(arr, current);\n          insertIndent(arr, current);\n        }\n        nodeToHtml(ci, arr, formatter, current);\n      }\n    }\n    if (!dtd.$empty[node.tagName]) {\n      if (\n        formatter &&\n        !dtd.$inlineWithA[node.tagName] &&\n        node.tagName != \"pre\"\n      ) {\n        if (node.children && node.children.length) {\n          current = insertLine(arr, current);\n          insertIndent(arr, current);\n        }\n      }\n      arr.push(\"</\" + node.tagName + \">\");\n    }\n  }\n\n  function isComment(node, arr) {\n    arr.push(\"<!--\" + node.data + \"-->\");\n  }\n\n  function getNodeById(root, id) {\n    var node;\n    if (root.type == \"element\" && root.getAttr(\"id\") == id) {\n      return root;\n    }\n    if (root.children && root.children.length) {\n      for (var i = 0, ci; (ci = root.children[i++]); ) {\n        if ((node = getNodeById(ci, id))) {\n          return node;\n        }\n      }\n    }\n  }\n\n  function getNodesByTagName(node, tagName, arr) {\n    if (node.type == \"element\" && node.tagName == tagName) {\n      arr.push(node);\n    }\n    if (node.children && node.children.length) {\n      for (var i = 0, ci; (ci = node.children[i++]); ) {\n        getNodesByTagName(ci, tagName, arr);\n      }\n    }\n  }\n  function nodeTraversal(root, fn) {\n    if (root.children && root.children.length) {\n      for (var i = 0, ci; (ci = root.children[i]); ) {\n        nodeTraversal(ci, fn);\n        //ci被替换的情况，这里就不再走 fn了\n        if (ci.parentNode) {\n          if (ci.children && ci.children.length) {\n            fn(ci);\n          }\n          if (ci.parentNode) i++;\n        }\n      }\n    } else {\n      fn(root);\n    }\n  }\n  uNode.prototype = {\n    /**\n         * 当前节点对象，转换成html文本\n         * @method toHtml\n         * @return { String } 返回转换后的html字符串\n         * @example\n         * ```javascript\n         * node.toHtml();\n         * ```\n         */\n\n    /**\n         * 当前节点对象，转换成html文本\n         * @method toHtml\n         * @param { Boolean } formatter 是否格式化返回值\n         * @return { String } 返回转换后的html字符串\n         * @example\n         * ```javascript\n         * node.toHtml( true );\n         * ```\n         */\n    toHtml: function(formatter) {\n      var arr = [];\n      nodeToHtml(this, arr, formatter, 0);\n      return arr.join(\"\");\n    },\n\n    /**\n         * 获取节点的html内容\n         * @method innerHTML\n         * @warning 假如节点的type不是'element'，或节点的标签名称不在dtd列表里，直接返回当前节点\n         * @return { String } 返回节点的html内容\n         * @example\n         * ```javascript\n         * var htmlstr = node.innerHTML();\n         * ```\n         */\n\n    /**\n         * 设置节点的html内容\n         * @method innerHTML\n         * @warning 假如节点的type不是'element'，或节点的标签名称不在dtd列表里，直接返回当前节点\n         * @param { String } htmlstr 传入要设置的html内容\n         * @return { UE.uNode } 返回节点本身\n         * @example\n         * ```javascript\n         * node.innerHTML('<span>text</span>');\n         * ```\n         */\n    innerHTML: function(htmlstr) {\n      if (this.type != \"element\" || dtd.$empty[this.tagName]) {\n        return this;\n      }\n      if (utils.isString(htmlstr)) {\n        if (this.children) {\n          for (var i = 0, ci; (ci = this.children[i++]); ) {\n            ci.parentNode = null;\n          }\n        }\n        this.children = [];\n        var tmpRoot = UE.htmlparser(htmlstr);\n        for (var i = 0, ci; (ci = tmpRoot.children[i++]); ) {\n          this.children.push(ci);\n          ci.parentNode = this;\n        }\n        return this;\n      } else {\n        var tmpRoot = new UE.uNode({\n          type: \"root\",\n          children: this.children\n        });\n        return tmpRoot.toHtml();\n      }\n    },\n\n    /**\n         * 获取节点的纯文本内容\n         * @method innerText\n         * @warning 假如节点的type不是'element'，或节点的标签名称不在dtd列表里，直接返回当前节点\n         * @return { String } 返回节点的存文本内容\n         * @example\n         * ```javascript\n         * var textStr = node.innerText();\n         * ```\n         */\n\n    /**\n         * 设置节点的纯文本内容\n         * @method innerText\n         * @warning 假如节点的type不是'element'，或节点的标签名称不在dtd列表里，直接返回当前节点\n         * @param { String } textStr 传入要设置的文本内容\n         * @return { UE.uNode } 返回节点本身\n         * @example\n         * ```javascript\n         * node.innerText('<span>text</span>');\n         * ```\n         */\n    innerText: function(textStr, noTrans) {\n      if (this.type != \"element\" || dtd.$empty[this.tagName]) {\n        return this;\n      }\n      if (textStr) {\n        if (this.children) {\n          for (var i = 0, ci; (ci = this.children[i++]); ) {\n            ci.parentNode = null;\n          }\n        }\n        this.children = [];\n        this.appendChild(uNode.createText(textStr, noTrans));\n        return this;\n      } else {\n        return this.toHtml().replace(/<[^>]+>/g, \"\");\n      }\n    },\n\n    /**\n         * 获取当前对象的data属性\n         * @method getData\n         * @return { Object } 若节点的type值是elemenet，返回空字符串，否则返回节点的data属性\n         * @example\n         * ```javascript\n         * node.getData();\n         * ```\n         */\n    getData: function() {\n      if (this.type == \"element\") return \"\";\n      return this.data;\n    },\n\n    /**\n         * 获取当前节点下的第一个子节点\n         * @method firstChild\n         * @return { UE.uNode } 返回第一个子节点\n         * @example\n         * ```javascript\n         * node.firstChild(); //返回第一个子节点\n         * ```\n         */\n    firstChild: function() {\n      //            if (this.type != 'element' || dtd.$empty[this.tagName]) {\n      //                return this;\n      //            }\n      return this.children ? this.children[0] : null;\n    },\n\n    /**\n         * 获取当前节点下的最后一个子节点\n         * @method lastChild\n         * @return { UE.uNode } 返回最后一个子节点\n         * @example\n         * ```javascript\n         * node.lastChild(); //返回最后一个子节点\n         * ```\n         */\n    lastChild: function() {\n      //            if (this.type != 'element' || dtd.$empty[this.tagName] ) {\n      //                return this;\n      //            }\n      return this.children ? this.children[this.children.length - 1] : null;\n    },\n\n    /**\n         * 获取和当前节点有相同父亲节点的前一个节点\n         * @method previousSibling\n         * @return { UE.uNode } 返回前一个节点\n         * @example\n         * ```javascript\n         * node.children[2].previousSibling(); //返回子节点node.children[1]\n         * ```\n         */\n    previousSibling: function() {\n      var parent = this.parentNode;\n      for (var i = 0, ci; (ci = parent.children[i]); i++) {\n        if (ci === this) {\n          return i == 0 ? null : parent.children[i - 1];\n        }\n      }\n    },\n\n    /**\n         * 获取和当前节点有相同父亲节点的后一个节点\n         * @method nextSibling\n         * @return { UE.uNode } 返回后一个节点,找不到返回null\n         * @example\n         * ```javascript\n         * node.children[2].nextSibling(); //如果有，返回子节点node.children[3]\n         * ```\n         */\n    nextSibling: function() {\n      var parent = this.parentNode;\n      for (var i = 0, ci; (ci = parent.children[i++]); ) {\n        if (ci === this) {\n          return parent.children[i];\n        }\n      }\n    },\n\n    /**\n         * 用新的节点替换当前节点\n         * @method replaceChild\n         * @param { UE.uNode } target 要替换成该节点参数\n         * @param { UE.uNode } source 要被替换掉的节点\n         * @return { UE.uNode } 返回替换之后的节点对象\n         * @example\n         * ```javascript\n         * node.replaceChild(newNode, childNode); //用newNode替换childNode,childNode是node的子节点\n         * ```\n         */\n    replaceChild: function(target, source) {\n      if (this.children) {\n        if (target.parentNode) {\n          target.parentNode.removeChild(target);\n        }\n        for (var i = 0, ci; (ci = this.children[i]); i++) {\n          if (ci === source) {\n            this.children.splice(i, 1, target);\n            source.parentNode = null;\n            target.parentNode = this;\n            return target;\n          }\n        }\n      }\n    },\n\n    /**\n         * 在节点的子节点列表最后位置插入一个节点\n         * @method appendChild\n         * @param { UE.uNode } node 要插入的节点\n         * @return { UE.uNode } 返回刚插入的子节点\n         * @example\n         * ```javascript\n         * node.appendChild( newNode ); //在node内插入子节点newNode\n         * ```\n         */\n    appendChild: function(node) {\n      if (\n        this.type == \"root\" ||\n        (this.type == \"element\" && !dtd.$empty[this.tagName])\n      ) {\n        if (!this.children) {\n          this.children = [];\n        }\n        if (node.parentNode) {\n          node.parentNode.removeChild(node);\n        }\n        for (var i = 0, ci; (ci = this.children[i]); i++) {\n          if (ci === node) {\n            this.children.splice(i, 1);\n            break;\n          }\n        }\n        this.children.push(node);\n        node.parentNode = this;\n        return node;\n      }\n    },\n\n    /**\n         * 在传入节点的前面插入一个节点\n         * @method insertBefore\n         * @param { UE.uNode } target 要插入的节点\n         * @param { UE.uNode } source 在该参数节点前面插入\n         * @return { UE.uNode } 返回刚插入的子节点\n         * @example\n         * ```javascript\n         * node.parentNode.insertBefore(newNode, node); //在node节点后面插入newNode\n         * ```\n         */\n    insertBefore: function(target, source) {\n      if (this.children) {\n        if (target.parentNode) {\n          target.parentNode.removeChild(target);\n        }\n        for (var i = 0, ci; (ci = this.children[i]); i++) {\n          if (ci === source) {\n            this.children.splice(i, 0, target);\n            target.parentNode = this;\n            return target;\n          }\n        }\n      }\n    },\n\n    /**\n         * 在传入节点的后面插入一个节点\n         * @method insertAfter\n         * @param { UE.uNode } target 要插入的节点\n         * @param { UE.uNode } source 在该参数节点后面插入\n         * @return { UE.uNode } 返回刚插入的子节点\n         * @example\n         * ```javascript\n         * node.parentNode.insertAfter(newNode, node); //在node节点后面插入newNode\n         * ```\n         */\n    insertAfter: function(target, source) {\n      if (this.children) {\n        if (target.parentNode) {\n          target.parentNode.removeChild(target);\n        }\n        for (var i = 0, ci; (ci = this.children[i]); i++) {\n          if (ci === source) {\n            this.children.splice(i + 1, 0, target);\n            target.parentNode = this;\n            return target;\n          }\n        }\n      }\n    },\n\n    /**\n         * 从当前节点的子节点列表中，移除节点\n         * @method removeChild\n         * @param { UE.uNode } node 要移除的节点引用\n         * @param { Boolean } keepChildren 是否保留移除节点的子节点，若传入true，自动把移除节点的子节点插入到移除的位置\n         * @return { * } 返回刚移除的子节点\n         * @example\n         * ```javascript\n         * node.removeChild(childNode,true); //在node的子节点列表中移除child节点，并且吧child的子节点插入到移除的位置\n         * ```\n         */\n    removeChild: function(node, keepChildren) {\n      if (this.children) {\n        for (var i = 0, ci; (ci = this.children[i]); i++) {\n          if (ci === node) {\n            this.children.splice(i, 1);\n            ci.parentNode = null;\n            if (keepChildren && ci.children && ci.children.length) {\n              for (var j = 0, cj; (cj = ci.children[j]); j++) {\n                this.children.splice(i + j, 0, cj);\n                cj.parentNode = this;\n              }\n            }\n            return ci;\n          }\n        }\n      }\n    },\n\n    /**\n         * 获取当前节点所代表的元素属性，即获取attrs对象下的属性值\n         * @method getAttr\n         * @param { String } attrName 要获取的属性名称\n         * @return { * } 返回attrs对象下的属性值\n         * @example\n         * ```javascript\n         * node.getAttr('title');\n         * ```\n         */\n    getAttr: function(attrName) {\n      return this.attrs && this.attrs[attrName.toLowerCase()];\n    },\n\n    /**\n         * 设置当前节点所代表的元素属性，即设置attrs对象下的属性值\n         * @method setAttr\n         * @param { String } attrName 要设置的属性名称\n         * @param { * } attrVal 要设置的属性值，类型视设置的属性而定\n         * @return { * } 返回attrs对象下的属性值\n         * @example\n         * ```javascript\n         * node.setAttr('title','标题');\n         * ```\n         */\n    setAttr: function(attrName, attrVal) {\n      if (!attrName) {\n        delete this.attrs;\n        return;\n      }\n      if (!this.attrs) {\n        this.attrs = {};\n      }\n      if (utils.isObject(attrName)) {\n        for (var a in attrName) {\n          if (!attrName[a]) {\n            delete this.attrs[a];\n          } else {\n            this.attrs[a.toLowerCase()] = attrName[a];\n          }\n        }\n      } else {\n        if (!attrVal) {\n          delete this.attrs[attrName];\n        } else {\n          this.attrs[attrName.toLowerCase()] = attrVal;\n        }\n      }\n    },\n\n    /**\n         * 获取当前节点在父节点下的位置索引\n         * @method getIndex\n         * @return { Number } 返回索引数值，如果没有父节点，返回-1\n         * @example\n         * ```javascript\n         * node.getIndex();\n         * ```\n         */\n    getIndex: function() {\n      var parent = this.parentNode;\n      for (var i = 0, ci; (ci = parent.children[i]); i++) {\n        if (ci === this) {\n          return i;\n        }\n      }\n      return -1;\n    },\n\n    /**\n         * 在当前节点下，根据id查找节点\n         * @method getNodeById\n         * @param { String } id 要查找的id\n         * @return { UE.uNode } 返回找到的节点\n         * @example\n         * ```javascript\n         * node.getNodeById('textId');\n         * ```\n         */\n    getNodeById: function(id) {\n      var node;\n      if (this.children && this.children.length) {\n        for (var i = 0, ci; (ci = this.children[i++]); ) {\n          if ((node = getNodeById(ci, id))) {\n            return node;\n          }\n        }\n      }\n    },\n\n    /**\n         * 在当前节点下，根据元素名称查找节点列表\n         * @method getNodesByTagName\n         * @param { String } tagNames 要查找的元素名称\n         * @return { Array } 返回找到的节点列表\n         * @example\n         * ```javascript\n         * node.getNodesByTagName('span');\n         * ```\n         */\n    getNodesByTagName: function(tagNames) {\n      tagNames = utils.trim(tagNames).replace(/[ ]{2,}/g, \" \").split(\" \");\n      var arr = [],\n        me = this;\n      utils.each(tagNames, function(tagName) {\n        if (me.children && me.children.length) {\n          for (var i = 0, ci; (ci = me.children[i++]); ) {\n            getNodesByTagName(ci, tagName, arr);\n          }\n        }\n      });\n      return arr;\n    },\n\n    /**\n         * 根据样式名称，获取节点的样式值\n         * @method getStyle\n         * @param { String } name 要获取的样式名称\n         * @return { String } 返回样式值\n         * @example\n         * ```javascript\n         * node.getStyle('font-size');\n         * ```\n         */\n    getStyle: function(name) {\n      var cssStyle = this.getAttr(\"style\");\n      if (!cssStyle) {\n        return \"\";\n      }\n      var reg = new RegExp(\"(^|;)\\\\s*\" + name + \":([^;]+)\", \"i\");\n      var match = cssStyle.match(reg);\n      if (match && match[0]) {\n        return match[2];\n      }\n      return \"\";\n    },\n\n    /**\n         * 给节点设置样式\n         * @method setStyle\n         * @param { String } name 要设置的的样式名称\n         * @param { String } val 要设置的的样值\n         * @example\n         * ```javascript\n         * node.setStyle('font-size', '12px');\n         * ```\n         */\n    setStyle: function(name, val) {\n      function exec(name, val) {\n        var reg = new RegExp(\"(^|;)\\\\s*\" + name + \":([^;]+;?)\", \"gi\");\n        cssStyle = cssStyle.replace(reg, \"$1\");\n        if (val) {\n          cssStyle = name + \":\" + utils.unhtml(val) + \";\" + cssStyle;\n        }\n      }\n\n      var cssStyle = this.getAttr(\"style\");\n      if (!cssStyle) {\n        cssStyle = \"\";\n      }\n      if (utils.isObject(name)) {\n        for (var a in name) {\n          exec(a, name[a]);\n        }\n      } else {\n        exec(name, val);\n      }\n      this.setAttr(\"style\", utils.trim(cssStyle));\n    },\n\n    /**\n         * 传入一个函数，递归遍历当前节点下的所有节点\n         * @method traversal\n         * @param { Function } fn 遍历到节点的时，传入节点作为参数，运行此函数\n         * @example\n         * ```javascript\n         * traversal(node, function(){\n         *     console.log(node.type);\n         * });\n         * ```\n         */\n    traversal: function(fn) {\n      if (this.children && this.children.length) {\n        nodeTraversal(this, fn);\n      }\n      return this;\n    }\n  };\n})();\n\n\n// core/htmlparser.js\n/**\n * html字符串转换成uNode节点\n * @file\n * @module UE\n * @since 1.2.6.1\n */\n\n/**\n * UEditor公用空间，UEditor所有的功能都挂载在该空间下\n * @unfile\n * @module UE\n */\n\n/**\n * html字符串转换成uNode节点的静态方法\n * @method htmlparser\n * @param { String } htmlstr 要转换的html代码\n * @param { Boolean } ignoreBlank 若设置为true，转换的时候忽略\\n\\r\\t等空白字符\n * @return { uNode } 给定的html片段转换形成的uNode对象\n * @example\n * ```javascript\n * var root = UE.htmlparser('<p><b>htmlparser</b></p>', true);\n * ```\n */\n\nvar htmlparser = (UE.htmlparser = function(htmlstr, ignoreBlank) {\n  //todo 原来的方式  [^\"'<>\\/] 有\\/就不能配对上 <TD vAlign=top background=../AAA.JPG> 这样的标签了\n  //先去掉了，加上的原因忘了，这里先记录\n  //var re_tag = /<(?:(?:\\/([^>]+)>)|(?:!--([\\S|\\s]*?)-->)|(?:([^\\s\\/<>]+)\\s*((?:(?:\"[^\"]*\")|(?:'[^']*')|[^\"'<>])*)\\/?>))/g,\n  //以上的正则表达式无法匹配:<div style=\"text-align:center;font-family:\" font-size:14px;\"=\"\"><img src=\"http://hs-album.oss.aliyuncs.com/static/27/78/35/image/20161206/20161206174331_41105.gif\" alt=\"\" /><br /></div>\n  //修改为如下正则表达式:\n  var re_tag = /<(?:(?:\\/([^>]+)>)|(?:!--([\\S|\\s]*?)-->)|(?:([^\\/\\s>]+)((?:\\s+[\\w\\-:.]+(?:\\s*=\\s*?(?:(?:\"[^\"]*\")|(?:'[^']*')|[^\\s\"'\\/>]+))?)*)[\\S\\s]*?(\\/?)>))/g,\n    re_attr = /([\\w\\-:.]+)(?:(?:\\s*=\\s*(?:(?:\"([^\"]*)\")|(?:'([^']*)')|([^\\s>]+)))|(?=\\s|$))/g;\n\n  //ie下取得的html可能会有\\n存在，要去掉，在处理replace(/[\\t\\r\\n]*/g,'');代码高量的\\n不能去除\n  var allowEmptyTags = {\n    b: 1,\n    code: 1,\n    i: 1,\n    u: 1,\n    strike: 1,\n    s: 1,\n    tt: 1,\n    strong: 1,\n    q: 1,\n    samp: 1,\n    em: 1,\n    span: 1,\n    sub: 1,\n    img: 1,\n    sup: 1,\n    font: 1,\n    big: 1,\n    small: 1,\n    iframe: 1,\n    a: 1,\n    br: 1,\n    pre: 1\n  };\n  htmlstr = htmlstr.replace(new RegExp(domUtils.fillChar, \"g\"), \"\");\n  if (!ignoreBlank) {\n    htmlstr = htmlstr.replace(\n      new RegExp(\n        \"[\\\\r\\\\t\\\\n\" +\n          (ignoreBlank ? \"\" : \" \") +\n          \"]*</?(\\\\w+)\\\\s*(?:[^>]*)>[\\\\r\\\\t\\\\n\" +\n          (ignoreBlank ? \"\" : \" \") +\n          \"]*\",\n        \"g\"\n      ),\n      function(a, b) {\n        //br暂时单独处理\n        if (b && allowEmptyTags[b.toLowerCase()]) {\n          return a.replace(/(^[\\n\\r]+)|([\\n\\r]+$)/g, \"\");\n        }\n        return a\n          .replace(new RegExp(\"^[\\\\r\\\\n\" + (ignoreBlank ? \"\" : \" \") + \"]+\"), \"\")\n          .replace(\n            new RegExp(\"[\\\\r\\\\n\" + (ignoreBlank ? \"\" : \" \") + \"]+$\"),\n            \"\"\n          );\n      }\n    );\n  }\n\n  var notTransAttrs = {\n    href: 1,\n    src: 1\n  };\n\n  var uNode = UE.uNode,\n    needParentNode = {\n      td: \"tr\",\n      tr: [\"tbody\", \"thead\", \"tfoot\"],\n      tbody: \"table\",\n      th: \"tr\",\n      thead: \"table\",\n      tfoot: \"table\",\n      caption: \"table\",\n      li: [\"ul\", \"ol\"],\n      dt: \"dl\",\n      dd: \"dl\",\n      option: \"select\"\n    },\n    needChild = {\n      ol: \"li\",\n      ul: \"li\"\n    };\n\n  function text(parent, data) {\n    if (needChild[parent.tagName]) {\n      var tmpNode = uNode.createElement(needChild[parent.tagName]);\n      parent.appendChild(tmpNode);\n      tmpNode.appendChild(uNode.createText(data));\n      parent = tmpNode;\n    } else {\n      parent.appendChild(uNode.createText(data));\n    }\n  }\n\n  function element(parent, tagName, htmlattr) {\n    var needParentTag;\n    if ((needParentTag = needParentNode[tagName])) {\n      var tmpParent = parent,\n        hasParent;\n      while (tmpParent.type != \"root\") {\n        if (\n          utils.isArray(needParentTag)\n            ? utils.indexOf(needParentTag, tmpParent.tagName) != -1\n            : needParentTag == tmpParent.tagName\n        ) {\n          parent = tmpParent;\n          hasParent = true;\n          break;\n        }\n        tmpParent = tmpParent.parentNode;\n      }\n      if (!hasParent) {\n        parent = element(\n          parent,\n          utils.isArray(needParentTag) ? needParentTag[0] : needParentTag\n        );\n      }\n    }\n    //按dtd处理嵌套\n    //        if(parent.type != 'root' && !dtd[parent.tagName][tagName])\n    //            parent = parent.parentNode;\n    var elm = new uNode({\n      parentNode: parent,\n      type: \"element\",\n      tagName: tagName.toLowerCase(),\n      //是自闭合的处理一下\n      children: dtd.$empty[tagName] ? null : []\n    });\n    //如果属性存在，处理属性\n    if (htmlattr) {\n      var attrs = {},\n        match;\n      while ((match = re_attr.exec(htmlattr))) {\n        attrs[match[1].toLowerCase()] = notTransAttrs[match[1].toLowerCase()]\n          ? match[2] || match[3] || match[4]\n          : utils.unhtml(match[2] || match[3] || match[4]);\n      }\n      elm.attrs = attrs;\n    }\n    //trace:3970\n    //        //如果parent下不能放elm\n    //        if(dtd.$inline[parent.tagName] && dtd.$block[elm.tagName] && !dtd[parent.tagName][elm.tagName]){\n    //            parent = parent.parentNode;\n    //            elm.parentNode = parent;\n    //        }\n    parent.children.push(elm);\n    //如果是自闭合节点返回父亲节点\n    return dtd.$empty[tagName] ? parent : elm;\n  }\n\n  function comment(parent, data) {\n    parent.children.push(\n      new uNode({\n        type: \"comment\",\n        data: data,\n        parentNode: parent\n      })\n    );\n  }\n\n  var match,\n    currentIndex = 0,\n    nextIndex = 0;\n  //设置根节点\n  var root = new uNode({\n    type: \"root\",\n    children: []\n  });\n  var currentParent = root;\n\n  while ((match = re_tag.exec(htmlstr))) {\n    currentIndex = match.index;\n    try {\n      if (currentIndex > nextIndex) {\n        //text node\n        text(currentParent, htmlstr.slice(nextIndex, currentIndex));\n      }\n      if (match[3]) {\n        if (dtd.$cdata[currentParent.tagName]) {\n          text(currentParent, match[0]);\n        } else {\n          //start tag\n          currentParent = element(\n            currentParent,\n            match[3].toLowerCase(),\n            match[4]\n          );\n        }\n      } else if (match[1]) {\n        if (currentParent.type != \"root\") {\n          if (dtd.$cdata[currentParent.tagName] && !dtd.$cdata[match[1]]) {\n            text(currentParent, match[0]);\n          } else {\n            var tmpParent = currentParent;\n            while (\n              currentParent.type == \"element\" &&\n              currentParent.tagName != match[1].toLowerCase()\n            ) {\n              currentParent = currentParent.parentNode;\n              if (currentParent.type == \"root\") {\n                currentParent = tmpParent;\n                throw \"break\";\n              }\n            }\n            //end tag\n            currentParent = currentParent.parentNode;\n          }\n        }\n      } else if (match[2]) {\n        //comment\n        comment(currentParent, match[2]);\n      }\n    } catch (e) {}\n\n    nextIndex = re_tag.lastIndex;\n  }\n  //如果结束是文本，就有可能丢掉，所以这里手动判断一下\n  //例如 <li>sdfsdfsdf<li>sdfsdfsdfsdf\n  if (nextIndex < htmlstr.length) {\n    text(currentParent, htmlstr.slice(nextIndex));\n  }\n  return root;\n});\n\n\n// core/filternode.js\n/**\n * UE过滤节点的静态方法\n * @file\n */\n\n/**\n * UEditor公用空间，UEditor所有的功能都挂载在该空间下\n * @module UE\n */\n\n/**\n * 根据传入节点和过滤规则过滤相应节点\n * @module UE\n * @since 1.2.6.1\n * @method filterNode\n * @param { Object } root 指定root节点\n * @param { Object } rules 过滤规则json对象\n * @example\n * ```javascript\n * UE.filterNode(root,editor.options.filterRules);\n * ```\n */\nvar filterNode = (UE.filterNode = (function() {\n  function filterNode(node, rules) {\n    switch (node.type) {\n      case \"text\":\n        break;\n      case \"element\":\n        var val;\n        if ((val = rules[node.tagName])) {\n          if (val === \"-\") {\n            node.parentNode.removeChild(node);\n          } else if (utils.isFunction(val)) {\n            var parentNode = node.parentNode,\n              index = node.getIndex();\n            val(node);\n            if (node.parentNode) {\n              if (node.children) {\n                for (var i = 0, ci; (ci = node.children[i]); ) {\n                  filterNode(ci, rules);\n                  if (ci.parentNode) {\n                    i++;\n                  }\n                }\n              }\n            } else {\n              for (var i = index, ci; (ci = parentNode.children[i]); ) {\n                filterNode(ci, rules);\n                if (ci.parentNode) {\n                  i++;\n                }\n              }\n            }\n          } else {\n            var attrs = val[\"$\"];\n            if (attrs && node.attrs) {\n              var tmpAttrs = {},\n                tmpVal;\n              for (var a in attrs) {\n                tmpVal = node.getAttr(a);\n                //todo 只先对style单独处理\n                if (a == \"style\" && utils.isArray(attrs[a])) {\n                  var tmpCssStyle = [];\n                  utils.each(attrs[a], function(v) {\n                    var tmp;\n                    if ((tmp = node.getStyle(v))) {\n                      tmpCssStyle.push(v + \":\" + tmp);\n                    }\n                  });\n                  tmpVal = tmpCssStyle.join(\";\");\n                }\n                if (tmpVal) {\n                  tmpAttrs[a] = tmpVal;\n                }\n              }\n              node.attrs = tmpAttrs;\n            }\n            if (node.children) {\n              for (var i = 0, ci; (ci = node.children[i]); ) {\n                filterNode(ci, rules);\n                if (ci.parentNode) {\n                  i++;\n                }\n              }\n            }\n          }\n        } else {\n          //如果不在名单里扣出子节点并删除该节点,cdata除外\n          if (dtd.$cdata[node.tagName]) {\n            node.parentNode.removeChild(node);\n          } else {\n            var parentNode = node.parentNode,\n              index = node.getIndex();\n            node.parentNode.removeChild(node, true);\n            for (var i = index, ci; (ci = parentNode.children[i]); ) {\n              filterNode(ci, rules);\n              if (ci.parentNode) {\n                i++;\n              }\n            }\n          }\n        }\n        break;\n      case \"comment\":\n        node.parentNode.removeChild(node);\n    }\n  }\n  return function(root, rules) {\n    if (utils.isEmptyObject(rules)) {\n      return root;\n    }\n    var val;\n    if ((val = rules[\"-\"])) {\n      utils.each(val.split(\" \"), function(k) {\n        rules[k] = \"-\";\n      });\n    }\n    for (var i = 0, ci; (ci = root.children[i]); ) {\n      filterNode(ci, rules);\n      if (ci.parentNode) {\n        i++;\n      }\n    }\n    return root;\n  };\n})());\n\n\n// core/plugin.js\n/**\n * Created with JetBrains PhpStorm.\n * User: campaign\n * Date: 10/8/13\n * Time: 6:15 PM\n * To change this template use File | Settings | File Templates.\n */\nUE.plugin = (function() {\n  var _plugins = {};\n  return {\n    register: function(pluginName, fn, oldOptionName, afterDisabled) {\n      if (oldOptionName && utils.isFunction(oldOptionName)) {\n        afterDisabled = oldOptionName;\n        oldOptionName = null;\n      }\n      _plugins[pluginName] = {\n        optionName: oldOptionName || pluginName,\n        execFn: fn,\n        //当插件被禁用时执行\n        afterDisabled: afterDisabled\n      };\n    },\n    load: function(editor) {\n      utils.each(_plugins, function(plugin) {\n        var _export = plugin.execFn.call(editor);\n        if (editor.options[plugin.optionName] !== false) {\n          if (_export) {\n            //后边需要再做扩展\n            utils.each(_export, function(v, k) {\n              switch (k.toLowerCase()) {\n                case \"shortcutkey\":\n                  editor.addshortcutkey(v);\n                  break;\n                case \"bindevents\":\n                  utils.each(v, function(fn, eventName) {\n                    editor.addListener(eventName, fn);\n                  });\n                  break;\n                case \"bindmultievents\":\n                  utils.each(utils.isArray(v) ? v : [v], function(event) {\n                    var types = utils.trim(event.type).split(/\\s+/);\n                    utils.each(types, function(eventName) {\n                      editor.addListener(eventName, event.handler);\n                    });\n                  });\n                  break;\n                case \"commands\":\n                  utils.each(v, function(execFn, execName) {\n                    editor.commands[execName] = execFn;\n                  });\n                  break;\n                case \"outputrule\":\n                  editor.addOutputRule(v);\n                  break;\n                case \"inputrule\":\n                  editor.addInputRule(v);\n                  break;\n                case \"defaultoptions\":\n                  editor.setOpt(v);\n              }\n            });\n          }\n        } else if (plugin.afterDisabled) {\n          plugin.afterDisabled.call(editor);\n        }\n      });\n      //向下兼容\n      utils.each(UE.plugins, function(plugin) {\n        plugin.call(editor);\n      });\n    },\n    run: function(pluginName, editor) {\n      var plugin = _plugins[pluginName];\n      if (plugin) {\n        plugin.exeFn.call(editor);\n      }\n    }\n  };\n})();\n\n\n// core/keymap.js\nvar keymap = (UE.keymap = {\n  Backspace: 8,\n  Tab: 9,\n  Enter: 13,\n\n  Shift: 16,\n  Control: 17,\n  Alt: 18,\n  CapsLock: 20,\n\n  Esc: 27,\n\n  Spacebar: 32,\n\n  PageUp: 33,\n  PageDown: 34,\n  End: 35,\n  Home: 36,\n\n  Left: 37,\n  Up: 38,\n  Right: 39,\n  Down: 40,\n\n  Insert: 45,\n\n  Del: 46,\n\n  NumLock: 144,\n\n  Cmd: 91,\n\n  \"=\": 187,\n  \"-\": 189,\n\n  b: 66,\n  i: 73,\n  //回退\n  z: 90,\n  y: 89,\n  //粘贴\n  v: 86,\n  x: 88,\n\n  s: 83,\n\n  n: 78\n});\n\n\n// core/localstorage.js\n//存储媒介封装\nvar LocalStorage = (UE.LocalStorage = (function() {\n  var storage = window.localStorage || getUserData() || null,\n    LOCAL_FILE = \"localStorage\";\n\n  return {\n    saveLocalData: function(key, data) {\n      if (storage && data) {\n        storage.setItem(key, data);\n        return true;\n      }\n\n      return false;\n    },\n\n    getLocalData: function(key) {\n      if (storage) {\n        return storage.getItem(key);\n      }\n\n      return null;\n    },\n\n    removeItem: function(key) {\n      storage && storage.removeItem(key);\n    }\n  };\n\n  function getUserData() {\n    var container = document.createElement(\"div\");\n    container.style.display = \"none\";\n\n    if (!container.addBehavior) {\n      return null;\n    }\n\n    container.addBehavior(\"#default#userdata\");\n\n    return {\n      getItem: function(key) {\n        var result = null;\n\n        try {\n          document.body.appendChild(container);\n          container.load(LOCAL_FILE);\n          result = container.getAttribute(key);\n          document.body.removeChild(container);\n        } catch (e) {}\n\n        return result;\n      },\n\n      setItem: function(key, value) {\n        document.body.appendChild(container);\n        container.setAttribute(key, value);\n        container.save(LOCAL_FILE);\n        document.body.removeChild(container);\n      },\n\n      //// 暂时没有用到\n      //clear: function () {\n      //\n      //    var expiresTime = new Date();\n      //    expiresTime.setFullYear(expiresTime.getFullYear() - 1);\n      //    document.body.appendChild(container);\n      //    container.expires = expiresTime.toUTCString();\n      //    container.save(LOCAL_FILE);\n      //    document.body.removeChild(container);\n      //\n      //},\n\n      removeItem: function(key) {\n        document.body.appendChild(container);\n        container.removeAttribute(key);\n        container.save(LOCAL_FILE);\n        document.body.removeChild(container);\n      }\n    };\n  }\n})());\n\n;(function() {\n  var ROOTKEY = \"ueditor_preference\";\n\n  UE.Editor.prototype.setPreferences = function(key, value) {\n    var obj = {};\n    if (utils.isString(key)) {\n      obj[key] = value;\n    } else {\n      obj = key;\n    }\n    var data = LocalStorage.getLocalData(ROOTKEY);\n    if (data && (data = utils.str2json(data))) {\n      utils.extend(data, obj);\n    } else {\n      data = obj;\n    }\n    data && LocalStorage.saveLocalData(ROOTKEY, utils.json2str(data));\n  };\n\n  UE.Editor.prototype.getPreferences = function(key) {\n    var data = LocalStorage.getLocalData(ROOTKEY);\n    if (data && (data = utils.str2json(data))) {\n      return key ? data[key] : data;\n    }\n    return null;\n  };\n\n  UE.Editor.prototype.removePreferences = function(key) {\n    var data = LocalStorage.getLocalData(ROOTKEY);\n    if (data && (data = utils.str2json(data))) {\n      data[key] = undefined;\n      delete data[key];\n    }\n    data && LocalStorage.saveLocalData(ROOTKEY, utils.json2str(data));\n  };\n})();\n\n\n// plugins/defaultfilter.js\n///import core\n///plugin 编辑器默认的过滤转换机制\n\nUE.plugins[\"defaultfilter\"] = function() {\n  var me = this;\n  me.setOpt({\n    allowDivTransToP: true,\n    disabledTableInTable: true,\n    rgb2Hex: true\n  });\n  //默认的过滤处理\n  //进入编辑器的内容处理\n  me.addInputRule(function(root) {\n    var allowDivTransToP = this.options.allowDivTransToP;\n    var val;\n    function tdParent(node) {\n      while (node && node.type == \"element\") {\n        if (node.tagName == \"td\") {\n          return true;\n        }\n        node = node.parentNode;\n      }\n      return false;\n    }\n    //进行默认的处理\n    root.traversal(function(node) {\n      if (node.type == \"element\") {\n        if (\n          !dtd.$cdata[node.tagName] &&\n          me.options.autoClearEmptyNode &&\n          dtd.$inline[node.tagName] &&\n          !dtd.$empty[node.tagName] &&\n          (!node.attrs || utils.isEmptyObject(node.attrs))\n        ) {\n          if (!node.firstChild()) node.parentNode.removeChild(node);\n          else if (\n            node.tagName == \"span\" &&\n            (!node.attrs || utils.isEmptyObject(node.attrs))\n          ) {\n            node.parentNode.removeChild(node, true);\n          }\n          return;\n        }\n        switch (node.tagName) {\n          case \"style\":\n          case \"script\":\n            node.setAttr({\n              cdata_tag: node.tagName,\n              cdata_data: node.innerHTML() || \"\",\n              _ue_custom_node_: \"true\"\n            });\n            node.tagName = \"div\";\n            node.innerHTML(\"\");\n            break;\n          case \"a\":\n            if ((val = node.getAttr(\"href\"))) {\n              node.setAttr(\"_href\", val);\n            }\n            break;\n          case \"img\":\n            //todo base64暂时去掉，后边做远程图片上传后，干掉这个\n            if ((val = node.getAttr(\"src\"))) {\n              if (/^data:/.test(val)) {\n                node.parentNode.removeChild(node);\n                break;\n              }\n            }\n            node.setAttr(\"_src\", node.getAttr(\"src\"));\n            break;\n          case \"span\":\n            if (browser.webkit && (val = node.getStyle(\"white-space\"))) {\n              if (/nowrap|normal/.test(val)) {\n                node.setStyle(\"white-space\", \"\");\n                if (\n                  me.options.autoClearEmptyNode &&\n                  utils.isEmptyObject(node.attrs)\n                ) {\n                  node.parentNode.removeChild(node, true);\n                }\n              }\n            }\n            val = node.getAttr(\"id\");\n            if (val && /^_baidu_bookmark_/i.test(val)) {\n              node.parentNode.removeChild(node);\n            }\n            break;\n          case \"p\":\n            if ((val = node.getAttr(\"align\"))) {\n              node.setAttr(\"align\");\n              node.setStyle(\"text-align\", val);\n            }\n            //trace:3431\n            //                        var cssStyle = node.getAttr('style');\n            //                        if (cssStyle) {\n            //                            cssStyle = cssStyle.replace(/(margin|padding)[^;]+/g, '');\n            //                            node.setAttr('style', cssStyle)\n            //\n            //                        }\n            //p标签不允许嵌套\n            utils.each(node.children, function(n) {\n              if (n.type == \"element\" && n.tagName == \"p\") {\n                var next = n.nextSibling();\n                node.parentNode.insertAfter(n, node);\n                var last = n;\n                while (next) {\n                  var tmp = next.nextSibling();\n                  node.parentNode.insertAfter(next, last);\n                  last = next;\n                  next = tmp;\n                }\n                return false;\n              }\n            });\n            if (!node.firstChild()) {\n              node.innerHTML(browser.ie ? \"&nbsp;\" : \"<br/>\");\n            }\n            break;\n          case \"div\":\n            if (node.getAttr(\"cdata_tag\")) {\n              break;\n            }\n            //针对代码这里不处理插入代码的div\n            val = node.getAttr(\"class\");\n            if (val && /^line number\\d+/.test(val)) {\n              break;\n            }\n            if (!allowDivTransToP) {\n              break;\n            }\n            var tmpNode,\n              p = UE.uNode.createElement(\"p\");\n            while ((tmpNode = node.firstChild())) {\n              if (\n                tmpNode.type == \"text\" ||\n                !UE.dom.dtd.$block[tmpNode.tagName]\n              ) {\n                p.appendChild(tmpNode);\n              } else {\n                if (p.firstChild()) {\n                  node.parentNode.insertBefore(p, node);\n                  p = UE.uNode.createElement(\"p\");\n                } else {\n                  node.parentNode.insertBefore(tmpNode, node);\n                }\n              }\n            }\n            if (p.firstChild()) {\n              node.parentNode.insertBefore(p, node);\n            }\n            node.parentNode.removeChild(node);\n            break;\n          case \"dl\":\n            node.tagName = \"ul\";\n            break;\n          case \"dt\":\n          case \"dd\":\n            node.tagName = \"li\";\n            break;\n          case \"li\":\n            var className = node.getAttr(\"class\");\n            if (!className || !/list\\-/.test(className)) {\n              node.setAttr();\n            }\n            var tmpNodes = node.getNodesByTagName(\"ol ul\");\n            UE.utils.each(tmpNodes, function(n) {\n              node.parentNode.insertAfter(n, node);\n            });\n            break;\n          case \"td\":\n          case \"th\":\n          case \"caption\":\n            if (!node.children || !node.children.length) {\n              node.appendChild(\n                browser.ie11below\n                  ? UE.uNode.createText(\" \")\n                  : UE.uNode.createElement(\"br\")\n              );\n            }\n            break;\n          case \"table\":\n            if (me.options.disabledTableInTable && tdParent(node)) {\n              node.parentNode.insertBefore(\n                UE.uNode.createText(node.innerText()),\n                node\n              );\n              node.parentNode.removeChild(node);\n            }\n        }\n      }\n      //            if(node.type == 'comment'){\n      //                node.parentNode.removeChild(node);\n      //            }\n    });\n  });\n\n  //从编辑器出去的内容处理\n  me.addOutputRule(function(root) {\n    var val;\n    root.traversal(function(node) {\n      if (node.type == \"element\") {\n        if (\n          me.options.autoClearEmptyNode &&\n          dtd.$inline[node.tagName] &&\n          !dtd.$empty[node.tagName] &&\n          (!node.attrs || utils.isEmptyObject(node.attrs))\n        ) {\n          if (!node.firstChild()) node.parentNode.removeChild(node);\n          else if (\n            node.tagName == \"span\" &&\n            (!node.attrs || utils.isEmptyObject(node.attrs))\n          ) {\n            node.parentNode.removeChild(node, true);\n          }\n          return;\n        }\n        switch (node.tagName) {\n          case \"div\":\n            if ((val = node.getAttr(\"cdata_tag\"))) {\n              node.tagName = val;\n              node.appendChild(UE.uNode.createText(node.getAttr(\"cdata_data\")));\n              node.setAttr({\n                cdata_tag: \"\",\n                cdata_data: \"\",\n                _ue_custom_node_: \"\"\n              });\n            }\n            break;\n          case \"a\":\n            if ((val = node.getAttr(\"_href\"))) {\n              node.setAttr({\n                href: utils.html(val),\n                _href: \"\"\n              });\n            }\n            break;\n            break;\n          case \"span\":\n            val = node.getAttr(\"id\");\n            if (val && /^_baidu_bookmark_/i.test(val)) {\n              node.parentNode.removeChild(node);\n            }\n            //将color的rgb格式转换为#16进制格式\n            if (me.getOpt(\"rgb2Hex\")) {\n              var cssStyle = node.getAttr(\"style\");\n              if (cssStyle) {\n                node.setAttr(\n                  \"style\",\n                  cssStyle.replace(/rgba?\\(([\\d,\\s]+)\\)/g, function(a, value) {\n                    var array = value.split(\",\");\n                    if (array.length > 3) return \"\";\n                    value = \"#\";\n                    for (var i = 0, color; (color = array[i++]); ) {\n                      color = parseInt(\n                        color.replace(/[^\\d]/gi, \"\"),\n                        10\n                      ).toString(16);\n                      value += color.length == 1 ? \"0\" + color : color;\n                    }\n                    return value.toUpperCase();\n                  })\n                );\n              }\n            }\n            break;\n          case \"img\":\n            if ((val = node.getAttr(\"_src\"))) {\n              node.setAttr({\n                src: node.getAttr(\"_src\"),\n                _src: \"\"\n              });\n            }\n        }\n      }\n    });\n  });\n};\n\n\n// plugins/inserthtml.js\n/**\n * 插入html字符串插件\n * @file\n * @since 1.2.6.1\n */\n\n/**\n * 插入html代码\n * @command inserthtml\n * @method execCommand\n * @param { String } cmd 命令字符串\n * @param { String } html 插入的html字符串\n * @remaind 插入的标签内容是在当前的选区位置上插入，如果当前是闭合状态，那直接插入内容， 如果当前是选中状态，将先清除当前选中内容后，再做插入\n * @warning 注意:该命令会对当前选区的位置，对插入的内容进行过滤转换处理。 过滤的规则遵循html语意化的原则。\n * @example\n * ```javascript\n * //xxx[BB]xxx 当前选区为非闭合选区，选中BB这两个文本\n * //执行命令，插入<b>CC</b>\n * //插入后的效果 xxx<b>CC</b>xxx\n * //<p>xx|xxx</p> 当前选区为闭合状态\n * //插入<p>CC</p>\n * //结果 <p>xx</p><p>CC</p><p>xxx</p>\n * //<p>xxxx</p>|</p>xxx</p> 当前选区在两个p标签之间\n * //插入 xxxx\n * //结果 <p>xxxx</p><p>xxxx</p></p>xxx</p>\n * ```\n */\n\nUE.commands[\"inserthtml\"] = {\n  execCommand: function(command, html, notNeedFilter) {\n    var me = this,\n      range,\n      div;\n    if (!html) {\n      return;\n    }\n    if (me.fireEvent(\"beforeinserthtml\", html) === true) {\n      return;\n    }\n    range = me.selection.getRange();\n    div = range.document.createElement(\"div\");\n    div.style.display = \"inline\";\n\n    if (!notNeedFilter) {\n      var root = UE.htmlparser(html);\n      //如果给了过滤规则就先进行过滤\n      if (me.options.filterRules) {\n        UE.filterNode(root, me.options.filterRules);\n      }\n      //执行默认的处理\n      me.filterInputRule(root);\n      html = root.toHtml();\n    }\n    div.innerHTML = utils.trim(html);\n\n    if (!range.collapsed) {\n      var tmpNode = range.startContainer;\n      if (domUtils.isFillChar(tmpNode)) {\n        range.setStartBefore(tmpNode);\n      }\n      tmpNode = range.endContainer;\n      if (domUtils.isFillChar(tmpNode)) {\n        range.setEndAfter(tmpNode);\n      }\n      range.txtToElmBoundary();\n      //结束边界可能放到了br的前边，要把br包含进来\n      // x[xxx]<br/>\n      if (range.endContainer && range.endContainer.nodeType == 1) {\n        tmpNode = range.endContainer.childNodes[range.endOffset];\n        if (tmpNode && domUtils.isBr(tmpNode)) {\n          range.setEndAfter(tmpNode);\n        }\n      }\n      if (range.startOffset == 0) {\n        tmpNode = range.startContainer;\n        if (domUtils.isBoundaryNode(tmpNode, \"firstChild\")) {\n          tmpNode = range.endContainer;\n          if (\n            range.endOffset ==\n              (tmpNode.nodeType == 3\n                ? tmpNode.nodeValue.length\n                : tmpNode.childNodes.length) &&\n            domUtils.isBoundaryNode(tmpNode, \"lastChild\")\n          ) {\n            me.body.innerHTML = \"<p>\" + (browser.ie ? \"\" : \"<br/>\") + \"</p>\";\n            range.setStart(me.body.firstChild, 0).collapse(true);\n          }\n        }\n      }\n      !range.collapsed && range.deleteContents();\n      if (range.startContainer.nodeType == 1) {\n        var child = range.startContainer.childNodes[range.startOffset],\n          pre;\n        if (\n          child &&\n          domUtils.isBlockElm(child) &&\n          (pre = child.previousSibling) &&\n          domUtils.isBlockElm(pre)\n        ) {\n          range.setEnd(pre, pre.childNodes.length).collapse();\n          while (child.firstChild) {\n            pre.appendChild(child.firstChild);\n          }\n          domUtils.remove(child);\n        }\n      }\n    }\n\n    var child,\n      parent,\n      pre,\n      tmp,\n      hadBreak = 0,\n      nextNode;\n    //如果当前位置选中了fillchar要干掉，要不会产生空行\n    if (range.inFillChar()) {\n      child = range.startContainer;\n      if (domUtils.isFillChar(child)) {\n        range.setStartBefore(child).collapse(true);\n        domUtils.remove(child);\n      } else if (domUtils.isFillChar(child, true)) {\n        child.nodeValue = child.nodeValue.replace(fillCharReg, \"\");\n        range.startOffset--;\n        range.collapsed && range.collapse(true);\n      }\n    }\n    //列表单独处理\n    var li = domUtils.findParentByTagName(range.startContainer, \"li\", true);\n    if (li) {\n      var next, last;\n      while ((child = div.firstChild)) {\n        //针对hr单独处理一下先\n        while (\n          child &&\n          (child.nodeType == 3 ||\n            !domUtils.isBlockElm(child) ||\n            child.tagName == \"HR\")\n        ) {\n          next = child.nextSibling;\n          range.insertNode(child).collapse();\n          last = child;\n          child = next;\n        }\n        if (child) {\n          if (/^(ol|ul)$/i.test(child.tagName)) {\n            while (child.firstChild) {\n              last = child.firstChild;\n              domUtils.insertAfter(li, child.firstChild);\n              li = li.nextSibling;\n            }\n            domUtils.remove(child);\n          } else {\n            var tmpLi;\n            next = child.nextSibling;\n            tmpLi = me.document.createElement(\"li\");\n            domUtils.insertAfter(li, tmpLi);\n            tmpLi.appendChild(child);\n            last = child;\n            child = next;\n            li = tmpLi;\n          }\n        }\n      }\n      li = domUtils.findParentByTagName(range.startContainer, \"li\", true);\n      if (domUtils.isEmptyBlock(li)) {\n        domUtils.remove(li);\n      }\n      if (last) {\n        range.setStartAfter(last).collapse(true).select(true);\n      }\n    } else {\n      while ((child = div.firstChild)) {\n        if (hadBreak) {\n          var p = me.document.createElement(\"p\");\n          while (child && (child.nodeType == 3 || !dtd.$block[child.tagName])) {\n            nextNode = child.nextSibling;\n            p.appendChild(child);\n            child = nextNode;\n          }\n          if (p.firstChild) {\n            child = p;\n          }\n        }\n        range.insertNode(child);\n        nextNode = child.nextSibling;\n        if (\n          !hadBreak &&\n          child.nodeType == domUtils.NODE_ELEMENT &&\n          domUtils.isBlockElm(child)\n        ) {\n          parent = domUtils.findParent(child, function(node) {\n            return domUtils.isBlockElm(node);\n          });\n          if (\n            parent &&\n            parent.tagName.toLowerCase() != \"body\" &&\n            !(\n              dtd[parent.tagName][child.nodeName] && child.parentNode === parent\n            )\n          ) {\n            if (!dtd[parent.tagName][child.nodeName]) {\n              pre = parent;\n            } else {\n              tmp = child.parentNode;\n              while (tmp !== parent) {\n                pre = tmp;\n                tmp = tmp.parentNode;\n              }\n            }\n\n            domUtils.breakParent(child, pre || tmp);\n            //去掉break后前一个多余的节点  <p>|<[p> ==> <p></p><div></div><p>|</p>\n            var pre = child.previousSibling;\n            domUtils.trimWhiteTextNode(pre);\n            if (!pre.childNodes.length) {\n              domUtils.remove(pre);\n            }\n            //trace:2012,在非ie的情况，切开后剩下的节点有可能不能点入光标添加br占位\n\n            if (\n              !browser.ie &&\n              (next = child.nextSibling) &&\n              domUtils.isBlockElm(next) &&\n              next.lastChild &&\n              !domUtils.isBr(next.lastChild)\n            ) {\n              next.appendChild(me.document.createElement(\"br\"));\n            }\n            hadBreak = 1;\n          }\n        }\n        var next = child.nextSibling;\n        if (!div.firstChild && next && domUtils.isBlockElm(next)) {\n          range.setStart(next, 0).collapse(true);\n          break;\n        }\n        range.setEndAfter(child).collapse();\n      }\n\n      child = range.startContainer;\n\n      if (nextNode && domUtils.isBr(nextNode)) {\n        domUtils.remove(nextNode);\n      }\n      //用chrome可能有空白展位符\n      if (domUtils.isBlockElm(child) && domUtils.isEmptyNode(child)) {\n        if ((nextNode = child.nextSibling)) {\n          domUtils.remove(child);\n          if (nextNode.nodeType == 1 && dtd.$block[nextNode.tagName]) {\n            range.setStart(nextNode, 0).collapse(true).shrinkBoundary();\n          }\n        } else {\n          try {\n            child.innerHTML = browser.ie ? domUtils.fillChar : \"<br/>\";\n          } catch (e) {\n            range.setStartBefore(child);\n            domUtils.remove(child);\n          }\n        }\n      }\n      //加上true因为在删除表情等时会删两次，第一次是删的fillData\n      try {\n        range.select(true);\n      } catch (e) {}\n    }\n\n    setTimeout(function() {\n      range = me.selection.getRange();\n      range.scrollToView(\n        me.autoHeightEnabled,\n        me.autoHeightEnabled ? domUtils.getXY(me.iframe).y : 0\n      );\n      me.fireEvent(\"afterinserthtml\", html);\n    }, 200);\n  }\n};\n\n\n// plugins/autotypeset.js\n/**\n * 自动排版\n * @file\n * @since 1.2.6.1\n */\n\n/**\n * 对当前编辑器的内容执行自动排版， 排版的行为根据config配置文件里的“autotypeset”选项进行控制。\n * @command autotypeset\n * @method execCommand\n * @param { String } cmd 命令字符串\n * @example\n * ```javascript\n * editor.execCommand( 'autotypeset' );\n * ```\n */\n\nUE.plugins[\"autotypeset\"] = function() {\n  this.setOpt({\n    autotypeset: {\n      mergeEmptyline: true, //合并空行\n      removeClass: true, //去掉冗余的class\n      removeEmptyline: false, //去掉空行\n      textAlign: \"left\", //段落的排版方式，可以是 left,right,center,justify 去掉这个属性表示不执行排版\n      imageBlockLine: \"center\", //图片的浮动方式，独占一行剧中,左右浮动，默认: center,left,right,none 去掉这个属性表示不执行排版\n      pasteFilter: false, //根据规则过滤没事粘贴进来的内容\n      clearFontSize: false, //去掉所有的内嵌字号，使用编辑器默认的字号\n      clearFontFamily: false, //去掉所有的内嵌字体，使用编辑器默认的字体\n      removeEmptyNode: false, // 去掉空节点\n      //可以去掉的标签\n      removeTagNames: utils.extend({ div: 1 }, dtd.$removeEmpty),\n      indent: false, // 行首缩进\n      indentValue: \"2em\", //行首缩进的大小\n      bdc2sb: false,\n      tobdc: false\n    }\n  });\n\n  var me = this,\n    opt = me.options.autotypeset,\n    remainClass = {\n      selectTdClass: 1,\n      pagebreak: 1,\n      anchorclass: 1\n    },\n    remainTag = {\n      li: 1\n    },\n    tags = {\n      div: 1,\n      p: 1,\n      //trace:2183 这些也认为是行\n      blockquote: 1,\n      center: 1,\n      h1: 1,\n      h2: 1,\n      h3: 1,\n      h4: 1,\n      h5: 1,\n      h6: 1,\n      span: 1\n    },\n    highlightCont;\n  //升级了版本，但配置项目里没有autotypeset\n  if (!opt) {\n    return;\n  }\n\n  readLocalOpts();\n\n  function isLine(node, notEmpty) {\n    if (!node || node.nodeType == 3) return 0;\n    if (domUtils.isBr(node)) return 1;\n    if (node && node.parentNode && tags[node.tagName.toLowerCase()]) {\n      if (\n        (highlightCont && highlightCont.contains(node)) ||\n        node.getAttribute(\"pagebreak\")\n      ) {\n        return 0;\n      }\n\n      return notEmpty\n        ? !domUtils.isEmptyBlock(node)\n        : domUtils.isEmptyBlock(\n            node,\n            new RegExp(\"[\\\\s\" + domUtils.fillChar + \"]\", \"g\")\n          );\n    }\n  }\n\n  function removeNotAttributeSpan(node) {\n    if (!node.style.cssText) {\n      domUtils.removeAttributes(node, [\"style\"]);\n      if (\n        node.tagName.toLowerCase() == \"span\" &&\n        domUtils.hasNoAttributes(node)\n      ) {\n        domUtils.remove(node, true);\n      }\n    }\n  }\n  function autotype(type, html) {\n    var me = this,\n      cont;\n    if (html) {\n      if (!opt.pasteFilter) {\n        return;\n      }\n      cont = me.document.createElement(\"div\");\n      cont.innerHTML = html.html;\n    } else {\n      cont = me.document.body;\n    }\n    var nodes = domUtils.getElementsByTagName(cont, \"*\");\n\n    // 行首缩进，段落方向，段间距，段内间距\n    for (var i = 0, ci; (ci = nodes[i++]); ) {\n      if (me.fireEvent(\"excludeNodeinautotype\", ci) === true) {\n        continue;\n      }\n      //font-size\n      if (opt.clearFontSize && ci.style.fontSize) {\n        domUtils.removeStyle(ci, \"font-size\");\n\n        removeNotAttributeSpan(ci);\n      }\n      //font-family\n      if (opt.clearFontFamily && ci.style.fontFamily) {\n        domUtils.removeStyle(ci, \"font-family\");\n        removeNotAttributeSpan(ci);\n      }\n\n      if (isLine(ci)) {\n        //合并空行\n        if (opt.mergeEmptyline) {\n          var next = ci.nextSibling,\n            tmpNode,\n            isBr = domUtils.isBr(ci);\n          while (isLine(next)) {\n            tmpNode = next;\n            next = tmpNode.nextSibling;\n            if (isBr && (!next || (next && !domUtils.isBr(next)))) {\n              break;\n            }\n            domUtils.remove(tmpNode);\n          }\n        }\n        //去掉空行，保留占位的空行\n        if (\n          opt.removeEmptyline &&\n          domUtils.inDoc(ci, cont) &&\n          !remainTag[ci.parentNode.tagName.toLowerCase()]\n        ) {\n          if (domUtils.isBr(ci)) {\n            next = ci.nextSibling;\n            if (next && !domUtils.isBr(next)) {\n              continue;\n            }\n          }\n          domUtils.remove(ci);\n          continue;\n        }\n      }\n      if (isLine(ci, true) && ci.tagName != \"SPAN\") {\n        if (opt.indent) {\n          ci.style.textIndent = opt.indentValue;\n        }\n        if (opt.textAlign) {\n          ci.style.textAlign = opt.textAlign;\n        }\n        // if(opt.lineHeight)\n        //     ci.style.lineHeight = opt.lineHeight + 'cm';\n      }\n\n      //去掉class,保留的class不去掉\n      if (\n        opt.removeClass &&\n        ci.className &&\n        !remainClass[ci.className.toLowerCase()]\n      ) {\n        if (highlightCont && highlightCont.contains(ci)) {\n          continue;\n        }\n        domUtils.removeAttributes(ci, [\"class\"]);\n      }\n\n      //表情不处理\n      if (\n        opt.imageBlockLine &&\n        ci.tagName.toLowerCase() == \"img\" &&\n        !ci.getAttribute(\"emotion\")\n      ) {\n        if (html) {\n          var img = ci;\n          switch (opt.imageBlockLine) {\n            case \"left\":\n            case \"right\":\n            case \"none\":\n              var pN = img.parentNode,\n                tmpNode,\n                pre,\n                next;\n              while (dtd.$inline[pN.tagName] || pN.tagName == \"A\") {\n                pN = pN.parentNode;\n              }\n              tmpNode = pN;\n              if (\n                tmpNode.tagName == \"P\" &&\n                domUtils.getStyle(tmpNode, \"text-align\") == \"center\"\n              ) {\n                if (\n                  !domUtils.isBody(tmpNode) &&\n                  domUtils.getChildCount(tmpNode, function(node) {\n                    return !domUtils.isBr(node) && !domUtils.isWhitespace(node);\n                  }) == 1\n                ) {\n                  pre = tmpNode.previousSibling;\n                  next = tmpNode.nextSibling;\n                  if (\n                    pre &&\n                    next &&\n                    pre.nodeType == 1 &&\n                    next.nodeType == 1 &&\n                    pre.tagName == next.tagName &&\n                    domUtils.isBlockElm(pre)\n                  ) {\n                    pre.appendChild(tmpNode.firstChild);\n                    while (next.firstChild) {\n                      pre.appendChild(next.firstChild);\n                    }\n                    domUtils.remove(tmpNode);\n                    domUtils.remove(next);\n                  } else {\n                    domUtils.setStyle(tmpNode, \"text-align\", \"\");\n                  }\n                }\n              }\n              domUtils.setStyle(img, \"float\", opt.imageBlockLine);\n              break;\n            case \"center\":\n              if (me.queryCommandValue(\"imagefloat\") != \"center\") {\n                pN = img.parentNode;\n                domUtils.setStyle(img, \"float\", \"none\");\n                tmpNode = img;\n                while (\n                  pN &&\n                  domUtils.getChildCount(pN, function(node) {\n                    return !domUtils.isBr(node) && !domUtils.isWhitespace(node);\n                  }) == 1 &&\n                  (dtd.$inline[pN.tagName] || pN.tagName == \"A\")\n                ) {\n                  tmpNode = pN;\n                  pN = pN.parentNode;\n                }\n                var pNode = me.document.createElement(\"p\");\n                domUtils.setAttributes(pNode, {\n                  style: \"text-align:center\"\n                });\n                tmpNode.parentNode.insertBefore(pNode, tmpNode);\n                pNode.appendChild(tmpNode);\n                domUtils.setStyle(tmpNode, \"float\", \"\");\n              }\n          }\n        } else {\n          var range = me.selection.getRange();\n          range.selectNode(ci).select();\n          me.execCommand(\"imagefloat\", opt.imageBlockLine);\n        }\n      }\n\n      //去掉冗余的标签\n      if (opt.removeEmptyNode) {\n        if (\n          opt.removeTagNames[ci.tagName.toLowerCase()] &&\n          domUtils.hasNoAttributes(ci) &&\n          domUtils.isEmptyBlock(ci)\n        ) {\n          domUtils.remove(ci);\n        }\n      }\n    }\n    if (opt.tobdc) {\n      var root = UE.htmlparser(cont.innerHTML);\n      root.traversal(function(node) {\n        if (node.type == \"text\") {\n          node.data = ToDBC(node.data);\n        }\n      });\n      cont.innerHTML = root.toHtml();\n    }\n    if (opt.bdc2sb) {\n      var root = UE.htmlparser(cont.innerHTML);\n      root.traversal(function(node) {\n        if (node.type == \"text\") {\n          node.data = DBC2SB(node.data);\n        }\n      });\n      cont.innerHTML = root.toHtml();\n    }\n    if (html) {\n      html.html = cont.innerHTML;\n    }\n  }\n  if (opt.pasteFilter) {\n    me.addListener(\"beforepaste\", autotype);\n  }\n\n  function DBC2SB(str) {\n    var result = \"\";\n    for (var i = 0; i < str.length; i++) {\n      var code = str.charCodeAt(i); //获取当前字符的unicode编码\n      if (code >= 65281 && code <= 65373) {\n        //在这个unicode编码范围中的是所有的英文字母已经各种字符\n        result += String.fromCharCode(str.charCodeAt(i) - 65248); //把全角字符的unicode编码转换为对应半角字符的unicode码\n      } else if (code == 12288) {\n        //空格\n        result += String.fromCharCode(str.charCodeAt(i) - 12288 + 32);\n      } else {\n        result += str.charAt(i);\n      }\n    }\n    return result;\n  }\n  function ToDBC(txtstring) {\n    txtstring = utils.html(txtstring);\n    var tmp = \"\";\n    var mark = \"\"; /*用于判断,如果是html尖括里的标记,则不进行全角的转换*/\n    for (var i = 0; i < txtstring.length; i++) {\n      if (txtstring.charCodeAt(i) == 32) {\n        tmp = tmp + String.fromCharCode(12288);\n      } else if (txtstring.charCodeAt(i) < 127) {\n        tmp = tmp + String.fromCharCode(txtstring.charCodeAt(i) + 65248);\n      } else {\n        tmp += txtstring.charAt(i);\n      }\n    }\n    return tmp;\n  }\n\n  function readLocalOpts() {\n    var cookieOpt = me.getPreferences(\"autotypeset\");\n    utils.extend(me.options.autotypeset, cookieOpt);\n  }\n\n  me.commands[\"autotypeset\"] = {\n    execCommand: function() {\n      me.removeListener(\"beforepaste\", autotype);\n      if (opt.pasteFilter) {\n        me.addListener(\"beforepaste\", autotype);\n      }\n      autotype.call(me);\n    }\n  };\n};\n\n\n// plugins/autosubmit.js\n/**\n * 快捷键提交\n * @file\n * @since 1.2.6.1\n */\n\n/**\n * 提交表单\n * @command autosubmit\n * @method execCommand\n * @param { String } cmd 命令字符串\n * @example\n * ```javascript\n * editor.execCommand( 'autosubmit' );\n * ```\n */\n\nUE.plugin.register(\"autosubmit\", function() {\n  return {\n    shortcutkey: {\n      autosubmit: \"ctrl+13\" //手动提交\n    },\n    commands: {\n      autosubmit: {\n        execCommand: function() {\n          var me = this,\n            form = domUtils.findParentByTagName(me.iframe, \"form\", false);\n          if (form) {\n            if (me.fireEvent(\"beforesubmit\") === false) {\n              return;\n            }\n            me.sync();\n            form.submit();\n          }\n        }\n      }\n    }\n  };\n});\n\n\n// plugins/background.js\n/**\n * 背景插件，为UEditor提供设置背景功能\n * @file\n * @since 1.2.6.1\n */\nUE.plugin.register(\"background\", function() {\n  var me = this,\n    cssRuleId = \"editor_background\",\n    isSetColored,\n    reg = new RegExp(\"body[\\\\s]*\\\\{(.+)\\\\}\", \"i\");\n\n  function stringToObj(str) {\n    var obj = {},\n      styles = str.split(\";\");\n    utils.each(styles, function(v) {\n      var index = v.indexOf(\":\"),\n        key = utils.trim(v.substr(0, index)).toLowerCase();\n      key && (obj[key] = utils.trim(v.substr(index + 1) || \"\"));\n    });\n    return obj;\n  }\n\n  function setBackground(obj) {\n    if (obj) {\n      var styles = [];\n      for (var name in obj) {\n        if (obj.hasOwnProperty(name)) {\n          styles.push(name + \":\" + obj[name] + \"; \");\n        }\n      }\n      utils.cssRule(\n        cssRuleId,\n        styles.length ? \"body{\" + styles.join(\"\") + \"}\" : \"\",\n        me.document\n      );\n    } else {\n      utils.cssRule(cssRuleId, \"\", me.document);\n    }\n  }\n  //重写editor.hasContent方法\n\n  var orgFn = me.hasContents;\n  me.hasContents = function() {\n    if (me.queryCommandValue(\"background\")) {\n      return true;\n    }\n    return orgFn.apply(me, arguments);\n  };\n  return {\n    bindEvents: {\n      getAllHtml: function(type, headHtml) {\n        var body = this.body,\n          su = domUtils.getComputedStyle(body, \"background-image\"),\n          url = \"\";\n        if (su.indexOf(me.options.imagePath) > 0) {\n          url = su\n            .substring(su.indexOf(me.options.imagePath), su.length - 1)\n            .replace(/\"|\\(|\\)/gi, \"\");\n        } else {\n          url = su != \"none\" ? su.replace(/url\\(\"?|\"?\\)/gi, \"\") : \"\";\n        }\n        var html = '<style type=\"text/css\">body{';\n        var bgObj = {\n          \"background-color\":\n            domUtils.getComputedStyle(body, \"background-color\") || \"#ffffff\",\n          \"background-image\": url ? \"url(\" + url + \")\" : \"\",\n          \"background-repeat\":\n            domUtils.getComputedStyle(body, \"background-repeat\") || \"\",\n          \"background-position\": browser.ie\n            ? domUtils.getComputedStyle(body, \"background-position-x\") +\n                \" \" +\n                domUtils.getComputedStyle(body, \"background-position-y\")\n            : domUtils.getComputedStyle(body, \"background-position\"),\n          height: domUtils.getComputedStyle(body, \"height\")\n        };\n        for (var name in bgObj) {\n          if (bgObj.hasOwnProperty(name)) {\n            html += name + \":\" + bgObj[name] + \"; \";\n          }\n        }\n        html += \"}</style> \";\n        headHtml.push(html);\n      },\n      aftersetcontent: function() {\n        if (isSetColored == false) setBackground();\n      }\n    },\n    inputRule: function(root) {\n      isSetColored = false;\n      utils.each(root.getNodesByTagName(\"p\"), function(p) {\n        var styles = p.getAttr(\"data-background\");\n        if (styles) {\n          isSetColored = true;\n          setBackground(stringToObj(styles));\n          p.parentNode.removeChild(p);\n        }\n      });\n    },\n    outputRule: function(root) {\n      var me = this,\n        styles = (utils.cssRule(cssRuleId, me.document) || \"\")\n          .replace(/[\\n\\r]+/g, \"\")\n          .match(reg);\n      if (styles) {\n        root.appendChild(\n          UE.uNode.createElement(\n            '<p style=\"display:none;\" data-background=\"' +\n              utils.trim(styles[1].replace(/\"/g, \"\").replace(/[\\s]+/g, \" \")) +\n              '\"><br/></p>'\n          )\n        );\n      }\n    },\n    commands: {\n      background: {\n        execCommand: function(cmd, obj) {\n          setBackground(obj);\n        },\n        queryCommandValue: function() {\n          var me = this,\n            styles = (utils.cssRule(cssRuleId, me.document) || \"\")\n              .replace(/[\\n\\r]+/g, \"\")\n              .match(reg);\n          return styles ? stringToObj(styles[1]) : null;\n        },\n        notNeedUndo: true\n      }\n    }\n  };\n});\n\n\n// plugins/image.js\n/**\n * 图片插入、排版插件\n * @file\n * @since 1.2.6.1\n */\n\n/**\n * 图片对齐方式\n * @command imagefloat\n * @method execCommand\n * @remind 值center为独占一行居中\n * @param { String } cmd 命令字符串\n * @param { String } align 对齐方式，可传left、right、none、center\n * @remaind center表示图片独占一行\n * @example\n * ```javascript\n * editor.execCommand( 'imagefloat', 'center' );\n * ```\n */\n\n/**\n * 如果选区所在位置是图片区域\n * @command imagefloat\n * @method queryCommandValue\n * @param { String } cmd 命令字符串\n * @return { String } 返回图片对齐方式\n * @example\n * ```javascript\n * editor.queryCommandValue( 'imagefloat' );\n * ```\n */\n\nUE.commands[\"imagefloat\"] = {\n  execCommand: function(cmd, align) {\n    var me = this,\n      range = me.selection.getRange();\n    if (!range.collapsed) {\n      var img = range.getClosedNode();\n      if (img && img.tagName == \"IMG\") {\n        switch (align) {\n          case \"left\":\n          case \"right\":\n          case \"none\":\n            var pN = img.parentNode,\n              tmpNode,\n              pre,\n              next;\n            while (dtd.$inline[pN.tagName] || pN.tagName == \"A\") {\n              pN = pN.parentNode;\n            }\n            tmpNode = pN;\n            if (\n              tmpNode.tagName == \"P\" &&\n              domUtils.getStyle(tmpNode, \"text-align\") == \"center\"\n            ) {\n              if (\n                !domUtils.isBody(tmpNode) &&\n                domUtils.getChildCount(tmpNode, function(node) {\n                  return !domUtils.isBr(node) && !domUtils.isWhitespace(node);\n                }) == 1\n              ) {\n                pre = tmpNode.previousSibling;\n                next = tmpNode.nextSibling;\n                if (\n                  pre &&\n                  next &&\n                  pre.nodeType == 1 &&\n                  next.nodeType == 1 &&\n                  pre.tagName == next.tagName &&\n                  domUtils.isBlockElm(pre)\n                ) {\n                  pre.appendChild(tmpNode.firstChild);\n                  while (next.firstChild) {\n                    pre.appendChild(next.firstChild);\n                  }\n                  domUtils.remove(tmpNode);\n                  domUtils.remove(next);\n                } else {\n                  domUtils.setStyle(tmpNode, \"text-align\", \"\");\n                }\n              }\n\n              range.selectNode(img).select();\n            }\n            domUtils.setStyle(img, \"float\", align == \"none\" ? \"\" : align);\n            if (align == \"none\") {\n              domUtils.removeAttributes(img, \"align\");\n            }\n\n            break;\n          case \"center\":\n            if (me.queryCommandValue(\"imagefloat\") != \"center\") {\n              var pN = img.parentNode;\n              domUtils.setStyle(img, \"float\", \"\");\n              domUtils.removeAttributes(img, \"align\");\n              tmpNode = img;\n              while (\n                pN &&\n                domUtils.getChildCount(pN, function(node) {\n                  return !domUtils.isBr(node) && !domUtils.isWhitespace(node);\n                }) == 1 &&\n                (dtd.$inline[pN.tagName] || pN.tagName == \"A\")\n              ) {\n                tmpNode = pN;\n                pN = pN.parentNode;\n              }\n              range.setStartBefore(tmpNode).setCursor(false);\n              pN = me.document.createElement(\"div\");\n              pN.appendChild(tmpNode);\n              domUtils.setStyle(tmpNode, \"float\", \"\");\n\n              me.execCommand(\n                \"insertHtml\",\n                '<p class=\"_img_parent_tmp\" style=\"text-align:center\">' +\n                  pN.innerHTML +\n                  \"</p>\"\n              );\n\n              tmpNode = me.document.getElementsByClassName(\"_img_parent_tmp\")[0];\n              tmpNode.removeAttribute(\"class\");\n              tmpNode = tmpNode.firstChild;\n              range.selectNode(tmpNode).select();\n              //去掉后边多余的元素\n              next = tmpNode.parentNode.nextSibling;\n              if (next && domUtils.isEmptyNode(next)) {\n                domUtils.remove(next);\n              }\n            }\n\n            break;\n        }\n      }\n    }\n  },\n  queryCommandValue: function() {\n    var range = this.selection.getRange(),\n      startNode,\n      floatStyle;\n    if (range.collapsed) {\n      return \"none\";\n    }\n    startNode = range.getClosedNode();\n    if (startNode && startNode.nodeType == 1 && startNode.tagName == \"IMG\") {\n      floatStyle =\n        domUtils.getComputedStyle(startNode, \"float\") ||\n        startNode.getAttribute(\"align\");\n\n      if (floatStyle == \"none\") {\n        floatStyle = domUtils.getComputedStyle(\n          startNode.parentNode,\n          \"text-align\"\n        ) == \"center\"\n          ? \"center\"\n          : floatStyle;\n      }\n      return {\n        left: 1,\n        right: 1,\n        center: 1\n      }[floatStyle]\n        ? floatStyle\n        : \"none\";\n    }\n    return \"none\";\n  },\n  queryCommandState: function() {\n    var range = this.selection.getRange(),\n      startNode;\n\n    if (range.collapsed) return -1;\n\n    startNode = range.getClosedNode();\n    if (startNode && startNode.nodeType == 1 && startNode.tagName == \"IMG\") {\n      return 0;\n    }\n    return -1;\n  }\n};\n\n/**\n * 插入图片\n * @command insertimage\n * @method execCommand\n * @param { String } cmd 命令字符串\n * @param { Object } opt 属性键值对，这些属性都将被复制到当前插入图片\n * @remind 该命令第二个参数可接受一个图片配置项对象的数组，可以插入多张图片，\n * 此时数组的每一个元素都是一个Object类型的图片属性集合。\n * @example\n * ```javascript\n * editor.execCommand( 'insertimage', {\n *     src:'a/b/c.jpg',\n *     width:'100',\n *     height:'100'\n * } );\n * ```\n * @example\n * ```javascript\n * editor.execCommand( 'insertimage', [{\n *     src:'a/b/c.jpg',\n *     width:'100',\n *     height:'100'\n * },{\n *     src:'a/b/d.jpg',\n *     width:'100',\n *     height:'100'\n * }] );\n * ```\n */\n\nUE.commands[\"insertimage\"] = {\n  execCommand: function(cmd, opt) {\n    opt = utils.isArray(opt) ? opt : [opt];\n    if (!opt.length) {\n      return;\n    }\n    var me = this,\n      range = me.selection.getRange(),\n      img = range.getClosedNode();\n\n    if (me.fireEvent(\"beforeinsertimage\", opt) === true) {\n      return;\n    }\n\n    if (\n      img &&\n      /img/i.test(img.tagName) &&\n      (img.className != \"edui-faked-video\" ||\n        img.className.indexOf(\"edui-upload-video\") != -1) &&\n      !img.getAttribute(\"word_img\")\n    ) {\n      var first = opt.shift();\n      var floatStyle = first[\"floatStyle\"];\n      delete first[\"floatStyle\"];\n      ////                img.style.border = (first.border||0) +\"px solid #000\";\n      ////                img.style.margin = (first.margin||0) +\"px\";\n      //                img.style.cssText += ';margin:' + (first.margin||0) +\"px;\" + 'border:' + (first.border||0) +\"px solid #000\";\n      domUtils.setAttributes(img, first);\n      me.execCommand(\"imagefloat\", floatStyle);\n      if (opt.length > 0) {\n        range.setStartAfter(img).setCursor(false, true);\n        me.execCommand(\"insertimage\", opt);\n      }\n    } else {\n      var html = [],\n        str = \"\",\n        ci;\n      ci = opt[0];\n      if (opt.length == 1) {\n        str =\n          '<img src=\"' +\n          ci.src +\n          '\" ' +\n          (ci._src ? ' _src=\"' + ci._src + '\" ' : \"\") +\n          (ci.width ? 'width=\"' + ci.width + '\" ' : \"\") +\n          (ci.height ? ' height=\"' + ci.height + '\" ' : \"\") +\n          (ci[\"floatStyle\"] == \"left\" || ci[\"floatStyle\"] == \"right\"\n            ? ' style=\"float:' + ci[\"floatStyle\"] + ';\"'\n            : \"\") +\n          (ci.title && ci.title != \"\" ? ' title=\"' + ci.title + '\"' : \"\") +\n          (ci.border && ci.border != \"0\" ? ' border=\"' + ci.border + '\"' : \"\") +\n          (ci.alt && ci.alt != \"\" ? ' alt=\"' + ci.alt + '\"' : \"\") +\n          (ci.hspace && ci.hspace != \"0\"\n            ? ' hspace = \"' + ci.hspace + '\"'\n            : \"\") +\n          (ci.vspace && ci.vspace != \"0\"\n            ? ' vspace = \"' + ci.vspace + '\"'\n            : \"\") +\n          \"/>\";\n        if (ci[\"floatStyle\"] == \"center\") {\n          str = '<p style=\"text-align: center\">' + str + \"</p>\";\n        }\n        html.push(str);\n      } else {\n        for (var i = 0; (ci = opt[i++]); ) {\n          str =\n            \"<p \" +\n            (ci[\"floatStyle\"] == \"center\"\n              ? 'style=\"text-align: center\" '\n              : \"\") +\n            '><img src=\"' +\n            ci.src +\n            '\" ' +\n            (ci.width ? 'width=\"' + ci.width + '\" ' : \"\") +\n            (ci._src ? ' _src=\"' + ci._src + '\" ' : \"\") +\n            (ci.height ? ' height=\"' + ci.height + '\" ' : \"\") +\n            ' style=\"' +\n            (ci[\"floatStyle\"] && ci[\"floatStyle\"] != \"center\"\n              ? \"float:\" + ci[\"floatStyle\"] + \";\"\n              : \"\") +\n            (ci.border || \"\") +\n            '\" ' +\n            (ci.title ? ' title=\"' + ci.title + '\"' : \"\") +\n            \" /></p>\";\n          html.push(str);\n        }\n      }\n\n      me.execCommand(\"insertHtml\", html.join(\"\"));\n    }\n\n    me.fireEvent(\"afterinsertimage\", opt);\n  }\n};\n\n\n// plugins/justify.js\n/**\n * 段落格式\n * @file\n * @since 1.2.6.1\n */\n\n/**\n * 段落对齐方式\n * @command justify\n * @method execCommand\n * @param { String } cmd 命令字符串\n * @param { String } align 对齐方式：left => 居左，right => 居右，center => 居中，justify => 两端对齐\n * @example\n * ```javascript\n * editor.execCommand( 'justify', 'center' );\n * ```\n */\n/**\n * 如果选区所在位置是段落区域，返回当前段落对齐方式\n * @command justify\n * @method queryCommandValue\n * @param { String } cmd 命令字符串\n * @return { String } 返回段落对齐方式\n * @example\n * ```javascript\n * editor.queryCommandValue( 'justify' );\n * ```\n */\n\nUE.plugins[\"justify\"] = function() {\n  var me = this,\n    block = domUtils.isBlockElm,\n    defaultValue = {\n      left: 1,\n      right: 1,\n      center: 1,\n      justify: 1\n    },\n    doJustify = function(range, style) {\n      var bookmark = range.createBookmark(),\n        filterFn = function(node) {\n          return node.nodeType == 1\n            ? node.tagName.toLowerCase() != \"br\" &&\n                !domUtils.isBookmarkNode(node)\n            : !domUtils.isWhitespace(node);\n        };\n\n      range.enlarge(true);\n      var bookmark2 = range.createBookmark(),\n        current = domUtils.getNextDomNode(bookmark2.start, false, filterFn),\n        tmpRange = range.cloneRange(),\n        tmpNode;\n      while (\n        current &&\n        !(\n          domUtils.getPosition(current, bookmark2.end) &\n          domUtils.POSITION_FOLLOWING\n        )\n      ) {\n        if (current.nodeType == 3 || !block(current)) {\n          tmpRange.setStartBefore(current);\n          while (current && current !== bookmark2.end && !block(current)) {\n            tmpNode = current;\n            current = domUtils.getNextDomNode(current, false, null, function(\n              node\n            ) {\n              return !block(node);\n            });\n          }\n          tmpRange.setEndAfter(tmpNode);\n          var common = tmpRange.getCommonAncestor();\n          if (!domUtils.isBody(common) && block(common)) {\n            domUtils.setStyles(\n              common,\n              utils.isString(style) ? { \"text-align\": style } : style\n            );\n            current = common;\n          } else {\n            var p = range.document.createElement(\"p\");\n            domUtils.setStyles(\n              p,\n              utils.isString(style) ? { \"text-align\": style } : style\n            );\n            var frag = tmpRange.extractContents();\n            p.appendChild(frag);\n            tmpRange.insertNode(p);\n            current = p;\n          }\n          current = domUtils.getNextDomNode(current, false, filterFn);\n        } else {\n          current = domUtils.getNextDomNode(current, true, filterFn);\n        }\n      }\n      return range.moveToBookmark(bookmark2).moveToBookmark(bookmark);\n    };\n\n  UE.commands[\"justify\"] = {\n    execCommand: function(cmdName, align) {\n      var range = this.selection.getRange(),\n        txt;\n\n      //闭合时单独处理\n      if (range.collapsed) {\n        txt = this.document.createTextNode(\"p\");\n        range.insertNode(txt);\n      }\n      doJustify(range, align);\n      if (txt) {\n        range.setStartBefore(txt).collapse(true);\n        domUtils.remove(txt);\n      }\n\n      range.select();\n\n      return true;\n    },\n    queryCommandValue: function() {\n      var startNode = this.selection.getStart(),\n        value = domUtils.getComputedStyle(startNode, \"text-align\");\n      return defaultValue[value] ? value : \"left\";\n    },\n    queryCommandState: function() {\n      var start = this.selection.getStart(),\n        cell =\n          start &&\n          domUtils.findParentByTagName(start, [\"td\", \"th\", \"caption\"], true);\n\n      return cell ? -1 : 0;\n    }\n  };\n};\n\n\n// plugins/font.js\n/**\n * 字体颜色,背景色,字号,字体,下划线,删除线\n * @file\n * @since 1.2.6.1\n */\n\n/**\n * 字体颜色\n * @command forecolor\n * @method execCommand\n * @param { String } cmd 命令字符串\n * @param { String } value 色值(必须十六进制)\n * @example\n * ```javascript\n * editor.execCommand( 'forecolor', '#000' );\n * ```\n */\n/**\n * 返回选区字体颜色\n * @command forecolor\n * @method queryCommandValue\n * @param { String } cmd 命令字符串\n * @return { String } 返回字体颜色\n * @example\n * ```javascript\n * editor.queryCommandValue( 'forecolor' );\n * ```\n */\n\n/**\n * 字体背景颜色\n * @command backcolor\n * @method execCommand\n * @param { String } cmd 命令字符串\n * @param { String } value 色值(必须十六进制)\n * @example\n * ```javascript\n * editor.execCommand( 'backcolor', '#000' );\n * ```\n */\n/**\n * 返回选区字体颜色\n * @command backcolor\n * @method queryCommandValue\n * @param { String } cmd 命令字符串\n * @return { String } 返回字体背景颜色\n * @example\n * ```javascript\n * editor.queryCommandValue( 'backcolor' );\n * ```\n */\n\n/**\n * 字体大小\n * @command fontsize\n * @method execCommand\n * @param { String } cmd 命令字符串\n * @param { String } value 字体大小\n * @example\n * ```javascript\n * editor.execCommand( 'fontsize', '14px' );\n * ```\n */\n/**\n * 返回选区字体大小\n * @command fontsize\n * @method queryCommandValue\n * @param { String } cmd 命令字符串\n * @return { String } 返回字体大小\n * @example\n * ```javascript\n * editor.queryCommandValue( 'fontsize' );\n * ```\n */\n\n/**\n * 字体样式\n * @command fontfamily\n * @method execCommand\n * @param { String } cmd 命令字符串\n * @param { String } value 字体样式\n * @example\n * ```javascript\n * editor.execCommand( 'fontfamily', '微软雅黑' );\n * ```\n */\n/**\n * 返回选区字体样式\n * @command fontfamily\n * @method queryCommandValue\n * @param { String } cmd 命令字符串\n * @return { String } 返回字体样式\n * @example\n * ```javascript\n * editor.queryCommandValue( 'fontfamily' );\n * ```\n */\n\n/**\n * 字体下划线,与删除线互斥\n * @command underline\n * @method execCommand\n * @param { String } cmd 命令字符串\n * @example\n * ```javascript\n * editor.execCommand( 'underline' );\n * ```\n */\n\n/**\n * 字体删除线,与下划线互斥\n * @command strikethrough\n * @method execCommand\n * @param { String } cmd 命令字符串\n * @example\n * ```javascript\n * editor.execCommand( 'strikethrough' );\n * ```\n */\n\n/**\n * 字体边框\n * @command fontborder\n * @method execCommand\n * @param { String } cmd 命令字符串\n * @example\n * ```javascript\n * editor.execCommand( 'fontborder' );\n * ```\n */\n\nUE.plugins[\"font\"] = function() {\n  var me = this,\n    fonts = {\n      forecolor: \"color\",\n      backcolor: \"background-color\",\n      fontsize: \"font-size\",\n      fontfamily: \"font-family\",\n      underline: \"text-decoration\",\n      strikethrough: \"text-decoration\",\n      fontborder: \"border\"\n    },\n    needCmd = { underline: 1, strikethrough: 1, fontborder: 1 },\n    needSetChild = {\n      forecolor: \"color\",\n      backcolor: \"background-color\",\n      fontsize: \"font-size\",\n      fontfamily: \"font-family\"\n    };\n  me.setOpt({\n    fontfamily: [\n      { name: \"songti\", val: \"宋体,SimSun\" },\n      { name: \"yahei\", val: \"微软雅黑,Microsoft YaHei\" },\n      { name: \"kaiti\", val: \"楷体,楷体_GB2312, SimKai\" },\n      { name: \"heiti\", val: \"黑体, SimHei\" },\n      { name: \"lishu\", val: \"隶书, SimLi\" },\n      { name: \"andaleMono\", val: \"andale mono\" },\n      { name: \"arial\", val: \"arial, helvetica,sans-serif\" },\n      { name: \"arialBlack\", val: \"arial black,avant garde\" },\n      { name: \"comicSansMs\", val: \"comic sans ms\" },\n      { name: \"impact\", val: \"impact,chicago\" },\n      { name: \"timesNewRoman\", val: \"times new roman\" }\n    ],\n    fontsize: [10, 11, 12, 14, 16, 18, 20, 24, 36]\n  });\n\n  function mergeWithParent(node) {\n    var parent;\n    while ((parent = node.parentNode)) {\n      if (\n        parent.tagName == \"SPAN\" &&\n        domUtils.getChildCount(parent, function(child) {\n          return !domUtils.isBookmarkNode(child) && !domUtils.isBr(child);\n        }) == 1\n      ) {\n        parent.style.cssText += node.style.cssText;\n        domUtils.remove(node, true);\n        node = parent;\n      } else {\n        break;\n      }\n    }\n  }\n  function mergeChild(rng, cmdName, value) {\n    if (needSetChild[cmdName]) {\n      rng.adjustmentBoundary();\n      if (!rng.collapsed && rng.startContainer.nodeType == 1) {\n        rng.traversal(function(node){\n          var start;\n          if(domUtils.isTagNode(node,'span')){\n            start = node;\n          }else{\n            start = domUtils.getElementsByTagName(node,'span')[0];\n          }\n          if (start && domUtils.isTagNode(start, \"span\")) {\n            var bk = rng.createBookmark();\n            utils.each(domUtils.getElementsByTagName(start, \"span\"), function(\n              span\n            ) {\n              if (!span.parentNode || domUtils.isBookmarkNode(span)) return;\n              if (\n                cmdName == \"backcolor\" &&\n                domUtils\n                  .getComputedStyle(span, \"background-color\")\n                  .toLowerCase() === value\n              ) {\n                return;\n              }\n              domUtils.removeStyle(span, needSetChild[cmdName]);\n              if (span.style.cssText.replace(/^\\s+$/, \"\").length == 0) {\n                domUtils.remove(span, true);\n              }\n            });\n            rng.moveToBookmark(bk);\n        }\n        });\n      }\n    }\n  }\n  function mergesibling(rng, cmdName, value) {\n    var collapsed = rng.collapsed,\n      bk = rng.createBookmark(),\n      common;\n    if (collapsed) {\n      common = bk.start.parentNode;\n      while (dtd.$inline[common.tagName]) {\n        common = common.parentNode;\n      }\n    } else {\n      common = domUtils.getCommonAncestor(bk.start, bk.end);\n    }\n    utils.each(domUtils.getElementsByTagName(common, \"span\"), function(span) {\n      if (!span.parentNode || domUtils.isBookmarkNode(span)) return;\n      if (/\\s*border\\s*:\\s*none;?\\s*/i.test(span.style.cssText)) {\n        if (/^\\s*border\\s*:\\s*none;?\\s*$/.test(span.style.cssText)) {\n          domUtils.remove(span, true);\n        } else {\n          domUtils.removeStyle(span, \"border\");\n        }\n        return;\n      }\n      if (\n        /border/i.test(span.style.cssText) &&\n        span.parentNode.tagName == \"SPAN\" &&\n        /border/i.test(span.parentNode.style.cssText)\n      ) {\n        span.style.cssText = span.style.cssText.replace(\n          /border[^:]*:[^;]+;?/gi,\n          \"\"\n        );\n      }\n      if (!(cmdName == \"fontborder\" && value == \"none\")) {\n        var next = span.nextSibling;\n        while (next && next.nodeType == 1 && next.tagName == \"SPAN\") {\n          if (domUtils.isBookmarkNode(next) && cmdName == \"fontborder\") {\n            span.appendChild(next);\n            next = span.nextSibling;\n            continue;\n          }\n          if (next.style.cssText == span.style.cssText) {\n            domUtils.moveChild(next, span);\n            domUtils.remove(next);\n          }\n          if (span.nextSibling === next) break;\n          next = span.nextSibling;\n        }\n      }\n\n      mergeWithParent(span);\n      if (browser.ie && browser.version > 8) {\n        //拷贝父亲们的特别的属性,这里只做背景颜色的处理\n        var parent = domUtils.findParent(span, function(n) {\n          return (\n            n.tagName == \"SPAN\" && /background-color/.test(n.style.cssText)\n          );\n        });\n        if (parent && !/background-color/.test(span.style.cssText)) {\n          span.style.backgroundColor = parent.style.backgroundColor;\n        }\n      }\n    });\n    rng.moveToBookmark(bk);\n    mergeChild(rng, cmdName, value);\n  }\n\n  me.addInputRule(function(root) {\n    utils.each(root.getNodesByTagName(\"u s del font strike\"), function(node) {\n      if (node.tagName == \"font\") {\n        var cssStyle = [];\n        for (var p in node.attrs) {\n          switch (p) {\n            case \"size\":\n              cssStyle.push(\n                \"font-size:\" +\n                  ({\n                    \"1\": \"10\",\n                    \"2\": \"12\",\n                    \"3\": \"16\",\n                    \"4\": \"18\",\n                    \"5\": \"24\",\n                    \"6\": \"32\",\n                    \"7\": \"48\"\n                  }[node.attrs[p]] || node.attrs[p]) +\n                  \"px\"\n              );\n              break;\n            case \"color\":\n              cssStyle.push(\"color:\" + node.attrs[p]);\n              break;\n            case \"face\":\n              cssStyle.push(\"font-family:\" + node.attrs[p]);\n              break;\n            case \"style\":\n              cssStyle.push(node.attrs[p]);\n          }\n        }\n        node.attrs = {\n          style: cssStyle.join(\";\")\n        };\n      } else {\n        var val = node.tagName == \"u\" ? \"underline\" : \"line-through\";\n        node.attrs = {\n          style: (node.getAttr(\"style\") || \"\") + \"text-decoration:\" + val + \";\"\n        };\n      }\n      node.tagName = \"span\";\n    });\n    //        utils.each(root.getNodesByTagName('span'), function (node) {\n    //            var val;\n    //            if(val = node.getAttr('class')){\n    //                if(/fontstrikethrough/.test(val)){\n    //                    node.setStyle('text-decoration','line-through');\n    //                    if(node.attrs['class']){\n    //                        node.attrs['class'] = node.attrs['class'].replace(/fontstrikethrough/,'');\n    //                    }else{\n    //                        node.setAttr('class')\n    //                    }\n    //                }\n    //                if(/fontborder/.test(val)){\n    //                    node.setStyle('border','1px solid #000');\n    //                    if(node.attrs['class']){\n    //                        node.attrs['class'] = node.attrs['class'].replace(/fontborder/,'');\n    //                    }else{\n    //                        node.setAttr('class')\n    //                    }\n    //                }\n    //            }\n    //        });\n  });\n  //    me.addOutputRule(function(root){\n  //        utils.each(root.getNodesByTagName('span'), function (node) {\n  //            var val;\n  //            if(val = node.getStyle('text-decoration')){\n  //                if(/line-through/.test(val)){\n  //                    if(node.attrs['class']){\n  //                        node.attrs['class'] += ' fontstrikethrough';\n  //                    }else{\n  //                        node.setAttr('class','fontstrikethrough')\n  //                    }\n  //                }\n  //\n  //                node.setStyle('text-decoration')\n  //            }\n  //            if(val = node.getStyle('border')){\n  //                if(/1px/.test(val) && /solid/.test(val)){\n  //                    if(node.attrs['class']){\n  //                        node.attrs['class'] += ' fontborder';\n  //\n  //                    }else{\n  //                        node.setAttr('class','fontborder')\n  //                    }\n  //                }\n  //                node.setStyle('border')\n  //\n  //            }\n  //        });\n  //    });\n  for (var p in fonts) {\n    (function(cmd, style) {\n      UE.commands[cmd] = {\n        execCommand: function(cmdName, value) {\n          value =\n            value ||\n            (this.queryCommandState(cmdName)\n              ? \"none\"\n              : cmdName == \"underline\"\n                ? \"underline\"\n                : cmdName == \"fontborder\" ? \"1px solid #000\" : \"line-through\");\n          var me = this,\n            range = this.selection.getRange(),\n            text;\n\n          if (value == \"default\") {\n            if (range.collapsed) {\n              text = me.document.createTextNode(\"font\");\n              range.insertNode(text).select();\n            }\n            me.execCommand(\"removeFormat\", \"span,a\", style);\n            if (text) {\n              range.setStartBefore(text).collapse(true);\n              domUtils.remove(text);\n            }\n            mergesibling(range, cmdName, value);\n            range.select();\n          } else {\n            if (!range.collapsed) {\n              if (needCmd[cmd] && me.queryCommandValue(cmd)) {\n                me.execCommand(\"removeFormat\", \"span,a\", style);\n              }\n              range = me.selection.getRange();\n\n              range.applyInlineStyle(\"span\", { style: style + \":\" + value });\n              mergesibling(range, cmdName, value);\n              range.select();\n            } else {\n              var span = domUtils.findParentByTagName(\n                range.startContainer,\n                \"span\",\n                true\n              );\n              text = me.document.createTextNode(\"font\");\n              if (\n                span &&\n                !span.children.length &&\n                !span[browser.ie ? \"innerText\" : \"textContent\"].replace(\n                  fillCharReg,\n                  \"\"\n                ).length\n              ) {\n                //for ie hack when enter\n                range.insertNode(text);\n                if (needCmd[cmd]) {\n                  range.selectNode(text).select();\n                  me.execCommand(\"removeFormat\", \"span,a\", style, null);\n\n                  span = domUtils.findParentByTagName(text, \"span\", true);\n                  range.setStartBefore(text);\n                }\n                span && (span.style.cssText += \";\" + style + \":\" + value);\n                range.collapse(true).select();\n              } else {\n                range.insertNode(text);\n                range.selectNode(text).select();\n                span = range.document.createElement(\"span\");\n\n                if (needCmd[cmd]) {\n                  //a标签内的不处理跳过\n                  if (domUtils.findParentByTagName(text, \"a\", true)) {\n                    range.setStartBefore(text).setCursor();\n                    domUtils.remove(text);\n                    return;\n                  }\n                  me.execCommand(\"removeFormat\", \"span,a\", style);\n                }\n\n                span.style.cssText = style + \":\" + value;\n\n                text.parentNode.insertBefore(span, text);\n                //修复，span套span 但样式不继承的问题\n                if (!browser.ie || (browser.ie && browser.version == 9)) {\n                  var spanParent = span.parentNode;\n                  while (!domUtils.isBlockElm(spanParent)) {\n                    if (spanParent.tagName == \"SPAN\") {\n                      //opera合并style不会加入\";\"\n                      span.style.cssText =\n                        spanParent.style.cssText + \";\" + span.style.cssText;\n                    }\n                    spanParent = spanParent.parentNode;\n                  }\n                }\n\n                if (opera) {\n                  setTimeout(function() {\n                    range.setStart(span, 0).collapse(true);\n                    mergesibling(range, cmdName, value);\n                    range.select();\n                  });\n                } else {\n                  range.setStart(span, 0).collapse(true);\n                  mergesibling(range, cmdName, value);\n                  range.select();\n                }\n\n                //trace:981\n                //domUtils.mergeToParent(span)\n              }\n              domUtils.remove(text);\n            }\n          }\n          return true;\n        },\n        queryCommandValue: function(cmdName) {\n          var startNode = this.selection.getStart();\n\n          //trace:946\n          if (cmdName == \"underline\" || cmdName == \"strikethrough\") {\n            var tmpNode = startNode,\n              value;\n            while (\n              tmpNode &&\n              !domUtils.isBlockElm(tmpNode) &&\n              !domUtils.isBody(tmpNode)\n            ) {\n              if (tmpNode.nodeType == 1) {\n                value = domUtils.getComputedStyle(tmpNode, style);\n                if (value != \"none\") {\n                  return value;\n                }\n              }\n\n              tmpNode = tmpNode.parentNode;\n            }\n            return \"none\";\n          }\n          if (cmdName == \"fontborder\") {\n            var tmp = startNode,\n              val;\n            while (tmp && dtd.$inline[tmp.tagName]) {\n              if ((val = domUtils.getComputedStyle(tmp, \"border\"))) {\n                if (/1px/.test(val) && /solid/.test(val)) {\n                  return val;\n                }\n              }\n              tmp = tmp.parentNode;\n            }\n            return \"\";\n          }\n\n          if (cmdName == \"FontSize\") {\n            var styleVal = domUtils.getComputedStyle(startNode, style),\n              tmp = /^([\\d\\.]+)(\\w+)$/.exec(styleVal);\n\n            if (tmp) {\n              return Math.floor(tmp[1]) + tmp[2];\n            }\n\n            return styleVal;\n          }\n\n          return domUtils.getComputedStyle(startNode, style);\n        },\n        queryCommandState: function(cmdName) {\n          if (!needCmd[cmdName]) return 0;\n          var val = this.queryCommandValue(cmdName);\n          if (cmdName == \"fontborder\") {\n            return /1px/.test(val) && /solid/.test(val);\n          } else {\n            return cmdName == \"underline\"\n              ? /underline/.test(val)\n              : /line\\-through/.test(val);\n          }\n        }\n      };\n    })(p, fonts[p]);\n  }\n};\n\n\n// plugins/link.js\n/**\n * 超链接\n * @file\n * @since 1.2.6.1\n */\n\n/**\n * 插入超链接\n * @command link\n * @method execCommand\n * @param { String } cmd 命令字符串\n * @param { Object } options   设置自定义属性，例如：url、title、target\n * @example\n * ```javascript\n * editor.execCommand( 'link', '{\n *     url:'neditor.baidu.com',\n *     title:'neditor',\n *     target:'_blank'\n * }' );\n * ```\n */\n/**\n * 返回当前选中的第一个超链接节点\n * @command link\n * @method queryCommandValue\n * @param { String } cmd 命令字符串\n * @return { Element } 超链接节点\n * @example\n * ```javascript\n * editor.queryCommandValue( 'link' );\n * ```\n */\n\n/**\n * 取消超链接\n * @command unlink\n * @method execCommand\n * @param { String } cmd 命令字符串\n * @example\n * ```javascript\n * editor.execCommand( 'unlink');\n * ```\n */\n\nUE.plugins[\"link\"] = function() {\n  function optimize(range) {\n    var start = range.startContainer,\n      end = range.endContainer;\n\n    if ((start = domUtils.findParentByTagName(start, \"a\", true))) {\n      range.setStartBefore(start);\n    }\n    if ((end = domUtils.findParentByTagName(end, \"a\", true))) {\n      range.setEndAfter(end);\n    }\n  }\n\n  UE.commands[\"unlink\"] = {\n    execCommand: function() {\n      var range = this.selection.getRange(),\n        bookmark;\n      if (\n        range.collapsed &&\n        !domUtils.findParentByTagName(range.startContainer, \"a\", true)\n      ) {\n        return;\n      }\n      bookmark = range.createBookmark();\n      optimize(range);\n      range.removeInlineStyle(\"a\").moveToBookmark(bookmark).select();\n    },\n    queryCommandState: function() {\n      return !this.highlight && this.queryCommandValue(\"link\") ? 0 : -1;\n    }\n  };\n  function doLink(range, opt, me) {\n    var rngClone = range.cloneRange(),\n      link = me.queryCommandValue(\"link\");\n    optimize((range = range.adjustmentBoundary()));\n    var start = range.startContainer;\n    if (start.nodeType == 1 && link) {\n      start = start.childNodes[range.startOffset];\n      if (\n        start &&\n        start.nodeType == 1 &&\n        start.tagName == \"A\" &&\n        /^(?:https?|ftp|file)\\s*:\\s*\\/\\//.test(\n          start[browser.ie ? \"innerText\" : \"textContent\"]\n        )\n      ) {\n        start[browser.ie ? \"innerText\" : \"textContent\"] = utils.html(\n          opt.textValue || opt.href\n        );\n      }\n    }\n    if (!rngClone.collapsed || link) {\n      range.removeInlineStyle(\"a\");\n      rngClone = range.cloneRange();\n    }\n\n    if (rngClone.collapsed) {\n      var a = range.document.createElement(\"a\"),\n        text = \"\";\n      if (opt.textValue) {\n        text = utils.html(opt.textValue);\n        delete opt.textValue;\n      } else {\n        text = utils.html(opt.href);\n      }\n      domUtils.setAttributes(a, opt);\n      start = domUtils.findParentByTagName(rngClone.startContainer, \"a\", true);\n      if (start && domUtils.isInNodeEndBoundary(rngClone, start)) {\n        range.setStartAfter(start).collapse(true);\n      }\n      a[browser.ie ? \"innerText\" : \"textContent\"] = text;\n      range.insertNode(a).selectNode(a);\n    } else {\n      range.applyInlineStyle(\"a\", opt);\n    }\n  }\n  UE.commands[\"link\"] = {\n    execCommand: function(cmdName, opt) {\n      var range;\n      opt._href && (opt._href = utils.unhtml(opt._href, /[<\">]/g));\n      opt.href && (opt.href = utils.unhtml(opt.href, /[<\">]/g));\n      opt.textValue && (opt.textValue = utils.unhtml(opt.textValue, /[<\">]/g));\n      doLink((range = this.selection.getRange()), opt, this);\n      //闭合都不加占位符，如果加了会在a后边多个占位符节点，导致a是图片背景组成的列表，出现空白问题\n      range.collapse().select(true);\n    },\n    queryCommandValue: function() {\n      var range = this.selection.getRange(),\n        node;\n      if (range.collapsed) {\n        //                    node = this.selection.getStart();\n        //在ie下getstart()取值偏上了\n        node = range.startContainer;\n        node = node.nodeType == 1 ? node : node.parentNode;\n\n        if (\n          node &&\n          (node = domUtils.findParentByTagName(node, \"a\", true)) &&\n          !domUtils.isInNodeEndBoundary(range, node)\n        ) {\n          return node;\n        }\n      } else {\n        //trace:1111  如果是<p><a>xx</a></p> startContainer是p就会找不到a\n        range.shrinkBoundary();\n        var start = range.startContainer.nodeType == 3 ||\n          !range.startContainer.childNodes[range.startOffset]\n          ? range.startContainer\n          : range.startContainer.childNodes[range.startOffset],\n          end = range.endContainer.nodeType == 3 || range.endOffset == 0\n            ? range.endContainer\n            : range.endContainer.childNodes[range.endOffset - 1],\n          common = range.getCommonAncestor();\n        node = domUtils.findParentByTagName(common, \"a\", true);\n        if (!node && common.nodeType == 1) {\n          var as = common.getElementsByTagName(\"a\"),\n            ps,\n            pe;\n\n          for (var i = 0, ci; (ci = as[i++]); ) {\n            (ps = domUtils.getPosition(ci, start)), (pe = domUtils.getPosition(\n              ci,\n              end\n            ));\n            if (\n              (ps & domUtils.POSITION_FOLLOWING ||\n                ps & domUtils.POSITION_CONTAINS) &&\n              (pe & domUtils.POSITION_PRECEDING ||\n                pe & domUtils.POSITION_CONTAINS)\n            ) {\n              node = ci;\n              break;\n            }\n          }\n        }\n        return node;\n      }\n    },\n    queryCommandState: function() {\n      //判断如果是视频的话连接不可用\n      //fix 853\n      var img = this.selection.getRange().getClosedNode(),\n        flag =\n          img &&\n          (img.className == \"edui-faked-video\" ||\n            img.className.indexOf(\"edui-upload-video\") != -1);\n      return flag ? -1 : 0;\n    }\n  };\n};\n\n\n// plugins/iframe.js\n///import core\n///import plugins\\inserthtml.js\n///commands 插入框架\n///commandsName  InsertFrame\n///commandsTitle  插入Iframe\n///commandsDialog  dialogs\\insertframe\n\nUE.plugins[\"insertframe\"] = function() {\n  var me = this;\n  function deleteIframe() {\n    me._iframe && delete me._iframe;\n  }\n\n  me.addListener(\"selectionchange\", function() {\n    deleteIframe();\n  });\n};\n\n\n// plugins/scrawl.js\n///import core\n///commands 涂鸦\n///commandsName  Scrawl\n///commandsTitle  涂鸦\n///commandsDialog  dialogs\\scrawl\nUE.commands[\"scrawl\"] = {\n  queryCommandState: function() {\n    return browser.ie && browser.version <= 8 ? -1 : 0;\n  }\n};\n\n\n// plugins/removeformat.js\n/**\n * 清除格式\n * @file\n * @since 1.2.6.1\n */\n\n/**\n * 清除文字样式\n * @command removeformat\n * @method execCommand\n * @param { String } cmd 命令字符串\n * @param   {String}   tags     以逗号隔开的标签。如：strong\n * @param   {String}   style    样式如：color\n * @param   {String}   attrs    属性如:width\n * @example\n * ```javascript\n * editor.execCommand( 'removeformat', 'strong','color','width' );\n * ```\n */\n\nUE.plugins[\"removeformat\"] = function() {\n  var me = this;\n  me.setOpt({\n    removeFormatTags:\n      \"b,big,code,del,dfn,em,font,i,ins,kbd,q,samp,small,span,strike,strong,sub,sup,tt,u,var\",\n    removeFormatAttributes: \"class,style,lang,width,height,align,hspace,valign\"\n  });\n  me.commands[\"removeformat\"] = {\n    execCommand: function(cmdName, tags, style, attrs, notIncludeA) {\n      var tagReg = new RegExp(\n        \"^(?:\" +\n          (tags || this.options.removeFormatTags).replace(/,/g, \"|\") +\n          \")$\",\n        \"i\"\n      ),\n        removeFormatAttributes = style\n          ? []\n          : (attrs || this.options.removeFormatAttributes).split(\",\"),\n        range = new dom.Range(this.document),\n        bookmark,\n        node,\n        parent,\n        filter = function(node) {\n          return node.nodeType == 1;\n        };\n\n      function isRedundantSpan(node) {\n        if (node.nodeType == 3 || node.tagName.toLowerCase() != \"span\") {\n          return 0;\n        }\n        if (browser.ie) {\n          //ie 下判断实效，所以只能简单用style来判断\n          //return node.style.cssText == '' ? 1 : 0;\n          var attrs = node.attributes;\n          if (attrs.length) {\n            for (var i = 0, l = attrs.length; i < l; i++) {\n              if (attrs[i].specified) {\n                return 0;\n              }\n            }\n            return 1;\n          }\n        }\n        return !node.attributes.length;\n      }\n      function doRemove(range) {\n        var bookmark1 = range.createBookmark();\n        if (range.collapsed) {\n          range.enlarge(true);\n        }\n\n        //不能把a标签切了\n        if (!notIncludeA) {\n          var aNode = domUtils.findParentByTagName(\n            range.startContainer,\n            \"a\",\n            true\n          );\n          if (aNode) {\n            range.setStartBefore(aNode);\n          }\n\n          aNode = domUtils.findParentByTagName(range.endContainer, \"a\", true);\n          if (aNode) {\n            range.setEndAfter(aNode);\n          }\n        }\n\n        bookmark = range.createBookmark();\n\n        node = bookmark.start;\n\n        //切开始\n        while ((parent = node.parentNode) && !domUtils.isBlockElm(parent)) {\n          domUtils.breakParent(node, parent);\n\n          domUtils.clearEmptySibling(node);\n        }\n        if (bookmark.end) {\n          //切结束\n          node = bookmark.end;\n          while ((parent = node.parentNode) && !domUtils.isBlockElm(parent)) {\n            domUtils.breakParent(node, parent);\n            domUtils.clearEmptySibling(node);\n          }\n\n          //开始去除样式\n          var current = domUtils.getNextDomNode(bookmark.start, false, filter),\n            next;\n          while (current) {\n            if (current == bookmark.end) {\n              break;\n            }\n\n            next = domUtils.getNextDomNode(current, true, filter);\n\n            if (\n              !dtd.$empty[current.tagName.toLowerCase()] &&\n              !domUtils.isBookmarkNode(current)\n            ) {\n              if (tagReg.test(current.tagName)) {\n                if (style) {\n                  domUtils.removeStyle(current, style);\n                  if (isRedundantSpan(current) && style != \"text-decoration\") {\n                    domUtils.remove(current, true);\n                  }\n                } else {\n                  domUtils.remove(current, true);\n                }\n              } else {\n                //trace:939  不能把list上的样式去掉\n                if (\n                  !dtd.$tableContent[current.tagName] &&\n                  !dtd.$list[current.tagName]\n                ) {\n                  domUtils.removeAttributes(current, removeFormatAttributes);\n                  if (isRedundantSpan(current)) {\n                    domUtils.remove(current, true);\n                  }\n                }\n              }\n            }\n            current = next;\n          }\n        }\n        //trace:1035\n        //trace:1096 不能把td上的样式去掉，比如边框\n        var pN = bookmark.start.parentNode;\n        if (\n          domUtils.isBlockElm(pN) &&\n          !dtd.$tableContent[pN.tagName] &&\n          !dtd.$list[pN.tagName]\n        ) {\n          domUtils.removeAttributes(pN, removeFormatAttributes);\n        }\n        pN = bookmark.end.parentNode;\n        if (\n          bookmark.end &&\n          domUtils.isBlockElm(pN) &&\n          !dtd.$tableContent[pN.tagName] &&\n          !dtd.$list[pN.tagName]\n        ) {\n          domUtils.removeAttributes(pN, removeFormatAttributes);\n        }\n        range.moveToBookmark(bookmark).moveToBookmark(bookmark1);\n        //清除冗余的代码 <b><bookmark></b>\n        var node = range.startContainer,\n          tmp,\n          collapsed = range.collapsed;\n        while (\n          node.nodeType == 1 &&\n          domUtils.isEmptyNode(node) &&\n          dtd.$removeEmpty[node.tagName]\n        ) {\n          tmp = node.parentNode;\n          range.setStartBefore(node);\n          //trace:937\n          //更新结束边界\n          if (range.startContainer === range.endContainer) {\n            range.endOffset--;\n          }\n          domUtils.remove(node);\n          node = tmp;\n        }\n\n        if (!collapsed) {\n          node = range.endContainer;\n          while (\n            node.nodeType == 1 &&\n            domUtils.isEmptyNode(node) &&\n            dtd.$removeEmpty[node.tagName]\n          ) {\n            tmp = node.parentNode;\n            range.setEndBefore(node);\n            domUtils.remove(node);\n\n            node = tmp;\n          }\n        }\n      }\n\n      range = this.selection.getRange();\n      doRemove(range);\n      range.select();\n    }\n  };\n};\n\n\n// plugins/blockquote.js\n/**\n * 添加引用\n * @file\n * @since 1.2.6.1\n */\n\n/**\n * 添加引用\n * @command blockquote\n * @method execCommand\n * @param { String } cmd 命令字符串\n * @example\n * ```javascript\n * editor.execCommand( 'blockquote' );\n * ```\n */\n\n/**\n * 添加引用\n * @command blockquote\n * @method execCommand\n * @param { String } cmd 命令字符串\n * @param { Object } attrs 节点属性\n * @example\n * ```javascript\n * editor.execCommand( 'blockquote',{\n *     style: \"color: red;\"\n * } );\n * ```\n */\n\nUE.plugins[\"blockquote\"] = function() {\n  var me = this;\n  function getObj(editor) {\n    return domUtils.filterNodeList(\n      editor.selection.getStartElementPath(),\n      \"blockquote\"\n    );\n  }\n  me.commands[\"blockquote\"] = {\n    execCommand: function(cmdName, attrs) {\n      var range = this.selection.getRange(),\n        obj = getObj(this),\n        blockquote = dtd.blockquote,\n        bookmark = range.createBookmark();\n\n      if (obj) {\n        var start = range.startContainer,\n          startBlock = domUtils.isBlockElm(start)\n            ? start\n            : domUtils.findParent(start, function(node) {\n                return domUtils.isBlockElm(node);\n              }),\n          end = range.endContainer,\n          endBlock = domUtils.isBlockElm(end)\n            ? end\n            : domUtils.findParent(end, function(node) {\n                return domUtils.isBlockElm(node);\n              });\n\n        //处理一下li\n        startBlock =\n          domUtils.findParentByTagName(startBlock, \"li\", true) || startBlock;\n        endBlock =\n          domUtils.findParentByTagName(endBlock, \"li\", true) || endBlock;\n\n        if (\n          startBlock.tagName == \"LI\" ||\n          startBlock.tagName == \"TD\" ||\n          startBlock === obj ||\n          domUtils.isBody(startBlock)\n        ) {\n          domUtils.remove(obj, true);\n        } else {\n          domUtils.breakParent(startBlock, obj);\n        }\n\n        if (startBlock !== endBlock) {\n          obj = domUtils.findParentByTagName(endBlock, \"blockquote\");\n          if (obj) {\n            if (\n              endBlock.tagName == \"LI\" ||\n              endBlock.tagName == \"TD\" ||\n              domUtils.isBody(endBlock)\n            ) {\n              obj.parentNode && domUtils.remove(obj, true);\n            } else {\n              domUtils.breakParent(endBlock, obj);\n            }\n          }\n        }\n\n        var blockquotes = domUtils.getElementsByTagName(\n          this.document,\n          \"blockquote\"\n        );\n        for (var i = 0, bi; (bi = blockquotes[i++]); ) {\n          if (!bi.childNodes.length) {\n            domUtils.remove(bi);\n          } else if (\n            domUtils.getPosition(bi, startBlock) &\n              domUtils.POSITION_FOLLOWING &&\n            domUtils.getPosition(bi, endBlock) & domUtils.POSITION_PRECEDING\n          ) {\n            domUtils.remove(bi, true);\n          }\n        }\n      } else {\n        var tmpRange = range.cloneRange(),\n          node = tmpRange.startContainer.nodeType == 1\n            ? tmpRange.startContainer\n            : tmpRange.startContainer.parentNode,\n          preNode = node,\n          doEnd = 1;\n\n        //调整开始\n        while (1) {\n          if (domUtils.isBody(node)) {\n            if (preNode !== node) {\n              if (range.collapsed) {\n                tmpRange.selectNode(preNode);\n                doEnd = 0;\n              } else {\n                tmpRange.setStartBefore(preNode);\n              }\n            } else {\n              tmpRange.setStart(node, 0);\n            }\n\n            break;\n          }\n          if (!blockquote[node.tagName]) {\n            if (range.collapsed) {\n              tmpRange.selectNode(preNode);\n            } else {\n              tmpRange.setStartBefore(preNode);\n            }\n            break;\n          }\n\n          preNode = node;\n          node = node.parentNode;\n        }\n\n        //调整结束\n        if (doEnd) {\n          preNode = node = node = tmpRange.endContainer.nodeType == 1\n            ? tmpRange.endContainer\n            : tmpRange.endContainer.parentNode;\n          while (1) {\n            if (domUtils.isBody(node)) {\n              if (preNode !== node) {\n                tmpRange.setEndAfter(preNode);\n              } else {\n                tmpRange.setEnd(node, node.childNodes.length);\n              }\n\n              break;\n            }\n            if (!blockquote[node.tagName]) {\n              tmpRange.setEndAfter(preNode);\n              break;\n            }\n\n            preNode = node;\n            node = node.parentNode;\n          }\n        }\n\n        node = range.document.createElement(\"blockquote\");\n        domUtils.setAttributes(node, attrs);\n        node.appendChild(tmpRange.extractContents());\n        tmpRange.insertNode(node);\n        //去除重复的\n        var childs = domUtils.getElementsByTagName(node, \"blockquote\");\n        for (var i = 0, ci; (ci = childs[i++]); ) {\n          if (ci.parentNode) {\n            domUtils.remove(ci, true);\n          }\n        }\n      }\n      range.moveToBookmark(bookmark).select();\n    },\n    queryCommandState: function() {\n      return getObj(this) ? 1 : 0;\n    }\n  };\n};\n\n\n// plugins/convertcase.js\n/**\n * 大小写转换\n * @file\n * @since 1.2.6.1\n */\n\n/**\n * 把选区内文本变大写，与“tolowercase”命令互斥\n * @command touppercase\n * @method execCommand\n * @param { String } cmd 命令字符串\n * @example\n * ```javascript\n * editor.execCommand( 'touppercase' );\n * ```\n */\n\n/**\n * 把选区内文本变小写，与“touppercase”命令互斥\n * @command tolowercase\n * @method execCommand\n * @param { String } cmd 命令字符串\n * @example\n * ```javascript\n * editor.execCommand( 'tolowercase' );\n * ```\n */\nUE.commands[\"touppercase\"] = UE.commands[\"tolowercase\"] = {\n  execCommand: function(cmd) {\n    var me = this;\n    var rng = me.selection.getRange();\n    if (rng.collapsed) {\n      return rng;\n    }\n    var bk = rng.createBookmark(),\n      bkEnd = bk.end,\n      filterFn = function(node) {\n        return !domUtils.isBr(node) && !domUtils.isWhitespace(node);\n      },\n      curNode = domUtils.getNextDomNode(bk.start, false, filterFn);\n    while (\n      curNode &&\n      domUtils.getPosition(curNode, bkEnd) & domUtils.POSITION_PRECEDING\n    ) {\n      if (curNode.nodeType == 3) {\n        curNode.nodeValue = curNode.nodeValue[\n          cmd == \"touppercase\" ? \"toUpperCase\" : \"toLowerCase\"\n        ]();\n      }\n      curNode = domUtils.getNextDomNode(curNode, true, filterFn);\n      if (curNode === bkEnd) {\n        break;\n      }\n    }\n    rng.moveToBookmark(bk).select();\n  }\n};\n\n\n// plugins/indent.js\n/**\n * 首行缩进\n * @file\n * @since 1.2.6.1\n */\n\n/**\n * 缩进\n * @command indent\n * @method execCommand\n * @param { String } cmd 命令字符串\n * @example\n * ```javascript\n * editor.execCommand( 'indent' );\n * ```\n */\nUE.commands[\"indent\"] = {\n  execCommand: function() {\n    var me = this,\n      value = me.queryCommandState(\"indent\")\n        ? \"0em\"\n        : me.options.indentValue || \"2em\";\n    me.execCommand(\"Paragraph\", \"p\", { style: \"text-indent:\" + value });\n  },\n  queryCommandState: function() {\n    var pN = domUtils.filterNodeList(\n      this.selection.getStartElementPath(),\n      \"p h1 h2 h3 h4 h5 h6\"\n    );\n    return pN && pN.style.textIndent && parseInt(pN.style.textIndent) ? 1 : 0;\n  }\n};\n\n\n// plugins/print.js\n/**\n * 打印\n * @file\n * @since 1.2.6.1\n */\n\n/**\n * 打印\n * @command print\n * @method execCommand\n * @param { String } cmd 命令字符串\n * @example\n * ```javascript\n * editor.execCommand( 'print' );\n * ```\n */\nUE.commands[\"print\"] = {\n  execCommand: function() {\n    this.window.print();\n  },\n  notNeedUndo: 1\n};\n\n\n// plugins/preview.js\n/**\n * 预览\n * @file\n * @since 1.2.6.1\n */\n\n/**\n * 预览\n * @command preview\n * @method execCommand\n * @param { String } cmd 命令字符串\n * @example\n * ```javascript\n * editor.execCommand( 'preview' );\n * ```\n */\nUE.commands[\"preview\"] = {\n  execCommand: function() {\n    var w = window.open(\"\", \"_blank\", \"\"),\n      d = w.document;\n    d.open();\n    d.write(\n      '<!DOCTYPE html><html><head><meta charset=\"utf-8\"/><script src=\"' +\n        this.options.UEDITOR_HOME_URL +\n        'neditor.parse.js\"></script><script>' +\n        \"setTimeout(function(){uParse('div',{rootPath: '\" +\n        this.options.UEDITOR_HOME_URL +\n        \"'})},300)\" +\n        \"</script></head><body><div>\" +\n        this.getContent(null, null, true) +\n        \"</div></body></html>\"\n    );\n    d.close();\n  },\n  notNeedUndo: 1\n};\n\n\n// plugins/selectall.js\n/**\n * 全选\n * @file\n * @since 1.2.6.1\n */\n\n/**\n * 选中所有内容\n * @command selectall\n * @method execCommand\n * @param { String } cmd 命令字符串\n * @example\n * ```javascript\n * editor.execCommand( 'selectall' );\n * ```\n */\nUE.plugins[\"selectall\"] = function() {\n  var me = this;\n  me.commands[\"selectall\"] = {\n    execCommand: function() {\n      //去掉了原生的selectAll,因为会出现报错和当内容为空时，不能出现闭合状态的光标\n      var me = this,\n        body = me.body,\n        range = me.selection.getRange();\n      range.selectNodeContents(body);\n      if (domUtils.isEmptyBlock(body)) {\n        //opera不能自动合并到元素的里边，要手动处理一下\n        if (browser.opera && body.firstChild && body.firstChild.nodeType == 1) {\n          range.setStartAtFirst(body.firstChild);\n        }\n        range.collapse(true);\n      }\n      range.select(true);\n    },\n    notNeedUndo: 1\n  };\n\n  //快捷键\n  me.addshortcutkey({\n    selectAll: \"ctrl+65\"\n  });\n};\n\n\n// plugins/paragraph.js\n/**\n * 段落样式\n * @file\n * @since 1.2.6.1\n */\n\n/**\n * 段落格式\n * @command paragraph\n * @method execCommand\n * @param { String } cmd 命令字符串\n * @param {String}   style               标签值为：'p', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6'\n * @param {Object}   attrs               标签的属性\n * @example\n * ```javascript\n * editor.execCommand( 'Paragraph','h1','{\n *     class:'test'\n * }' );\n * ```\n */\n\n/**\n * 返回选区内节点标签名\n * @command paragraph\n * @method queryCommandValue\n * @param { String } cmd 命令字符串\n * @return { String } 节点标签名\n * @example\n * ```javascript\n * editor.queryCommandValue( 'Paragraph' );\n * ```\n */\n\nUE.plugins[\"paragraph\"] = function() {\n  var me = this,\n    block = domUtils.isBlockElm,\n    notExchange = [\"TD\", \"LI\", \"PRE\"],\n    doParagraph = function(range, style, attrs, sourceCmdName) {\n      var bookmark = range.createBookmark(),\n        filterFn = function(node) {\n          return node.nodeType == 1\n            ? node.tagName.toLowerCase() != \"br\" &&\n                !domUtils.isBookmarkNode(node)\n            : !domUtils.isWhitespace(node);\n        },\n        para;\n\n      range.enlarge(true);\n      var bookmark2 = range.createBookmark(),\n        current = domUtils.getNextDomNode(bookmark2.start, false, filterFn),\n        tmpRange = range.cloneRange(),\n        tmpNode;\n      while (\n        current &&\n        !(\n          domUtils.getPosition(current, bookmark2.end) &\n          domUtils.POSITION_FOLLOWING\n        )\n      ) {\n        if (current.nodeType == 3 || !block(current)) {\n          tmpRange.setStartBefore(current);\n          while (current && current !== bookmark2.end && !block(current)) {\n            tmpNode = current;\n            current = domUtils.getNextDomNode(current, false, null, function(\n              node\n            ) {\n              return !block(node);\n            });\n          }\n          tmpRange.setEndAfter(tmpNode);\n\n          para = range.document.createElement(style);\n          if (attrs) {\n            domUtils.setAttributes(para, attrs);\n            if (\n              sourceCmdName &&\n              sourceCmdName == \"customstyle\" &&\n              attrs.style\n            ) {\n              para.style.cssText = attrs.style;\n            }\n          }\n          para.appendChild(tmpRange.extractContents());\n          //需要内容占位\n          if (domUtils.isEmptyNode(para)) {\n            domUtils.fillChar(range.document, para);\n          }\n\n          tmpRange.insertNode(para);\n\n          var parent = para.parentNode;\n          //如果para上一级是一个block元素且不是body,td就删除它\n          if (\n            block(parent) &&\n            !domUtils.isBody(para.parentNode) &&\n            utils.indexOf(notExchange, parent.tagName) == -1\n          ) {\n            //存储dir,style\n            if (!(sourceCmdName && sourceCmdName == \"customstyle\")) {\n              parent.getAttribute(\"dir\") &&\n                para.setAttribute(\"dir\", parent.getAttribute(\"dir\"));\n              //trace:1070\n              parent.style.cssText &&\n                (para.style.cssText =\n                  parent.style.cssText + \";\" + para.style.cssText);\n              //trace:1030\n              parent.style.textAlign &&\n                !para.style.textAlign &&\n                (para.style.textAlign = parent.style.textAlign);\n              parent.style.textIndent &&\n                !para.style.textIndent &&\n                (para.style.textIndent = parent.style.textIndent);\n              parent.style.padding &&\n                !para.style.padding &&\n                (para.style.padding = parent.style.padding);\n            }\n\n            //trace:1706 选择的就是h1-6要删除\n            if (\n              attrs &&\n              /h\\d/i.test(parent.tagName) &&\n              !/h\\d/i.test(para.tagName)\n            ) {\n              domUtils.setAttributes(parent, attrs);\n              if (\n                sourceCmdName &&\n                sourceCmdName == \"customstyle\" &&\n                attrs.style\n              ) {\n                parent.style.cssText = attrs.style;\n              }\n              domUtils.remove(para.parentNode, true);\n              para = parent;\n            } else {\n              domUtils.remove(para.parentNode, true);\n            }\n          }\n          if (utils.indexOf(notExchange, parent.tagName) != -1) {\n            current = parent;\n          } else {\n            current = para;\n          }\n\n          current = domUtils.getNextDomNode(current, false, filterFn);\n        } else {\n          current = domUtils.getNextDomNode(current, true, filterFn);\n        }\n      }\n      return range.moveToBookmark(bookmark2).moveToBookmark(bookmark);\n    };\n  me.setOpt(\"paragraph\", {\n    p: \"\",\n    h1: \"\",\n    h2: \"\",\n    h3: \"\",\n    h4: \"\",\n    h5: \"\",\n    h6: \"\"\n  });\n  me.commands[\"paragraph\"] = {\n    execCommand: function(cmdName, style, attrs, sourceCmdName) {\n      var range = this.selection.getRange();\n      //闭合时单独处理\n      if (range.collapsed) {\n        var txt = this.document.createTextNode(\"p\");\n        range.insertNode(txt);\n        //去掉冗余的fillchar\n        if (browser.ie) {\n          var node = txt.previousSibling;\n          if (node && domUtils.isWhitespace(node)) {\n            domUtils.remove(node);\n          }\n          node = txt.nextSibling;\n          if (node && domUtils.isWhitespace(node)) {\n            domUtils.remove(node);\n          }\n        }\n      }\n      range = doParagraph(range, style, attrs, sourceCmdName);\n      if (txt) {\n        range.setStartBefore(txt).collapse(true);\n        pN = txt.parentNode;\n\n        domUtils.remove(txt);\n\n        if (domUtils.isBlockElm(pN) && domUtils.isEmptyNode(pN)) {\n          domUtils.fillNode(this.document, pN);\n        }\n      }\n\n      if (\n        browser.gecko &&\n        range.collapsed &&\n        range.startContainer.nodeType == 1\n      ) {\n        var child = range.startContainer.childNodes[range.startOffset];\n        if (\n          child &&\n          child.nodeType == 1 &&\n          child.tagName.toLowerCase() == style\n        ) {\n          range.setStart(child, 0).collapse(true);\n        }\n      }\n      //trace:1097 原来有true，原因忘了，但去了就不能清除多余的占位符了\n      range.select();\n\n      return true;\n    },\n    queryCommandValue: function() {\n      var node = domUtils.filterNodeList(\n        this.selection.getStartElementPath(),\n        \"p h1 h2 h3 h4 h5 h6\"\n      );\n      return node ? node.tagName.toLowerCase() : \"\";\n    }\n  };\n};\n\n\n// plugins/directionality.js\n/**\n * 设置文字输入的方向的插件\n * @file\n * @since 1.2.6.1\n */\n;(function() {\n  var block = domUtils.isBlockElm,\n    getObj = function(editor) {\n      //            var startNode = editor.selection.getStart(),\n      //                parents;\n      //            if ( startNode ) {\n      //                //查找所有的是block的父亲节点\n      //                parents = domUtils.findParents( startNode, true, block, true );\n      //                for ( var i = 0,ci; ci = parents[i++]; ) {\n      //                    if ( ci.getAttribute( 'dir' ) ) {\n      //                        return ci;\n      //                    }\n      //                }\n      //            }\n      return domUtils.filterNodeList(\n        editor.selection.getStartElementPath(),\n        function(n) {\n          return n && n.nodeType == 1 && n.getAttribute(\"dir\");\n        }\n      );\n    },\n    doDirectionality = function(range, editor, forward) {\n      var bookmark,\n        filterFn = function(node) {\n          return node.nodeType == 1\n            ? !domUtils.isBookmarkNode(node)\n            : !domUtils.isWhitespace(node);\n        },\n        obj = getObj(editor);\n\n      if (obj && range.collapsed) {\n        obj.setAttribute(\"dir\", forward);\n        return range;\n      }\n      bookmark = range.createBookmark();\n      range.enlarge(true);\n      var bookmark2 = range.createBookmark(),\n        current = domUtils.getNextDomNode(bookmark2.start, false, filterFn),\n        tmpRange = range.cloneRange(),\n        tmpNode;\n      while (\n        current &&\n        !(\n          domUtils.getPosition(current, bookmark2.end) &\n          domUtils.POSITION_FOLLOWING\n        )\n      ) {\n        if (current.nodeType == 3 || !block(current)) {\n          tmpRange.setStartBefore(current);\n          while (current && current !== bookmark2.end && !block(current)) {\n            tmpNode = current;\n            current = domUtils.getNextDomNode(current, false, null, function(\n              node\n            ) {\n              return !block(node);\n            });\n          }\n          tmpRange.setEndAfter(tmpNode);\n          var common = tmpRange.getCommonAncestor();\n          if (!domUtils.isBody(common) && block(common)) {\n            //遍历到了block节点\n            common.setAttribute(\"dir\", forward);\n            current = common;\n          } else {\n            //没有遍历到，添加一个block节点\n            var p = range.document.createElement(\"p\");\n            p.setAttribute(\"dir\", forward);\n            var frag = tmpRange.extractContents();\n            p.appendChild(frag);\n            tmpRange.insertNode(p);\n            current = p;\n          }\n\n          current = domUtils.getNextDomNode(current, false, filterFn);\n        } else {\n          current = domUtils.getNextDomNode(current, true, filterFn);\n        }\n      }\n      return range.moveToBookmark(bookmark2).moveToBookmark(bookmark);\n    };\n\n  /**\n     * 文字输入方向\n     * @command directionality\n     * @method execCommand\n     * @param { String } cmdName 命令字符串\n     * @param { String } forward 传入'ltr'表示从左向右输入，传入'rtl'表示从右向左输入\n     * @example\n     * ```javascript\n     * editor.execCommand( 'directionality', 'ltr');\n     * ```\n     */\n\n  /**\n     * 查询当前选区的文字输入方向\n     * @command directionality\n     * @method queryCommandValue\n     * @param { String } cmdName 命令字符串\n     * @return { String } 返回'ltr'表示从左向右输入，返回'rtl'表示从右向左输入\n     * @example\n     * ```javascript\n     * editor.queryCommandValue( 'directionality');\n     * ```\n     */\n  UE.commands[\"directionality\"] = {\n    execCommand: function(cmdName, forward) {\n      var range = this.selection.getRange();\n      //闭合时单独处理\n      if (range.collapsed) {\n        var txt = this.document.createTextNode(\"d\");\n        range.insertNode(txt);\n      }\n      doDirectionality(range, this, forward);\n      if (txt) {\n        range.setStartBefore(txt).collapse(true);\n        domUtils.remove(txt);\n      }\n\n      range.select();\n      return true;\n    },\n    queryCommandValue: function() {\n      var node = getObj(this);\n      return node ? node.getAttribute(\"dir\") : \"ltr\";\n    }\n  };\n})();\n\n\n// plugins/horizontal.js\n/**\n * 插入分割线插件\n * @file\n * @since 1.2.6.1\n */\n\n/**\n * 插入分割线\n * @command horizontal\n * @method execCommand\n * @param { String } cmdName 命令字符串\n * @example\n * ```javascript\n * editor.execCommand( 'horizontal' );\n * ```\n */\nUE.plugins[\"horizontal\"] = function() {\n  var me = this;\n  me.commands[\"horizontal\"] = {\n    execCommand: function(cmdName) {\n      var me = this;\n      if (me.queryCommandState(cmdName) !== -1) {\n        me.execCommand(\"insertHtml\", \"<hr>\");\n        var range = me.selection.getRange(),\n          start = range.startContainer;\n        if (start.nodeType == 1 && !start.childNodes[range.startOffset]) {\n          var tmp;\n          if ((tmp = start.childNodes[range.startOffset - 1])) {\n            if (tmp.nodeType == 1 && tmp.tagName == \"HR\") {\n              if (me.options.enterTag == \"p\") {\n                tmp = me.document.createElement(\"p\");\n                range.insertNode(tmp);\n                range.setStart(tmp, 0).setCursor();\n              } else {\n                tmp = me.document.createElement(\"br\");\n                range.insertNode(tmp);\n                range.setStartBefore(tmp).setCursor();\n              }\n            }\n          }\n        }\n        return true;\n      }\n    },\n    //边界在table里不能加分隔线\n    queryCommandState: function() {\n      return domUtils.filterNodeList(\n        this.selection.getStartElementPath(),\n        \"table\"\n      )\n        ? -1\n        : 0;\n    }\n  };\n  //    me.addListener('delkeyup',function(){\n  //        var rng = this.selection.getRange();\n  //        if(browser.ie && browser.version > 8){\n  //            rng.txtToElmBoundary(true);\n  //            if(domUtils.isStartInblock(rng)){\n  //                var tmpNode = rng.startContainer;\n  //                var pre = tmpNode.previousSibling;\n  //                if(pre && domUtils.isTagNode(pre,'hr')){\n  //                    domUtils.remove(pre);\n  //                    rng.select();\n  //                    return;\n  //                }\n  //            }\n  //        }\n  //        if(domUtils.isBody(rng.startContainer)){\n  //            var hr = rng.startContainer.childNodes[rng.startOffset -1];\n  //            if(hr && hr.nodeName == 'HR'){\n  //                var next = hr.nextSibling;\n  //                if(next){\n  //                    rng.setStart(next,0)\n  //                }else if(hr.previousSibling){\n  //                    rng.setStartAtLast(hr.previousSibling)\n  //                }else{\n  //                    var p = this.document.createElement('p');\n  //                    hr.parentNode.insertBefore(p,hr);\n  //                    domUtils.fillNode(this.document,p);\n  //                    rng.setStart(p,0);\n  //                }\n  //                domUtils.remove(hr);\n  //                rng.setCursor(false,true);\n  //            }\n  //        }\n  //    })\n  me.addListener(\"delkeydown\", function(name, evt) {\n    var rng = this.selection.getRange();\n    rng.txtToElmBoundary(true);\n    if (domUtils.isStartInblock(rng)) {\n      var tmpNode = rng.startContainer;\n      var pre = tmpNode.previousSibling;\n      if (pre && domUtils.isTagNode(pre, \"hr\")) {\n        domUtils.remove(pre);\n        rng.select();\n        domUtils.preventDefault(evt);\n        return true;\n      }\n    }\n  });\n};\n\n\n// plugins/time.js\n/**\n * 插入时间和日期\n * @file\n * @since 1.2.6.1\n */\n\n/**\n * 插入时间，默认格式：12:59:59\n * @command time\n * @method execCommand\n * @param { String } cmd 命令字符串\n * @example\n * ```javascript\n * editor.execCommand( 'time');\n * ```\n */\n\n/**\n * 插入日期，默认格式：2013-08-30\n * @command date\n * @method execCommand\n * @param { String } cmd 命令字符串\n * @example\n * ```javascript\n * editor.execCommand( 'date');\n * ```\n */\nUE.commands[\"time\"] = UE.commands[\"date\"] = {\n  execCommand: function(cmd, format) {\n    var date = new Date();\n\n    function formatTime(date, format) {\n      var hh = (\"0\" + date.getHours()).slice(-2),\n        ii = (\"0\" + date.getMinutes()).slice(-2),\n        ss = (\"0\" + date.getSeconds()).slice(-2);\n      format = format || \"hh:ii:ss\";\n      return format.replace(/hh/gi, hh).replace(/ii/gi, ii).replace(/ss/gi, ss);\n    }\n    function formatDate(date, format) {\n      var yyyy = (\"000\" + date.getFullYear()).slice(-4),\n        yy = yyyy.slice(-2),\n        mm = (\"0\" + (date.getMonth() + 1)).slice(-2),\n        dd = (\"0\" + date.getDate()).slice(-2);\n      format = format || \"yyyy-mm-dd\";\n      return format\n        .replace(/yyyy/gi, yyyy)\n        .replace(/yy/gi, yy)\n        .replace(/mm/gi, mm)\n        .replace(/dd/gi, dd);\n    }\n\n    this.execCommand(\n      \"insertHtml\",\n      cmd == \"time\" ? formatTime(date, format) : formatDate(date, format)\n    );\n  }\n};\n\n\n// plugins/rowspacing.js\n/**\n * 段前段后间距插件\n * @file\n * @since 1.2.6.1\n */\n\n/**\n * 设置段间距\n * @command rowspacing\n * @method execCommand\n * @param { String } cmd 命令字符串\n * @param { String } value 段间距的值，以px为单位\n * @param { String } dir 间距位置，top或bottom，分别表示段前和段后\n * @example\n * ```javascript\n * editor.execCommand( 'rowspacing', '10', 'top' );\n * ```\n */\n\nUE.plugins[\"rowspacing\"] = function() {\n  var me = this;\n  me.setOpt({\n    rowspacingtop: [\"5\", \"10\", \"15\", \"20\", \"25\"],\n    rowspacingbottom: [\"5\", \"10\", \"15\", \"20\", \"25\"]\n  });\n  me.commands[\"rowspacing\"] = {\n    execCommand: function(cmdName, value, dir) {\n      this.execCommand(\"paragraph\", \"p\", {\n        style: \"margin-\" + dir + \":\" + value + \"px\"\n      });\n      return true;\n    },\n    queryCommandValue: function(cmdName, dir) {\n      var pN = domUtils.filterNodeList(\n        this.selection.getStartElementPath(),\n        function(node) {\n          return domUtils.isBlockElm(node);\n        }\n      ),\n        value;\n      //trace:1026\n      if (pN) {\n        value = domUtils\n          .getComputedStyle(pN, \"margin-\" + dir)\n          .replace(/[^\\d]/g, \"\");\n        return !value ? 0 : value;\n      }\n      return 0;\n    }\n  };\n};\n\n\n// plugins/lineheight.js\n/**\n * 设置行内间距\n * @file\n * @since 1.2.6.1\n */\nUE.plugins[\"lineheight\"] = function() {\n  var me = this;\n  me.setOpt({ lineheight: [\"1\", \"1.5\", \"1.75\", \"2\", \"3\", \"4\", \"5\"] });\n\n  /**\n     * 行距\n     * @command lineheight\n     * @method execCommand\n     * @param { String } cmdName 命令字符串\n     * @param { String } value 传入的行高值， 该值是当前字体的倍数， 例如： 1.5, 1.75\n     * @example\n     * ```javascript\n     * editor.execCommand( 'lineheight', 1.5);\n     * ```\n     */\n  /**\n     * 查询当前选区内容的行高大小\n     * @command lineheight\n     * @method queryCommandValue\n     * @param { String } cmd 命令字符串\n     * @return { String } 返回当前行高大小\n     * @example\n     * ```javascript\n     * editor.queryCommandValue( 'lineheight' );\n     * ```\n     */\n\n  me.commands[\"lineheight\"] = {\n    execCommand: function(cmdName, value) {\n      this.execCommand(\"paragraph\", \"p\", {\n        style: \"line-height:\" + (value == \"1\" ? \"normal\" : value + \"em\")\n      });\n      return true;\n    },\n    queryCommandValue: function() {\n      var pN = domUtils.filterNodeList(\n        this.selection.getStartElementPath(),\n        function(node) {\n          return domUtils.isBlockElm(node);\n        }\n      );\n      if (pN) {\n        var value = domUtils.getComputedStyle(pN, \"line-height\");\n        return value == \"normal\" ? 1 : value.replace(/[^\\d.]*/gi, \"\");\n      }\n    }\n  };\n};\n\n\n// plugins/insertcode.js\n/**\n * 插入代码插件\n * @file\n * @since 1.2.6.1\n */\n\nUE.plugins[\"insertcode\"] = function() {\n  var me = this;\n  me.ready(function() {\n    utils.cssRule(\n      \"pre\",\n      \"pre{margin:.5em 0;padding:.4em .6em;border-radius:8px;background:#f8f8f8;}\",\n      me.document\n    );\n  });\n  me.setOpt(\"insertcode\", {\n    as3: \"ActionScript3\",\n    bash: \"Bash/Shell\",\n    cpp: \"C/C++\",\n    css: \"Css\",\n    cf: \"CodeFunction\",\n    \"c#\": \"C#\",\n    delphi: \"Delphi\",\n    diff: \"Diff\",\n    erlang: \"Erlang\",\n    groovy: \"Groovy\",\n    html: \"Html\",\n    java: \"Java\",\n    jfx: \"JavaFx\",\n    js: \"Javascript\",\n    pl: \"Perl\",\n    php: \"Php\",\n    plain: \"Plain Text\",\n    ps: \"PowerShell\",\n    python: \"Python\",\n    ruby: \"Ruby\",\n    scala: \"Scala\",\n    sql: \"Sql\",\n    vb: \"Vb\",\n    xml: \"Xml\"\n  });\n\n  /**\n     * 插入代码\n     * @command insertcode\n     * @method execCommand\n     * @param { String } cmd 命令字符串\n     * @param { String } lang 插入代码的语言\n     * @example\n     * ```javascript\n     * editor.execCommand( 'insertcode', 'javascript' );\n     * ```\n     */\n\n  /**\n     * 如果选区所在位置是插入插入代码区域，返回代码的语言\n     * @command insertcode\n     * @method queryCommandValue\n     * @param { String } cmd 命令字符串\n     * @return { String } 返回代码的语言\n     * @example\n     * ```javascript\n     * editor.queryCommandValue( 'insertcode' );\n     * ```\n     */\n\n  me.commands[\"insertcode\"] = {\n    execCommand: function(cmd, lang) {\n      var me = this,\n        rng = me.selection.getRange(),\n        pre = domUtils.findParentByTagName(rng.startContainer, \"pre\", true);\n      if (pre) {\n        pre.className = \"brush:\" + lang + \";toolbar:false;\";\n      } else {\n        var code = \"\";\n        if (rng.collapsed) {\n          code = browser.ie && browser.ie11below\n            ? browser.version <= 8 ? \"&nbsp;\" : \"\"\n            : \"<br/>\";\n        } else {\n          var frag = rng.extractContents();\n          var div = me.document.createElement(\"div\");\n          div.appendChild(frag);\n\n          utils.each(\n            UE.filterNode(\n              UE.htmlparser(div.innerHTML.replace(/[\\r\\t]/g, \"\")),\n              me.options.filterTxtRules\n            ).children,\n            function(node) {\n              if (browser.ie && browser.ie11below && browser.version > 8) {\n                if (node.type == \"element\") {\n                  if (node.tagName == \"br\") {\n                    code += \"\\n\";\n                  } else if (!dtd.$empty[node.tagName]) {\n                    utils.each(node.children, function(cn) {\n                      if (cn.type == \"element\") {\n                        if (cn.tagName == \"br\") {\n                          code += \"\\n\";\n                        } else if (!dtd.$empty[node.tagName]) {\n                          code += cn.innerText();\n                        }\n                      } else {\n                        code += cn.data;\n                      }\n                    });\n                    if (!/\\n$/.test(code)) {\n                      code += \"\\n\";\n                    }\n                  }\n                } else {\n                  code += node.data + \"\\n\";\n                }\n                if (!node.nextSibling() && /\\n$/.test(code)) {\n                  code = code.replace(/\\n$/, \"\");\n                }\n              } else {\n                if (browser.ie && browser.ie11below) {\n                  if (node.type == \"element\") {\n                    if (node.tagName == \"br\") {\n                      code += \"<br>\";\n                    } else if (!dtd.$empty[node.tagName]) {\n                      utils.each(node.children, function(cn) {\n                        if (cn.type == \"element\") {\n                          if (cn.tagName == \"br\") {\n                            code += \"<br>\";\n                          } else if (!dtd.$empty[node.tagName]) {\n                            code += cn.innerText();\n                          }\n                        } else {\n                          code += cn.data;\n                        }\n                      });\n                      if (!/br>$/.test(code)) {\n                        code += \"<br>\";\n                      }\n                    }\n                  } else {\n                    code += node.data + \"<br>\";\n                  }\n                  if (!node.nextSibling() && /<br>$/.test(code)) {\n                    code = code.replace(/<br>$/, \"\");\n                  }\n                } else {\n                  code += node.type == \"element\"\n                    ? dtd.$empty[node.tagName] ? \"\" : node.innerText()\n                    : node.data;\n                  if (!/br\\/?\\s*>$/.test(code)) {\n                    if (!node.nextSibling()) return;\n                    code += \"<br>\";\n                  }\n                }\n              }\n            }\n          );\n        }\n        me.execCommand(\n          \"inserthtml\",\n          '<pre id=\"coder\"class=\"brush:' +\n            lang +\n            ';toolbar:false\">' +\n            code +\n            \"</pre>\",\n          true\n        );\n\n        pre = me.document.getElementById(\"coder\");\n        domUtils.removeAttributes(pre, \"id\");\n        var tmpNode = pre.previousSibling;\n\n        if (\n          tmpNode &&\n          ((tmpNode.nodeType == 3 &&\n            tmpNode.nodeValue.length == 1 &&\n            browser.ie &&\n            browser.version == 6) ||\n            domUtils.isEmptyBlock(tmpNode))\n        ) {\n          domUtils.remove(tmpNode);\n        }\n        var rng = me.selection.getRange();\n        if (domUtils.isEmptyBlock(pre)) {\n          rng.setStart(pre, 0).setCursor(false, true);\n        } else {\n          rng.selectNodeContents(pre).select();\n        }\n      }\n    },\n    queryCommandValue: function() {\n      var path = this.selection.getStartElementPath();\n      var lang = \"\";\n      utils.each(path, function(node) {\n        if (node.nodeName == \"PRE\") {\n          var match = node.className.match(/brush:([^;]+)/);\n          lang = match && match[1] ? match[1] : \"\";\n          return false;\n        }\n      });\n      return lang;\n    }\n  };\n\n  me.addInputRule(function(root) {\n    utils.each(root.getNodesByTagName(\"pre\"), function(pre) {\n      var brs = pre.getNodesByTagName(\"br\");\n      if (brs.length) {\n        browser.ie &&\n          browser.ie11below &&\n          browser.version > 8 &&\n          utils.each(brs, function(br) {\n            var txt = UE.uNode.createText(\"\\n\");\n            br.parentNode.insertBefore(txt, br);\n            br.parentNode.removeChild(br);\n          });\n        return;\n      }\n      if (browser.ie && browser.ie11below && browser.version > 8) return;\n      var code = pre.innerText().split(/\\n/);\n      pre.innerHTML(\"\");\n      utils.each(code, function(c) {\n        if (c.length) {\n          pre.appendChild(UE.uNode.createText(c));\n        }\n        pre.appendChild(UE.uNode.createElement(\"br\"));\n      });\n    });\n  });\n  me.addOutputRule(function(root) {\n    utils.each(root.getNodesByTagName(\"pre\"), function(pre) {\n      var code = \"\";\n      utils.each(pre.children, function(n) {\n        if (n.type == \"text\") {\n          //在ie下文本内容有可能末尾带有\\n要去掉\n          //trace:3396\n          code += n.data.replace(/[ ]/g, \"&nbsp;\").replace(/\\n$/, \"\");\n        } else {\n          if (n.tagName == \"br\") {\n            code += \"\\n\";\n          } else {\n            code += !dtd.$empty[n.tagName] ? \"\" : n.innerText();\n          }\n        }\n      });\n\n      pre.innerText(code.replace(/(&nbsp;|\\n)+$/, \"\"));\n    });\n  });\n  //不需要判断highlight的command列表\n  me.notNeedCodeQuery = {\n    help: 1,\n    undo: 1,\n    redo: 1,\n    source: 1,\n    print: 1,\n    searchreplace: 1,\n    fullscreen: 1,\n    preview: 1,\n    insertparagraph: 1,\n    elementpath: 1,\n    insertcode: 1,\n    inserthtml: 1,\n    selectall: 1\n  };\n  //将queyCommamndState重置\n  var orgQuery = me.queryCommandState;\n  me.queryCommandState = function(cmd) {\n    var me = this;\n\n    if (\n      !me.notNeedCodeQuery[cmd.toLowerCase()] &&\n      me.selection &&\n      me.queryCommandValue(\"insertcode\")\n    ) {\n      return -1;\n    }\n    return UE.Editor.prototype.queryCommandState.apply(this, arguments);\n  };\n  me.addListener(\"beforeenterkeydown\", function() {\n    var rng = me.selection.getRange();\n    var pre = domUtils.findParentByTagName(rng.startContainer, \"pre\", true);\n    if (pre) {\n      me.fireEvent(\"saveScene\");\n      if (!rng.collapsed) {\n        rng.deleteContents();\n      }\n      if (!browser.ie || browser.ie9above) {\n        var tmpNode = me.document.createElement(\"br\"),\n          pre;\n        rng.insertNode(tmpNode).setStartAfter(tmpNode).collapse(true);\n        var next = tmpNode.nextSibling;\n        if (!next && (!browser.ie || browser.version > 10)) {\n          rng.insertNode(tmpNode.cloneNode(false));\n        } else {\n          rng.setStartAfter(tmpNode);\n        }\n        pre = tmpNode.previousSibling;\n        var tmp;\n        while (pre) {\n          tmp = pre;\n          pre = pre.previousSibling;\n          if (!pre || pre.nodeName == \"BR\") {\n            pre = tmp;\n            break;\n          }\n        }\n        if (pre) {\n          var str = \"\";\n          while (\n            pre &&\n            pre.nodeName != \"BR\" &&\n            new RegExp(\"^[\\\\s\" + domUtils.fillChar + \"]*$\").test(pre.nodeValue)\n          ) {\n            str += pre.nodeValue;\n            pre = pre.nextSibling;\n          }\n          if (pre.nodeName != \"BR\") {\n            var match = pre.nodeValue.match(\n              new RegExp(\"^([\\\\s\" + domUtils.fillChar + \"]+)\")\n            );\n            if (match && match[1]) {\n              str += match[1];\n            }\n          }\n          if (str) {\n            str = me.document.createTextNode(str);\n            rng.insertNode(str).setStartAfter(str);\n          }\n        }\n        rng.collapse(true).select(true);\n      } else {\n        if (browser.version > 8) {\n          var txt = me.document.createTextNode(\"\\n\");\n          var start = rng.startContainer;\n          if (rng.startOffset == 0) {\n            var preNode = start.previousSibling;\n            if (preNode) {\n              rng.insertNode(txt);\n              var fillchar = me.document.createTextNode(\" \");\n              rng\n                .setStartAfter(txt)\n                .insertNode(fillchar)\n                .setStart(fillchar, 0)\n                .collapse(true)\n                .select(true);\n            }\n          } else {\n            rng.insertNode(txt).setStartAfter(txt);\n            var fillchar = me.document.createTextNode(\" \");\n            start = rng.startContainer.childNodes[rng.startOffset];\n            if (start && !/^\\n/.test(start.nodeValue)) {\n              rng.setStartBefore(txt);\n            }\n            rng\n              .insertNode(fillchar)\n              .setStart(fillchar, 0)\n              .collapse(true)\n              .select(true);\n          }\n        } else {\n          var tmpNode = me.document.createElement(\"br\");\n          rng.insertNode(tmpNode);\n          rng.insertNode(me.document.createTextNode(domUtils.fillChar));\n          rng.setStartAfter(tmpNode);\n          pre = tmpNode.previousSibling;\n          var tmp;\n          while (pre) {\n            tmp = pre;\n            pre = pre.previousSibling;\n            if (!pre || pre.nodeName == \"BR\") {\n              pre = tmp;\n              break;\n            }\n          }\n          if (pre) {\n            var str = \"\";\n            while (\n              pre &&\n              pre.nodeName != \"BR\" &&\n              new RegExp(\"^[ \" + domUtils.fillChar + \"]*$\").test(pre.nodeValue)\n            ) {\n              str += pre.nodeValue;\n              pre = pre.nextSibling;\n            }\n            if (pre.nodeName != \"BR\") {\n              var match = pre.nodeValue.match(\n                new RegExp(\"^([ \" + domUtils.fillChar + \"]+)\")\n              );\n              if (match && match[1]) {\n                str += match[1];\n              }\n            }\n\n            str = me.document.createTextNode(str);\n            rng.insertNode(str).setStartAfter(str);\n          }\n          rng.collapse(true).select();\n        }\n      }\n      me.fireEvent(\"saveScene\");\n      return true;\n    }\n  });\n\n  me.addListener(\"tabkeydown\", function(cmd, evt) {\n    var rng = me.selection.getRange();\n    var pre = domUtils.findParentByTagName(rng.startContainer, \"pre\", true);\n    if (pre) {\n      me.fireEvent(\"saveScene\");\n      if (evt.shiftKey) {\n      } else {\n        if (!rng.collapsed) {\n          var bk = rng.createBookmark();\n          var start = bk.start.previousSibling;\n\n          while (start) {\n            if (pre.firstChild === start && !domUtils.isBr(start)) {\n              pre.insertBefore(me.document.createTextNode(\"    \"), start);\n\n              break;\n            }\n            if (domUtils.isBr(start)) {\n              pre.insertBefore(\n                me.document.createTextNode(\"    \"),\n                start.nextSibling\n              );\n\n              break;\n            }\n            start = start.previousSibling;\n          }\n          var end = bk.end;\n          start = bk.start.nextSibling;\n          if (pre.firstChild === bk.start) {\n            pre.insertBefore(\n              me.document.createTextNode(\"    \"),\n              start.nextSibling\n            );\n          }\n          while (start && start !== end) {\n            if (domUtils.isBr(start) && start.nextSibling) {\n              if (start.nextSibling === end) {\n                break;\n              }\n              pre.insertBefore(\n                me.document.createTextNode(\"    \"),\n                start.nextSibling\n              );\n            }\n\n            start = start.nextSibling;\n          }\n          rng.moveToBookmark(bk).select();\n        } else {\n          var tmpNode = me.document.createTextNode(\"    \");\n          rng\n            .insertNode(tmpNode)\n            .setStartAfter(tmpNode)\n            .collapse(true)\n            .select(true);\n        }\n      }\n\n      me.fireEvent(\"saveScene\");\n      return true;\n    }\n  });\n\n  me.addListener(\"beforeinserthtml\", function(evtName, html) {\n    var me = this,\n      rng = me.selection.getRange(),\n      pre = domUtils.findParentByTagName(rng.startContainer, \"pre\", true);\n    if (pre) {\n      if (!rng.collapsed) {\n        rng.deleteContents();\n      }\n      var htmlstr = \"\";\n      if (browser.ie && browser.version > 8) {\n        utils.each(\n          UE.filterNode(UE.htmlparser(html), me.options.filterTxtRules)\n            .children,\n          function(node) {\n            if (node.type == \"element\") {\n              if (node.tagName == \"br\") {\n                htmlstr += \"\\n\";\n              } else if (!dtd.$empty[node.tagName]) {\n                utils.each(node.children, function(cn) {\n                  if (cn.type == \"element\") {\n                    if (cn.tagName == \"br\") {\n                      htmlstr += \"\\n\";\n                    } else if (!dtd.$empty[node.tagName]) {\n                      htmlstr += cn.innerText();\n                    }\n                  } else {\n                    htmlstr += cn.data;\n                  }\n                });\n                if (!/\\n$/.test(htmlstr)) {\n                  htmlstr += \"\\n\";\n                }\n              }\n            } else {\n              htmlstr += node.data + \"\\n\";\n            }\n            if (!node.nextSibling() && /\\n$/.test(htmlstr)) {\n              htmlstr = htmlstr.replace(/\\n$/, \"\");\n            }\n          }\n        );\n        var tmpNode = me.document.createTextNode(\n          utils.html(htmlstr.replace(/&nbsp;/g, \" \"))\n        );\n        rng.insertNode(tmpNode).selectNode(tmpNode).select();\n      } else {\n        var frag = me.document.createDocumentFragment();\n\n        utils.each(\n          UE.filterNode(UE.htmlparser(html), me.options.filterTxtRules)\n            .children,\n          function(node) {\n            if (node.type == \"element\") {\n              if (node.tagName == \"br\") {\n                frag.appendChild(me.document.createElement(\"br\"));\n              } else if (!dtd.$empty[node.tagName]) {\n                utils.each(node.children, function(cn) {\n                  if (cn.type == \"element\") {\n                    if (cn.tagName == \"br\") {\n                      frag.appendChild(me.document.createElement(\"br\"));\n                    } else if (!dtd.$empty[node.tagName]) {\n                      frag.appendChild(\n                        me.document.createTextNode(\n                          utils.html(cn.innerText().replace(/&nbsp;/g, \" \"))\n                        )\n                      );\n                    }\n                  } else {\n                    frag.appendChild(\n                      me.document.createTextNode(\n                        utils.html(cn.data.replace(/&nbsp;/g, \" \"))\n                      )\n                    );\n                  }\n                });\n                if (frag.lastChild.nodeName != \"BR\") {\n                  frag.appendChild(me.document.createElement(\"br\"));\n                }\n              }\n            } else {\n              frag.appendChild(\n                me.document.createTextNode(\n                  utils.html(node.data.replace(/&nbsp;/g, \" \"))\n                )\n              );\n            }\n            if (!node.nextSibling() && frag.lastChild.nodeName == \"BR\") {\n              frag.removeChild(frag.lastChild);\n            }\n          }\n        );\n        rng.insertNode(frag).select();\n      }\n\n      return true;\n    }\n  });\n  //方向键的处理\n  me.addListener(\"keydown\", function(cmd, evt) {\n    var me = this,\n      keyCode = evt.keyCode || evt.which;\n    if (keyCode == 40) {\n      var rng = me.selection.getRange(),\n        pre,\n        start = rng.startContainer;\n      if (\n        rng.collapsed &&\n        (pre = domUtils.findParentByTagName(rng.startContainer, \"pre\", true)) &&\n        !pre.nextSibling\n      ) {\n        var last = pre.lastChild;\n        while (last && last.nodeName == \"BR\") {\n          last = last.previousSibling;\n        }\n        if (\n          last === start ||\n          (rng.startContainer === pre &&\n            rng.startOffset == pre.childNodes.length)\n        ) {\n          me.execCommand(\"insertparagraph\");\n          domUtils.preventDefault(evt);\n        }\n      }\n    }\n  });\n  //trace:3395\n  me.addListener(\"delkeydown\", function(type, evt) {\n    var rng = this.selection.getRange();\n    rng.txtToElmBoundary(true);\n    var start = rng.startContainer;\n    if (\n      domUtils.isTagNode(start, \"pre\") &&\n      rng.collapsed &&\n      domUtils.isStartInblock(rng)\n    ) {\n      var p = me.document.createElement(\"p\");\n      domUtils.fillNode(me.document, p);\n      start.parentNode.insertBefore(p, start);\n      domUtils.remove(start);\n      rng.setStart(p, 0).setCursor(false, true);\n      domUtils.preventDefault(evt);\n      return true;\n    }\n  });\n};\n\n\n// plugins/cleardoc.js\n/**\n * 清空文档插件\n * @file\n * @since 1.2.6.1\n */\n\n/**\n * 清空文档\n * @command cleardoc\n * @method execCommand\n * @param { String } cmd 命令字符串\n * @example\n * ```javascript\n * //editor 是编辑器实例\n * editor.execCommand('cleardoc');\n * ```\n */\n\nUE.commands[\"cleardoc\"] = {\n  execCommand: function(cmdName) {\n    var me = this,\n      enterTag = me.options.enterTag,\n      range = me.selection.getRange();\n    if (enterTag == \"br\") {\n      me.body.innerHTML = \"<br/>\";\n      range.setStart(me.body, 0).setCursor();\n    } else {\n      me.body.innerHTML = \"<p>\" + (ie ? \"\" : \"<br/>\") + \"</p>\";\n      range.setStart(me.body.firstChild, 0).setCursor(false, true);\n    }\n    setTimeout(function() {\n      me.fireEvent(\"clearDoc\");\n    }, 0);\n  }\n};\n\n\n// plugins/anchor.js\n/**\n * 锚点插件，为UEditor提供插入锚点支持\n * @file\n * @since 1.2.6.1\n */\nUE.plugin.register(\"anchor\", function () {\n    var me = this;\n    return {\n        bindEvents: {\n            ready: function () {\n                utils.cssRule(\n                    \"anchor\",\n                    \".anchorclass{background: url('\" +\n                    this.options.themePath +\n                    this.options.theme +\n                    \"/images/anchor.gif') no-repeat scroll left center transparent;cursor: auto;display: inline-block;height: 16px;width: 16px;}\",\n                    this.document\n                );\n            }\n        },\n        outputRule: function (root) {\n            utils.each(root.getNodesByTagName(\"img\"), function (a) {\n                var val;\n                if ((val = a.getAttr(\"anchorname\"))) {\n                    a.tagName = \"a\";\n                    a.setAttr({\n                        anchorname: \"\",\n                        name: val,\n                        class: \"\"\n                    });\n                }\n            });\n        },\n        inputRule: function (root) {\n            utils.each(root.getNodesByTagName(\"a\"), function (a) {\n                var val;\n                if ((val = a.getAttr(\"name\")) && !a.getAttr(\"href\")) {\n                    //过滤掉word冗余标签\n                    //_Toc\\d+有可能勿命中\n                    if (/^\\_Toc\\d+$/.test(val)) {\n                        a.parentNode.removeChild(a);\n                        return;\n                    }\n                    a.tagName = \"img\";\n                    a.setAttr({\n                        anchorname: a.getAttr(\"name\"),\n                        class: \"anchorclass\"\n                    });\n                    a.setAttr(\"name\");\n                }\n            });\n        },\n        commands: {\n            /**\n             * 插入锚点\n             * @command anchor\n             * @method execCommand\n             * @param { String } cmd 命令字符串\n             * @param { String } name 锚点名称字符串\n             * @example\n             * ```javascript\n             * //editor 是编辑器实例\n             * editor.execCommand('anchor', 'anchor1');\n             * ```\n             */\n            anchor: {\n                execCommand: function (cmd, name) {\n                    var range = this.selection.getRange(),\n                        img = range.getClosedNode();\n\n                    if (img && img.getAttribute(\"anchorname\")) {\n                        if (name) {\n                            img.setAttribute(\"anchorname\", name);\n                        } else {\n                            range.setStartBefore(img).setCursor();\n                            domUtils.remove(img);\n                        }\n                    } else {\n                        if (name) {\n                            //只在选区的开始插入\n                            var anchor = utils.renderTplstr('<img anchorname=\"${name}\" class=\"anchorclass\"></img>', {\n                                name: name\n                            });\n                            me.execCommand(\"inserthtml\", anchor, true);\n                        }\n                    }\n                }\n            }\n        }\n    };\n});\n\n\n// plugins/wordcount.js\n///import core\n///commands 字数统计\n///commandsName  WordCount,wordCount\n///commandsTitle  字数统计\n/*\n * Created by JetBrains WebStorm.\n * User: taoqili\n * Date: 11-9-7\n * Time: 下午8:18\n * To change this template use File | Settings | File Templates.\n */\n\nUE.plugins[\"wordcount\"] = function() {\n  var me = this;\n  me.setOpt(\"wordCount\", true);\n  me.addListener(\"contentchange\", function() {\n    me.fireEvent(\"wordcount\");\n  });\n  var timer;\n  me.addListener(\"ready\", function() {\n    var me = this;\n    domUtils.on(me.body, \"keyup\", function(evt) {\n      var code = evt.keyCode || evt.which,\n        //忽略的按键,ctr,alt,shift,方向键\n        ignores = {\n          \"16\": 1,\n          \"18\": 1,\n          \"20\": 1,\n          \"37\": 1,\n          \"38\": 1,\n          \"39\": 1,\n          \"40\": 1\n        };\n      if (code in ignores) return;\n      clearTimeout(timer);\n      timer = setTimeout(function() {\n        me.fireEvent(\"wordcount\");\n      }, 200);\n    });\n  });\n};\n\n\n// plugins/pagebreak.js\n/**\n * 分页功能插件\n * @file\n * @since 1.2.6.1\n */\nUE.plugins[\"pagebreak\"] = function() {\n  var me = this,\n    notBreakTags = [\"td\"];\n  me.setOpt(\"pageBreakTag\", \"_ueditor_page_break_tag_\");\n\n  function fillNode(node) {\n    if (domUtils.isEmptyBlock(node)) {\n      var firstChild = node.firstChild,\n        tmpNode;\n\n      while (\n        firstChild &&\n        firstChild.nodeType == 1 &&\n        domUtils.isEmptyBlock(firstChild)\n      ) {\n        tmpNode = firstChild;\n        firstChild = firstChild.firstChild;\n      }\n      !tmpNode && (tmpNode = node);\n      domUtils.fillNode(me.document, tmpNode);\n    }\n  }\n  //分页符样式添加\n\n  me.ready(function() {\n    utils.cssRule(\n      \"pagebreak\",\n      \".pagebreak{display:block;clear:both !important;cursor:default !important;width: 100% !important;margin:0;}\",\n      me.document\n    );\n  });\n  function isHr(node) {\n    return (\n      node &&\n      node.nodeType == 1 &&\n      node.tagName == \"HR\" &&\n      node.className == \"pagebreak\"\n    );\n  }\n  me.addInputRule(function(root) {\n    root.traversal(function(node) {\n      if (node.type == \"text\" && node.data == me.options.pageBreakTag) {\n        var hr = UE.uNode.createElement(\n          '<hr class=\"pagebreak\" noshade=\"noshade\" size=\"5\" style=\"-webkit-user-select: none;\">'\n        );\n        node.parentNode.insertBefore(hr, node);\n        node.parentNode.removeChild(node);\n      }\n    });\n  });\n  me.addOutputRule(function(node) {\n    utils.each(node.getNodesByTagName(\"hr\"), function(n) {\n      if (n.getAttr(\"class\") == \"pagebreak\") {\n        var txt = UE.uNode.createText(me.options.pageBreakTag);\n        n.parentNode.insertBefore(txt, n);\n        n.parentNode.removeChild(n);\n      }\n    });\n  });\n\n  /**\n     * 插入分页符\n     * @command pagebreak\n     * @method execCommand\n     * @param { String } cmd 命令字符串\n     * @remind 在表格中插入分页符会把表格切分成两部分\n     * @remind 获取编辑器内的数据时， 编辑器会把分页符转换成“_ueditor_page_break_tag_”字符串，\n     *          以便于提交数据到服务器端后处理分页。\n     * @example\n     * ```javascript\n     * editor.execCommand( 'pagebreak'); //插入一个hr标签，带有样式类名pagebreak\n     * ```\n     */\n\n  me.commands[\"pagebreak\"] = {\n    execCommand: function() {\n      var range = me.selection.getRange(),\n        hr = me.document.createElement(\"hr\");\n      domUtils.setAttributes(hr, {\n        class: \"pagebreak\",\n        noshade: \"noshade\",\n        size: \"5\"\n      });\n      domUtils.unSelectable(hr);\n      //table单独处理\n      var node = domUtils.findParentByTagName(\n        range.startContainer,\n        notBreakTags,\n        true\n      ),\n        parents = [],\n        pN;\n      if (node) {\n        switch (node.tagName) {\n          case \"TD\":\n            pN = node.parentNode;\n            if (!pN.previousSibling) {\n              var table = domUtils.findParentByTagName(pN, \"table\");\n              //                            var tableWrapDiv = table.parentNode;\n              //                            if(tableWrapDiv && tableWrapDiv.nodeType == 1\n              //                                && tableWrapDiv.tagName == 'DIV'\n              //                                && tableWrapDiv.getAttribute('dropdrag')\n              //                                ){\n              //                                domUtils.remove(tableWrapDiv,true);\n              //                            }\n              table.parentNode.insertBefore(hr, table);\n              parents = domUtils.findParents(hr, true);\n            } else {\n              pN.parentNode.insertBefore(hr, pN);\n              parents = domUtils.findParents(hr);\n            }\n            pN = parents[1];\n            if (hr !== pN) {\n              domUtils.breakParent(hr, pN);\n            }\n            //table要重写绑定一下拖拽\n            me.fireEvent(\"afteradjusttable\", me.document);\n        }\n      } else {\n        if (!range.collapsed) {\n          range.deleteContents();\n          var start = range.startContainer;\n          while (\n            !domUtils.isBody(start) &&\n            domUtils.isBlockElm(start) &&\n            domUtils.isEmptyNode(start)\n          ) {\n            range.setStartBefore(start).collapse(true);\n            domUtils.remove(start);\n            start = range.startContainer;\n          }\n        }\n        range.insertNode(hr);\n\n        var pN = hr.parentNode,\n          nextNode;\n        while (!domUtils.isBody(pN)) {\n          domUtils.breakParent(hr, pN);\n          nextNode = hr.nextSibling;\n          if (nextNode && domUtils.isEmptyBlock(nextNode)) {\n            domUtils.remove(nextNode);\n          }\n          pN = hr.parentNode;\n        }\n        nextNode = hr.nextSibling;\n        var pre = hr.previousSibling;\n        if (isHr(pre)) {\n          domUtils.remove(pre);\n        } else {\n          pre && fillNode(pre);\n        }\n\n        if (!nextNode) {\n          var p = me.document.createElement(\"p\");\n\n          hr.parentNode.appendChild(p);\n          domUtils.fillNode(me.document, p);\n          range.setStart(p, 0).collapse(true);\n        } else {\n          if (isHr(nextNode)) {\n            domUtils.remove(nextNode);\n          } else {\n            fillNode(nextNode);\n          }\n          range.setEndAfter(hr).collapse(false);\n        }\n\n        range.select(true);\n      }\n    }\n  };\n};\n\n\n// plugins/wordimage.js\n///import core\n///commands 本地图片引导上传\n///commandsName  WordImage\n///commandsTitle  本地图片引导上传\n///commandsDialog  dialogs\\wordimage\n\nUE.plugin.register(\"wordimage\", function() {\n  var me = this,\n    images = [];\n  return {\n    commands: {\n      wordimage: {\n        execCommand: function() {\n          var images = domUtils.getElementsByTagName(me.body, \"img\");\n          var urlList = [];\n          for (var i = 0, ci; (ci = images[i++]); ) {\n            var url = ci.getAttribute(\"word_img\");\n            url && urlList.push(url);\n          }\n          return urlList;\n        },\n        queryCommandState: function() {\n          images = domUtils.getElementsByTagName(me.body, \"img\");\n          for (var i = 0, ci; (ci = images[i++]); ) {\n            if (ci.getAttribute(\"word_img\")) {\n              return 1;\n            }\n          }\n          return -1;\n        },\n        notNeedUndo: true\n      }\n    },\n    inputRule: function(root) {\n      utils.each(root.getNodesByTagName(\"img\"), function(img) {\n        var attrs = img.attrs,\n          flag = parseInt(attrs.width) < 128 || parseInt(attrs.height) < 43,\n          opt = me.options,\n          src = opt.UEDITOR_HOME_URL + \"themes/notadd/images/spacer.gif\";\n        if (attrs[\"src\"] && /^(?:(file:\\/+))/.test(attrs[\"src\"])) {\n          img.setAttr({\n            width: attrs.width,\n            height: attrs.height,\n            alt: attrs.alt,\n            word_img: attrs.src,\n            src: src,\n            style:\n              \"background:url(\" +\n                (flag\n                  ? opt.themePath + opt.theme + \"/images/word.gif\"\n                  : opt.langPath + opt.lang + \"/images/localimage.png\") +\n                \") no-repeat center center;border:1px solid #ddd\"\n          });\n        }\n      });\n    }\n  };\n});\n\n\n// plugins/dragdrop.js\nUE.plugins[\"dragdrop\"] = function() {\n  var me = this;\n  me.ready(function() {\n    domUtils.on(this.body, \"dragend\", function() {\n      var rng = me.selection.getRange();\n      var node = rng.getClosedNode() || me.selection.getStart();\n\n      if (node && node.tagName == \"IMG\") {\n        var pre = node.previousSibling,\n          next;\n        while ((next = node.nextSibling)) {\n          if (\n            next.nodeType == 1 &&\n            next.tagName == \"SPAN\" &&\n            !next.firstChild\n          ) {\n            domUtils.remove(next);\n          } else {\n            break;\n          }\n        }\n\n        if (\n          ((pre && pre.nodeType == 1 && !domUtils.isEmptyBlock(pre)) || !pre) &&\n          (!next || (next && !domUtils.isEmptyBlock(next)))\n        ) {\n          if (pre && pre.tagName == \"P\" && !domUtils.isEmptyBlock(pre)) {\n            pre.appendChild(node);\n            domUtils.moveChild(next, pre);\n            domUtils.remove(next);\n          } else if (\n            next &&\n            next.tagName == \"P\" &&\n            !domUtils.isEmptyBlock(next)\n          ) {\n            next.insertBefore(node, next.firstChild);\n          }\n\n          if (pre && pre.tagName == \"P\" && domUtils.isEmptyBlock(pre)) {\n            domUtils.remove(pre);\n          }\n          if (next && next.tagName == \"P\" && domUtils.isEmptyBlock(next)) {\n            domUtils.remove(next);\n          }\n          rng.selectNode(node).select();\n          me.fireEvent(\"saveScene\");\n        }\n      }\n    });\n  });\n  me.addListener(\"keyup\", function(type, evt) {\n    var keyCode = evt.keyCode || evt.which;\n    if (keyCode == 13) {\n      var rng = me.selection.getRange(),\n        node;\n      if (\n        (node = domUtils.findParentByTagName(rng.startContainer, \"p\", true))\n      ) {\n        if (domUtils.getComputedStyle(node, \"text-align\") == \"center\") {\n          domUtils.removeStyle(node, \"text-align\");\n        }\n      }\n    }\n  });\n};\n\n\n// plugins/undo.js\n/**\n * undo redo\n * @file\n * @since 1.2.6.1\n */\n\n/**\n * 撤销上一次执行的命令\n * @command undo\n * @method execCommand\n * @param { String } cmd 命令字符串\n * @example\n * ```javascript\n * editor.execCommand( 'undo' );\n * ```\n */\n\n/**\n * 重做上一次执行的命令\n * @command redo\n * @method execCommand\n * @param { String } cmd 命令字符串\n * @example\n * ```javascript\n * editor.execCommand( 'redo' );\n * ```\n */\n\nUE.plugins[\"undo\"] = function() {\n  var saveSceneTimer;\n  var me = this,\n    maxUndoCount = me.options.maxUndoCount || 20,\n    maxInputCount = me.options.maxInputCount || 20,\n    fillchar = new RegExp(domUtils.fillChar + \"|</hr>\", \"gi\"); // ie会产生多余的</hr>\n  var noNeedFillCharTags = {\n    ol: 1,\n    ul: 1,\n    table: 1,\n    tbody: 1,\n    tr: 1,\n    body: 1\n  };\n  var orgState = me.options.autoClearEmptyNode;\n  function compareAddr(indexA, indexB) {\n    if (indexA.length != indexB.length) return 0;\n    for (var i = 0, l = indexA.length; i < l; i++) {\n      if (indexA[i] != indexB[i]) return 0;\n    }\n    return 1;\n  }\n\n  function compareRangeAddress(rngAddrA, rngAddrB) {\n    if (rngAddrA.collapsed != rngAddrB.collapsed) {\n      return 0;\n    }\n    if (\n      !compareAddr(rngAddrA.startAddress, rngAddrB.startAddress) ||\n      !compareAddr(rngAddrA.endAddress, rngAddrB.endAddress)\n    ) {\n      return 0;\n    }\n    return 1;\n  }\n\n  function UndoManager() {\n    this.list = [];\n    this.index = 0;\n    this.hasUndo = false;\n    this.hasRedo = false;\n    this.undo = function() {\n      if (this.hasUndo) {\n        if (!this.list[this.index - 1] && this.list.length == 1) {\n          this.reset();\n          return;\n        }\n        while (\n          this.list[this.index].content == this.list[this.index - 1].content\n        ) {\n          this.index--;\n          if (this.index == 0) {\n            return this.restore(0);\n          }\n        }\n        this.restore(--this.index);\n      }\n    };\n    this.redo = function() {\n      if (this.hasRedo) {\n        while (\n          this.list[this.index].content == this.list[this.index + 1].content\n        ) {\n          this.index++;\n          if (this.index == this.list.length - 1) {\n            return this.restore(this.index);\n          }\n        }\n        this.restore(++this.index);\n      }\n    };\n\n    this.restore = function() {\n      var me = this.editor;\n      var scene = this.list[this.index];\n      var root = UE.htmlparser(scene.content.replace(fillchar, \"\"));\n      me.options.autoClearEmptyNode = false;\n      me.filterInputRule(root);\n      me.options.autoClearEmptyNode = orgState;\n      //trace:873\n      //去掉展位符\n      me.document.body.innerHTML = root.toHtml();\n      me.fireEvent(\"afterscencerestore\");\n      //处理undo后空格不展位的问题\n      if (browser.ie) {\n        utils.each(\n          domUtils.getElementsByTagName(me.document, \"td th caption p\"),\n          function(node) {\n            if (domUtils.isEmptyNode(node)) {\n              domUtils.fillNode(me.document, node);\n            }\n          }\n        );\n      }\n\n      try {\n        var rng = new dom.Range(me.document).moveToAddress(scene.address);\n        rng.select(\n          noNeedFillCharTags[rng.startContainer.nodeName.toLowerCase()]\n        );\n      } catch (e) {}\n\n      this.update();\n      this.clearKey();\n      //不能把自己reset了\n      me.fireEvent(\"reset\", true);\n    };\n\n    this.getScene = function() {\n      var me = this.editor;\n      var rng = me.selection.getRange(),\n        rngAddress = rng.createAddress(false, true);\n      me.fireEvent(\"beforegetscene\");\n      var root = UE.htmlparser(me.body.innerHTML);\n      me.options.autoClearEmptyNode = false;\n      me.filterOutputRule(root);\n      me.options.autoClearEmptyNode = orgState;\n      var cont = root.toHtml();\n      //trace:3461\n      //这个会引起回退时导致空格丢失的情况\n      //            browser.ie && (cont = cont.replace(/>&nbsp;</g, '><').replace(/\\s*</g, '<').replace(/>\\s*/g, '>'));\n      me.fireEvent(\"aftergetscene\");\n\n      return {\n        address: rngAddress,\n        content: cont\n      };\n    };\n    this.save = function(notCompareRange, notSetCursor) {\n      clearTimeout(saveSceneTimer);\n      var currentScene = this.getScene(notSetCursor),\n        lastScene = this.list[this.index];\n\n      if (lastScene && lastScene.content != currentScene.content) {\n        me.trigger(\"contentchange\");\n      }\n      //内容相同位置相同不存\n      if (\n        lastScene &&\n        lastScene.content == currentScene.content &&\n        (notCompareRange\n          ? 1\n          : compareRangeAddress(lastScene.address, currentScene.address))\n      ) {\n        return;\n      }\n      this.list = this.list.slice(0, this.index + 1);\n      this.list.push(currentScene);\n      //如果大于最大数量了，就把最前的剔除\n      if (this.list.length > maxUndoCount) {\n        this.list.shift();\n      }\n      this.index = this.list.length - 1;\n      this.clearKey();\n      //跟新undo/redo状态\n      this.update();\n    };\n    this.update = function() {\n      this.hasRedo = !!this.list[this.index + 1];\n      this.hasUndo = !!this.list[this.index - 1];\n    };\n    this.reset = function() {\n      this.list = [];\n      this.index = 0;\n      this.hasUndo = false;\n      this.hasRedo = false;\n      this.clearKey();\n    };\n    this.clearKey = function() {\n      keycont = 0;\n      lastKeyCode = null;\n    };\n  }\n\n  me.undoManger = new UndoManager();\n  me.undoManger.editor = me;\n  function saveScene() {\n    this.undoManger.save();\n  }\n\n  me.addListener(\"saveScene\", function() {\n    var args = Array.prototype.splice.call(arguments, 1);\n    this.undoManger.save.apply(this.undoManger, args);\n  });\n\n  //    me.addListener('beforeexeccommand', saveScene);\n  //    me.addListener('afterexeccommand', saveScene);\n\n  me.addListener(\"reset\", function(type, exclude) {\n    if (!exclude) {\n      this.undoManger.reset();\n    }\n  });\n  me.commands[\"redo\"] = me.commands[\"undo\"] = {\n    execCommand: function(cmdName) {\n      this.undoManger[cmdName]();\n    },\n    queryCommandState: function(cmdName) {\n      return this.undoManger[\n        \"has\" + (cmdName.toLowerCase() == \"undo\" ? \"Undo\" : \"Redo\")\n      ]\n        ? 0\n        : -1;\n    },\n    notNeedUndo: 1\n  };\n\n  var keys = {\n    //  /*Backspace*/ 8:1, /*Delete*/ 46:1,\n    /*Shift*/ 16: 1,\n    /*Ctrl*/ 17: 1,\n    /*Alt*/ 18: 1,\n    37: 1,\n    38: 1,\n    39: 1,\n    40: 1\n  },\n    keycont = 0,\n    lastKeyCode;\n  //输入法状态下不计算字符数\n  var inputType = false;\n  me.addListener(\"ready\", function() {\n    domUtils.on(this.body, \"compositionstart\", function() {\n      inputType = true;\n    });\n    domUtils.on(this.body, \"compositionend\", function() {\n      inputType = false;\n    });\n  });\n  //快捷键\n  me.addshortcutkey({\n    Undo: \"ctrl+90\", //undo\n    Redo: \"ctrl+89\" //redo\n  });\n  var isCollapsed = true;\n  me.addListener(\"keydown\", function(type, evt) {\n    var me = this;\n    var keyCode = evt.keyCode || evt.which;\n    if (\n      !keys[keyCode] &&\n      !evt.ctrlKey &&\n      !evt.metaKey &&\n      !evt.shiftKey &&\n      !evt.altKey\n    ) {\n      if (inputType) return;\n\n      if (!me.selection.getRange().collapsed) {\n        me.undoManger.save(false, true);\n        isCollapsed = false;\n        return;\n      }\n      if (me.undoManger.list.length == 0) {\n        me.undoManger.save(true);\n      }\n      clearTimeout(saveSceneTimer);\n      function save(cont) {\n        cont.undoManger.save(false, true);\n        cont.fireEvent(\"selectionchange\");\n      }\n      saveSceneTimer = setTimeout(function() {\n        if (inputType) {\n          var interalTimer = setInterval(function() {\n            if (!inputType) {\n              save(me);\n              clearInterval(interalTimer);\n            }\n          }, 300);\n          return;\n        }\n        save(me);\n      }, 200);\n\n      lastKeyCode = keyCode;\n      keycont++;\n      if (keycont >= maxInputCount) {\n        save(me);\n      }\n    }\n  });\n  me.addListener(\"keyup\", function(type, evt) {\n    var keyCode = evt.keyCode || evt.which;\n    if (\n      !keys[keyCode] &&\n      !evt.ctrlKey &&\n      !evt.metaKey &&\n      !evt.shiftKey &&\n      !evt.altKey\n    ) {\n      if (inputType) return;\n      if (!isCollapsed) {\n        this.undoManger.save(false, true);\n        isCollapsed = true;\n      }\n    }\n  });\n  //扩展实例，添加关闭和开启命令undo\n  me.stopCmdUndo = function() {\n    me.__hasEnterExecCommand = true;\n  };\n  me.startCmdUndo = function() {\n    me.__hasEnterExecCommand = false;\n  };\n};\n\n\n// plugins/copy.js\nUE.plugin.register(\"copy\", function() {\n  var me = this;\n\n  function initZeroClipboard() {\n    ZeroClipboard.config({\n      debug: false,\n      swfPath:\n        me.options.UEDITOR_HOME_URL +\n          \"third-party/zeroclipboard/ZeroClipboard.swf\"\n    });\n\n    var client = (me.zeroclipboard = new ZeroClipboard());\n\n    // 复制内容\n    client.on(\"copy\", function(e) {\n      var client = e.client,\n        rng = me.selection.getRange(),\n        div = document.createElement(\"div\");\n\n      div.appendChild(rng.cloneContents());\n      client.setText(div.innerText || div.textContent);\n      client.setHtml(div.innerHTML);\n      rng.select();\n    });\n    // hover事件传递到target\n    client.on(\"mouseover mouseout\", function(e) {\n      var target = e.target;\n      if (target) {\n        if (e.type == \"mouseover\") {\n          domUtils.addClass(target, \"edui-state-hover\");\n        } else if (e.type == \"mouseout\") {\n          domUtils.removeClasses(target, \"edui-state-hover\");\n        }\n      }\n    });\n    // flash加载不成功\n    client.on(\"wrongflash noflash\", function() {\n      ZeroClipboard.destroy();\n    });\n\n    // 触发事件\n    me.fireEvent(\"zeroclipboardready\", client);\n  }\n\n  return {\n    bindEvents: {\n      ready: function() {\n        if (!browser.ie) {\n          if (window.ZeroClipboard) {\n            initZeroClipboard();\n          } else {\n            utils.loadFile(\n              document,\n              {\n                src:\n                  me.options.UEDITOR_HOME_URL +\n                    \"third-party/zeroclipboard/ZeroClipboard.js\",\n                tag: \"script\",\n                type: \"text/javascript\",\n                defer: \"defer\"\n              },\n              function() {\n                initZeroClipboard();\n              }\n            );\n          }\n        }\n      }\n    },\n    commands: {\n      copy: {\n        execCommand: function(cmd) {\n          if (!me.document.execCommand(\"copy\")) {\n            alert(me.getLang(\"copymsg\"));\n          }\n        }\n      }\n    }\n  };\n});\n\n\n// plugins/paste.js\n///import core\n///import plugins/inserthtml.js\n///import plugins/undo.js\n///import plugins/serialize.js\n///commands 粘贴\n///commandsName  PastePlain\n///commandsTitle  纯文本粘贴模式\n/**\n * @description 粘贴\n * @author zhanyi\n */\nUE.plugins[\"paste\"] = function() {\n  function getClipboardData(callback) {\n    var doc = this.document;\n    if (doc.getElementById(\"baidu_pastebin\")) {\n      return;\n    }\n    var range = this.selection.getRange(),\n      bk = range.createBookmark(),\n      //创建剪贴的容器div\n      pastebin = doc.createElement(\"div\");\n    pastebin.id = \"baidu_pastebin\";\n    // Safari 要求div必须有内容，才能粘贴内容进来\n    browser.webkit &&\n      pastebin.appendChild(\n        doc.createTextNode(domUtils.fillChar + domUtils.fillChar)\n      );\n    doc.body.appendChild(pastebin);\n    //trace:717 隐藏的span不能得到top\n    //bk.start.innerHTML = '&nbsp;';\n    bk.start.style.display = \"\";\n    pastebin.style.cssText =\n      \"position:absolute;width:1px;height:1px;overflow:hidden;left:-1000px;white-space:nowrap;top:\" +\n      //要在现在光标平行的位置加入，否则会出现跳动的问题\n      domUtils.getXY(bk.start).y +\n      \"px\";\n\n    range.selectNodeContents(pastebin).select(true);\n\n    setTimeout(function() {\n      if (browser.webkit) {\n        for (\n          var i = 0, pastebins = doc.querySelectorAll(\"#baidu_pastebin\"), pi;\n          (pi = pastebins[i++]);\n\n        ) {\n          if (domUtils.isEmptyNode(pi)) {\n            domUtils.remove(pi);\n          } else {\n            pastebin = pi;\n            break;\n          }\n        }\n      }\n      try {\n        pastebin.parentNode.removeChild(pastebin);\n      } catch (e) {}\n      range.moveToBookmark(bk).select(true);\n      callback(pastebin);\n    }, 0);\n  }\n\n  var me = this;\n\n  me.setOpt({\n    retainOnlyLabelPasted: false\n  });\n\n  var txtContent, htmlContent, address;\n\n  function getPureHtml(html) {\n    return html.replace(/<(\\/?)([\\w\\-]+)([^>]*)>/gi, function(\n      a,\n      b,\n      tagName,\n      attrs\n    ) {\n      tagName = tagName.toLowerCase();\n      if ({ img: 1 }[tagName]) {\n        return a;\n      }\n      attrs = attrs.replace(\n        /([\\w\\-]*?)\\s*=\\s*((\"([^\"]*)\")|('([^']*)')|([^\\s>]+))/gi,\n        function(str, atr, val) {\n          if (\n            {\n              src: 1,\n              href: 1,\n              name: 1\n            }[atr.toLowerCase()]\n          ) {\n            return atr + \"=\" + val + \" \";\n          }\n          return \"\";\n        }\n      );\n      if (\n        {\n          span: 1,\n          div: 1\n        }[tagName]\n      ) {\n        return \"\";\n      } else {\n        return \"<\" + b + tagName + \" \" + utils.trim(attrs) + \">\";\n      }\n    });\n  }\n  function filter(div) {\n    var html;\n    if (div.firstChild) {\n      //去掉cut中添加的边界值\n      var nodes = domUtils.getElementsByTagName(div, \"span\");\n      for (var i = 0, ni; (ni = nodes[i++]); ) {\n        if (ni.id == \"_baidu_cut_start\" || ni.id == \"_baidu_cut_end\") {\n          domUtils.remove(ni);\n        }\n      }\n\n      if (browser.webkit) {\n        var brs = div.querySelectorAll(\"div br\");\n        for (var i = 0, bi; (bi = brs[i++]); ) {\n          var pN = bi.parentNode;\n          if (pN.tagName == \"DIV\" && pN.childNodes.length == 1) {\n            pN.innerHTML = \"<p><br/></p>\";\n            domUtils.remove(pN);\n          }\n        }\n        var divs = div.querySelectorAll(\"#baidu_pastebin\");\n        for (var i = 0, di; (di = divs[i++]); ) {\n          var tmpP = me.document.createElement(\"p\");\n          di.parentNode.insertBefore(tmpP, di);\n          while (di.firstChild) {\n            tmpP.appendChild(di.firstChild);\n          }\n          domUtils.remove(di);\n        }\n\n        var metas = div.querySelectorAll(\"meta\");\n        for (var i = 0, ci; (ci = metas[i++]); ) {\n          domUtils.remove(ci);\n        }\n\n        var brs = div.querySelectorAll(\"br\");\n        for (i = 0; (ci = brs[i++]); ) {\n          if (/^apple-/i.test(ci.className)) {\n            domUtils.remove(ci);\n          }\n        }\n      }\n      if (browser.gecko) {\n        var dirtyNodes = div.querySelectorAll(\"[_moz_dirty]\");\n        for (i = 0; (ci = dirtyNodes[i++]); ) {\n          ci.removeAttribute(\"_moz_dirty\");\n        }\n      }\n      if (!browser.ie) {\n        var spans = div.querySelectorAll(\"span.Apple-style-span\");\n        for (var i = 0, ci; (ci = spans[i++]); ) {\n          domUtils.remove(ci, true);\n        }\n      }\n\n      //ie下使用innerHTML会产生多余的\\r\\n字符，也会产生&nbsp;这里过滤掉\n      html = div.innerHTML; //.replace(/>(?:(\\s|&nbsp;)*?)</g,'><');\n\n      //过滤word粘贴过来的冗余属性\n      html = UE.filterWord(html);\n      //取消了忽略空白的第二个参数，粘贴过来的有些是有空白的，会被套上相关的标签\n      var root = UE.htmlparser(html);\n      //如果给了过滤规则就先进行过滤\n      if (me.options.filterRules) {\n        UE.filterNode(root, me.options.filterRules);\n      }\n      //执行默认的处理\n      me.filterInputRule(root);\n      //针对chrome的处理\n      if (browser.webkit) {\n        var br = root.lastChild();\n        if (br && br.type == \"element\" && br.tagName == \"br\") {\n          root.removeChild(br);\n        }\n        utils.each(me.body.querySelectorAll(\"div\"), function(node) {\n          if (domUtils.isEmptyBlock(node)) {\n            domUtils.remove(node, true);\n          }\n        });\n      }\n      html = { html: root.toHtml() };\n      me.fireEvent(\"beforepaste\", html, root);\n      //抢了默认的粘贴，那后边的内容就不执行了，比如表格粘贴\n      if (!html.html) {\n        return;\n      }\n      root = UE.htmlparser(html.html, true);\n      //如果开启了纯文本模式\n      if (me.queryCommandState(\"pasteplain\") === 1) {\n        me.execCommand(\n          \"insertHtml\",\n          UE.filterNode(root, me.options.filterTxtRules).toHtml(),\n          true\n        );\n      } else {\n        //文本模式\n        UE.filterNode(root, me.options.filterTxtRules);\n        txtContent = root.toHtml();\n        //完全模式\n        htmlContent = html.html;\n\n        address = me.selection.getRange().createAddress(true);\n        me.execCommand(\n          \"insertHtml\",\n          me.getOpt(\"retainOnlyLabelPasted\") === true\n            ? getPureHtml(htmlContent)\n            : htmlContent,\n          true\n        );\n      }\n      me.fireEvent(\"afterpaste\", html);\n    }\n  }\n\n  me.addListener(\"pasteTransfer\", function(cmd, plainType) {\n    if (address && txtContent && htmlContent && txtContent != htmlContent) {\n      var range = me.selection.getRange();\n      range.moveToAddress(address, true);\n\n      if (!range.collapsed) {\n        while (!domUtils.isBody(range.startContainer)) {\n          var start = range.startContainer;\n          if (start.nodeType == 1) {\n            start = start.childNodes[range.startOffset];\n            if (!start) {\n              range.setStartBefore(range.startContainer);\n              continue;\n            }\n            var pre = start.previousSibling;\n\n            if (\n              pre &&\n              pre.nodeType == 3 &&\n              new RegExp(\"^[\\n\\r\\t \" + domUtils.fillChar + \"]*$\").test(\n                pre.nodeValue\n              )\n            ) {\n              range.setStartBefore(pre);\n            }\n          }\n          if (range.startOffset == 0) {\n            range.setStartBefore(range.startContainer);\n          } else {\n            break;\n          }\n        }\n        while (!domUtils.isBody(range.endContainer)) {\n          var end = range.endContainer;\n          if (end.nodeType == 1) {\n            end = end.childNodes[range.endOffset];\n            if (!end) {\n              range.setEndAfter(range.endContainer);\n              continue;\n            }\n            var next = end.nextSibling;\n            if (\n              next &&\n              next.nodeType == 3 &&\n              new RegExp(\"^[\\n\\r\\t\" + domUtils.fillChar + \"]*$\").test(\n                next.nodeValue\n              )\n            ) {\n              range.setEndAfter(next);\n            }\n          }\n          if (\n            range.endOffset ==\n            range.endContainer[\n              range.endContainer.nodeType == 3 ? \"nodeValue\" : \"childNodes\"\n            ].length\n          ) {\n            range.setEndAfter(range.endContainer);\n          } else {\n            break;\n          }\n        }\n      }\n\n      range.deleteContents();\n      range.select(true);\n      me.__hasEnterExecCommand = true;\n      var html = htmlContent;\n      if (plainType === 2) {\n        html = getPureHtml(html);\n      } else if (plainType) {\n        html = txtContent;\n      }\n      me.execCommand(\"inserthtml\", html, true);\n      me.__hasEnterExecCommand = false;\n      var rng = me.selection.getRange();\n      while (\n        !domUtils.isBody(rng.startContainer) &&\n        !rng.startOffset &&\n        rng.startContainer[\n          rng.startContainer.nodeType == 3 ? \"nodeValue\" : \"childNodes\"\n        ].length\n      ) {\n        rng.setStartBefore(rng.startContainer);\n      }\n      var tmpAddress = rng.createAddress(true);\n      address.endAddress = tmpAddress.startAddress;\n    }\n  });\n\n  me.addListener(\"ready\", function() {\n    domUtils.on(me.body, \"cut\", function() {\n      var range = me.selection.getRange();\n      if (!range.collapsed && me.undoManger) {\n        me.undoManger.save();\n      }\n    });\n\n    //ie下beforepaste在点击右键时也会触发，所以用监控键盘才处理\n    domUtils.on(\n      me.body,\n      browser.ie || browser.opera ? \"keydown\" : \"paste\",\n      function(e) {\n        if (\n          (browser.ie || browser.opera) &&\n          ((!e.ctrlKey && !e.metaKey) || e.keyCode != \"86\")\n        ) {\n          return;\n        }\n        getClipboardData.call(me, function(div) {\n          filter(div);\n        });\n      }\n    );\n  });\n\n  me.commands[\"paste\"] = {\n    execCommand: function(cmd) {\n      if (browser.ie) {\n        getClipboardData.call(me, function(div) {\n          filter(div);\n        });\n        me.document.execCommand(\"paste\");\n      } else {\n        alert(me.getLang(\"pastemsg\"));\n      }\n    }\n  };\n};\n\n\n// plugins/puretxtpaste.js\n/**\n * 纯文本粘贴插件\n * @file\n * @since 1.2.6.1\n */\n\nUE.plugins[\"pasteplain\"] = function() {\n  var me = this;\n  me.setOpt({\n    pasteplain: false,\n    filterTxtRules: (function() {\n      function transP(node) {\n        node.tagName = \"p\";\n        node.setStyle();\n      }\n      function removeNode(node) {\n        node.parentNode.removeChild(node, true);\n      }\n      return {\n        //直接删除及其字节点内容\n        \"-\": \"script style object iframe embed input select\",\n        p: { $: {} },\n        br: { $: {} },\n        div: function(node) {\n          var tmpNode,\n            p = UE.uNode.createElement(\"p\");\n          while ((tmpNode = node.firstChild())) {\n            if (tmpNode.type == \"text\" || !UE.dom.dtd.$block[tmpNode.tagName]) {\n              p.appendChild(tmpNode);\n            } else {\n              if (p.firstChild()) {\n                node.parentNode.insertBefore(p, node);\n                p = UE.uNode.createElement(\"p\");\n              } else {\n                node.parentNode.insertBefore(tmpNode, node);\n              }\n            }\n          }\n          if (p.firstChild()) {\n            node.parentNode.insertBefore(p, node);\n          }\n          node.parentNode.removeChild(node);\n        },\n        ol: removeNode,\n        ul: removeNode,\n        dl: removeNode,\n        dt: removeNode,\n        dd: removeNode,\n        li: removeNode,\n        caption: transP,\n        th: transP,\n        tr: transP,\n        h1: transP,\n        h2: transP,\n        h3: transP,\n        h4: transP,\n        h5: transP,\n        h6: transP,\n        td: function(node) {\n          //没有内容的td直接删掉\n          var txt = !!node.innerText();\n          if (txt) {\n            node.parentNode.insertAfter(\n              UE.uNode.createText(\" &nbsp; &nbsp;\"),\n              node\n            );\n          }\n          node.parentNode.removeChild(node, node.innerText());\n        }\n      };\n    })()\n  });\n  //暂时这里支持一下老版本的属性\n  var pasteplain = me.options.pasteplain;\n\n  /**\n     * 启用或取消纯文本粘贴模式\n     * @command pasteplain\n     * @method execCommand\n     * @param { String } cmd 命令字符串\n     * @example\n     * ```javascript\n     * editor.queryCommandState( 'pasteplain' );\n     * ```\n     */\n\n  /**\n     * 查询当前是否处于纯文本粘贴模式\n     * @command pasteplain\n     * @method queryCommandState\n     * @param { String } cmd 命令字符串\n     * @return { int } 如果处于纯文本模式，返回1，否则，返回0\n     * @example\n     * ```javascript\n     * editor.queryCommandState( 'pasteplain' );\n     * ```\n     */\n  me.commands[\"pasteplain\"] = {\n    queryCommandState: function() {\n      return pasteplain ? 1 : 0;\n    },\n    execCommand: function() {\n      pasteplain = !pasteplain | 0;\n    },\n    notNeedUndo: 1\n  };\n};\n\n\n// plugins/list.js\n/**\n * 有序列表,无序列表插件\n * @file\n * @since 1.2.6.1\n */\n\nUE.plugins[\"list\"] = function() {\n  var me = this,\n    notExchange = {\n      TD: 1,\n      PRE: 1,\n      BLOCKQUOTE: 1\n    };\n  var customStyle = {\n    cn: \"cn-1-\",\n    cn1: \"cn-2-\",\n    cn2: \"cn-3-\",\n    num: \"num-1-\",\n    num1: \"num-2-\",\n    num2: \"num-3-\",\n    dash: \"dash\",\n    dot: \"dot\"\n  };\n\n  me.setOpt({\n    autoTransWordToList: false,\n    insertorderedlist: {\n      num: \"\",\n      num1: \"\",\n      num2: \"\",\n      cn: \"\",\n      cn1: \"\",\n      cn2: \"\",\n      decimal: \"\",\n      \"lower-alpha\": \"\",\n      \"lower-roman\": \"\",\n      \"upper-alpha\": \"\",\n      \"upper-roman\": \"\"\n    },\n    insertunorderedlist: {\n      circle: \"\",\n      disc: \"\",\n      square: \"\",\n      dash: \"\",\n      dot: \"\"\n    },\n    listDefaultPaddingLeft: \"30\",\n    listiconpath: \"http://bs.baidu.com/listicon/\",\n    maxListLevel: -1, //-1不限制\n    disablePInList: false\n  });\n  function listToArray(list) {\n    var arr = [];\n    for (var p in list) {\n      arr.push(p);\n    }\n    return arr;\n  }\n  var listStyle = {\n    OL: listToArray(me.options.insertorderedlist),\n    UL: listToArray(me.options.insertunorderedlist)\n  };\n  var liiconpath = me.options.listiconpath;\n\n  //根据用户配置，调整customStyle\n  for (var s in customStyle) {\n    if (\n      !me.options.insertorderedlist.hasOwnProperty(s) &&\n      !me.options.insertunorderedlist.hasOwnProperty(s)\n    ) {\n      delete customStyle[s];\n    }\n  }\n\n  me.ready(function() {\n    var customCss = [];\n    for (var p in customStyle) {\n      if (p == \"dash\" || p == \"dot\") {\n        customCss.push(\n          \"li.list-\" +\n            customStyle[p] +\n            \"{background-image:url(\" +\n            liiconpath +\n            customStyle[p] +\n            \".gif)}\"\n        );\n        customCss.push(\n          \"ul.custom_\" +\n            p +\n            \"{list-style:none;}ul.custom_\" +\n            p +\n            \" li{background-position:0 3px;background-repeat:no-repeat}\"\n        );\n      } else {\n        for (var i = 0; i < 99; i++) {\n          customCss.push(\n            \"li.list-\" +\n              customStyle[p] +\n              i +\n              \"{background-image:url(\" +\n              liiconpath +\n              \"list-\" +\n              customStyle[p] +\n              i +\n              \".gif)}\"\n          );\n        }\n        customCss.push(\n          \"ol.custom_\" +\n            p +\n            \"{list-style:none;}ol.custom_\" +\n            p +\n            \" li{background-position:0 3px;background-repeat:no-repeat}\"\n        );\n      }\n      switch (p) {\n        case \"cn\":\n          customCss.push(\"li.list-\" + p + \"-paddingleft-1{padding-left:25px}\");\n          customCss.push(\"li.list-\" + p + \"-paddingleft-2{padding-left:40px}\");\n          customCss.push(\"li.list-\" + p + \"-paddingleft-3{padding-left:55px}\");\n          break;\n        case \"cn1\":\n          customCss.push(\"li.list-\" + p + \"-paddingleft-1{padding-left:30px}\");\n          customCss.push(\"li.list-\" + p + \"-paddingleft-2{padding-left:40px}\");\n          customCss.push(\"li.list-\" + p + \"-paddingleft-3{padding-left:55px}\");\n          break;\n        case \"cn2\":\n          customCss.push(\"li.list-\" + p + \"-paddingleft-1{padding-left:40px}\");\n          customCss.push(\"li.list-\" + p + \"-paddingleft-2{padding-left:55px}\");\n          customCss.push(\"li.list-\" + p + \"-paddingleft-3{padding-left:68px}\");\n          break;\n        case \"num\":\n        case \"num1\":\n          customCss.push(\"li.list-\" + p + \"-paddingleft-1{padding-left:25px}\");\n          break;\n        case \"num2\":\n          customCss.push(\"li.list-\" + p + \"-paddingleft-1{padding-left:35px}\");\n          customCss.push(\"li.list-\" + p + \"-paddingleft-2{padding-left:40px}\");\n          break;\n        case \"dash\":\n          customCss.push(\"li.list-\" + p + \"-paddingleft{padding-left:35px}\");\n          break;\n        case \"dot\":\n          customCss.push(\"li.list-\" + p + \"-paddingleft{padding-left:20px}\");\n      }\n    }\n    customCss.push(\".list-paddingleft-1{padding-left:0}\");\n    customCss.push(\n      \".list-paddingleft-2{padding-left:\" +\n        me.options.listDefaultPaddingLeft +\n        \"px}\"\n    );\n    customCss.push(\n      \".list-paddingleft-3{padding-left:\" +\n        me.options.listDefaultPaddingLeft * 2 +\n        \"px}\"\n    );\n    //如果不给宽度会在自定应样式里出现滚动条\n    utils.cssRule(\n      \"list\",\n      \"ol,ul{margin:0;pading:0;\" +\n        (browser.ie ? \"\" : \"width:95%\") +\n        \"}li{clear:both;}\" +\n        customCss.join(\"\\n\"),\n      me.document\n    );\n  });\n  //单独处理剪切的问题\n  me.ready(function() {\n    domUtils.on(me.body, \"cut\", function() {\n      setTimeout(function() {\n        var rng = me.selection.getRange(),\n          li;\n        //trace:3416\n        if (!rng.collapsed) {\n          if (\n            (li = domUtils.findParentByTagName(rng.startContainer, \"li\", true))\n          ) {\n            if (!li.nextSibling && domUtils.isEmptyBlock(li)) {\n              var pn = li.parentNode,\n                node;\n              if ((node = pn.previousSibling)) {\n                domUtils.remove(pn);\n                rng.setStartAtLast(node).collapse(true);\n                rng.select(true);\n              } else if ((node = pn.nextSibling)) {\n                domUtils.remove(pn);\n                rng.setStartAtFirst(node).collapse(true);\n                rng.select(true);\n              } else {\n                var tmpNode = me.document.createElement(\"p\");\n                domUtils.fillNode(me.document, tmpNode);\n                pn.parentNode.insertBefore(tmpNode, pn);\n                domUtils.remove(pn);\n                rng.setStart(tmpNode, 0).collapse(true);\n                rng.select(true);\n              }\n            }\n          }\n        }\n      });\n    });\n  });\n\n  function getStyle(node) {\n    var cls = node.className;\n    if (domUtils.hasClass(node, /custom_/)) {\n      return cls.match(/custom_(\\w+)/)[1];\n    }\n    return domUtils.getStyle(node, \"list-style-type\");\n  }\n\n  me.addListener(\"beforepaste\", function(type, html) {\n    var me = this,\n      rng = me.selection.getRange(),\n      li;\n    var root = UE.htmlparser(html.html, true);\n    if ((li = domUtils.findParentByTagName(rng.startContainer, \"li\", true))) {\n      var list = li.parentNode,\n        tagName = list.tagName == \"OL\" ? \"ul\" : \"ol\";\n      utils.each(root.getNodesByTagName(tagName), function(n) {\n        n.tagName = list.tagName;\n        n.setAttr();\n        if (n.parentNode === root) {\n          type = getStyle(list) || (list.tagName == \"OL\" ? \"decimal\" : \"disc\");\n        } else {\n          var className = n.parentNode.getAttr(\"class\");\n          if (className && /custom_/.test(className)) {\n            type = className.match(/custom_(\\w+)/)[1];\n          } else {\n            type = n.parentNode.getStyle(\"list-style-type\");\n          }\n          if (!type) {\n            type = list.tagName == \"OL\" ? \"decimal\" : \"disc\";\n          }\n        }\n        var index = utils.indexOf(listStyle[list.tagName], type);\n        if (n.parentNode !== root)\n          index = index + 1 == listStyle[list.tagName].length ? 0 : index + 1;\n        var currentStyle = listStyle[list.tagName][index];\n        if (customStyle[currentStyle]) {\n          n.setAttr(\"class\", \"custom_\" + currentStyle);\n        } else {\n          n.setStyle(\"list-style-type\", currentStyle);\n        }\n      });\n    }\n\n    html.html = root.toHtml();\n  });\n  //导出时，去掉p标签\n  me.getOpt(\"disablePInList\") === true &&\n    me.addOutputRule(function(root) {\n      utils.each(root.getNodesByTagName(\"li\"), function(li) {\n        var newChildrens = [],\n          index = 0;\n        utils.each(li.children, function(n) {\n          if (n.tagName == \"p\") {\n            var tmpNode;\n            while ((tmpNode = n.children.pop())) {\n              newChildrens.splice(index, 0, tmpNode);\n              tmpNode.parentNode = li;\n              lastNode = tmpNode;\n            }\n            tmpNode = newChildrens[newChildrens.length - 1];\n            if (\n              !tmpNode ||\n              tmpNode.type != \"element\" ||\n              tmpNode.tagName != \"br\"\n            ) {\n              var br = UE.uNode.createElement(\"br\");\n              br.parentNode = li;\n              newChildrens.push(br);\n            }\n\n            index = newChildrens.length;\n          }\n        });\n        if (newChildrens.length) {\n          li.children = newChildrens;\n        }\n      });\n    });\n  //进入编辑器的li要套p标签\n  me.addInputRule(function(root) {\n    utils.each(root.getNodesByTagName(\"li\"), function(li) {\n      var tmpP = UE.uNode.createElement(\"p\");\n      for (var i = 0, ci; (ci = li.children[i]); ) {\n        if (ci.type == \"text\" || dtd.p[ci.tagName]) {\n          tmpP.appendChild(ci);\n        } else {\n          if (tmpP.firstChild()) {\n            li.insertBefore(tmpP, ci);\n            tmpP = UE.uNode.createElement(\"p\");\n            i = i + 2;\n          } else {\n            i++;\n          }\n        }\n      }\n      if ((tmpP.firstChild() && !tmpP.parentNode) || !li.firstChild()) {\n        li.appendChild(tmpP);\n      }\n      //trace:3357\n      //p不能为空\n      if (!tmpP.firstChild()) {\n        tmpP.innerHTML(browser.ie ? \"&nbsp;\" : \"<br/>\");\n      }\n      //去掉末尾的空白\n      var p = li.firstChild();\n      var lastChild = p.lastChild();\n      if (\n        lastChild &&\n        lastChild.type == \"text\" &&\n        /^\\s*$/.test(lastChild.data)\n      ) {\n        p.removeChild(lastChild);\n      }\n    });\n    if (me.options.autoTransWordToList) {\n      var orderlisttype = {\n        num1: /^\\d+\\)/,\n        decimal: /^\\d+\\./,\n        \"lower-alpha\": /^[a-z]+\\)/,\n        \"upper-alpha\": /^[A-Z]+\\./,\n        cn: /^[\\u4E00\\u4E8C\\u4E09\\u56DB\\u516d\\u4e94\\u4e03\\u516b\\u4e5d]+[\\u3001]/,\n        cn2: /^\\([\\u4E00\\u4E8C\\u4E09\\u56DB\\u516d\\u4e94\\u4e03\\u516b\\u4e5d]+\\)/\n      },\n        unorderlisttype = {\n          square: \"n\"\n        };\n      function checkListType(content, container) {\n        var span = container.firstChild();\n        if (\n          span &&\n          span.type == \"element\" &&\n          span.tagName == \"span\" &&\n          /Wingdings|Symbol/.test(span.getStyle(\"font-family\"))\n        ) {\n          for (var p in unorderlisttype) {\n            if (unorderlisttype[p] == span.data) {\n              return p;\n            }\n          }\n          return \"disc\";\n        }\n        for (var p in orderlisttype) {\n          if (orderlisttype[p].test(content)) {\n            return p;\n          }\n        }\n      }\n      utils.each(root.getNodesByTagName(\"p\"), function(node) {\n        if (node.getAttr(\"class\") != \"MsoListParagraph\") {\n          return;\n        }\n\n        //word粘贴过来的会带有margin要去掉,但这样也可能会误命中一些央视\n        node.setStyle(\"margin\", \"\");\n        node.setStyle(\"margin-left\", \"\");\n        node.setAttr(\"class\", \"\");\n\n        function appendLi(list, p, type) {\n          if (list.tagName == \"ol\") {\n            if (browser.ie) {\n              var first = p.firstChild();\n              if (\n                first.type == \"element\" &&\n                first.tagName == \"span\" &&\n                orderlisttype[type].test(first.innerText())\n              ) {\n                p.removeChild(first);\n              }\n            } else {\n              p.innerHTML(p.innerHTML().replace(orderlisttype[type], \"\"));\n            }\n          } else {\n            p.removeChild(p.firstChild());\n          }\n\n          var li = UE.uNode.createElement(\"li\");\n          li.appendChild(p);\n          list.appendChild(li);\n        }\n        var tmp = node,\n          type,\n          cacheNode = node;\n\n        if (\n          node.parentNode.tagName != \"li\" &&\n          (type = checkListType(node.innerText(), node))\n        ) {\n          var list = UE.uNode.createElement(\n            me.options.insertorderedlist.hasOwnProperty(type) ? \"ol\" : \"ul\"\n          );\n          if (customStyle[type]) {\n            list.setAttr(\"class\", \"custom_\" + type);\n          } else {\n            list.setStyle(\"list-style-type\", type);\n          }\n          while (\n            node &&\n            node.parentNode.tagName != \"li\" &&\n            checkListType(node.innerText(), node)\n          ) {\n            tmp = node.nextSibling();\n            if (!tmp) {\n              node.parentNode.insertBefore(list, node);\n            }\n            appendLi(list, node, type);\n            node = tmp;\n          }\n          if (!list.parentNode && node && node.parentNode) {\n            node.parentNode.insertBefore(list, node);\n          }\n        }\n        var span = cacheNode.firstChild();\n        if (\n          span &&\n          span.type == \"element\" &&\n          span.tagName == \"span\" &&\n          /^\\s*(&nbsp;)+\\s*$/.test(span.innerText())\n        ) {\n          span.parentNode.removeChild(span);\n        }\n      });\n    }\n  });\n\n  //调整索引标签\n  me.addListener(\"contentchange\", function() {\n    adjustListStyle(me.document);\n  });\n\n  function adjustListStyle(doc, ignore) {\n    utils.each(domUtils.getElementsByTagName(doc, \"ol ul\"), function(node) {\n      if (!domUtils.inDoc(node, doc)) return;\n\n      var parent = node.parentNode;\n      if (parent.tagName == node.tagName) {\n        var nodeStyleType =\n          getStyle(node) || (node.tagName == \"OL\" ? \"decimal\" : \"disc\"),\n          parentStyleType =\n            getStyle(parent) || (parent.tagName == \"OL\" ? \"decimal\" : \"disc\");\n        if (nodeStyleType == parentStyleType) {\n          var styleIndex = utils.indexOf(\n            listStyle[node.tagName],\n            nodeStyleType\n          );\n          styleIndex = styleIndex + 1 == listStyle[node.tagName].length\n            ? 0\n            : styleIndex + 1;\n          setListStyle(node, listStyle[node.tagName][styleIndex]);\n        }\n      }\n      var index = 0,\n        type = 2;\n      if (domUtils.hasClass(node, /custom_/)) {\n        if (\n          !(\n            /[ou]l/i.test(parent.tagName) &&\n            domUtils.hasClass(parent, /custom_/)\n          )\n        ) {\n          type = 1;\n        }\n      } else {\n        if (\n          /[ou]l/i.test(parent.tagName) &&\n          domUtils.hasClass(parent, /custom_/)\n        ) {\n          type = 3;\n        }\n      }\n\n      var style = domUtils.getStyle(node, \"list-style-type\");\n      style && (node.style.cssText = \"list-style-type:\" + style);\n      node.className =\n        utils.trim(node.className.replace(/list-paddingleft-\\w+/, \"\")) +\n        \" list-paddingleft-\" +\n        type;\n      utils.each(domUtils.getElementsByTagName(node, \"li\"), function(li) {\n        li.style.cssText && (li.style.cssText = \"\");\n        if (!li.firstChild) {\n          domUtils.remove(li);\n          return;\n        }\n        if (li.parentNode !== node) {\n          return;\n        }\n        index++;\n        if (domUtils.hasClass(node, /custom_/)) {\n          var paddingLeft = 1,\n            currentStyle = getStyle(node);\n          if (node.tagName == \"OL\") {\n            if (currentStyle) {\n              switch (currentStyle) {\n                case \"cn\":\n                case \"cn1\":\n                case \"cn2\":\n                  if (\n                    index > 10 &&\n                    (index % 10 == 0 || (index > 10 && index < 20))\n                  ) {\n                    paddingLeft = 2;\n                  } else if (index > 20) {\n                    paddingLeft = 3;\n                  }\n                  break;\n                case \"num2\":\n                  if (index > 9) {\n                    paddingLeft = 2;\n                  }\n              }\n            }\n            li.className =\n              \"list-\" +\n              customStyle[currentStyle] +\n              index +\n              \" \" +\n              \"list-\" +\n              currentStyle +\n              \"-paddingleft-\" +\n              paddingLeft;\n          } else {\n            li.className =\n              \"list-\" +\n              customStyle[currentStyle] +\n              \" \" +\n              \"list-\" +\n              currentStyle +\n              \"-paddingleft\";\n          }\n        } else {\n          li.className = li.className.replace(/list-[\\w\\-]+/gi, \"\");\n        }\n        var className = li.getAttribute(\"class\");\n        if (className !== null && !className.replace(/\\s/g, \"\")) {\n          domUtils.removeAttributes(li, \"class\");\n        }\n      });\n      !ignore &&\n        adjustList(\n          node,\n          node.tagName.toLowerCase(),\n          getStyle(node) || domUtils.getStyle(node, \"list-style-type\"),\n          true\n        );\n    });\n  }\n  function adjustList(list, tag, style, ignoreEmpty) {\n    var nextList = list.nextSibling;\n    if (\n      nextList &&\n      nextList.nodeType == 1 &&\n      nextList.tagName.toLowerCase() == tag &&\n      (getStyle(nextList) ||\n        domUtils.getStyle(nextList, \"list-style-type\") ||\n        (tag == \"ol\" ? \"decimal\" : \"disc\")) == style\n    ) {\n      domUtils.moveChild(nextList, list);\n      if (nextList.childNodes.length == 0) {\n        domUtils.remove(nextList);\n      }\n    }\n    if (nextList && domUtils.isFillChar(nextList)) {\n      domUtils.remove(nextList);\n    }\n    var preList = list.previousSibling;\n    if (\n      preList &&\n      preList.nodeType == 1 &&\n      preList.tagName.toLowerCase() == tag &&\n      (getStyle(preList) ||\n        domUtils.getStyle(preList, \"list-style-type\") ||\n        (tag == \"ol\" ? \"decimal\" : \"disc\")) == style\n    ) {\n      domUtils.moveChild(list, preList);\n    }\n    if (preList && domUtils.isFillChar(preList)) {\n      domUtils.remove(preList);\n    }\n    !ignoreEmpty && domUtils.isEmptyBlock(list) && domUtils.remove(list);\n    if (getStyle(list)) {\n      adjustListStyle(list.ownerDocument, true);\n    }\n  }\n\n  function setListStyle(list, style) {\n    if (customStyle[style]) {\n      list.className = \"custom_\" + style;\n    }\n    try {\n      domUtils.setStyle(list, \"list-style-type\", style);\n    } catch (e) {}\n  }\n  function clearEmptySibling(node) {\n    var tmpNode = node.previousSibling;\n    if (tmpNode && domUtils.isEmptyBlock(tmpNode)) {\n      domUtils.remove(tmpNode);\n    }\n    tmpNode = node.nextSibling;\n    if (tmpNode && domUtils.isEmptyBlock(tmpNode)) {\n      domUtils.remove(tmpNode);\n    }\n  }\n\n  me.addListener(\"keydown\", function(type, evt) {\n    function preventAndSave() {\n      evt.preventDefault ? evt.preventDefault() : (evt.returnValue = false);\n      me.fireEvent(\"contentchange\");\n      me.undoManger && me.undoManger.save();\n    }\n    function findList(node, filterFn) {\n      while (node && !domUtils.isBody(node)) {\n        if (filterFn(node)) {\n          return null;\n        }\n        if (node.nodeType == 1 && /[ou]l/i.test(node.tagName)) {\n          return node;\n        }\n        node = node.parentNode;\n      }\n      return null;\n    }\n    var keyCode = evt.keyCode || evt.which;\n    if (keyCode == 13 && !evt.shiftKey) {\n      //回车\n      var rng = me.selection.getRange(),\n        parent = domUtils.findParent(\n          rng.startContainer,\n          function(node) {\n            return domUtils.isBlockElm(node);\n          },\n          true\n        ),\n        li = domUtils.findParentByTagName(rng.startContainer, \"li\", true);\n      if (parent && parent.tagName != \"PRE\" && !li) {\n        var html = parent.innerHTML.replace(\n          new RegExp(domUtils.fillChar, \"g\"),\n          \"\"\n        );\n        if (/^\\s*1\\s*\\.[^\\d]/.test(html)) {\n          parent.innerHTML = html.replace(/^\\s*1\\s*\\./, \"\");\n          rng.setStartAtLast(parent).collapse(true).select();\n          me.__hasEnterExecCommand = true;\n          me.execCommand(\"insertorderedlist\");\n          me.__hasEnterExecCommand = false;\n        }\n      }\n      var range = me.selection.getRange(),\n        start = findList(range.startContainer, function(node) {\n          return node.tagName == \"TABLE\";\n        }),\n        end = range.collapsed\n          ? start\n          : findList(range.endContainer, function(node) {\n              return node.tagName == \"TABLE\";\n            });\n\n      if (start && end && start === end) {\n        if (!range.collapsed) {\n          start = domUtils.findParentByTagName(\n            range.startContainer,\n            \"li\",\n            true\n          );\n          end = domUtils.findParentByTagName(range.endContainer, \"li\", true);\n          if (start && end && start === end) {\n            range.deleteContents();\n            li = domUtils.findParentByTagName(range.startContainer, \"li\", true);\n            if (li && domUtils.isEmptyBlock(li)) {\n              pre = li.previousSibling;\n              next = li.nextSibling;\n              p = me.document.createElement(\"p\");\n\n              domUtils.fillNode(me.document, p);\n              parentList = li.parentNode;\n              if (pre && next) {\n                range.setStart(next, 0).collapse(true).select(true);\n                domUtils.remove(li);\n              } else {\n                if ((!pre && !next) || !pre) {\n                  parentList.parentNode.insertBefore(p, parentList);\n                } else {\n                  li.parentNode.parentNode.insertBefore(\n                    p,\n                    parentList.nextSibling\n                  );\n                }\n                domUtils.remove(li);\n                if (!parentList.firstChild) {\n                  domUtils.remove(parentList);\n                }\n                range.setStart(p, 0).setCursor();\n              }\n              preventAndSave();\n              return;\n            }\n          } else {\n            var tmpRange = range.cloneRange(),\n              bk = tmpRange.collapse(false).createBookmark();\n\n            range.deleteContents();\n            tmpRange.moveToBookmark(bk);\n            var li = domUtils.findParentByTagName(\n              tmpRange.startContainer,\n              \"li\",\n              true\n            );\n\n            clearEmptySibling(li);\n            tmpRange.select();\n            preventAndSave();\n            return;\n          }\n        }\n\n        li = domUtils.findParentByTagName(range.startContainer, \"li\", true);\n\n        if (li) {\n          if (domUtils.isEmptyBlock(li)) {\n            bk = range.createBookmark();\n            var parentList = li.parentNode;\n            if (li !== parentList.lastChild) {\n              domUtils.breakParent(li, parentList);\n              clearEmptySibling(li);\n            } else {\n              parentList.parentNode.insertBefore(li, parentList.nextSibling);\n              if (domUtils.isEmptyNode(parentList)) {\n                domUtils.remove(parentList);\n              }\n            }\n            //嵌套不处理\n            if (!dtd.$list[li.parentNode.tagName]) {\n              if (!domUtils.isBlockElm(li.firstChild)) {\n                p = me.document.createElement(\"p\");\n                li.parentNode.insertBefore(p, li);\n                while (li.firstChild) {\n                  p.appendChild(li.firstChild);\n                }\n                domUtils.remove(li);\n              } else {\n                domUtils.remove(li, true);\n              }\n            }\n            range.moveToBookmark(bk).select();\n          } else {\n            var first = li.firstChild;\n            if (!first || !domUtils.isBlockElm(first)) {\n              var p = me.document.createElement(\"p\");\n\n              !li.firstChild && domUtils.fillNode(me.document, p);\n              while (li.firstChild) {\n                p.appendChild(li.firstChild);\n              }\n              li.appendChild(p);\n              first = p;\n            }\n\n            var span = me.document.createElement(\"span\");\n\n            range.insertNode(span);\n            domUtils.breakParent(span, li);\n\n            var nextLi = span.nextSibling;\n            first = nextLi.firstChild;\n\n            if (!first) {\n              p = me.document.createElement(\"p\");\n\n              domUtils.fillNode(me.document, p);\n              nextLi.appendChild(p);\n              first = p;\n            }\n            if (domUtils.isEmptyNode(first)) {\n              first.innerHTML = \"\";\n              domUtils.fillNode(me.document, first);\n            }\n\n            range.setStart(first, 0).collapse(true).shrinkBoundary().select();\n            domUtils.remove(span);\n            var pre = nextLi.previousSibling;\n            if (pre && domUtils.isEmptyBlock(pre)) {\n              pre.innerHTML = \"<p></p>\";\n              domUtils.fillNode(me.document, pre.firstChild);\n            }\n          }\n          //                        }\n          preventAndSave();\n        }\n      }\n    }\n    if (keyCode == 8) {\n      //修中ie中li下的问题\n      range = me.selection.getRange();\n      if (range.collapsed && domUtils.isStartInblock(range)) {\n        tmpRange = range.cloneRange().trimBoundary();\n        li = domUtils.findParentByTagName(range.startContainer, \"li\", true);\n        //要在li的最左边，才能处理\n        if (li && domUtils.isStartInblock(tmpRange)) {\n          start = domUtils.findParentByTagName(range.startContainer, \"p\", true);\n          if (start && start !== li.firstChild) {\n            var parentList = domUtils.findParentByTagName(start, [\"ol\", \"ul\"]);\n            domUtils.breakParent(start, parentList);\n            clearEmptySibling(start);\n            me.fireEvent(\"contentchange\");\n            range.setStart(start, 0).setCursor(false, true);\n            me.fireEvent(\"saveScene\");\n            domUtils.preventDefault(evt);\n            return;\n          }\n\n          if (li && (pre = li.previousSibling)) {\n            if (keyCode == 46 && li.childNodes.length) {\n              return;\n            }\n            //有可能上边的兄弟节点是个2级菜单，要追加到2级菜单的最后的li\n            if (dtd.$list[pre.tagName]) {\n              pre = pre.lastChild;\n            }\n            me.undoManger && me.undoManger.save();\n            first = li.firstChild;\n            if (domUtils.isBlockElm(first)) {\n              if (domUtils.isEmptyNode(first)) {\n                //                                    range.setEnd(pre, pre.childNodes.length).shrinkBoundary().collapse().select(true);\n                pre.appendChild(first);\n                range.setStart(first, 0).setCursor(false, true);\n                //first不是唯一的节点\n                while (li.firstChild) {\n                  pre.appendChild(li.firstChild);\n                }\n              } else {\n                span = me.document.createElement(\"span\");\n                range.insertNode(span);\n                //判断pre是否是空的节点,如果是<p><br/></p>类型的空节点，干掉p标签防止它占位\n                if (domUtils.isEmptyBlock(pre)) {\n                  pre.innerHTML = \"\";\n                }\n                domUtils.moveChild(li, pre);\n                range.setStartBefore(span).collapse(true).select(true);\n\n                domUtils.remove(span);\n              }\n            } else {\n              if (domUtils.isEmptyNode(li)) {\n                var p = me.document.createElement(\"p\");\n                pre.appendChild(p);\n                range.setStart(p, 0).setCursor();\n                //                                    range.setEnd(pre, pre.childNodes.length).shrinkBoundary().collapse().select(true);\n              } else {\n                range\n                  .setEnd(pre, pre.childNodes.length)\n                  .collapse()\n                  .select(true);\n                while (li.firstChild) {\n                  pre.appendChild(li.firstChild);\n                }\n              }\n            }\n            domUtils.remove(li);\n            me.fireEvent(\"contentchange\");\n            me.fireEvent(\"saveScene\");\n            domUtils.preventDefault(evt);\n            return;\n          }\n          //trace:980\n\n          if (li && !li.previousSibling) {\n            var parentList = li.parentNode;\n            var bk = range.createBookmark();\n            if (domUtils.isTagNode(parentList.parentNode, \"ol ul\")) {\n              parentList.parentNode.insertBefore(li, parentList);\n              if (domUtils.isEmptyNode(parentList)) {\n                domUtils.remove(parentList);\n              }\n            } else {\n              while (li.firstChild) {\n                parentList.parentNode.insertBefore(li.firstChild, parentList);\n              }\n\n              domUtils.remove(li);\n              if (domUtils.isEmptyNode(parentList)) {\n                domUtils.remove(parentList);\n              }\n            }\n            range.moveToBookmark(bk).setCursor(false, true);\n            me.fireEvent(\"contentchange\");\n            me.fireEvent(\"saveScene\");\n            domUtils.preventDefault(evt);\n            return;\n          }\n        }\n      }\n    }\n  });\n\n  me.addListener(\"keyup\", function(type, evt) {\n    var keyCode = evt.keyCode || evt.which;\n    if (keyCode == 8) {\n      var rng = me.selection.getRange(),\n        list;\n      if (\n        (list = domUtils.findParentByTagName(\n          rng.startContainer,\n          [\"ol\", \"ul\"],\n          true\n        ))\n      ) {\n        adjustList(\n          list,\n          list.tagName.toLowerCase(),\n          getStyle(list) || domUtils.getComputedStyle(list, \"list-style-type\"),\n          true\n        );\n      }\n    }\n  });\n  //处理tab键\n  me.addListener(\"tabkeydown\", function() {\n    var range = me.selection.getRange();\n\n    //控制级数\n    function checkLevel(li) {\n      if (me.options.maxListLevel != -1) {\n        var level = li.parentNode,\n          levelNum = 0;\n        while (/[ou]l/i.test(level.tagName)) {\n          levelNum++;\n          level = level.parentNode;\n        }\n        if (levelNum >= me.options.maxListLevel) {\n          return true;\n        }\n      }\n    }\n    //只以开始为准\n    //todo 后续改进\n    var li = domUtils.findParentByTagName(range.startContainer, \"li\", true);\n    if (li) {\n      var bk;\n      if (range.collapsed) {\n        if (checkLevel(li)) return true;\n        var parentLi = li.parentNode,\n          list = me.document.createElement(parentLi.tagName),\n          index = utils.indexOf(\n            listStyle[list.tagName],\n            getStyle(parentLi) ||\n              domUtils.getComputedStyle(parentLi, \"list-style-type\")\n          );\n        index = index + 1 == listStyle[list.tagName].length ? 0 : index + 1;\n        var currentStyle = listStyle[list.tagName][index];\n        setListStyle(list, currentStyle);\n        if (domUtils.isStartInblock(range)) {\n          me.fireEvent(\"saveScene\");\n          bk = range.createBookmark();\n          parentLi.insertBefore(list, li);\n          list.appendChild(li);\n          adjustList(list, list.tagName.toLowerCase(), currentStyle);\n          me.fireEvent(\"contentchange\");\n          range.moveToBookmark(bk).select(true);\n          return true;\n        }\n      } else {\n        me.fireEvent(\"saveScene\");\n        bk = range.createBookmark();\n        for (\n          var i = 0, closeList, parents = domUtils.findParents(li), ci;\n          (ci = parents[i++]);\n\n        ) {\n          if (domUtils.isTagNode(ci, \"ol ul\")) {\n            closeList = ci;\n            break;\n          }\n        }\n        var current = li;\n        if (bk.end) {\n          while (\n            current &&\n            !(\n              domUtils.getPosition(current, bk.end) &\n              domUtils.POSITION_FOLLOWING\n            )\n          ) {\n            if (checkLevel(current)) {\n              current = domUtils.getNextDomNode(current, false, null, function(\n                node\n              ) {\n                return node !== closeList;\n              });\n              continue;\n            }\n            var parentLi = current.parentNode,\n              list = me.document.createElement(parentLi.tagName),\n              index = utils.indexOf(\n                listStyle[list.tagName],\n                getStyle(parentLi) ||\n                  domUtils.getComputedStyle(parentLi, \"list-style-type\")\n              );\n            var currentIndex = index + 1 == listStyle[list.tagName].length\n              ? 0\n              : index + 1;\n            var currentStyle = listStyle[list.tagName][currentIndex];\n            setListStyle(list, currentStyle);\n            parentLi.insertBefore(list, current);\n            while (\n              current &&\n              !(\n                domUtils.getPosition(current, bk.end) &\n                domUtils.POSITION_FOLLOWING\n              )\n            ) {\n              li = current.nextSibling;\n              list.appendChild(current);\n              if (!li || domUtils.isTagNode(li, \"ol ul\")) {\n                if (li) {\n                  while ((li = li.firstChild)) {\n                    if (li.tagName == \"LI\") {\n                      break;\n                    }\n                  }\n                } else {\n                  li = domUtils.getNextDomNode(current, false, null, function(\n                    node\n                  ) {\n                    return node !== closeList;\n                  });\n                }\n                break;\n              }\n              current = li;\n            }\n            adjustList(list, list.tagName.toLowerCase(), currentStyle);\n            current = li;\n          }\n        }\n        me.fireEvent(\"contentchange\");\n        range.moveToBookmark(bk).select();\n        return true;\n      }\n    }\n  });\n  function getLi(start) {\n    while (start && !domUtils.isBody(start)) {\n      if (start.nodeName == \"TABLE\") {\n        return null;\n      }\n      if (start.nodeName == \"LI\") {\n        return start;\n      }\n      start = start.parentNode;\n    }\n  }\n\n  /**\n     * 有序列表，与“insertunorderedlist”命令互斥\n     * @command insertorderedlist\n     * @method execCommand\n     * @param { String } command 命令字符串\n     * @param { String } style 插入的有序列表类型，值为：decimal,lower-alpha,lower-roman,upper-alpha,upper-roman,cn,cn1,cn2,num,num1,num2\n     * @example\n     * ```javascript\n     * editor.execCommand( 'insertorderedlist','decimal');\n     * ```\n     */\n  /**\n     * 查询当前选区内容是否有序列表\n     * @command insertorderedlist\n     * @method queryCommandState\n     * @param { String } cmd 命令字符串\n     * @return { int } 如果当前选区是有序列表返回1，否则返回0\n     * @example\n     * ```javascript\n     * editor.queryCommandState( 'insertorderedlist' );\n     * ```\n     */\n  /**\n     * 查询当前选区内容是否有序列表\n     * @command insertorderedlist\n     * @method queryCommandValue\n     * @param { String } cmd 命令字符串\n     * @return { String } 返回当前有序列表的类型，值为null或decimal,lower-alpha,lower-roman,upper-alpha,upper-roman,cn,cn1,cn2,num,num1,num2\n     * @example\n     * ```javascript\n     * editor.queryCommandValue( 'insertorderedlist' );\n     * ```\n     */\n\n  /**\n     * 无序列表，与“insertorderedlist”命令互斥\n     * @command insertunorderedlist\n     * @method execCommand\n     * @param { String } command 命令字符串\n     * @param { String } style 插入的无序列表类型，值为：circle,disc,square,dash,dot\n     * @example\n     * ```javascript\n     * editor.execCommand( 'insertunorderedlist','circle');\n     * ```\n     */\n  /**\n     * 查询当前是否有word文档粘贴进来的图片\n     * @command insertunorderedlist\n     * @method insertunorderedlist\n     * @param { String } command 命令字符串\n     * @return { int } 如果当前选区是无序列表返回1，否则返回0\n     * @example\n     * ```javascript\n     * editor.queryCommandState( 'insertunorderedlist' );\n     * ```\n     */\n  /**\n     * 查询当前选区内容是否有序列表\n     * @command insertunorderedlist\n     * @method queryCommandValue\n     * @param { String } command 命令字符串\n     * @return { String } 返回当前无序列表的类型，值为null或circle,disc,square,dash,dot\n     * @example\n     * ```javascript\n     * editor.queryCommandValue( 'insertunorderedlist' );\n     * ```\n     */\n\n  me.commands[\"insertorderedlist\"] = me.commands[\"insertunorderedlist\"] = {\n    execCommand: function(command, style) {\n      if (!style) {\n        style = command.toLowerCase() == \"insertorderedlist\"\n          ? \"decimal\"\n          : \"disc\";\n      }\n      var me = this,\n        range = this.selection.getRange(),\n        filterFn = function(node) {\n          return node.nodeType == 1\n            ? node.tagName.toLowerCase() != \"br\"\n            : !domUtils.isWhitespace(node);\n        },\n        tag = command.toLowerCase() == \"insertorderedlist\" ? \"ol\" : \"ul\",\n        frag = me.document.createDocumentFragment();\n      //去掉是因为会出现选到末尾，导致adjustmentBoundary缩到ol/ul的位置\n      //range.shrinkBoundary();//.adjustmentBoundary();\n      range.adjustmentBoundary().shrinkBoundary();\n      var bko = range.createBookmark(true),\n        start = getLi(me.document.getElementById(bko.start)),\n        modifyStart = 0,\n        end = getLi(me.document.getElementById(bko.end)),\n        modifyEnd = 0,\n        startParent,\n        endParent,\n        list,\n        tmp;\n\n      if (start || end) {\n        start && (startParent = start.parentNode);\n        if (!bko.end) {\n          end = start;\n        }\n        end && (endParent = end.parentNode);\n\n        if (startParent === endParent) {\n          while (start !== end) {\n            tmp = start;\n            start = start.nextSibling;\n            if (!domUtils.isBlockElm(tmp.firstChild)) {\n              var p = me.document.createElement(\"p\");\n              while (tmp.firstChild) {\n                p.appendChild(tmp.firstChild);\n              }\n              tmp.appendChild(p);\n            }\n            frag.appendChild(tmp);\n          }\n          tmp = me.document.createElement(\"span\");\n          startParent.insertBefore(tmp, end);\n          if (!domUtils.isBlockElm(end.firstChild)) {\n            p = me.document.createElement(\"p\");\n            while (end.firstChild) {\n              p.appendChild(end.firstChild);\n            }\n            end.appendChild(p);\n          }\n          frag.appendChild(end);\n          domUtils.breakParent(tmp, startParent);\n          if (domUtils.isEmptyNode(tmp.previousSibling)) {\n            domUtils.remove(tmp.previousSibling);\n          }\n          if (domUtils.isEmptyNode(tmp.nextSibling)) {\n            domUtils.remove(tmp.nextSibling);\n          }\n          var nodeStyle =\n            getStyle(startParent) ||\n            domUtils.getComputedStyle(startParent, \"list-style-type\") ||\n            (command.toLowerCase() == \"insertorderedlist\" ? \"decimal\" : \"disc\");\n          if (startParent.tagName.toLowerCase() == tag && nodeStyle == style) {\n            for (\n              var i = 0, ci, tmpFrag = me.document.createDocumentFragment();\n              (ci = frag.firstChild);\n\n            ) {\n              if (domUtils.isTagNode(ci, \"ol ul\")) {\n                //                                  删除时，子列表不处理\n                //                                  utils.each(domUtils.getElementsByTagName(ci,'li'),function(li){\n                //                                        while(li.firstChild){\n                //                                            tmpFrag.appendChild(li.firstChild);\n                //                                        }\n                //\n                //                                    });\n                tmpFrag.appendChild(ci);\n              } else {\n                while (ci.firstChild) {\n                  tmpFrag.appendChild(ci.firstChild);\n                  domUtils.remove(ci);\n                }\n              }\n            }\n            tmp.parentNode.insertBefore(tmpFrag, tmp);\n          } else {\n            list = me.document.createElement(tag);\n            setListStyle(list, style);\n            list.appendChild(frag);\n            tmp.parentNode.insertBefore(list, tmp);\n          }\n\n          domUtils.remove(tmp);\n          list && adjustList(list, tag, style);\n          range.moveToBookmark(bko).select();\n          return;\n        }\n        //开始\n        if (start) {\n          while (start) {\n            tmp = start.nextSibling;\n            if (domUtils.isTagNode(start, \"ol ul\")) {\n              frag.appendChild(start);\n            } else {\n              var tmpfrag = me.document.createDocumentFragment(),\n                hasBlock = 0;\n              while (start.firstChild) {\n                if (domUtils.isBlockElm(start.firstChild)) {\n                  hasBlock = 1;\n                }\n                tmpfrag.appendChild(start.firstChild);\n              }\n              if (!hasBlock) {\n                var tmpP = me.document.createElement(\"p\");\n                tmpP.appendChild(tmpfrag);\n                frag.appendChild(tmpP);\n              } else {\n                frag.appendChild(tmpfrag);\n              }\n              domUtils.remove(start);\n            }\n\n            start = tmp;\n          }\n          startParent.parentNode.insertBefore(frag, startParent.nextSibling);\n          if (domUtils.isEmptyNode(startParent)) {\n            range.setStartBefore(startParent);\n            domUtils.remove(startParent);\n          } else {\n            range.setStartAfter(startParent);\n          }\n          modifyStart = 1;\n        }\n\n        if (end && domUtils.inDoc(endParent, me.document)) {\n          //结束\n          start = endParent.firstChild;\n          while (start && start !== end) {\n            tmp = start.nextSibling;\n            if (domUtils.isTagNode(start, \"ol ul\")) {\n              frag.appendChild(start);\n            } else {\n              tmpfrag = me.document.createDocumentFragment();\n              hasBlock = 0;\n              while (start.firstChild) {\n                if (domUtils.isBlockElm(start.firstChild)) {\n                  hasBlock = 1;\n                }\n                tmpfrag.appendChild(start.firstChild);\n              }\n              if (!hasBlock) {\n                tmpP = me.document.createElement(\"p\");\n                tmpP.appendChild(tmpfrag);\n                frag.appendChild(tmpP);\n              } else {\n                frag.appendChild(tmpfrag);\n              }\n              domUtils.remove(start);\n            }\n            start = tmp;\n          }\n          var tmpDiv = domUtils.createElement(me.document, \"div\", {\n            tmpDiv: 1\n          });\n          domUtils.moveChild(end, tmpDiv);\n\n          frag.appendChild(tmpDiv);\n          domUtils.remove(end);\n          endParent.parentNode.insertBefore(frag, endParent);\n          range.setEndBefore(endParent);\n          if (domUtils.isEmptyNode(endParent)) {\n            domUtils.remove(endParent);\n          }\n\n          modifyEnd = 1;\n        }\n      }\n\n      if (!modifyStart) {\n        range.setStartBefore(me.document.getElementById(bko.start));\n      }\n      if (bko.end && !modifyEnd) {\n        range.setEndAfter(me.document.getElementById(bko.end));\n      }\n      range.enlarge(true, function(node) {\n        return notExchange[node.tagName];\n      });\n\n      frag = me.document.createDocumentFragment();\n\n      var bk = range.createBookmark(),\n        current = domUtils.getNextDomNode(bk.start, false, filterFn),\n        tmpRange = range.cloneRange(),\n        tmpNode,\n        block = domUtils.isBlockElm;\n\n      while (\n        current &&\n        current !== bk.end &&\n        domUtils.getPosition(current, bk.end) & domUtils.POSITION_PRECEDING\n      ) {\n        if (current.nodeType == 3 || dtd.li[current.tagName]) {\n          if (current.nodeType == 1 && dtd.$list[current.tagName]) {\n            while (current.firstChild) {\n              frag.appendChild(current.firstChild);\n            }\n            tmpNode = domUtils.getNextDomNode(current, false, filterFn);\n            domUtils.remove(current);\n            current = tmpNode;\n            continue;\n          }\n          tmpNode = current;\n          tmpRange.setStartBefore(current);\n\n          while (\n            current &&\n            current !== bk.end &&\n            (!block(current) || domUtils.isBookmarkNode(current))\n          ) {\n            tmpNode = current;\n            current = domUtils.getNextDomNode(current, false, null, function(\n              node\n            ) {\n              return !notExchange[node.tagName];\n            });\n          }\n\n          if (current && block(current)) {\n            tmp = domUtils.getNextDomNode(tmpNode, false, filterFn);\n            if (tmp && domUtils.isBookmarkNode(tmp)) {\n              current = domUtils.getNextDomNode(tmp, false, filterFn);\n              tmpNode = tmp;\n            }\n          }\n          tmpRange.setEndAfter(tmpNode);\n\n          current = domUtils.getNextDomNode(tmpNode, false, filterFn);\n\n          var li = range.document.createElement(\"li\");\n\n          li.appendChild(tmpRange.extractContents());\n          if (domUtils.isEmptyNode(li)) {\n            var tmpNode = range.document.createElement(\"p\");\n            while (li.firstChild) {\n              tmpNode.appendChild(li.firstChild);\n            }\n            li.appendChild(tmpNode);\n          }\n          frag.appendChild(li);\n        } else {\n          current = domUtils.getNextDomNode(current, true, filterFn);\n        }\n      }\n      range.moveToBookmark(bk).collapse(true);\n      list = me.document.createElement(tag);\n      setListStyle(list, style);\n      list.appendChild(frag);\n      range.insertNode(list);\n      //当前list上下看能否合并\n      adjustList(list, tag, style);\n      //去掉冗余的tmpDiv\n      for (\n        var i = 0, ci, tmpDivs = domUtils.getElementsByTagName(list, \"div\");\n        (ci = tmpDivs[i++]);\n\n      ) {\n        if (ci.getAttribute(\"tmpDiv\")) {\n          domUtils.remove(ci, true);\n        }\n      }\n      range.moveToBookmark(bko).select();\n    },\n    queryCommandState: function(command) {\n      var tag = command.toLowerCase() == \"insertorderedlist\" ? \"ol\" : \"ul\";\n      var path = this.selection.getStartElementPath();\n      for (var i = 0, ci; (ci = path[i++]); ) {\n        if (ci.nodeName == \"TABLE\") {\n          return 0;\n        }\n        if (tag == ci.nodeName.toLowerCase()) {\n          return 1;\n        }\n      }\n      return 0;\n    },\n    queryCommandValue: function(command) {\n      var tag = command.toLowerCase() == \"insertorderedlist\" ? \"ol\" : \"ul\";\n      var path = this.selection.getStartElementPath(),\n        node;\n      for (var i = 0, ci; (ci = path[i++]); ) {\n        if (ci.nodeName == \"TABLE\") {\n          node = null;\n          break;\n        }\n        if (tag == ci.nodeName.toLowerCase()) {\n          node = ci;\n          break;\n        }\n      }\n      return node\n        ? getStyle(node) || domUtils.getComputedStyle(node, \"list-style-type\")\n        : null;\n    }\n  };\n};\n\n\n// plugins/source.js\n/**\n * 源码编辑插件\n * @file\n * @since 1.2.6.1\n */\n\n;(function() {\n  var sourceEditors = {\n    textarea: function(editor, holder) {\n      var textarea = holder.ownerDocument.createElement(\"textarea\");\n      textarea.style.cssText =\n        \"position:absolute;resize:none;width:100%;height:100%;border:0;padding:0;margin:0;overflow-y:auto;\";\n      // todo: IE下只有onresize属性可用... 很纠结\n      if (browser.ie && browser.version < 8) {\n        textarea.style.width = holder.offsetWidth + \"px\";\n        textarea.style.height = holder.offsetHeight + \"px\";\n        holder.onresize = function() {\n          textarea.style.width = holder.offsetWidth + \"px\";\n          textarea.style.height = holder.offsetHeight + \"px\";\n        };\n      }\n      holder.appendChild(textarea);\n      return {\n        setContent: function(content) {\n          textarea.value = content;\n        },\n        getContent: function() {\n          return textarea.value;\n        },\n        select: function() {\n          var range;\n          if (browser.ie) {\n            range = textarea.createTextRange();\n            range.collapse(true);\n            range.select();\n          } else {\n            //todo: chrome下无法设置焦点\n            textarea.setSelectionRange(0, 0);\n            textarea.focus();\n          }\n        },\n        dispose: function() {\n          holder.removeChild(textarea);\n          // todo\n          holder.onresize = null;\n          textarea = null;\n          holder = null;\n        },\n         focus: function (){\n           textarea.focus();\n        },\n         blur: function (){\n           textarea.blur();\n        }\n      };\n    },\n    codemirror: function(editor, holder) {\n      var codeEditor = window.CodeMirror(holder, {\n        mode: \"text/html\",\n        tabMode: \"indent\",\n        lineNumbers: true,\n        lineWrapping: true\n      });\n      var dom = codeEditor.getWrapperElement();\n      dom.style.cssText =\n        'position:absolute;left:0;top:0;width:100%;height:100%;font-family:consolas,\"Courier new\",monospace;font-size:13px;';\n      codeEditor.getScrollerElement().style.cssText =\n        \"position:absolute;left:0;top:0;width:100%;height:100%;\";\n      codeEditor.refresh();\n      return {\n        getCodeMirror: function() {\n          return codeEditor;\n        },\n        setContent: function(content) {\n          codeEditor.setValue(content);\n        },\n        getContent: function() {\n          return codeEditor.getValue();\n        },\n        select: function() {\n          codeEditor.focus();\n        },\n        dispose: function() {\n          holder.removeChild(dom);\n          dom = null;\n          codeEditor = null;\n        },\n        focus: function (){\n          codeEditor.focus();\n        },\n        blur: function (){\n          // codeEditor.blur();\n          // since codemirror not support blur()\n           codeEditor.setOption('readOnly', true);\n           codeEditor.setOption('readOnly', false);\n        }\n      };\n    }\n  };\n\n  UE.plugins[\"source\"] = function() {\n    var me = this;\n    var opt = this.options;\n    var sourceMode = false;\n    var sourceEditor;\n    var orgSetContent;\n    var orgFocus;\n    var orgBlur;\n    opt.sourceEditor = browser.ie\n      ? \"textarea\"\n      : opt.sourceEditor || \"codemirror\";\n\n    me.setOpt({\n      sourceEditorFirst: false\n    });\n    function createSourceEditor(holder) {\n      return sourceEditors[\n        opt.sourceEditor == \"codemirror\" && window.CodeMirror\n          ? \"codemirror\"\n          : \"textarea\"\n      ](me, holder);\n    }\n\n    var bakCssText;\n    //解决在源码模式下getContent不能得到最新的内容问题\n    var oldGetContent, bakAddress;\n\n    /**\n         * 切换源码模式和编辑模式\n         * @command source\n         * @method execCommand\n         * @param { String } cmd 命令字符串\n         * @example\n         * ```javascript\n         * editor.execCommand( 'source');\n         * ```\n         */\n\n    /**\n         * 查询当前编辑区域的状态是源码模式还是可视化模式\n         * @command source\n         * @method queryCommandState\n         * @param { String } cmd 命令字符串\n         * @return { int } 如果当前是源码编辑模式，返回1，否则返回0\n         * @example\n         * ```javascript\n         * editor.queryCommandState( 'source' );\n         * ```\n         */\n\n    me.commands[\"source\"] = {\n      execCommand: function() {\n        sourceMode = !sourceMode;\n        if (sourceMode) {\n          bakAddress = me.selection.getRange().createAddress(false, true);\n          me.undoManger && me.undoManger.save(true);\n          if (browser.gecko) {\n            me.body.contentEditable = false;\n          }\n\n          bakCssText = me.iframe.style.cssText;\n          me.iframe.style.cssText +=\n            \"position:absolute;left:-32768px;top:-32768px;\";\n\n          me.fireEvent(\"beforegetcontent\");\n          var root = UE.htmlparser(me.body.innerHTML);\n          me.filterOutputRule(root);\n          root.traversal(function(node) {\n            if (node.type == \"element\") {\n              switch (node.tagName) {\n                case \"td\":\n                case \"th\":\n                case \"caption\":\n                  if (node.children && node.children.length == 1) {\n                    if (node.firstChild().tagName == \"br\") {\n                      node.removeChild(node.firstChild());\n                    }\n                  }\n                  break;\n                case \"pre\":\n                  node.innerText(node.innerText().replace(/&nbsp;/g, \" \"));\n              }\n            }\n          });\n\n          me.fireEvent(\"aftergetcontent\");\n\n          var content = root.toHtml(true);\n\n          sourceEditor = createSourceEditor(me.iframe.parentNode);\n\n          sourceEditor.setContent(content);\n\n          orgSetContent = me.setContent;\n\n          me.setContent = function(html) {\n            //这里暂时不触发事件，防止报错\n            var root = UE.htmlparser(html);\n            me.filterInputRule(root);\n            html = root.toHtml();\n            sourceEditor.setContent(html);\n          };\n\n          setTimeout(function() {\n            sourceEditor.select();\n            me.addListener(\"fullscreenchanged\", function() {\n              try {\n                sourceEditor.getCodeMirror().refresh();\n              } catch (e) {}\n            });\n          });\n\n          //重置getContent，源码模式下取值也能是最新的数据\n          oldGetContent = me.getContent;\n          me.getContent = function() {\n            return (\n              sourceEditor.getContent() ||\n              \"<p>\" + (browser.ie ? \"\" : \"<br/>\") + \"</p>\"\n            );\n          };\n\n           orgFocus = me.focus;\n           orgBlur = me.blur;\n\n           me.focus = function(){\n             sourceEditor.focus();\n           };\n\n           me.blur = function(){\n             orgBlur.call(me);\n             sourceEditor.blur();\n           };\n        } else {\n          me.iframe.style.cssText = bakCssText;\n          var cont =\n            sourceEditor.getContent() ||\n            \"<p>\" + (browser.ie ? \"\" : \"<br/>\") + \"</p>\";\n          //处理掉block节点前后的空格,有可能会误命中，暂时不考虑\n          cont = cont.replace(\n            new RegExp(\"[\\\\r\\\\t\\\\n ]*</?(\\\\w+)\\\\s*(?:[^>]*)>\", \"g\"),\n            function(a, b) {\n              if (b && !dtd.$inlineWithA[b.toLowerCase()]) {\n                return a.replace(/(^[\\n\\r\\t ]*)|([\\n\\r\\t ]*$)/g, \"\");\n              }\n              return a.replace(/(^[\\n\\r\\t]*)|([\\n\\r\\t]*$)/g, \"\");\n            }\n          );\n\n          me.setContent = orgSetContent;\n\n          me.setContent(cont);\n          sourceEditor.dispose();\n          sourceEditor = null;\n          //还原getContent方法\n          me.getContent = oldGetContent;\n          me.focus = orgFocus;\n          me.blur = orgBlur;\n          var first = me.body.firstChild;\n          //trace:1106 都删除空了，下边会报错，所以补充一个p占位\n          if (!first) {\n            me.body.innerHTML = \"<p>\" + (browser.ie ? \"\" : \"<br/>\") + \"</p>\";\n            first = me.body.firstChild;\n          }\n\n          //要在ifm为显示时ff才能取到selection,否则报错\n          //这里不能比较位置了\n          me.undoManger && me.undoManger.save(true);\n\n          if (browser.gecko) {\n            var input = document.createElement(\"input\");\n            input.style.cssText = \"position:absolute;left:0;top:-32768px\";\n\n            document.body.appendChild(input);\n\n            me.body.contentEditable = false;\n            setTimeout(function() {\n              domUtils.setViewportOffset(input, { left: -32768, top: 0 });\n              input.focus();\n              setTimeout(function() {\n                me.body.contentEditable = true;\n                me.selection.getRange().moveToAddress(bakAddress).select(true);\n                domUtils.remove(input);\n              });\n            });\n          } else {\n            //ie下有可能报错，比如在代码顶头的情况\n            try {\n              me.selection.getRange().moveToAddress(bakAddress).select(true);\n            } catch (e) {}\n          }\n        }\n        this.fireEvent(\"sourcemodechanged\", sourceMode);\n      },\n      queryCommandState: function() {\n        return sourceMode | 0;\n      },\n      notNeedUndo: 1\n    };\n    var oldQueryCommandState = me.queryCommandState;\n\n    me.queryCommandState = function(cmdName) {\n      cmdName = cmdName.toLowerCase();\n      if (sourceMode) {\n        //源码模式下可以开启的命令\n        return cmdName in\n          {\n            source: 1,\n            fullscreen: 1\n          }\n          ? 1\n          : -1;\n      }\n      return oldQueryCommandState.apply(this, arguments);\n    };\n\n    if (opt.sourceEditor == \"codemirror\") {\n      me.addListener(\"ready\", function() {\n        utils.loadFile(\n          document,\n          {\n            src:\n              opt.codeMirrorJsUrl ||\n                opt.UEDITOR_HOME_URL + \"third-party/codemirror/codemirror.js\",\n            tag: \"script\",\n            type: \"text/javascript\",\n            defer: \"defer\"\n          },\n          function() {\n            if (opt.sourceEditorFirst) {\n              setTimeout(function() {\n                me.execCommand(\"source\");\n              }, 0);\n            }\n          }\n        );\n        utils.loadFile(document, {\n          tag: \"link\",\n          rel: \"stylesheet\",\n          type: \"text/css\",\n          href:\n            opt.codeMirrorCssUrl ||\n              opt.UEDITOR_HOME_URL + \"third-party/codemirror/codemirror.css\"\n        });\n      });\n    }\n  };\n})();\n\n\n// plugins/enterkey.js\n///import core\n///import plugins/undo.js\n///commands 设置回车标签p或br\n///commandsName  EnterKey\n///commandsTitle  设置回车标签p或br\n/**\n * @description 处理回车\n * @author zhanyi\n */\nUE.plugins[\"enterkey\"] = function() {\n  var hTag,\n    me = this,\n    tag = me.options.enterTag;\n  me.addListener(\"keyup\", function(type, evt) {\n    var keyCode = evt.keyCode || evt.which;\n    if (keyCode == 13) {\n      var range = me.selection.getRange(),\n        start = range.startContainer,\n        doSave;\n\n      //修正在h1-h6里边回车后不能嵌套p的问题\n      if (!browser.ie) {\n        if (/h\\d/i.test(hTag)) {\n          if (browser.gecko) {\n            var h = domUtils.findParentByTagName(\n              start,\n              [\n                \"h1\",\n                \"h2\",\n                \"h3\",\n                \"h4\",\n                \"h5\",\n                \"h6\",\n                \"blockquote\",\n                \"caption\",\n                \"table\"\n              ],\n              true\n            );\n            if (!h) {\n              me.document.execCommand(\"formatBlock\", false, \"<p>\");\n              doSave = 1;\n            }\n          } else {\n            //chrome remove div\n            if (start.nodeType == 1) {\n              var tmp = me.document.createTextNode(\"\"),\n                div;\n              range.insertNode(tmp);\n              div = domUtils.findParentByTagName(tmp, \"div\", true);\n              if (div) {\n                var p = me.document.createElement(\"p\");\n                while (div.firstChild) {\n                  p.appendChild(div.firstChild);\n                }\n                div.parentNode.insertBefore(p, div);\n                domUtils.remove(div);\n                range.setStartBefore(tmp).setCursor();\n                doSave = 1;\n              }\n              domUtils.remove(tmp);\n            }\n          }\n\n          if (me.undoManger && doSave) {\n            me.undoManger.save();\n          }\n        }\n        //没有站位符，会出现多行的问题\n        browser.opera && range.select();\n      } else {\n        me.fireEvent(\"saveScene\", true, true);\n      }\n    }\n  });\n\n  me.addListener(\"keydown\", function(type, evt) {\n    var keyCode = evt.keyCode || evt.which;\n    if (keyCode == 13) {\n      //回车\n      if (me.fireEvent(\"beforeenterkeydown\")) {\n        domUtils.preventDefault(evt);\n        return;\n      }\n      me.fireEvent(\"saveScene\", true, true);\n      hTag = \"\";\n\n      var range = me.selection.getRange();\n\n      if (!range.collapsed) {\n        //跨td不能删\n        var start = range.startContainer,\n          end = range.endContainer,\n          startTd = domUtils.findParentByTagName(start, \"td\", true),\n          endTd = domUtils.findParentByTagName(end, \"td\", true);\n        if (\n          (startTd && endTd && startTd !== endTd) ||\n          (!startTd && endTd) ||\n          (startTd && !endTd)\n        ) {\n          evt.preventDefault ? evt.preventDefault() : (evt.returnValue = false);\n          return;\n        }\n      }\n      if (tag == \"p\") {\n        if (!browser.ie) {\n          start = domUtils.findParentByTagName(\n            range.startContainer,\n            [\n              \"ol\",\n              \"ul\",\n              \"p\",\n              \"h1\",\n              \"h2\",\n              \"h3\",\n              \"h4\",\n              \"h5\",\n              \"h6\",\n              \"blockquote\",\n              \"caption\"\n            ],\n            true\n          );\n\n          //opera下执行formatblock会在table的场景下有问题，回车在opera原生支持很好，所以暂时在opera去掉调用这个原生的command\n          //trace:2431\n          if (!start && !browser.opera) {\n            me.document.execCommand(\"formatBlock\", false, \"<p>\");\n\n            if (browser.gecko) {\n              range = me.selection.getRange();\n              start = domUtils.findParentByTagName(\n                range.startContainer,\n                \"p\",\n                true\n              );\n              start && domUtils.removeDirtyAttr(start);\n            }\n          } else {\n            hTag = start.tagName;\n            start.tagName.toLowerCase() == \"p\" &&\n              browser.gecko &&\n              domUtils.removeDirtyAttr(start);\n          }\n        }\n      } else {\n        evt.preventDefault ? evt.preventDefault() : (evt.returnValue = false);\n\n        if (!range.collapsed) {\n          range.deleteContents();\n          start = range.startContainer;\n          if (\n            start.nodeType == 1 &&\n            (start = start.childNodes[range.startOffset])\n          ) {\n            while (start.nodeType == 1) {\n              if (dtd.$empty[start.tagName]) {\n                range.setStartBefore(start).setCursor();\n                if (me.undoManger) {\n                  me.undoManger.save();\n                }\n                return false;\n              }\n              if (!start.firstChild) {\n                var br = range.document.createElement(\"br\");\n                start.appendChild(br);\n                range.setStart(start, 0).setCursor();\n                if (me.undoManger) {\n                  me.undoManger.save();\n                }\n                return false;\n              }\n              start = start.firstChild;\n            }\n            if (start === range.startContainer.childNodes[range.startOffset]) {\n              br = range.document.createElement(\"br\");\n              range.insertNode(br).setCursor();\n            } else {\n              range.setStart(start, 0).setCursor();\n            }\n          } else {\n            br = range.document.createElement(\"br\");\n            range.insertNode(br).setStartAfter(br).setCursor();\n          }\n        } else {\n          br = range.document.createElement(\"br\");\n          range.insertNode(br);\n          var parent = br.parentNode;\n          if (parent.lastChild === br) {\n            br.parentNode.insertBefore(br.cloneNode(true), br);\n            range.setStartBefore(br);\n          } else {\n            range.setStartAfter(br);\n          }\n          range.setCursor();\n        }\n      }\n    }\n  });\n};\n\n\n// plugins/keystrokes.js\n/* 处理特殊键的兼容性问题 */\nUE.plugins[\"keystrokes\"] = function() {\n  var me = this;\n  var collapsed = true;\n  me.addListener(\"keydown\", function(type, evt) {\n    var keyCode = evt.keyCode || evt.which,\n      rng = me.selection.getRange();\n\n    //处理全选的情况\n    if (\n      !rng.collapsed &&\n      !(evt.ctrlKey || evt.shiftKey || evt.altKey || evt.metaKey) &&\n      ((keyCode >= 65 && keyCode <= 90) ||\n        (keyCode >= 48 && keyCode <= 57) ||\n        (keyCode >= 96 && keyCode <= 111) ||\n        {\n          13: 1,\n          8: 1,\n          46: 1\n        }[keyCode])\n    ) {\n      var tmpNode = rng.startContainer;\n      if (domUtils.isFillChar(tmpNode)) {\n        rng.setStartBefore(tmpNode);\n      }\n      tmpNode = rng.endContainer;\n      if (domUtils.isFillChar(tmpNode)) {\n        rng.setEndAfter(tmpNode);\n      }\n      rng.txtToElmBoundary();\n      //结束边界可能放到了br的前边，要把br包含进来\n      // x[xxx]<br/>\n      if (rng.endContainer && rng.endContainer.nodeType == 1) {\n        tmpNode = rng.endContainer.childNodes[rng.endOffset];\n        if (tmpNode && domUtils.isBr(tmpNode)) {\n          rng.setEndAfter(tmpNode);\n        }\n      }\n      if (rng.startOffset == 0) {\n        tmpNode = rng.startContainer;\n        if (domUtils.isBoundaryNode(tmpNode, \"firstChild\")) {\n          tmpNode = rng.endContainer;\n          if (\n            rng.endOffset ==\n              (tmpNode.nodeType == 3\n                ? tmpNode.nodeValue.length\n                : tmpNode.childNodes.length) &&\n            domUtils.isBoundaryNode(tmpNode, \"lastChild\")\n          ) {\n            me.fireEvent(\"saveScene\");\n            me.body.innerHTML = \"<p>\" + (browser.ie ? \"\" : \"<br/>\") + \"</p>\";\n            rng.setStart(me.body.firstChild, 0).setCursor(false, true);\n            me._selectionChange();\n            return;\n          }\n        }\n      }\n    }\n\n    //处理backspace\n    if (keyCode == keymap.Backspace) {\n      rng = me.selection.getRange();\n      collapsed = rng.collapsed;\n      if (me.fireEvent(\"delkeydown\", evt)) {\n        return;\n      }\n      var start, end;\n      //避免按两次删除才能生效的问题\n      if (rng.collapsed && rng.inFillChar()) {\n        start = rng.startContainer;\n\n        if (domUtils.isFillChar(start)) {\n          rng.setStartBefore(start).shrinkBoundary(true).collapse(true);\n          domUtils.remove(start);\n        } else {\n          start.nodeValue = start.nodeValue.replace(\n            new RegExp(\"^\" + domUtils.fillChar),\n            \"\"\n          );\n          rng.startOffset--;\n          rng.collapse(true).select(true);\n        }\n      }\n\n      //解决选中control元素不能删除的问题\n      if ((start = rng.getClosedNode())) {\n        me.fireEvent(\"saveScene\");\n        rng.setStartBefore(start);\n        domUtils.remove(start);\n        rng.setCursor();\n        me.fireEvent(\"saveScene\");\n        domUtils.preventDefault(evt);\n        return;\n      }\n      //阻止在table上的删除\n      if (!browser.ie) {\n        start = domUtils.findParentByTagName(rng.startContainer, \"table\", true);\n        end = domUtils.findParentByTagName(rng.endContainer, \"table\", true);\n        if ((start && !end) || (!start && end) || start !== end) {\n          evt.preventDefault();\n          return;\n        }\n      }\n    }\n    //处理tab键的逻辑\n    if (keyCode == keymap.Tab) {\n      //不处理以下标签\n      var excludeTagNameForTabKey = {\n        ol: 1,\n        ul: 1,\n        table: 1\n      };\n      //处理组件里的tab按下事件\n      if (me.fireEvent(\"tabkeydown\", evt)) {\n        domUtils.preventDefault(evt);\n        return;\n      }\n      var range = me.selection.getRange();\n      me.fireEvent(\"saveScene\");\n      for (\n        var i = 0,\n          txt = \"\",\n          tabSize = me.options.tabSize || 4,\n          tabNode = me.options.tabNode || \"&nbsp;\";\n        i < tabSize;\n        i++\n      ) {\n        txt += tabNode;\n      }\n      var span = me.document.createElement(\"span\");\n      span.innerHTML = txt + domUtils.fillChar;\n      if (range.collapsed) {\n        range.insertNode(span.cloneNode(true).firstChild).setCursor(true);\n      } else {\n        var filterFn = function(node) {\n          return (\n            domUtils.isBlockElm(node) &&\n            !excludeTagNameForTabKey[node.tagName.toLowerCase()]\n          );\n        };\n        //普通的情况\n        start = domUtils.findParent(range.startContainer, filterFn, true);\n        end = domUtils.findParent(range.endContainer, filterFn, true);\n        if (start && end && start === end) {\n          range.deleteContents();\n          range.insertNode(span.cloneNode(true).firstChild).setCursor(true);\n        } else {\n          var bookmark = range.createBookmark();\n          range.enlarge(true);\n          var bookmark2 = range.createBookmark(),\n            current = domUtils.getNextDomNode(bookmark2.start, false, filterFn);\n          while (\n            current &&\n            !(\n              domUtils.getPosition(current, bookmark2.end) &\n              domUtils.POSITION_FOLLOWING\n            )\n          ) {\n            current.insertBefore(\n              span.cloneNode(true).firstChild,\n              current.firstChild\n            );\n            current = domUtils.getNextDomNode(current, false, filterFn);\n          }\n          range.moveToBookmark(bookmark2).moveToBookmark(bookmark).select();\n        }\n      }\n      domUtils.preventDefault(evt);\n    }\n    //trace:1634\n    //ff的del键在容器空的时候，也会删除\n    if (browser.gecko && keyCode == 46) {\n      range = me.selection.getRange();\n      if (range.collapsed) {\n        start = range.startContainer;\n        if (domUtils.isEmptyBlock(start)) {\n          var parent = start.parentNode;\n          while (\n            domUtils.getChildCount(parent) == 1 &&\n            !domUtils.isBody(parent)\n          ) {\n            start = parent;\n            parent = parent.parentNode;\n          }\n          if (start === parent.lastChild) evt.preventDefault();\n          return;\n        }\n      }\n    }\n\n    /* 修复在编辑区域快捷键 (Mac:meta+alt+I; Win:ctrl+shift+I) 打不开 chrome 控制台的问题 */\n    browser.chrome &&\n      me.on(\"keydown\", function(type, e) {\n        var keyCode = e.keyCode || e.which;\n        if (\n          ((e.metaKey && e.altKey) || (e.ctrlKey && e.shiftKey)) &&\n          keyCode == 73\n        ) {\n          return true;\n        }\n      });\n  });\n  me.addListener(\"keyup\", function(type, evt) {\n    var keyCode = evt.keyCode || evt.which,\n      rng,\n      me = this;\n    if (keyCode == keymap.Backspace) {\n      if (me.fireEvent(\"delkeyup\")) {\n        return;\n      }\n      rng = me.selection.getRange();\n      if (rng.collapsed) {\n        var tmpNode,\n          autoClearTagName = [\"h1\", \"h2\", \"h3\", \"h4\", \"h5\", \"h6\"];\n        if (\n          (tmpNode = domUtils.findParentByTagName(\n            rng.startContainer,\n            autoClearTagName,\n            true\n          ))\n        ) {\n          if (domUtils.isEmptyBlock(tmpNode)) {\n            var pre = tmpNode.previousSibling;\n            if (pre && pre.nodeName != \"TABLE\") {\n              domUtils.remove(tmpNode);\n              rng.setStartAtLast(pre).setCursor(false, true);\n              return;\n            } else {\n              var next = tmpNode.nextSibling;\n              if (next && next.nodeName != \"TABLE\") {\n                domUtils.remove(tmpNode);\n                rng.setStartAtFirst(next).setCursor(false, true);\n                return;\n              }\n            }\n          }\n        }\n        //处理当删除到body时，要重新给p标签展位\n        if (domUtils.isBody(rng.startContainer)) {\n          var tmpNode = domUtils.createElement(me.document, \"p\", {\n            innerHTML: browser.ie ? domUtils.fillChar : \"<br/>\"\n          });\n          rng.insertNode(tmpNode).setStart(tmpNode, 0).setCursor(false, true);\n        }\n      }\n\n      //chrome下如果删除了inline标签，浏览器会有记忆，在输入文字还是会套上刚才删除的标签，所以这里再选一次就不会了\n      if (\n        !collapsed &&\n        (rng.startContainer.nodeType == 3 ||\n          (rng.startContainer.nodeType == 1 &&\n            domUtils.isEmptyBlock(rng.startContainer)))\n      ) {\n        if (browser.ie) {\n          var span = rng.document.createElement(\"span\");\n          rng.insertNode(span).setStartBefore(span).collapse(true);\n          rng.select();\n          domUtils.remove(span);\n        } else {\n          rng.select();\n        }\n      }\n    }\n  });\n};\n\n\n// plugins/fiximgclick.js\n///import core\n///commands 修复chrome下图片不能点击的问题，出现八个角可改变大小\n///commandsName  FixImgClick\n///commandsTitle  修复chrome下图片不能点击的问题，出现八个角可改变大小\n//修复chrome下图片不能点击的问题，出现八个角可改变大小\n\nUE.plugins[\"fiximgclick\"] = (function() {\n  var elementUpdated = false;\n  function Scale() {\n    this.editor = null;\n    this.resizer = null;\n    this.cover = null;\n    this.doc = document;\n    this.prePos = { x: 0, y: 0 };\n    this.startPos = { x: 0, y: 0 };\n  }\n\n  (function() {\n    var rect = [\n      //[left, top, width, height]\n      [0, 0, -1, -1],\n      [0, 0, 0, -1],\n      [0, 0, 1, -1],\n      [0, 0, -1, 0],\n      [0, 0, 1, 0],\n      [0, 0, -1, 1],\n      [0, 0, 0, 1],\n      [0, 0, 1, 1]\n    ];\n\n    Scale.prototype = {\n      init: function(editor) {\n        var me = this;\n        me.editor = editor;\n        me.startPos = this.prePos = { x: 0, y: 0 };\n        me.dragId = -1;\n\n        var hands = [],\n          cover = (me.cover = document.createElement(\"div\")),\n          resizer = (me.resizer = document.createElement(\"div\"));\n\n        cover.id = me.editor.ui.id + \"_imagescale_cover\";\n        cover.style.cssText =\n          \"position:absolute;display:none;z-index:\" +\n          me.editor.options.zIndex +\n          \";filter:alpha(opacity=0); opacity:0;background:#CCC;\";\n        domUtils.on(cover, \"mousedown click\", function() {\n          me.hide();\n        });\n\n        for (i = 0; i < 8; i++) {\n          hands.push(\n            '<span class=\"edui-editor-imagescale-hand' + i + '\"></span>'\n          );\n        }\n        resizer.id = me.editor.ui.id + \"_imagescale\";\n        resizer.className = \"edui-editor-imagescale\";\n        resizer.innerHTML = hands.join(\"\");\n        resizer.style.cssText +=\n          \";display:none;border:1px solid #3b77ff;z-index:\" +\n          me.editor.options.zIndex +\n          \";\";\n\n        me.editor.ui.getDom().appendChild(cover);\n        me.editor.ui.getDom().appendChild(resizer);\n\n        me.initStyle();\n        me.initEvents();\n      },\n      initStyle: function() {\n        utils.cssRule(\n          \"imagescale\",\n          \".edui-editor-imagescale{display:none;position:absolute;border:1px solid #38B2CE;cursor:hand;-webkit-box-sizing: content-box;-moz-box-sizing: content-box;box-sizing: content-box;}\" +\n            \".edui-editor-imagescale span{position:absolute;width:6px;height:6px;overflow:hidden;font-size:0px;display:block;background-color:#3C9DD0;}\" +\n            \".edui-editor-imagescale .edui-editor-imagescale-hand0{cursor:nw-resize;top:0;margin-top:-4px;left:0;margin-left:-4px;}\" +\n            \".edui-editor-imagescale .edui-editor-imagescale-hand1{cursor:n-resize;top:0;margin-top:-4px;left:50%;margin-left:-4px;}\" +\n            \".edui-editor-imagescale .edui-editor-imagescale-hand2{cursor:ne-resize;top:0;margin-top:-4px;left:100%;margin-left:-3px;}\" +\n            \".edui-editor-imagescale .edui-editor-imagescale-hand3{cursor:w-resize;top:50%;margin-top:-4px;left:0;margin-left:-4px;}\" +\n            \".edui-editor-imagescale .edui-editor-imagescale-hand4{cursor:e-resize;top:50%;margin-top:-4px;left:100%;margin-left:-3px;}\" +\n            \".edui-editor-imagescale .edui-editor-imagescale-hand5{cursor:sw-resize;top:100%;margin-top:-3px;left:0;margin-left:-4px;}\" +\n            \".edui-editor-imagescale .edui-editor-imagescale-hand6{cursor:s-resize;top:100%;margin-top:-3px;left:50%;margin-left:-4px;}\" +\n            \".edui-editor-imagescale .edui-editor-imagescale-hand7{cursor:se-resize;top:100%;margin-top:-3px;left:100%;margin-left:-3px;}\"\n        );\n      },\n      initEvents: function() {\n        var me = this;\n\n        me.startPos.x = me.startPos.y = 0;\n        me.isDraging = false;\n      },\n      _eventHandler: function(e) {\n        var me = this;\n        switch (e.type) {\n          case \"mousedown\":\n            var hand = e.target || e.srcElement,\n              hand;\n            if (\n              hand.className.indexOf(\"edui-editor-imagescale-hand\") != -1 &&\n              me.dragId == -1\n            ) {\n              me.dragId = hand.className.slice(-1);\n              me.startPos.x = me.prePos.x = e.clientX;\n              me.startPos.y = me.prePos.y = e.clientY;\n              domUtils.on(me.doc, \"mousemove\", me.proxy(me._eventHandler, me));\n            }\n            break;\n          case \"mousemove\":\n            if (me.dragId != -1) {\n              me.updateContainerStyle(me.dragId, {\n                x: e.clientX - me.prePos.x,\n                y: e.clientY - me.prePos.y\n              });\n              me.prePos.x = e.clientX;\n              me.prePos.y = e.clientY;\n              elementUpdated = true;\n              me.updateTargetElement();\n            }\n            break;\n          case \"mouseup\":\n            if (me.dragId != -1) {\n              me.updateContainerStyle(me.dragId, {\n                x: e.clientX - me.prePos.x,\n                y: e.clientY - me.prePos.y\n              });\n              me.updateTargetElement();\n              if (me.target.parentNode) me.attachTo(me.target);\n              me.dragId = -1;\n            }\n            domUtils.un(me.doc, \"mousemove\", me.proxy(me._eventHandler, me));\n            //修复只是点击挪动点，但没有改变大小，不应该触发contentchange\n            if (elementUpdated) {\n              elementUpdated = false;\n              me.editor.fireEvent(\"contentchange\");\n            }\n\n            break;\n          default:\n            break;\n        }\n      },\n      updateTargetElement: function() {\n        var me = this;\n        domUtils.setStyles(me.target, {\n          width: me.resizer.style.width,\n          height: me.resizer.style.height\n        });\n        me.target.width = parseInt(me.resizer.style.width);\n        me.target.height = parseInt(me.resizer.style.height);\n        me.attachTo(me.target);\n      },\n      updateContainerStyle: function(dir, offset) {\n        var me = this,\n          dom = me.resizer,\n          tmp;\n\n        if (rect[dir][0] != 0) {\n          tmp = parseInt(dom.style.left) + offset.x;\n          dom.style.left = me._validScaledProp(\"left\", tmp) + \"px\";\n        }\n        if (rect[dir][1] != 0) {\n          tmp = parseInt(dom.style.top) + offset.y;\n          dom.style.top = me._validScaledProp(\"top\", tmp) + \"px\";\n        }\n        if (rect[dir][2] != 0) {\n          tmp = dom.clientWidth + rect[dir][2] * offset.x;\n          dom.style.width = me._validScaledProp(\"width\", tmp) + \"px\";\n        }\n        if (rect[dir][3] != 0) {\n          tmp = dom.clientHeight + rect[dir][3] * offset.y;\n          dom.style.height = me._validScaledProp(\"height\", tmp) + \"px\";\n        }\n      },\n      _validScaledProp: function(prop, value) {\n        var ele = this.resizer,\n          wrap = document;\n\n        value = isNaN(value) ? 0 : value;\n        switch (prop) {\n          case \"left\":\n            return value < 0\n              ? 0\n              : value + ele.clientWidth > wrap.clientWidth\n                ? wrap.clientWidth - ele.clientWidth\n                : value;\n          case \"top\":\n            return value < 0\n              ? 0\n              : value + ele.clientHeight > wrap.clientHeight\n                ? wrap.clientHeight - ele.clientHeight\n                : value;\n          case \"width\":\n            return value <= 0\n              ? 1\n              : value + ele.offsetLeft > wrap.clientWidth\n                ? wrap.clientWidth - ele.offsetLeft\n                : value;\n          case \"height\":\n            return value <= 0\n              ? 1\n              : value + ele.offsetTop > wrap.clientHeight\n                ? wrap.clientHeight - ele.offsetTop\n                : value;\n        }\n      },\n      hideCover: function() {\n        this.cover.style.display = \"none\";\n      },\n      showCover: function() {\n        var me = this,\n          editorPos = domUtils.getXY(me.editor.ui.getDom()),\n          iframePos = domUtils.getXY(me.editor.iframe);\n\n        domUtils.setStyles(me.cover, {\n          width: me.editor.iframe.offsetWidth + \"px\",\n          height: me.editor.iframe.offsetHeight + \"px\",\n          top: iframePos.y - editorPos.y + \"px\",\n          left: iframePos.x - editorPos.x + \"px\",\n          position: \"absolute\",\n          display: \"\"\n        });\n      },\n      show: function(targetObj) {\n        var me = this;\n        me.resizer.style.display = \"block\";\n        if (targetObj) me.attachTo(targetObj);\n\n        domUtils.on(this.resizer, \"mousedown\", me.proxy(me._eventHandler, me));\n        domUtils.on(me.doc, \"mouseup\", me.proxy(me._eventHandler, me));\n\n        me.showCover();\n        me.editor.fireEvent(\"afterscaleshow\", me);\n        me.editor.fireEvent(\"saveScene\");\n      },\n      hide: function() {\n        var me = this;\n        me.hideCover();\n        me.resizer.style.display = \"none\";\n\n        domUtils.un(me.resizer, \"mousedown\", me.proxy(me._eventHandler, me));\n        domUtils.un(me.doc, \"mouseup\", me.proxy(me._eventHandler, me));\n        me.editor.fireEvent(\"afterscalehide\", me);\n      },\n      proxy: function(fn, context) {\n        return function(e) {\n          return fn.apply(context || this, arguments);\n        };\n      },\n      attachTo: function(targetObj) {\n        var me = this,\n          target = (me.target = targetObj),\n          resizer = this.resizer,\n          imgPos = domUtils.getXY(target),\n          iframePos = domUtils.getXY(me.editor.iframe),\n          editorPos = domUtils.getXY(resizer.parentNode);\n\n        var doc = me.editor.document;\n        domUtils.setStyles(resizer, {\n          width: target.width + \"px\",\n          height: target.height + \"px\",\n          left:\n            iframePos.x +\n              imgPos.x -\n              (doc.documentElement.scrollLeft || doc.body.scrollLeft || 0) -\n              editorPos.x -\n              parseInt(resizer.style.borderLeftWidth) +\n              \"px\",\n          top:\n            iframePos.y +\n              imgPos.y -\n              (doc.documentElement.scrollTop || doc.body.scrollTop || 0) -\n              editorPos.y -\n              parseInt(resizer.style.borderTopWidth) +\n              \"px\"\n        });\n      }\n    };\n  })();\n\n  return function() {\n    var me = this,\n      imageScale;\n\n    me.setOpt(\"imageScaleEnabled\", true);\n\n    if (!browser.ie && me.options.imageScaleEnabled) {\n      me.addListener(\"click\", function(type, e) {\n        var range = me.selection.getRange(),\n          img = range.getClosedNode();\n\n        if (img && img.tagName == \"IMG\" && me.body.contentEditable != \"false\") {\n          if (\n            img.className.indexOf(\"edui-faked-music\") != -1 ||\n            img.getAttribute(\"anchorname\") ||\n            domUtils.hasClass(img, \"loadingclass\") ||\n            domUtils.hasClass(img, \"loaderrorclass\")\n          ) {\n            return;\n          }\n\n          if (!imageScale) {\n            imageScale = new Scale();\n            imageScale.init(me);\n            me.ui.getDom().appendChild(imageScale.resizer);\n\n            var _keyDownHandler = function(e) {\n              imageScale.hide();\n              if (imageScale.target)\n                me.selection.getRange().selectNode(imageScale.target).select();\n            },\n              _mouseDownHandler = function(e) {\n                var ele = e.target || e.srcElement;\n                if (\n                  ele &&\n                  (ele.className === undefined ||\n                    ele.className.indexOf(\"edui-editor-imagescale\") == -1)\n                ) {\n                  _keyDownHandler(e);\n                }\n              },\n              timer;\n\n            me.addListener(\"afterscaleshow\", function(e) {\n              me.addListener(\"beforekeydown\", _keyDownHandler);\n              me.addListener(\"beforemousedown\", _mouseDownHandler);\n              domUtils.on(document, \"keydown\", _keyDownHandler);\n              domUtils.on(document, \"mousedown\", _mouseDownHandler);\n              me.selection.getNative().removeAllRanges();\n            });\n            me.addListener(\"afterscalehide\", function(e) {\n              me.removeListener(\"beforekeydown\", _keyDownHandler);\n              me.removeListener(\"beforemousedown\", _mouseDownHandler);\n              domUtils.un(document, \"keydown\", _keyDownHandler);\n              domUtils.un(document, \"mousedown\", _mouseDownHandler);\n              var target = imageScale.target;\n              if (target.parentNode) {\n                me.selection.getRange().selectNode(target).select();\n              }\n            });\n            //TODO 有iframe的情况，mousedown不能往下传。。\n            domUtils.on(imageScale.resizer, \"mousedown\", function(e) {\n              me.selection.getNative().removeAllRanges();\n              var ele = e.target || e.srcElement;\n              if (\n                ele &&\n                ele.className.indexOf(\"edui-editor-imagescale-hand\") == -1\n              ) {\n                timer = setTimeout(function() {\n                  imageScale.hide();\n                  if (imageScale.target)\n                    me.selection.getRange().selectNode(ele).select();\n                }, 200);\n              }\n            });\n            domUtils.on(imageScale.resizer, \"mouseup\", function(e) {\n              var ele = e.target || e.srcElement;\n              if (\n                ele &&\n                ele.className.indexOf(\"edui-editor-imagescale-hand\") == -1\n              ) {\n                clearTimeout(timer);\n              }\n            });\n          }\n          imageScale.show(img);\n        } else {\n          if (imageScale && imageScale.resizer.style.display != \"none\")\n            imageScale.hide();\n        }\n      });\n    }\n\n    if (browser.webkit) {\n      me.addListener(\"click\", function(type, e) {\n        if (e.target.tagName == \"IMG\" && me.body.contentEditable != \"false\") {\n          var range = new dom.Range(me.document);\n          range.selectNode(e.target).select();\n        }\n      });\n    }\n  };\n})();\n\n\n// plugins/autolink.js\n///import core\n///commands 为非ie浏览器自动添加a标签\n///commandsName  AutoLink\n///commandsTitle  自动增加链接\n/**\n * @description 为非ie浏览器自动添加a标签\n * @author zhanyi\n */\n\nUE.plugin.register(\n  \"autolink\",\n  function() {\n    var cont = 0;\n\n    return !browser.ie\n      ? {\n          bindEvents: {\n            reset: function() {\n              cont = 0;\n            },\n            keydown: function(type, evt) {\n              var me = this;\n              var keyCode = evt.keyCode || evt.which;\n\n              if (keyCode == 32 || keyCode == 13) {\n                var sel = me.selection.getNative(),\n                  range = sel.getRangeAt(0).cloneRange(),\n                  offset,\n                  charCode;\n\n                var start = range.startContainer;\n                while (start.nodeType == 1 && range.startOffset > 0) {\n                  start =\n                    range.startContainer.childNodes[range.startOffset - 1];\n                  if (!start) {\n                    break;\n                  }\n                  range.setStart(\n                    start,\n                    start.nodeType == 1\n                      ? start.childNodes.length\n                      : start.nodeValue.length\n                  );\n                  range.collapse(true);\n                  start = range.startContainer;\n                }\n\n                do {\n                  if (range.startOffset == 0) {\n                    start = range.startContainer.previousSibling;\n\n                    while (start && start.nodeType == 1) {\n                      start = start.lastChild;\n                    }\n                    if (!start || domUtils.isFillChar(start)) {\n                      break;\n                    }\n                    offset = start.nodeValue.length;\n                  } else {\n                    start = range.startContainer;\n                    offset = range.startOffset;\n                  }\n                  range.setStart(start, offset - 1);\n                  charCode = range.toString().charCodeAt(0);\n                } while (charCode != 160 && charCode != 32);\n\n                if (\n                  range\n                    .toString()\n                    .replace(new RegExp(domUtils.fillChar, \"g\"), \"\")\n                    .match(/(?:https?:\\/\\/|ssh:\\/\\/|ftp:\\/\\/|file:\\/|www\\.)/i)\n                ) {\n                  while (range.toString().length) {\n                    if (\n                      /^(?:https?:\\/\\/|ssh:\\/\\/|ftp:\\/\\/|file:\\/|www\\.)/i.test(\n                        range.toString()\n                      )\n                    ) {\n                      break;\n                    }\n                    try {\n                      range.setStart(\n                        range.startContainer,\n                        range.startOffset + 1\n                      );\n                    } catch (e) {\n                      //trace:2121\n                      var start = range.startContainer;\n                      while (!(next = start.nextSibling)) {\n                        if (domUtils.isBody(start)) {\n                          return;\n                        }\n                        start = start.parentNode;\n                      }\n                      range.setStart(next, 0);\n                    }\n                  }\n                  //range的开始边界已经在a标签里的不再处理\n                  if (\n                    domUtils.findParentByTagName(\n                      range.startContainer,\n                      \"a\",\n                      true\n                    )\n                  ) {\n                    return;\n                  }\n                  var a = me.document.createElement(\"a\"),\n                    text = me.document.createTextNode(\" \"),\n                    href;\n\n                  me.undoManger && me.undoManger.save();\n                  a.appendChild(range.extractContents());\n                  a.href = a.innerHTML = a.innerHTML.replace(/<[^>]+>/g, \"\");\n                  href = a\n                    .getAttribute(\"href\")\n                    .replace(new RegExp(domUtils.fillChar, \"g\"), \"\");\n                  href = /^(?:https?:\\/\\/)/gi.test(href)\n                    ? href\n                    : \"http://\" + href;\n                  a.setAttribute(\"_src\", utils.html(href));\n                  a.href = utils.html(href);\n\n                  range.insertNode(a);\n                  a.parentNode.insertBefore(text, a.nextSibling);\n                  range.setStart(text, 0);\n                  range.collapse(true);\n                  sel.removeAllRanges();\n                  sel.addRange(range);\n                  me.undoManger && me.undoManger.save();\n                }\n              }\n            }\n          }\n        }\n      : {};\n  },\n  function() {\n    var keyCodes = {\n      37: 1,\n      38: 1,\n      39: 1,\n      40: 1,\n      13: 1,\n      32: 1\n    };\n    function checkIsCludeLink(node) {\n      if (node.nodeType == 3) {\n        return null;\n      }\n      if (node.nodeName == \"A\") {\n        return node;\n      }\n      var lastChild = node.lastChild;\n\n      while (lastChild) {\n        if (lastChild.nodeName == \"A\") {\n          return lastChild;\n        }\n        if (lastChild.nodeType == 3) {\n          if (domUtils.isWhitespace(lastChild)) {\n            lastChild = lastChild.previousSibling;\n            continue;\n          }\n          return null;\n        }\n        lastChild = lastChild.lastChild;\n      }\n    }\n    browser.ie &&\n      this.addListener(\"keyup\", function(cmd, evt) {\n        var me = this,\n          keyCode = evt.keyCode;\n        if (keyCodes[keyCode]) {\n          var rng = me.selection.getRange();\n          var start = rng.startContainer;\n\n          if (keyCode == 13) {\n            while (\n              start &&\n              !domUtils.isBody(start) &&\n              !domUtils.isBlockElm(start)\n            ) {\n              start = start.parentNode;\n            }\n            if (start && !domUtils.isBody(start) && start.nodeName == \"P\") {\n              var pre = start.previousSibling;\n              if (pre && pre.nodeType == 1) {\n                var pre = checkIsCludeLink(pre);\n                if (pre && !pre.getAttribute(\"_href\")) {\n                  domUtils.remove(pre, true);\n                }\n              }\n            }\n          } else if (keyCode == 32) {\n            if (start.nodeType == 3 && /^\\s$/.test(start.nodeValue)) {\n              start = start.previousSibling;\n              if (\n                start &&\n                start.nodeName == \"A\" &&\n                !start.getAttribute(\"_href\")\n              ) {\n                domUtils.remove(start, true);\n              }\n            }\n          } else {\n            start = domUtils.findParentByTagName(start, \"a\", true);\n            if (start && !start.getAttribute(\"_href\")) {\n              var bk = rng.createBookmark();\n\n              domUtils.remove(start, true);\n              rng.moveToBookmark(bk).select(true);\n            }\n          }\n        }\n      });\n  }\n);\n\n\n// plugins/autoheight.js\n///import core\n///commands 当输入内容超过编辑器高度时，编辑器自动增高\n///commandsName  AutoHeight,autoHeightEnabled\n///commandsTitle  自动增高\n/**\n * @description 自动伸展\n * @author zhanyi\n */\nUE.plugins[\"autoheight\"] = function() {\n  var me = this;\n  //提供开关，就算加载也可以关闭\n  me.autoHeightEnabled = me.options.autoHeightEnabled !== false;\n  if (!me.autoHeightEnabled) {\n    return;\n  }\n\n  var bakOverflow,\n    lastHeight = 0,\n    options = me.options,\n    currentHeight,\n    timer;\n\n  function adjustHeight() {\n    var me = this;\n    clearTimeout(timer);\n    if (isFullscreen) return;\n    if (\n      !me.queryCommandState ||\n      (me.queryCommandState && me.queryCommandState(\"source\") != 1)\n    ) {\n      timer = setTimeout(function() {\n        var node = me.body.lastChild;\n        while (node && node.nodeType != 1) {\n          node = node.previousSibling;\n        }\n        if (node && node.nodeType == 1) {\n          node.style.clear = \"both\";\n          currentHeight = Math.max(\n            domUtils.getXY(node).y + node.offsetHeight + 25,\n            Math.max(options.minFrameHeight, options.initialFrameHeight)\n          );\n          if (currentHeight != lastHeight) {\n            if (currentHeight !== parseInt(me.iframe.parentNode.style.height)) {\n              me.iframe.parentNode.style.height = currentHeight + \"px\";\n            }\n            me.body.style.height = currentHeight + \"px\";\n            lastHeight = currentHeight;\n          }\n          domUtils.removeStyle(node, \"clear\");\n        }\n      }, 50);\n    }\n  }\n  var isFullscreen;\n  me.addListener(\"fullscreenchanged\", function(cmd, f) {\n    isFullscreen = f;\n  });\n  me.addListener(\"destroy\", function() {\n    domUtils.un(me.window, \"scroll\", fixedScrollTop);\n    me.removeListener(\n      \"contentchange afterinserthtml keyup mouseup\",\n      adjustHeight\n    );\n  });\n  me.enableAutoHeight = function() {\n    var me = this;\n    if (!me.autoHeightEnabled) {\n      return;\n    }\n    var doc = me.document;\n    me.autoHeightEnabled = true;\n    bakOverflow = doc.body.style.overflowY;\n    doc.body.style.overflowY = \"hidden\";\n    me.addListener(\"contentchange afterinserthtml keyup mouseup\", adjustHeight);\n    //ff不给事件算得不对\n\n    setTimeout(function() {\n      adjustHeight.call(me);\n    }, browser.gecko ? 100 : 0);\n    me.fireEvent(\"autoheightchanged\", me.autoHeightEnabled);\n  };\n  me.disableAutoHeight = function() {\n    me.body.style.overflowY = bakOverflow || \"\";\n\n    me.removeListener(\"contentchange\", adjustHeight);\n    me.removeListener(\"keyup\", adjustHeight);\n    me.removeListener(\"mouseup\", adjustHeight);\n    me.autoHeightEnabled = false;\n    me.fireEvent(\"autoheightchanged\", me.autoHeightEnabled);\n  };\n\n  me.on(\"setHeight\", function() {\n    me.disableAutoHeight();\n  });\n  me.addListener(\"ready\", function() {\n    me.enableAutoHeight();\n    //trace:1764\n    var timer;\n    domUtils.on(\n      browser.ie ? me.body : me.document,\n      browser.webkit ? \"dragover\" : \"drop\",\n      function() {\n        clearTimeout(timer);\n        timer = setTimeout(function() {\n          //trace:3681\n          adjustHeight.call(me);\n        }, 100);\n      }\n    );\n    //修复内容过多时，回到顶部，顶部内容被工具栏遮挡问题\n    domUtils.on(me.window, \"scroll\", fixedScrollTop);\n  });\n\n  var lastScrollY;\n\n  function fixedScrollTop() {\n    if (!me.window) return;\n    if (lastScrollY === null) {\n      lastScrollY = me.window.scrollY;\n    } else if (me.window.scrollY == 0 && lastScrollY != 0) {\n      me.window.scrollTo(0, 0);\n      lastScrollY = null;\n    }\n  }\n};\n\n\n// plugins/autofloat.js\n///import core\n///commands 悬浮工具栏\n///commandsName  AutoFloat,autoFloatEnabled\n///commandsTitle  悬浮工具栏\n/**\n *  modified by chengchao01\n *  注意： 引入此功能后，在IE6下会将body的背景图片覆盖掉！\n */\nUE.plugins[\"autofloat\"] = function() {\n  var me = this,\n    lang = me.getLang();\n  me.setOpt({\n    topOffset: 0\n  });\n  var optsAutoFloatEnabled = me.options.autoFloatEnabled !== false,\n    topOffset = me.options.topOffset;\n\n  //如果不固定toolbar的位置，则直接退出\n  if (!optsAutoFloatEnabled) {\n    return;\n  }\n  var uiUtils = UE.ui.uiUtils,\n    LteIE6 = browser.ie && browser.version <= 6,\n    quirks = browser.quirks;\n\n  function checkHasUI() {\n    if (!UE.ui) {\n      alert(lang.autofloatMsg);\n      return 0;\n    }\n    return 1;\n  }\n  function fixIE6FixedPos() {\n    var docStyle = document.body.style;\n    docStyle.backgroundImage = 'url(\"about:blank\")';\n    docStyle.backgroundAttachment = \"fixed\";\n  }\n  var bakCssText,\n    placeHolder = document.createElement(\"div\"),\n    toolbarBox,\n    orgTop,\n    getPosition,\n    flag = true; //ie7模式下需要偏移\n  function setFloating() {\n    var toobarBoxPos = domUtils.getXY(toolbarBox),\n      origalFloat = domUtils.getComputedStyle(toolbarBox, \"position\"),\n      origalLeft = domUtils.getComputedStyle(toolbarBox, \"left\");\n    toolbarBox.style.width = toolbarBox.offsetWidth + \"px\";\n    toolbarBox.style.zIndex = me.options.zIndex * 1 + 1;\n    toolbarBox.parentNode.insertBefore(placeHolder, toolbarBox);\n    if (LteIE6 || (quirks && browser.ie)) {\n      if (toolbarBox.style.position != \"absolute\") {\n        toolbarBox.style.position = \"absolute\";\n      }\n      toolbarBox.style.top =\n        (document.body.scrollTop || document.documentElement.scrollTop) -\n        orgTop +\n        topOffset +\n        \"px\";\n    } else {\n      if (browser.ie7Compat && flag) {\n        flag = false;\n        toolbarBox.style.left =\n          domUtils.getXY(toolbarBox).x -\n          document.documentElement.getBoundingClientRect().left +\n          2 +\n          \"px\";\n      }\n      if (toolbarBox.style.position != \"fixed\") {\n        toolbarBox.style.position = \"fixed\";\n        toolbarBox.style.top = topOffset + \"px\";\n        (origalFloat == \"absolute\" || origalFloat == \"relative\") &&\n          parseFloat(origalLeft) &&\n          (toolbarBox.style.left = toobarBoxPos.x + \"px\");\n      }\n    }\n  }\n  function unsetFloating() {\n    flag = true;\n    if (placeHolder.parentNode) {\n      placeHolder.parentNode.removeChild(placeHolder);\n    }\n\n    toolbarBox.style.cssText = bakCssText;\n  }\n\n  function updateFloating() {\n    var rect3 = getPosition(me.container);\n    var offset = me.options.toolbarTopOffset || 0;\n    if (rect3.top < 0 && rect3.bottom - toolbarBox.offsetHeight > offset) {\n      setFloating();\n    } else {\n      unsetFloating();\n    }\n  }\n  var defer_updateFloating = utils.defer(\n    function() {\n      updateFloating();\n    },\n    browser.ie ? 200 : 100,\n    true\n  );\n\n  me.addListener(\"destroy\", function() {\n    domUtils.un(window, [\"scroll\", \"resize\"], updateFloating);\n    me.removeListener(\"keydown\", defer_updateFloating);\n    //适用于在DIV scrollbox中滚动，但页面不滚动的浮动toolbar\n    var scrollBox = document.getElementById(\"scrollBox\");\n    if (scrollBox) {\n      domUtils.un(scrollBox, ['scroll','resize'], updateFloating);\n    }\n  });\n\n  me.addListener(\"ready\", function() {\n    if (checkHasUI(me)) {\n      //加载了ui组件，但在new时，没有加载ui，导致编辑器实例上没有ui类，所以这里做判断\n      if (!me.ui) {\n        return;\n      }\n      getPosition = uiUtils.getClientRect;\n      toolbarBox = me.ui.getDom(\"toolbarbox\");\n      orgTop = getPosition(toolbarBox).top;\n      bakCssText = toolbarBox.style.cssText;\n      placeHolder.style.height = toolbarBox.offsetHeight + \"px\";\n      if (LteIE6) {\n        fixIE6FixedPos();\n      }\n      domUtils.on(window, [\"scroll\", \"resize\"], updateFloating);\n      me.addListener(\"keydown\", defer_updateFloating);\n      //适用于在DIV scrollbox中滚动，但页面不滚动的浮动toolbar\n      var scrollBox = document.getElementById(\"scrollBox\");\n      if (scrollBox) {\n        domUtils.on(scrollBox, ['scroll','resize'], updateFloating);\n      }\n      me.addListener(\"beforefullscreenchange\", function(t, enabled) {\n        if (enabled) {\n          unsetFloating();\n        }\n      });\n      me.addListener(\"fullscreenchanged\", function(t, enabled) {\n        if (!enabled) {\n          updateFloating();\n        }\n      });\n      me.addListener(\"sourcemodechanged\", function(t, enabled) {\n        setTimeout(function() {\n          updateFloating();\n        }, 0);\n      });\n      me.addListener(\"clearDoc\", function() {\n        setTimeout(function() {\n          updateFloating();\n        }, 0);\n      });\n    }\n  });\n};\n\n\n// plugins/video.js\n/**\n * video插件， 为UEditor提供视频插入支持\n * @file\n * @since 1.2.6.1\n */\n\nUE.plugins[\"video\"] = function() {\n  var me = this;\n\n  /**\n     * 创建插入视频字符窜\n     * @param url 视频地址\n     * @param width 视频宽度\n     * @param height 视频高度\n     * @param align 视频对齐\n     * @param toEmbed 是否以flash代替显示\n     * @param addParagraph  是否需要添加P 标签\n     */\n  function creatInsertStr(url, width, height, id, align, classname, type) {\n    var str;\n    switch (type) {\n      case \"image\":\n        str =\n          \"<img \" +\n          (id ? 'id=\"' + id + '\"' : \"\") +\n          ' width=\"' +\n          width +\n          '\" height=\"' +\n          height +\n          '\" _url=\"' +\n          url +\n          '\" class=\"' +\n          classname.replace(/\\bvideo-js\\b/, \"\") +\n          '\"' +\n          ' src=\"' +\n          me.options.UEDITOR_HOME_URL +\n          'themes/notadd/images/spacer.gif\" style=\"background:url(' +\n          me.options.UEDITOR_HOME_URL +\n          \"themes/notadd/images/videologo.gif) no-repeat center center; border:1px solid gray;\" +\n          (align ? \"float:\" + align + \";\" : \"\") +\n          '\" data-ad=\"1234567890\"/>';\n        break;\n      case \"embed\":\n        str =\n          '<embed type=\"application/x-shockwave-flash\" class=\"' +\n          classname +\n          '\" pluginspage=\"http://www.macromedia.com/go/getflashplayer\"' +\n          ' src=\"' +\n          utils.html(url) +\n          '\" width=\"' +\n          width +\n          '\" height=\"' +\n          height +\n          '\"' +\n          (align ? ' style=\"float:' + align + '\"' : \"\") +\n          ' wmode=\"transparent\" play=\"true\" loop=\"false\" menu=\"false\" allowscriptaccess=\"never\" allowfullscreen=\"true\" >';\n        break;\n      case \"video\":\n        var ext = url.substr(url.lastIndexOf(\".\") + 1);\n        if (ext == \"ogv\") ext = \"ogg\";\n        str =\n          \"<video\" +\n          (id ? ' id=\"' + id + '\"' : \"\") +\n          ' class=\"' +\n          classname +\n          ' video-js\" ' +\n          (align ? ' style=\"float:' + align + '\"' : \"\") +\n          ' controls preload=\"none\" width=\"' +\n          width +\n          '\" height=\"' +\n          height +\n          '\" src=\"' +\n          url +\n          '\" data-setup=\"{}\">' +\n          '<source src=\"' +\n          url +\n          '\" type=\"video/' +\n          ext +\n          '\" /></video>';\n        break;\n    }\n    return str;\n  }\n\n  function switchImgAndVideo(root, img2video) {\n    utils.each(\n      root.getNodesByTagName(img2video ? \"img\" : \"embed video\"),\n      function(node) {\n        var className = node.getAttr(\"class\");\n        if (className && className.indexOf(\"edui-faked-video\") != -1) {\n          var html = creatInsertStr(\n            img2video ? node.getAttr(\"_url\") : node.getAttr(\"src\"),\n            node.getAttr(\"width\"),\n            node.getAttr(\"height\"),\n            null,\n            node.getStyle(\"float\") || \"\",\n            className,\n            img2video ? \"embed\" : \"image\"\n          );\n          node.parentNode.replaceChild(UE.uNode.createElement(html), node);\n        }\n        if (className && className.indexOf(\"edui-upload-video\") != -1) {\n          var html = creatInsertStr(\n            img2video ? node.getAttr(\"_url\") : node.getAttr(\"src\"),\n            node.getAttr(\"width\"),\n            node.getAttr(\"height\"),\n            null,\n            node.getStyle(\"float\") || \"\",\n            className,\n            img2video ? \"video\" : \"image\"\n          );\n          node.parentNode.replaceChild(UE.uNode.createElement(html), node);\n        }\n      }\n    );\n  }\n\n  me.addOutputRule(function(root) {\n    switchImgAndVideo(root, true);\n  });\n  me.addInputRule(function(root) {\n    switchImgAndVideo(root);\n  });\n\n  /**\n     * 插入视频\n     * @command insertvideo\n     * @method execCommand\n     * @param { String } cmd 命令字符串\n     * @param { Object } videoAttr 键值对对象， 描述一个视频的所有属性\n     * @example\n     * ```javascript\n     *\n     * var videoAttr = {\n     *      //视频地址\n     *      url: 'http://www.youku.com/xxx',\n     *      //视频宽高值， 单位px\n     *      width: 200,\n     *      height: 100\n     * };\n     *\n     * //editor 是编辑器实例\n     * //向编辑器插入单个视频\n     * editor.execCommand( 'insertvideo', videoAttr );\n     * ```\n     */\n\n  /**\n     * 插入视频\n     * @command insertvideo\n     * @method execCommand\n     * @param { String } cmd 命令字符串\n     * @param { Array } videoArr 需要插入的视频的数组， 其中的每一个元素都是一个键值对对象， 描述了一个视频的所有属性\n     * @example\n     * ```javascript\n     *\n     * var videoAttr1 = {\n     *      //视频地址\n     *      url: 'http://www.youku.com/xxx',\n     *      //视频宽高值， 单位px\n     *      width: 200,\n     *      height: 100\n     * },\n     * videoAttr2 = {\n     *      //视频地址\n     *      url: 'http://www.youku.com/xxx',\n     *      //视频宽高值， 单位px\n     *      width: 200,\n     *      height: 100\n     * }\n     *\n     * //editor 是编辑器实例\n     * //该方法将会向编辑器内插入两个视频\n     * editor.execCommand( 'insertvideo', [ videoAttr1, videoAttr2 ] );\n     * ```\n     */\n\n  /**\n     * 查询当前光标所在处是否是一个视频\n     * @command insertvideo\n     * @method queryCommandState\n     * @param { String } cmd 需要查询的命令字符串\n     * @return { int } 如果当前光标所在处的元素是一个视频对象， 则返回1，否则返回0\n     * @example\n     * ```javascript\n     *\n     * //editor 是编辑器实例\n     * editor.queryCommandState( 'insertvideo' );\n     * ```\n     */\n  me.commands[\"insertvideo\"] = {\n    execCommand: function(cmd, videoObjs, type) {\n      videoObjs = utils.isArray(videoObjs) ? videoObjs : [videoObjs];\n\n      if (me.fireEvent(\"beforeinsertvideo\", videoObjs) === true) {\n        return;\n      }\n\n      var html = [],\n        id = \"tmpVedio\",\n        cl;\n      for (var i = 0, vi, len = videoObjs.length; i < len; i++) {\n        vi = videoObjs[i];\n        cl = type == \"upload\"\n          ? \"edui-upload-video video-js vjs-default-skin\"\n          : \"edui-faked-video\";\n        html.push(\n          creatInsertStr(\n            vi.url,\n            vi.width || 420,\n            vi.height || 280,\n            id + i,\n            null,\n            cl,\n            \"image\"\n          )\n        );\n      }\n      me.execCommand(\"inserthtml\", html.join(\"\"), true);\n      var rng = this.selection.getRange();\n      for (var i = 0, len = videoObjs.length; i < len; i++) {\n        var img = this.document.getElementById(\"tmpVedio\" + i);\n        domUtils.removeAttributes(img, \"id\");\n        rng.selectNode(img).select();\n        me.execCommand(\"imagefloat\", videoObjs[i].align);\n      }\n\n      me.fireEvent(\"afterinsertvideo\", videoObjs);\n    },\n    queryCommandState: function() {\n      var img = me.selection.getRange().getClosedNode(),\n        flag =\n          img &&\n          (img.className == \"edui-faked-video\" ||\n            img.className.indexOf(\"edui-upload-video\") != -1);\n      return flag ? 1 : 0;\n    }\n  };\n};\n\n\n// plugins/table.core.js\n/**\n * Created with JetBrains WebStorm.\n * User: taoqili\n * Date: 13-1-18\n * Time: 上午11:09\n * To change this template use File | Settings | File Templates.\n */\n/**\n * UE表格操作类\n * @param table\n * @constructor\n */\n;(function() {\n  var UETable = (UE.UETable = function(table) {\n    this.table = table;\n    this.indexTable = [];\n    this.selectedTds = [];\n    this.cellsRange = {};\n    this.update(table);\n  });\n\n  //===以下为静态工具方法===\n  UETable.removeSelectedClass = function(cells) {\n    utils.each(cells, function(cell) {\n      domUtils.removeClasses(cell, \"selectTdClass\");\n    });\n  };\n  UETable.addSelectedClass = function(cells) {\n    utils.each(cells, function(cell) {\n      domUtils.addClass(cell, \"selectTdClass\");\n    });\n  };\n  UETable.isEmptyBlock = function(node) {\n    var reg = new RegExp(domUtils.fillChar, \"g\");\n    if (\n      node[browser.ie ? \"innerText\" : \"textContent\"]\n        .replace(/^\\s*$/, \"\")\n        .replace(reg, \"\").length > 0\n    ) {\n      return 0;\n    }\n    for (var i in dtd.$isNotEmpty)\n      if (dtd.$isNotEmpty.hasOwnProperty(i)) {\n        if (node.getElementsByTagName(i).length) {\n          return 0;\n        }\n      }\n    return 1;\n  };\n  UETable.getWidth = function(cell) {\n    if (!cell) return 0;\n    return parseInt(domUtils.getComputedStyle(cell, \"width\"), 10);\n  };\n\n  /**\n     * 获取单元格或者单元格组的“对齐”状态。 如果当前的检测对象是一个单元格组， 只有在满足所有单元格的 水平和竖直 对齐属性都相同的\n     * 条件时才会返回其状态值，否则将返回null； 如果当前只检测了一个单元格， 则直接返回当前单元格的对齐状态；\n     * @param table cell or table cells , 支持单个单元格dom对象 或者 单元格dom对象数组\n     * @return { align: 'left' || 'right' || 'center', valign: 'top' || 'middle' || 'bottom' } 或者 null\n     */\n  UETable.getTableCellAlignState = function(cells) {\n    !utils.isArray(cells) && (cells = [cells]);\n\n    var result = {},\n      status = [\"align\", \"valign\"],\n      tempStatus = null,\n      isSame = true; //状态是否相同\n\n    utils.each(cells, function(cellNode) {\n      utils.each(status, function(currentState) {\n        tempStatus = cellNode.getAttribute(currentState);\n\n        if (!result[currentState] && tempStatus) {\n          result[currentState] = tempStatus;\n        } else if (\n          !result[currentState] ||\n          tempStatus !== result[currentState]\n        ) {\n          isSame = false;\n          return false;\n        }\n      });\n\n      return isSame;\n    });\n\n    return isSame ? result : null;\n  };\n\n  /**\n     * 根据当前选区获取相关的table信息\n     * @return {Object}\n     */\n  UETable.getTableItemsByRange = function(editor) {\n    var start = editor.selection.getStart();\n\n    //ff下会选中bookmark\n    if (\n      start &&\n      start.id &&\n      start.id.indexOf(\"_baidu_bookmark_start_\") === 0 &&\n      start.nextSibling\n    ) {\n      start = start.nextSibling;\n    }\n\n    //在table或者td边缘有可能存在选中tr的情况\n    var cell = start && domUtils.findParentByTagName(start, [\"td\", \"th\"], true),\n      tr = cell && cell.parentNode,\n      table = tr && domUtils.findParentByTagName(tr, [\"table\"]),\n      caption = table && table.getElementsByTagName(\"caption\")[0];\n\n    return {\n      cell: cell,\n      tr: tr,\n      table: table,\n      caption: caption\n    };\n  };\n  UETable.getUETableBySelected = function(editor) {\n    var table = UETable.getTableItemsByRange(editor).table;\n    if (table && table.ueTable && table.ueTable.selectedTds.length) {\n      return table.ueTable;\n    }\n    return null;\n  };\n\n  UETable.getDefaultValue = function(editor, table) {\n    var borderMap = {\n      thin: \"0px\",\n      medium: \"1px\",\n      thick: \"2px\"\n    },\n      tableBorder,\n      tdPadding,\n      tdBorder,\n      tmpValue;\n    if (!table) {\n      table = editor.document.createElement(\"table\");\n      table.insertRow(0).insertCell(0).innerHTML = \"xxx\";\n      editor.body.appendChild(table);\n      var td = table.getElementsByTagName(\"td\")[0];\n      tmpValue = domUtils.getComputedStyle(table, \"border-left-width\");\n      tableBorder = parseInt(borderMap[tmpValue] || tmpValue, 10);\n      tmpValue = domUtils.getComputedStyle(td, \"padding-left\");\n      tdPadding = parseInt(borderMap[tmpValue] || tmpValue, 10);\n      tmpValue = domUtils.getComputedStyle(td, \"border-left-width\");\n      tdBorder = parseInt(borderMap[tmpValue] || tmpValue, 10);\n      domUtils.remove(table);\n      return {\n        tableBorder: tableBorder,\n        tdPadding: tdPadding,\n        tdBorder: tdBorder\n      };\n    } else {\n      td = table.getElementsByTagName(\"td\")[0];\n      tmpValue = domUtils.getComputedStyle(table, \"border-left-width\");\n      tableBorder = parseInt(borderMap[tmpValue] || tmpValue, 10);\n      tmpValue = domUtils.getComputedStyle(td, \"padding-left\");\n      tdPadding = parseInt(borderMap[tmpValue] || tmpValue, 10);\n      tmpValue = domUtils.getComputedStyle(td, \"border-left-width\");\n      tdBorder = parseInt(borderMap[tmpValue] || tmpValue, 10);\n      return {\n        tableBorder: tableBorder,\n        tdPadding: tdPadding,\n        tdBorder: tdBorder\n      };\n    }\n  };\n  /**\n     * 根据当前点击的td或者table获取索引对象\n     * @param tdOrTable\n     */\n  UETable.getUETable = function(tdOrTable) {\n    var tag = tdOrTable.tagName.toLowerCase();\n    tdOrTable = tag == \"td\" || tag == \"th\" || tag == \"caption\"\n      ? domUtils.findParentByTagName(tdOrTable, \"table\", true)\n      : tdOrTable;\n    if (!tdOrTable.ueTable) {\n      tdOrTable.ueTable = new UETable(tdOrTable);\n    }\n    return tdOrTable.ueTable;\n  };\n\n  UETable.cloneCell = function(cell, ignoreMerge, keepPro) {\n    if (!cell || utils.isString(cell)) {\n      return this.table.ownerDocument.createElement(cell || \"td\");\n    }\n    var flag = domUtils.hasClass(cell, \"selectTdClass\");\n    flag && domUtils.removeClasses(cell, \"selectTdClass\");\n    var tmpCell = cell.cloneNode(true);\n    if (ignoreMerge) {\n      tmpCell.rowSpan = tmpCell.colSpan = 1;\n    }\n    //去掉宽高\n    !keepPro && domUtils.removeAttributes(tmpCell, \"width height\");\n    !keepPro && domUtils.removeAttributes(tmpCell, \"style\");\n\n    tmpCell.style.borderLeftStyle = \"\";\n    tmpCell.style.borderTopStyle = \"\";\n    tmpCell.style.borderLeftColor = cell.style.borderRightColor;\n    tmpCell.style.borderLeftWidth = cell.style.borderRightWidth;\n    tmpCell.style.borderTopColor = cell.style.borderBottomColor;\n    tmpCell.style.borderTopWidth = cell.style.borderBottomWidth;\n    flag && domUtils.addClass(cell, \"selectTdClass\");\n    return tmpCell;\n  };\n\n  UETable.prototype = {\n    getMaxRows: function() {\n      var rows = this.table.rows,\n        maxLen = 1;\n      for (var i = 0, row; (row = rows[i]); i++) {\n        var currentMax = 1;\n        for (var j = 0, cj; (cj = row.cells[j++]); ) {\n          currentMax = Math.max(cj.rowSpan || 1, currentMax);\n        }\n        maxLen = Math.max(currentMax + i, maxLen);\n      }\n      return maxLen;\n    },\n    /**\n         * 获取当前表格的最大列数\n         */\n    getMaxCols: function() {\n      var rows = this.table.rows,\n        maxLen = 0,\n        cellRows = {};\n      for (var i = 0, row; (row = rows[i]); i++) {\n        var cellsNum = 0;\n        for (var j = 0, cj; (cj = row.cells[j++]); ) {\n          cellsNum += cj.colSpan || 1;\n          if (cj.rowSpan && cj.rowSpan > 1) {\n            for (var k = 1; k < cj.rowSpan; k++) {\n              if (!cellRows[\"row_\" + (i + k)]) {\n                cellRows[\"row_\" + (i + k)] = cj.colSpan || 1;\n              } else {\n                cellRows[\"row_\" + (i + k)]++;\n              }\n            }\n          }\n        }\n        cellsNum += cellRows[\"row_\" + i] || 0;\n        maxLen = Math.max(cellsNum, maxLen);\n      }\n      return maxLen;\n    },\n    getCellColIndex: function(cell) {},\n    /**\n         * 获取当前cell旁边的单元格，\n         * @param cell\n         * @param right\n         */\n    getHSideCell: function(cell, right) {\n      try {\n        var cellInfo = this.getCellInfo(cell),\n          previewRowIndex,\n          previewColIndex;\n        var len = this.selectedTds.length,\n          range = this.cellsRange;\n        //首行或者首列没有前置单元格\n        if (\n          (!right && (!len ? !cellInfo.colIndex : !range.beginColIndex)) ||\n          (right &&\n            (!len\n              ? cellInfo.colIndex == this.colsNum - 1\n              : range.endColIndex == this.colsNum - 1))\n        )\n          return null;\n\n        previewRowIndex = !len ? cellInfo.rowIndex : range.beginRowIndex;\n        previewColIndex = !right\n          ? !len\n            ? cellInfo.colIndex < 1 ? 0 : cellInfo.colIndex - 1\n            : range.beginColIndex - 1\n          : !len ? cellInfo.colIndex + 1 : range.endColIndex + 1;\n        return this.getCell(\n          this.indexTable[previewRowIndex][previewColIndex].rowIndex,\n          this.indexTable[previewRowIndex][previewColIndex].cellIndex\n        );\n      } catch (e) {\n        showError(e);\n      }\n    },\n    getTabNextCell: function(cell, preRowIndex) {\n      var cellInfo = this.getCellInfo(cell),\n        rowIndex = preRowIndex || cellInfo.rowIndex,\n        colIndex = cellInfo.colIndex + 1 + (cellInfo.colSpan - 1),\n        nextCell;\n      try {\n        nextCell = this.getCell(\n          this.indexTable[rowIndex][colIndex].rowIndex,\n          this.indexTable[rowIndex][colIndex].cellIndex\n        );\n      } catch (e) {\n        try {\n          rowIndex = rowIndex * 1 + 1;\n          colIndex = 0;\n          nextCell = this.getCell(\n            this.indexTable[rowIndex][colIndex].rowIndex,\n            this.indexTable[rowIndex][colIndex].cellIndex\n          );\n        } catch (e) {}\n      }\n      return nextCell;\n    },\n    /**\n         * 获取视觉上的后置单元格\n         * @param cell\n         * @param bottom\n         */\n    getVSideCell: function(cell, bottom, ignoreRange) {\n      try {\n        var cellInfo = this.getCellInfo(cell),\n          nextRowIndex,\n          nextColIndex;\n        var len = this.selectedTds.length && !ignoreRange,\n          range = this.cellsRange;\n        //末行或者末列没有后置单元格\n        if (\n          (!bottom && cellInfo.rowIndex == 0) ||\n          (bottom &&\n            (!len\n              ? cellInfo.rowIndex + cellInfo.rowSpan > this.rowsNum - 1\n              : range.endRowIndex == this.rowsNum - 1))\n        )\n          return null;\n\n        nextRowIndex = !bottom\n          ? !len ? cellInfo.rowIndex - 1 : range.beginRowIndex - 1\n          : !len ? cellInfo.rowIndex + cellInfo.rowSpan : range.endRowIndex + 1;\n        nextColIndex = !len ? cellInfo.colIndex : range.beginColIndex;\n        return this.getCell(\n          this.indexTable[nextRowIndex][nextColIndex].rowIndex,\n          this.indexTable[nextRowIndex][nextColIndex].cellIndex\n        );\n      } catch (e) {\n        showError(e);\n      }\n    },\n    /**\n         * 获取相同结束位置的单元格，xOrY指代了是获取x轴相同还是y轴相同\n         */\n    getSameEndPosCells: function(cell, xOrY) {\n      try {\n        var flag = xOrY.toLowerCase() === \"x\",\n          end =\n            domUtils.getXY(cell)[flag ? \"x\" : \"y\"] +\n            cell[\"offset\" + (flag ? \"Width\" : \"Height\")],\n          rows = this.table.rows,\n          cells = null,\n          returns = [];\n        for (var i = 0; i < this.rowsNum; i++) {\n          cells = rows[i].cells;\n          for (var j = 0, tmpCell; (tmpCell = cells[j++]); ) {\n            var tmpEnd =\n              domUtils.getXY(tmpCell)[flag ? \"x\" : \"y\"] +\n              tmpCell[\"offset\" + (flag ? \"Width\" : \"Height\")];\n            //对应行的td已经被上面行rowSpan了\n            if (tmpEnd > end && flag) break;\n            if (cell == tmpCell || end == tmpEnd) {\n              //只获取单一的单元格\n              //todo 仅获取单一单元格在特定情况下会造成returns为空，从而影响后续的拖拽实现，修正这个。需考虑性能\n              if (tmpCell[flag ? \"colSpan\" : \"rowSpan\"] == 1) {\n                returns.push(tmpCell);\n              }\n              if (flag) break;\n            }\n          }\n        }\n        return returns;\n      } catch (e) {\n        showError(e);\n      }\n    },\n    setCellContent: function(cell, content) {\n      cell.innerHTML = content || (browser.ie ? domUtils.fillChar : \"<br />\");\n    },\n    cloneCell: UETable.cloneCell,\n    /**\n         * 获取跟当前单元格的右边竖线为左边的所有未合并单元格\n         */\n    getSameStartPosXCells: function(cell) {\n      try {\n        var start = domUtils.getXY(cell).x + cell.offsetWidth,\n          rows = this.table.rows,\n          cells,\n          returns = [];\n        for (var i = 0; i < this.rowsNum; i++) {\n          cells = rows[i].cells;\n          for (var j = 0, tmpCell; (tmpCell = cells[j++]); ) {\n            var tmpStart = domUtils.getXY(tmpCell).x;\n            if (tmpStart > start) break;\n            if (tmpStart == start && tmpCell.colSpan == 1) {\n              returns.push(tmpCell);\n              break;\n            }\n          }\n        }\n        return returns;\n      } catch (e) {\n        showError(e);\n      }\n    },\n    /**\n         * 更新table对应的索引表\n         */\n    update: function(table) {\n      this.table = table || this.table;\n      this.selectedTds = [];\n      this.cellsRange = {};\n      this.indexTable = [];\n      var rows = this.table.rows,\n        rowsNum = this.getMaxRows(),\n        dNum = rowsNum - rows.length,\n        colsNum = this.getMaxCols();\n      while (dNum--) {\n        this.table.insertRow(rows.length);\n      }\n      this.rowsNum = rowsNum;\n      this.colsNum = colsNum;\n      for (var i = 0, len = rows.length; i < len; i++) {\n        this.indexTable[i] = new Array(colsNum);\n      }\n      //填充索引表\n      for (var rowIndex = 0, row; (row = rows[rowIndex]); rowIndex++) {\n        for (\n          var cellIndex = 0, cell, cells = row.cells;\n          (cell = cells[cellIndex]);\n          cellIndex++\n        ) {\n          //修正整行被rowSpan时导致的行数计算错误\n          if (cell.rowSpan > rowsNum) {\n            cell.rowSpan = rowsNum;\n          }\n          var colIndex = cellIndex,\n            rowSpan = cell.rowSpan || 1,\n            colSpan = cell.colSpan || 1;\n          //当已经被上一行rowSpan或者被前一列colSpan了，则跳到下一个单元格进行\n          while (this.indexTable[rowIndex][colIndex]) colIndex++;\n          for (var j = 0; j < rowSpan; j++) {\n            for (var k = 0; k < colSpan; k++) {\n              this.indexTable[rowIndex + j][colIndex + k] = {\n                rowIndex: rowIndex,\n                cellIndex: cellIndex,\n                colIndex: colIndex,\n                rowSpan: rowSpan,\n                colSpan: colSpan\n              };\n            }\n          }\n        }\n      }\n      //修复残缺td\n      for (j = 0; j < rowsNum; j++) {\n        for (k = 0; k < colsNum; k++) {\n          if (this.indexTable[j][k] === undefined) {\n            row = rows[j];\n            cell = row.cells[row.cells.length - 1];\n            cell = cell\n              ? cell.cloneNode(true)\n              : this.table.ownerDocument.createElement(\"td\");\n            this.setCellContent(cell);\n            if (cell.colSpan !== 1) cell.colSpan = 1;\n            if (cell.rowSpan !== 1) cell.rowSpan = 1;\n            row.appendChild(cell);\n            this.indexTable[j][k] = {\n              rowIndex: j,\n              cellIndex: cell.cellIndex,\n              colIndex: k,\n              rowSpan: 1,\n              colSpan: 1\n            };\n          }\n        }\n      }\n      //当框选后删除行或者列后撤销，需要重建选区。\n      var tds = domUtils.getElementsByTagName(this.table, \"td\"),\n        selectTds = [];\n      utils.each(tds, function(td) {\n        if (domUtils.hasClass(td, \"selectTdClass\")) {\n          selectTds.push(td);\n        }\n      });\n      if (selectTds.length) {\n        var start = selectTds[0],\n          end = selectTds[selectTds.length - 1],\n          startInfo = this.getCellInfo(start),\n          endInfo = this.getCellInfo(end);\n        this.selectedTds = selectTds;\n        this.cellsRange = {\n          beginRowIndex: startInfo.rowIndex,\n          beginColIndex: startInfo.colIndex,\n          endRowIndex: endInfo.rowIndex + endInfo.rowSpan - 1,\n          endColIndex: endInfo.colIndex + endInfo.colSpan - 1\n        };\n      }\n      //给第一行设置firstRow的样式名称,在排序图标的样式上使用到\n      if (!domUtils.hasClass(this.table.rows[0], \"firstRow\")) {\n        domUtils.addClass(this.table.rows[0], \"firstRow\");\n        for (var i = 1; i < this.table.rows.length; i++) {\n          domUtils.removeClasses(this.table.rows[i], \"firstRow\");\n        }\n      }\n    },\n    /**\n         * 获取单元格的索引信息\n         */\n    getCellInfo: function(cell) {\n      if (!cell) return;\n      var cellIndex = cell.cellIndex,\n        rowIndex = cell.parentNode.rowIndex,\n        rowInfo = this.indexTable[rowIndex],\n        numCols = this.colsNum;\n      for (var colIndex = cellIndex; colIndex < numCols; colIndex++) {\n        var cellInfo = rowInfo[colIndex];\n        if (\n          cellInfo.rowIndex === rowIndex &&\n          cellInfo.cellIndex === cellIndex\n        ) {\n          return cellInfo;\n        }\n      }\n    },\n    /**\n         * 根据行列号获取单元格\n         */\n    getCell: function(rowIndex, cellIndex) {\n      return (\n        (rowIndex < this.rowsNum &&\n          this.table.rows[rowIndex].cells[cellIndex]) ||\n        null\n      );\n    },\n    /**\n         * 删除单元格\n         */\n    deleteCell: function(cell, rowIndex) {\n      rowIndex = typeof rowIndex == \"number\"\n        ? rowIndex\n        : cell.parentNode.rowIndex;\n      var row = this.table.rows[rowIndex];\n      row.deleteCell(cell.cellIndex);\n    },\n    /**\n         * 根据始末两个单元格获取被框选的所有单元格范围\n         */\n    getCellsRange: function(cellA, cellB) {\n      function checkRange(\n        beginRowIndex,\n        beginColIndex,\n        endRowIndex,\n        endColIndex\n      ) {\n        var tmpBeginRowIndex = beginRowIndex,\n          tmpBeginColIndex = beginColIndex,\n          tmpEndRowIndex = endRowIndex,\n          tmpEndColIndex = endColIndex,\n          cellInfo,\n          colIndex,\n          rowIndex;\n        // 通过indexTable检查是否存在超出TableRange上边界的情况\n        if (beginRowIndex > 0) {\n          for (colIndex = beginColIndex; colIndex < endColIndex; colIndex++) {\n            cellInfo = me.indexTable[beginRowIndex][colIndex];\n            rowIndex = cellInfo.rowIndex;\n            if (rowIndex < beginRowIndex) {\n              tmpBeginRowIndex = Math.min(rowIndex, tmpBeginRowIndex);\n            }\n          }\n        }\n        // 通过indexTable检查是否存在超出TableRange右边界的情况\n        if (endColIndex < me.colsNum) {\n          for (rowIndex = beginRowIndex; rowIndex < endRowIndex; rowIndex++) {\n            cellInfo = me.indexTable[rowIndex][endColIndex];\n            colIndex = cellInfo.colIndex + cellInfo.colSpan - 1;\n            if (colIndex > endColIndex) {\n              tmpEndColIndex = Math.max(colIndex, tmpEndColIndex);\n            }\n          }\n        }\n        // 检查是否有超出TableRange下边界的情况\n        if (endRowIndex < me.rowsNum) {\n          for (colIndex = beginColIndex; colIndex < endColIndex; colIndex++) {\n            cellInfo = me.indexTable[endRowIndex][colIndex];\n            rowIndex = cellInfo.rowIndex + cellInfo.rowSpan - 1;\n            if (rowIndex > endRowIndex) {\n              tmpEndRowIndex = Math.max(rowIndex, tmpEndRowIndex);\n            }\n          }\n        }\n        // 检查是否有超出TableRange左边界的情况\n        if (beginColIndex > 0) {\n          for (rowIndex = beginRowIndex; rowIndex < endRowIndex; rowIndex++) {\n            cellInfo = me.indexTable[rowIndex][beginColIndex];\n            colIndex = cellInfo.colIndex;\n            if (colIndex < beginColIndex) {\n              tmpBeginColIndex = Math.min(cellInfo.colIndex, tmpBeginColIndex);\n            }\n          }\n        }\n        //递归调用直至所有完成所有框选单元格的扩展\n        if (\n          tmpBeginRowIndex != beginRowIndex ||\n          tmpBeginColIndex != beginColIndex ||\n          tmpEndRowIndex != endRowIndex ||\n          tmpEndColIndex != endColIndex\n        ) {\n          return checkRange(\n            tmpBeginRowIndex,\n            tmpBeginColIndex,\n            tmpEndRowIndex,\n            tmpEndColIndex\n          );\n        } else {\n          // 不需要扩展TableRange的情况\n          return {\n            beginRowIndex: beginRowIndex,\n            beginColIndex: beginColIndex,\n            endRowIndex: endRowIndex,\n            endColIndex: endColIndex\n          };\n        }\n      }\n\n      try {\n        var me = this,\n          cellAInfo = me.getCellInfo(cellA);\n        if (cellA === cellB) {\n          return {\n            beginRowIndex: cellAInfo.rowIndex,\n            beginColIndex: cellAInfo.colIndex,\n            endRowIndex: cellAInfo.rowIndex + cellAInfo.rowSpan - 1,\n            endColIndex: cellAInfo.colIndex + cellAInfo.colSpan - 1\n          };\n        }\n        var cellBInfo = me.getCellInfo(cellB);\n        // 计算TableRange的四个边\n        var beginRowIndex = Math.min(cellAInfo.rowIndex, cellBInfo.rowIndex),\n          beginColIndex = Math.min(cellAInfo.colIndex, cellBInfo.colIndex),\n          endRowIndex = Math.max(\n            cellAInfo.rowIndex + cellAInfo.rowSpan - 1,\n            cellBInfo.rowIndex + cellBInfo.rowSpan - 1\n          ),\n          endColIndex = Math.max(\n            cellAInfo.colIndex + cellAInfo.colSpan - 1,\n            cellBInfo.colIndex + cellBInfo.colSpan - 1\n          );\n\n        return checkRange(\n          beginRowIndex,\n          beginColIndex,\n          endRowIndex,\n          endColIndex\n        );\n      } catch (e) {\n        //throw e;\n      }\n    },\n    /**\n         * 依据cellsRange获取对应的单元格集合\n         */\n    getCells: function(range) {\n      //每次获取cells之前必须先清除上次的选择，否则会对后续获取操作造成影响\n      this.clearSelected();\n      var beginRowIndex = range.beginRowIndex,\n        beginColIndex = range.beginColIndex,\n        endRowIndex = range.endRowIndex,\n        endColIndex = range.endColIndex,\n        cellInfo,\n        rowIndex,\n        colIndex,\n        tdHash = {},\n        returnTds = [];\n      for (var i = beginRowIndex; i <= endRowIndex; i++) {\n        for (var j = beginColIndex; j <= endColIndex; j++) {\n          cellInfo = this.indexTable[i][j];\n          rowIndex = cellInfo.rowIndex;\n          colIndex = cellInfo.colIndex;\n          // 如果Cells里已经包含了此Cell则跳过\n          var key = rowIndex + \"|\" + colIndex;\n          if (tdHash[key]) continue;\n          tdHash[key] = 1;\n          if (\n            rowIndex < i ||\n            colIndex < j ||\n            rowIndex + cellInfo.rowSpan - 1 > endRowIndex ||\n            colIndex + cellInfo.colSpan - 1 > endColIndex\n          ) {\n            return null;\n          }\n          returnTds.push(this.getCell(rowIndex, cellInfo.cellIndex));\n        }\n      }\n      return returnTds;\n    },\n    /**\n         * 清理已经选中的单元格\n         */\n    clearSelected: function() {\n      UETable.removeSelectedClass(this.selectedTds);\n      this.selectedTds = [];\n      this.cellsRange = {};\n    },\n    /**\n         * 根据range设置已经选中的单元格\n         */\n    setSelected: function(range) {\n      var cells = this.getCells(range);\n      UETable.addSelectedClass(cells);\n      this.selectedTds = cells;\n      this.cellsRange = range;\n    },\n    isFullRow: function() {\n      var range = this.cellsRange;\n      return range.endColIndex - range.beginColIndex + 1 == this.colsNum;\n    },\n    isFullCol: function() {\n      var range = this.cellsRange,\n        table = this.table,\n        ths = table.getElementsByTagName(\"th\"),\n        rows = range.endRowIndex - range.beginRowIndex + 1;\n      return !ths.length\n        ? rows == this.rowsNum\n        : rows == this.rowsNum || rows == this.rowsNum - 1;\n    },\n    /**\n         * 获取视觉上的前置单元格，默认是左边，top传入时\n         * @param cell\n         * @param top\n         */\n    getNextCell: function(cell, bottom, ignoreRange) {\n      try {\n        var cellInfo = this.getCellInfo(cell),\n          nextRowIndex,\n          nextColIndex;\n        var len = this.selectedTds.length && !ignoreRange,\n          range = this.cellsRange;\n        //末行或者末列没有后置单元格\n        if (\n          (!bottom && cellInfo.rowIndex == 0) ||\n          (bottom &&\n            (!len\n              ? cellInfo.rowIndex + cellInfo.rowSpan > this.rowsNum - 1\n              : range.endRowIndex == this.rowsNum - 1))\n        )\n          return null;\n\n        nextRowIndex = !bottom\n          ? !len ? cellInfo.rowIndex - 1 : range.beginRowIndex - 1\n          : !len ? cellInfo.rowIndex + cellInfo.rowSpan : range.endRowIndex + 1;\n        nextColIndex = !len ? cellInfo.colIndex : range.beginColIndex;\n        return this.getCell(\n          this.indexTable[nextRowIndex][nextColIndex].rowIndex,\n          this.indexTable[nextRowIndex][nextColIndex].cellIndex\n        );\n      } catch (e) {\n        showError(e);\n      }\n    },\n    getPreviewCell: function(cell, top) {\n      try {\n        var cellInfo = this.getCellInfo(cell),\n          previewRowIndex,\n          previewColIndex;\n        var len = this.selectedTds.length,\n          range = this.cellsRange;\n        //首行或者首列没有前置单元格\n        if (\n          (!top && (!len ? !cellInfo.colIndex : !range.beginColIndex)) ||\n          (top &&\n            (!len\n              ? cellInfo.rowIndex > this.colsNum - 1\n              : range.endColIndex == this.colsNum - 1))\n        )\n          return null;\n\n        previewRowIndex = !top\n          ? !len ? cellInfo.rowIndex : range.beginRowIndex\n          : !len\n            ? cellInfo.rowIndex < 1 ? 0 : cellInfo.rowIndex - 1\n            : range.beginRowIndex;\n        previewColIndex = !top\n          ? !len\n            ? cellInfo.colIndex < 1 ? 0 : cellInfo.colIndex - 1\n            : range.beginColIndex - 1\n          : !len ? cellInfo.colIndex : range.endColIndex + 1;\n        return this.getCell(\n          this.indexTable[previewRowIndex][previewColIndex].rowIndex,\n          this.indexTable[previewRowIndex][previewColIndex].cellIndex\n        );\n      } catch (e) {\n        showError(e);\n      }\n    },\n    /**\n         * 移动单元格中的内容\n         */\n    moveContent: function(cellTo, cellFrom) {\n      if (UETable.isEmptyBlock(cellFrom)) return;\n      if (UETable.isEmptyBlock(cellTo)) {\n        cellTo.innerHTML = cellFrom.innerHTML;\n        return;\n      }\n      var child = cellTo.lastChild;\n      if (child.nodeType == 3 || !dtd.$block[child.tagName]) {\n        cellTo.appendChild(cellTo.ownerDocument.createElement(\"br\"));\n      }\n      while ((child = cellFrom.firstChild)) {\n        cellTo.appendChild(child);\n      }\n    },\n    /**\n         * 向右合并单元格\n         */\n    mergeRight: function(cell) {\n      var cellInfo = this.getCellInfo(cell),\n        rightColIndex = cellInfo.colIndex + cellInfo.colSpan,\n        rightCellInfo = this.indexTable[cellInfo.rowIndex][rightColIndex],\n        rightCell = this.getCell(\n          rightCellInfo.rowIndex,\n          rightCellInfo.cellIndex\n        );\n      //合并\n      cell.colSpan = cellInfo.colSpan + rightCellInfo.colSpan;\n      //被合并的单元格不应存在宽度属性\n      cell.removeAttribute(\"width\");\n      //移动内容\n      this.moveContent(cell, rightCell);\n      //删掉被合并的Cell\n      this.deleteCell(rightCell, rightCellInfo.rowIndex);\n      this.update();\n    },\n    /**\n         * 向下合并单元格\n         */\n    mergeDown: function(cell) {\n      var cellInfo = this.getCellInfo(cell),\n        downRowIndex = cellInfo.rowIndex + cellInfo.rowSpan,\n        downCellInfo = this.indexTable[downRowIndex][cellInfo.colIndex],\n        downCell = this.getCell(downCellInfo.rowIndex, downCellInfo.cellIndex);\n      cell.rowSpan = cellInfo.rowSpan + downCellInfo.rowSpan;\n      cell.removeAttribute(\"height\");\n      this.moveContent(cell, downCell);\n      this.deleteCell(downCell, downCellInfo.rowIndex);\n      this.update();\n    },\n    /**\n         * 合并整个range中的内容\n         */\n    mergeRange: function() {\n      //由于合并操作可以在任意时刻进行，所以无法通过鼠标位置等信息实时生成range，只能通过缓存实例中的cellsRange对象来访问\n      var range = this.cellsRange,\n        leftTopCell = this.getCell(\n          range.beginRowIndex,\n          this.indexTable[range.beginRowIndex][range.beginColIndex].cellIndex\n        );\n\n      // 这段关于行表头或者列表头的特殊处理会导致表头合并范围错误\n      // 为什么有这段代码的原因未明，暂且注释掉，希望原作者看到后出面说明下\n      // if (\n      //   leftTopCell.tagName == \"TH\" &&\n      //   range.endRowIndex !== range.beginRowIndex\n      // ) {\n      //   var index = this.indexTable,\n      //     info = this.getCellInfo(leftTopCell);\n      //   leftTopCell = this.getCell(1, index[1][info.colIndex].cellIndex);\n      //   range = this.getCellsRange(\n      //     leftTopCell,\n      //     this.getCell(\n      //       index[this.rowsNum - 1][info.colIndex].rowIndex,\n      //       index[this.rowsNum - 1][info.colIndex].cellIndex\n      //     )\n      //   );\n      // }\n\n      // 删除剩余的Cells\n      var cells = this.getCells(range);\n      for (var i = 0, ci; (ci = cells[i++]); ) {\n        if (ci !== leftTopCell) {\n          this.moveContent(leftTopCell, ci);\n          this.deleteCell(ci);\n        }\n      }\n      // 修改左上角Cell的rowSpan和colSpan，并调整宽度属性设置\n      leftTopCell.rowSpan = range.endRowIndex - range.beginRowIndex + 1;\n      leftTopCell.rowSpan > 1 && leftTopCell.removeAttribute(\"height\");\n      leftTopCell.colSpan = range.endColIndex - range.beginColIndex + 1;\n      leftTopCell.colSpan > 1 && leftTopCell.removeAttribute(\"width\");\n      if (leftTopCell.rowSpan == this.rowsNum && leftTopCell.colSpan != 1) {\n        leftTopCell.colSpan = 1;\n      }\n\n      if (leftTopCell.colSpan == this.colsNum && leftTopCell.rowSpan != 1) {\n        var rowIndex = leftTopCell.parentNode.rowIndex;\n        //解决IE下的表格操作问题\n        if (this.table.deleteRow) {\n          for (\n            var i = rowIndex + 1,\n              curIndex = rowIndex + 1,\n              len = leftTopCell.rowSpan;\n            i < len;\n            i++\n          ) {\n            this.table.deleteRow(curIndex);\n          }\n        } else {\n          for (var i = 0, len = leftTopCell.rowSpan - 1; i < len; i++) {\n            var row = this.table.rows[rowIndex + 1];\n            row.parentNode.removeChild(row);\n          }\n        }\n        leftTopCell.rowSpan = 1;\n      }\n      this.update();\n    },\n    /**\n         * 插入一行单元格\n         */\n    insertRow: function(rowIndex, sourceCell) {\n      var numCols = this.colsNum,\n        table = this.table,\n        row = table.insertRow(rowIndex),\n        cell,\n        thead = null,\n        isInsertTitle =\n          typeof sourceCell == \"string\" && sourceCell.toUpperCase() == \"TH\";\n\n      function replaceTdToTh(colIndex, cell, tableRow) {\n        if (colIndex == 0) {\n          var tr = tableRow.nextSibling || tableRow.previousSibling,\n            th = tr.cells[colIndex];\n          if (th.tagName == \"TH\") {\n            th = cell.ownerDocument.createElement(\"th\");\n            th.appendChild(cell.firstChild);\n            tableRow.insertBefore(th, cell);\n            domUtils.remove(cell);\n          }\n        } else {\n          if (cell.tagName == \"TH\") {\n            var td = cell.ownerDocument.createElement(\"td\");\n            td.appendChild(cell.firstChild);\n            tableRow.insertBefore(td, cell);\n            domUtils.remove(cell);\n          }\n        }\n      }\n\n      //首行直接插入,无需考虑部分单元格被rowspan的情况\n      if (rowIndex == 0 || rowIndex == this.rowsNum) {\n        for (var colIndex = 0; colIndex < numCols; colIndex++) {\n          cell = this.cloneCell(sourceCell, true);\n          this.setCellContent(cell);\n          cell.getAttribute(\"vAlign\") &&\n            cell.setAttribute(\"vAlign\", cell.getAttribute(\"vAlign\"));\n          row.appendChild(cell);\n          if (!isInsertTitle) replaceTdToTh(colIndex, cell, row);\n        }\n\n        if (isInsertTitle) {\n          thead = table.createTHead();\n          thead.insertBefore(row, thead.firstChild);\n        }\n      } else {\n        var infoRow = this.indexTable[rowIndex],\n          cellIndex = 0;\n        for (colIndex = 0; colIndex < numCols; colIndex++) {\n          var cellInfo = infoRow[colIndex];\n          //如果存在某个单元格的rowspan穿过待插入行的位置，则修改该单元格的rowspan即可，无需插入单元格\n          if (cellInfo.rowIndex < rowIndex) {\n            cell = this.getCell(cellInfo.rowIndex, cellInfo.cellIndex);\n            cell.rowSpan = cellInfo.rowSpan + 1;\n          } else {\n            cell = this.cloneCell(sourceCell, true);\n            this.setCellContent(cell);\n            row.appendChild(cell);\n          }\n          if (!isInsertTitle) replaceTdToTh(colIndex, cell, row);\n        }\n      }\n      //框选时插入不触发contentchange，需要手动更新索引。\n      this.update();\n      return row;\n    },\n    /**\n         * 删除一行单元格\n         * @param rowIndex\n         */\n    deleteRow: function(rowIndex) {\n      var row = this.table.rows[rowIndex],\n        infoRow = this.indexTable[rowIndex],\n        colsNum = this.colsNum,\n        count = 0; //处理计数\n      for (var colIndex = 0; colIndex < colsNum; ) {\n        var cellInfo = infoRow[colIndex],\n          cell = this.getCell(cellInfo.rowIndex, cellInfo.cellIndex);\n        if (cell.rowSpan > 1) {\n          if (cellInfo.rowIndex == rowIndex) {\n            var clone = cell.cloneNode(true);\n            clone.rowSpan = cell.rowSpan - 1;\n            clone.innerHTML = \"\";\n            cell.rowSpan = 1;\n            var nextRowIndex = rowIndex + 1,\n              nextRow = this.table.rows[nextRowIndex],\n              insertCellIndex,\n              preMerged =\n                this.getPreviewMergedCellsNum(nextRowIndex, colIndex) - count;\n            if (preMerged < colIndex) {\n              insertCellIndex = colIndex - preMerged - 1;\n              //nextRow.insertCell(insertCellIndex);\n              domUtils.insertAfter(nextRow.cells[insertCellIndex], clone);\n            } else {\n              if (nextRow.cells.length)\n                nextRow.insertBefore(clone, nextRow.cells[0]);\n            }\n            count += 1;\n            //cell.parentNode.removeChild(cell);\n          }\n        }\n        colIndex += cell.colSpan || 1;\n      }\n      var deleteTds = [],\n        cacheMap = {};\n      for (colIndex = 0; colIndex < colsNum; colIndex++) {\n        var tmpRowIndex = infoRow[colIndex].rowIndex,\n          tmpCellIndex = infoRow[colIndex].cellIndex,\n          key = tmpRowIndex + \"_\" + tmpCellIndex;\n        if (cacheMap[key]) continue;\n        cacheMap[key] = 1;\n        cell = this.getCell(tmpRowIndex, tmpCellIndex);\n        deleteTds.push(cell);\n      }\n      var mergeTds = [];\n      utils.each(deleteTds, function(td) {\n        if (td.rowSpan == 1) {\n          td.parentNode.removeChild(td);\n        } else {\n          mergeTds.push(td);\n        }\n      });\n      utils.each(mergeTds, function(td) {\n        td.rowSpan--;\n      });\n      row.parentNode.removeChild(row);\n      //浏览器方法本身存在bug,采用自定义方法删除\n      //this.table.deleteRow(rowIndex);\n      this.update();\n    },\n    insertCol: function(colIndex, sourceCell, defaultValue) {\n      var rowsNum = this.rowsNum,\n        rowIndex = 0,\n        tableRow,\n        cell,\n        backWidth = parseInt(\n          (this.table.offsetWidth -\n            (this.colsNum + 1) * 20 -\n            (this.colsNum + 1)) /\n            (this.colsNum + 1),\n          10\n        ),\n        isInsertTitleCol =\n          typeof sourceCell == \"string\" && sourceCell.toUpperCase() == \"TH\";\n\n      function replaceTdToTh(rowIndex, cell, tableRow) {\n        if (rowIndex == 0) {\n          var th = cell.nextSibling || cell.previousSibling;\n          if (th.tagName == \"TH\") {\n            th = cell.ownerDocument.createElement(\"th\");\n            th.appendChild(cell.firstChild);\n            tableRow.insertBefore(th, cell);\n            domUtils.remove(cell);\n          }\n        } else {\n          if (cell.tagName == \"TH\") {\n            var td = cell.ownerDocument.createElement(\"td\");\n            td.appendChild(cell.firstChild);\n            tableRow.insertBefore(td, cell);\n            domUtils.remove(cell);\n          }\n        }\n      }\n\n      var preCell;\n      if (colIndex == 0 || colIndex == this.colsNum) {\n        for (; rowIndex < rowsNum; rowIndex++) {\n          tableRow = this.table.rows[rowIndex];\n          preCell =\n            tableRow.cells[colIndex == 0 ? colIndex : tableRow.cells.length];\n          cell = this.cloneCell(sourceCell, true); //tableRow.insertCell(colIndex == 0 ? colIndex : tableRow.cells.length);\n          this.setCellContent(cell);\n          cell.setAttribute(\"vAlign\", cell.getAttribute(\"vAlign\"));\n          preCell && cell.setAttribute(\"width\", preCell.getAttribute(\"width\"));\n          if (!colIndex) {\n            tableRow.insertBefore(cell, tableRow.cells[0]);\n          } else {\n            domUtils.insertAfter(\n              tableRow.cells[tableRow.cells.length - 1],\n              cell\n            );\n          }\n          if (!isInsertTitleCol) replaceTdToTh(rowIndex, cell, tableRow);\n        }\n      } else {\n        for (; rowIndex < rowsNum; rowIndex++) {\n          var cellInfo = this.indexTable[rowIndex][colIndex];\n          if (cellInfo.colIndex < colIndex) {\n            cell = this.getCell(cellInfo.rowIndex, cellInfo.cellIndex);\n            cell.colSpan = cellInfo.colSpan + 1;\n          } else {\n            tableRow = this.table.rows[rowIndex];\n            preCell = tableRow.cells[cellInfo.cellIndex];\n\n            cell = this.cloneCell(sourceCell, true); //tableRow.insertCell(cellInfo.cellIndex);\n            this.setCellContent(cell);\n            cell.setAttribute(\"vAlign\", cell.getAttribute(\"vAlign\"));\n            preCell &&\n              cell.setAttribute(\"width\", preCell.getAttribute(\"width\"));\n            //防止IE下报错\n            preCell\n              ? tableRow.insertBefore(cell, preCell)\n              : tableRow.appendChild(cell);\n          }\n          if (!isInsertTitleCol) replaceTdToTh(rowIndex, cell, tableRow);\n        }\n      }\n      //框选时插入不触发contentchange，需要手动更新索引\n      this.update();\n      this.updateWidth(\n        backWidth,\n        defaultValue || { tdPadding: 10, tdBorder: 1 }\n      );\n    },\n    updateWidth: function(width, defaultValue) {\n      var table = this.table,\n        tmpWidth =\n          UETable.getWidth(table) -\n          defaultValue.tdPadding * 2 -\n          defaultValue.tdBorder +\n          width;\n      if (tmpWidth < table.ownerDocument.body.offsetWidth) {\n        table.setAttribute(\"width\", tmpWidth);\n        return;\n      }\n      var tds = domUtils.getElementsByTagName(this.table, \"td th\");\n      utils.each(tds, function(td) {\n        td.setAttribute(\"width\", width);\n      });\n    },\n    deleteCol: function(colIndex) {\n      var indexTable = this.indexTable,\n        tableRows = this.table.rows,\n        backTableWidth = this.table.getAttribute(\"width\"),\n        backTdWidth = 0,\n        rowsNum = this.rowsNum,\n        cacheMap = {};\n      for (var rowIndex = 0; rowIndex < rowsNum; ) {\n        var infoRow = indexTable[rowIndex],\n          cellInfo = infoRow[colIndex],\n          key = cellInfo.rowIndex + \"_\" + cellInfo.colIndex;\n        // 跳过已经处理过的Cell\n        if (cacheMap[key]) continue;\n        cacheMap[key] = 1;\n        var cell = this.getCell(cellInfo.rowIndex, cellInfo.cellIndex);\n        if (!backTdWidth)\n          backTdWidth =\n            cell && parseInt(cell.offsetWidth / cell.colSpan, 10).toFixed(0);\n        // 如果Cell的colSpan大于1, 就修改colSpan, 否则就删掉这个Cell\n        if (cell.colSpan > 1) {\n          cell.colSpan--;\n        } else {\n          tableRows[rowIndex].deleteCell(cellInfo.cellIndex);\n        }\n        rowIndex += cellInfo.rowSpan || 1;\n      }\n      this.table.setAttribute(\"width\", backTableWidth - backTdWidth);\n      this.update();\n    },\n    splitToCells: function(cell) {\n      var me = this,\n        cells = this.splitToRows(cell);\n      utils.each(cells, function(cell) {\n        me.splitToCols(cell);\n      });\n    },\n    splitToRows: function(cell) {\n      var cellInfo = this.getCellInfo(cell),\n        rowIndex = cellInfo.rowIndex,\n        colIndex = cellInfo.colIndex,\n        results = [];\n      // 修改Cell的rowSpan\n      cell.rowSpan = 1;\n      results.push(cell);\n      // 补齐单元格\n      for (\n        var i = rowIndex, endRow = rowIndex + cellInfo.rowSpan;\n        i < endRow;\n        i++\n      ) {\n        if (i == rowIndex) continue;\n        var tableRow = this.table.rows[i],\n          tmpCell = tableRow.insertCell(\n            colIndex - this.getPreviewMergedCellsNum(i, colIndex)\n          );\n        tmpCell.colSpan = cellInfo.colSpan;\n        this.setCellContent(tmpCell);\n        tmpCell.setAttribute(\"vAlign\", cell.getAttribute(\"vAlign\"));\n        tmpCell.setAttribute(\"align\", cell.getAttribute(\"align\"));\n        if (cell.style.cssText) {\n          tmpCell.style.cssText = cell.style.cssText;\n        }\n        results.push(tmpCell);\n      }\n      this.update();\n      return results;\n    },\n    getPreviewMergedCellsNum: function(rowIndex, colIndex) {\n      var indexRow = this.indexTable[rowIndex],\n        num = 0;\n      for (var i = 0; i < colIndex; ) {\n        var colSpan = indexRow[i].colSpan,\n          tmpRowIndex = indexRow[i].rowIndex;\n        num += colSpan - (tmpRowIndex == rowIndex ? 1 : 0);\n        i += colSpan;\n      }\n      return num;\n    },\n    splitToCols: function(cell) {\n      var backWidth = (cell.offsetWidth / cell.colSpan - 22).toFixed(0),\n        cellInfo = this.getCellInfo(cell),\n        rowIndex = cellInfo.rowIndex,\n        colIndex = cellInfo.colIndex,\n        results = [];\n      // 修改Cell的rowSpan\n      cell.colSpan = 1;\n      cell.setAttribute(\"width\", backWidth);\n      results.push(cell);\n      // 补齐单元格\n      for (\n        var j = colIndex, endCol = colIndex + cellInfo.colSpan;\n        j < endCol;\n        j++\n      ) {\n        if (j == colIndex) continue;\n        var tableRow = this.table.rows[rowIndex],\n          tmpCell = tableRow.insertCell(\n            this.indexTable[rowIndex][j].cellIndex + 1\n          );\n        tmpCell.rowSpan = cellInfo.rowSpan;\n        this.setCellContent(tmpCell);\n        tmpCell.setAttribute(\"vAlign\", cell.getAttribute(\"vAlign\"));\n        tmpCell.setAttribute(\"align\", cell.getAttribute(\"align\"));\n        tmpCell.setAttribute(\"width\", backWidth);\n        if (cell.style.cssText) {\n          tmpCell.style.cssText = cell.style.cssText;\n        }\n        //处理th的情况\n        if (cell.tagName == \"TH\") {\n          var th = cell.ownerDocument.createElement(\"th\");\n          th.appendChild(tmpCell.firstChild);\n          th.setAttribute(\"vAlign\", cell.getAttribute(\"vAlign\"));\n          th.rowSpan = tmpCell.rowSpan;\n          tableRow.insertBefore(th, tmpCell);\n          domUtils.remove(tmpCell);\n        }\n        results.push(tmpCell);\n      }\n      this.update();\n      return results;\n    },\n    isLastCell: function(cell, rowsNum, colsNum) {\n      rowsNum = rowsNum || this.rowsNum;\n      colsNum = colsNum || this.colsNum;\n      var cellInfo = this.getCellInfo(cell);\n      return (\n        cellInfo.rowIndex + cellInfo.rowSpan == rowsNum &&\n        cellInfo.colIndex + cellInfo.colSpan == colsNum\n      );\n    },\n    getLastCell: function(cells) {\n      cells = cells || this.table.getElementsByTagName(\"td\");\n      var firstInfo = this.getCellInfo(cells[0]);\n      var me = this,\n        last = cells[0],\n        tr = last.parentNode,\n        cellsNum = 0,\n        cols = 0,\n        rows;\n      utils.each(cells, function(cell) {\n        if (cell.parentNode == tr) cols += cell.colSpan || 1;\n        cellsNum += cell.rowSpan * cell.colSpan || 1;\n      });\n      rows = cellsNum / cols;\n      utils.each(cells, function(cell) {\n        if (me.isLastCell(cell, rows, cols)) {\n          last = cell;\n          return false;\n        }\n      });\n      return last;\n    },\n    selectRow: function(rowIndex) {\n      var indexRow = this.indexTable[rowIndex],\n        start = this.getCell(indexRow[0].rowIndex, indexRow[0].cellIndex),\n        end = this.getCell(\n          indexRow[this.colsNum - 1].rowIndex,\n          indexRow[this.colsNum - 1].cellIndex\n        ),\n        range = this.getCellsRange(start, end);\n      this.setSelected(range);\n    },\n    selectTable: function() {\n      var tds = this.table.getElementsByTagName(\"td\"),\n        range = this.getCellsRange(tds[0], tds[tds.length - 1]);\n      this.setSelected(range);\n    },\n    setBackground: function(cells, value) {\n      if (typeof value === \"string\") {\n        utils.each(cells, function(cell) {\n          cell.style.backgroundColor = value;\n        });\n      } else if (typeof value === \"object\") {\n        value = utils.extend(\n          {\n            repeat: true,\n            colorList: [\"#ddd\", \"#fff\"]\n          },\n          value\n        );\n        var rowIndex = this.getCellInfo(cells[0]).rowIndex,\n          count = 0,\n          colors = value.colorList,\n          getColor = function(list, index, repeat) {\n            return list[index]\n              ? list[index]\n              : repeat ? list[index % list.length] : \"\";\n          };\n        for (var i = 0, cell; (cell = cells[i++]); ) {\n          var cellInfo = this.getCellInfo(cell);\n          cell.style.backgroundColor = getColor(\n            colors,\n            rowIndex + count == cellInfo.rowIndex ? count : ++count,\n            value.repeat\n          );\n        }\n      }\n    },\n    removeBackground: function(cells) {\n      utils.each(cells, function(cell) {\n        cell.style.backgroundColor = \"\";\n      });\n    }\n  };\n  function showError(e) {}\n})();\n\n\n// plugins/table.cmds.js\n/**\n * Created with JetBrains PhpStorm.\n * User: taoqili\n * Date: 13-2-20\n * Time: 下午6:25\n * To change this template use File | Settings | File Templates.\n */\n;(function() {\n  var UT = UE.UETable,\n    getTableItemsByRange = function(editor) {\n      return UT.getTableItemsByRange(editor);\n    },\n    getUETableBySelected = function(editor) {\n      return UT.getUETableBySelected(editor);\n    },\n    getDefaultValue = function(editor, table) {\n      return UT.getDefaultValue(editor, table);\n    },\n    getUETable = function(tdOrTable) {\n      return UT.getUETable(tdOrTable);\n    };\n\n  UE.commands[\"inserttable\"] = {\n    queryCommandState: function() {\n      return getTableItemsByRange(this).table ? -1 : 0;\n    },\n    execCommand: function(cmd, opt) {\n      function createTable(opt, tdWidth) {\n        var html = [],\n          rowsNum = opt.numRows,\n          colsNum = opt.numCols;\n        for (var r = 0; r < rowsNum; r++) {\n          html.push(\"<tr\" + (r == 0 ? ' class=\"firstRow\"' : \"\") + \">\");\n          for (var c = 0; c < colsNum; c++) {\n            html.push(\n              '<td width=\"' +\n                tdWidth +\n                '\"  vAlign=\"' +\n                opt.tdvalign +\n                '\" >' +\n                (browser.ie && browser.version < 11\n                  ? domUtils.fillChar\n                  : \"<br/>\") +\n                \"</td>\"\n            );\n          }\n          html.push(\"</tr>\");\n        }\n        //禁止指定table-width\n        return \"<table><tbody>\" + html.join(\"\") + \"</tbody></table>\";\n      }\n\n      if (!opt) {\n        opt = utils.extend(\n          {},\n          {\n            numCols: this.options.defaultCols,\n            numRows: this.options.defaultRows,\n            tdvalign: this.options.tdvalign\n          }\n        );\n      }\n      var me = this;\n      var range = this.selection.getRange(),\n        start = range.startContainer,\n        firstParentBlock =\n          domUtils.findParent(\n            start,\n            function(node) {\n              return domUtils.isBlockElm(node);\n            },\n            true\n          ) || me.body;\n\n      var defaultValue = getDefaultValue(me),\n        tableWidth = firstParentBlock.offsetWidth,\n        tdWidth = Math.floor(\n          tableWidth / opt.numCols -\n            defaultValue.tdPadding * 2 -\n            defaultValue.tdBorder\n        );\n\n      //todo其他属性\n      !opt.tdvalign && (opt.tdvalign = me.options.tdvalign);\n      me.execCommand(\"inserthtml\", createTable(opt, tdWidth));\n    }\n  };\n\n  UE.commands[\"insertparagraphbeforetable\"] = {\n    queryCommandState: function() {\n      return getTableItemsByRange(this).cell ? 0 : -1;\n    },\n    execCommand: function() {\n      var table = getTableItemsByRange(this).table;\n      if (table) {\n        var p = this.document.createElement(\"p\");\n        p.innerHTML = browser.ie ? \"&nbsp;\" : \"<br />\";\n        table.parentNode.insertBefore(p, table);\n        this.selection.getRange().setStart(p, 0).setCursor();\n      }\n    }\n  };\n\n  UE.commands[\"deletetable\"] = {\n    queryCommandState: function() {\n      var rng = this.selection.getRange();\n      return domUtils.findParentByTagName(rng.startContainer, \"table\", true)\n        ? 0\n        : -1;\n    },\n    execCommand: function(cmd, table) {\n      var rng = this.selection.getRange();\n      table =\n        table ||\n        domUtils.findParentByTagName(rng.startContainer, \"table\", true);\n      if (table) {\n        var next = table.nextSibling;\n        if (!next) {\n          next = domUtils.createElement(this.document, \"p\", {\n            innerHTML: browser.ie ? domUtils.fillChar : \"<br/>\"\n          });\n          table.parentNode.insertBefore(next, table);\n        }\n        domUtils.remove(table);\n        rng = this.selection.getRange();\n        if (next.nodeType == 3) {\n          rng.setStartBefore(next);\n        } else {\n          rng.setStart(next, 0);\n        }\n        rng.setCursor(false, true);\n        this.fireEvent(\"tablehasdeleted\");\n      }\n    }\n  };\n  UE.commands[\"cellalign\"] = {\n    queryCommandState: function() {\n      return getSelectedArr(this).length ? 0 : -1;\n    },\n    execCommand: function(cmd, align) {\n      var selectedTds = getSelectedArr(this);\n      if (selectedTds.length) {\n        for (var i = 0, ci; (ci = selectedTds[i++]); ) {\n          ci.setAttribute(\"align\", align);\n        }\n      }\n    }\n  };\n  UE.commands[\"cellvalign\"] = {\n    queryCommandState: function() {\n      return getSelectedArr(this).length ? 0 : -1;\n    },\n    execCommand: function(cmd, valign) {\n      var selectedTds = getSelectedArr(this);\n      if (selectedTds.length) {\n        for (var i = 0, ci; (ci = selectedTds[i++]); ) {\n          ci.setAttribute(\"vAlign\", valign);\n        }\n      }\n    }\n  };\n  UE.commands[\"insertcaption\"] = {\n    queryCommandState: function() {\n      var table = getTableItemsByRange(this).table;\n      if (table) {\n        return table.getElementsByTagName(\"caption\").length == 0 ? 1 : -1;\n      }\n      return -1;\n    },\n    execCommand: function() {\n      var table = getTableItemsByRange(this).table;\n      if (table) {\n        var caption = this.document.createElement(\"caption\");\n        caption.innerHTML = browser.ie ? domUtils.fillChar : \"<br/>\";\n        table.insertBefore(caption, table.firstChild);\n        var range = this.selection.getRange();\n        range.setStart(caption, 0).setCursor();\n      }\n    }\n  };\n  UE.commands[\"deletecaption\"] = {\n    queryCommandState: function() {\n      var rng = this.selection.getRange(),\n        table = domUtils.findParentByTagName(rng.startContainer, \"table\");\n      if (table) {\n        return table.getElementsByTagName(\"caption\").length == 0 ? -1 : 1;\n      }\n      return -1;\n    },\n    execCommand: function() {\n      var rng = this.selection.getRange(),\n        table = domUtils.findParentByTagName(rng.startContainer, \"table\");\n      if (table) {\n        domUtils.remove(table.getElementsByTagName(\"caption\")[0]);\n        var range = this.selection.getRange();\n        range.setStart(table.rows[0].cells[0], 0).setCursor();\n      }\n    }\n  };\n  UE.commands[\"inserttitle\"] = {\n    queryCommandState: function() {\n      var table = getTableItemsByRange(this).table;\n      if (table) {\n        var firstRow = table.rows[0];\n        return firstRow.cells[\n          firstRow.cells.length - 1\n        ].tagName.toLowerCase() != \"th\"\n          ? 0\n          : -1;\n      }\n      return -1;\n    },\n    execCommand: function() {\n      var table = getTableItemsByRange(this).table;\n      if (table) {\n        getUETable(table).insertRow(0, \"th\");\n      }\n      var th = table.getElementsByTagName(\"th\")[0];\n      this.selection.getRange().setStart(th, 0).setCursor(false, true);\n    }\n  };\n  UE.commands[\"deletetitle\"] = {\n    queryCommandState: function() {\n      var table = getTableItemsByRange(this).table;\n      if (table) {\n        var firstRow = table.rows[0];\n        return firstRow.cells[\n          firstRow.cells.length - 1\n        ].tagName.toLowerCase() == \"th\"\n          ? 0\n          : -1;\n      }\n      return -1;\n    },\n    execCommand: function() {\n      var table = getTableItemsByRange(this).table;\n      if (table) {\n        domUtils.remove(table.rows[0]);\n      }\n      var td = table.getElementsByTagName(\"td\")[0];\n      this.selection.getRange().setStart(td, 0).setCursor(false, true);\n    }\n  };\n  UE.commands[\"inserttitlecol\"] = {\n    queryCommandState: function() {\n      var table = getTableItemsByRange(this).table;\n      if (table) {\n        var lastRow = table.rows[table.rows.length - 1];\n        return lastRow.getElementsByTagName(\"th\").length ? -1 : 0;\n      }\n      return -1;\n    },\n    execCommand: function(cmd) {\n      var table = getTableItemsByRange(this).table;\n      if (table) {\n        getUETable(table).insertCol(0, \"th\");\n      }\n      resetTdWidth(table, this);\n      var th = table.getElementsByTagName(\"th\")[0];\n      this.selection.getRange().setStart(th, 0).setCursor(false, true);\n    }\n  };\n  UE.commands[\"deletetitlecol\"] = {\n    queryCommandState: function() {\n      var table = getTableItemsByRange(this).table;\n      if (table) {\n        var lastRow = table.rows[table.rows.length - 1];\n        return lastRow.getElementsByTagName(\"th\").length ? 0 : -1;\n      }\n      return -1;\n    },\n    execCommand: function() {\n      var table = getTableItemsByRange(this).table;\n      if (table) {\n        for (var i = 0; i < table.rows.length; i++) {\n          domUtils.remove(table.rows[i].children[0]);\n        }\n      }\n      resetTdWidth(table, this);\n      var td = table.getElementsByTagName(\"td\")[0];\n      this.selection.getRange().setStart(td, 0).setCursor(false, true);\n    }\n  };\n\n  UE.commands[\"mergeright\"] = {\n    queryCommandState: function(cmd) {\n      var tableItems = getTableItemsByRange(this),\n        table = tableItems.table,\n        cell = tableItems.cell;\n\n      if (!table || !cell) return -1;\n      var ut = getUETable(table);\n      if (ut.selectedTds.length) return -1;\n\n      var cellInfo = ut.getCellInfo(cell),\n        rightColIndex = cellInfo.colIndex + cellInfo.colSpan;\n      if (rightColIndex >= ut.colsNum) return -1; // 如果处于最右边则不能向右合并\n\n      var rightCellInfo = ut.indexTable[cellInfo.rowIndex][rightColIndex],\n        rightCell =\n          table.rows[rightCellInfo.rowIndex].cells[rightCellInfo.cellIndex];\n      if (!rightCell || cell.tagName != rightCell.tagName) return -1; // TH和TD不能相互合并\n\n      // 当且仅当两个Cell的开始列号和结束列号一致时能进行合并\n      return rightCellInfo.rowIndex == cellInfo.rowIndex &&\n        rightCellInfo.rowSpan == cellInfo.rowSpan\n        ? 0\n        : -1;\n    },\n    execCommand: function(cmd) {\n      var rng = this.selection.getRange(),\n        bk = rng.createBookmark(true);\n      var cell = getTableItemsByRange(this).cell,\n        ut = getUETable(cell);\n      ut.mergeRight(cell);\n      rng.moveToBookmark(bk).select();\n    }\n  };\n  UE.commands[\"mergedown\"] = {\n    queryCommandState: function(cmd) {\n      var tableItems = getTableItemsByRange(this),\n        table = tableItems.table,\n        cell = tableItems.cell;\n\n      if (!table || !cell) return -1;\n      var ut = getUETable(table);\n      if (ut.selectedTds.length) return -1;\n\n      var cellInfo = ut.getCellInfo(cell),\n        downRowIndex = cellInfo.rowIndex + cellInfo.rowSpan;\n      if (downRowIndex >= ut.rowsNum) return -1; // 如果处于最下边则不能向下合并\n\n      var downCellInfo = ut.indexTable[downRowIndex][cellInfo.colIndex],\n        downCell =\n          table.rows[downCellInfo.rowIndex].cells[downCellInfo.cellIndex];\n      if (!downCell || cell.tagName != downCell.tagName) return -1; // TH和TD不能相互合并\n\n      // 当且仅当两个Cell的开始列号和结束列号一致时能进行合并\n      return downCellInfo.colIndex == cellInfo.colIndex &&\n        downCellInfo.colSpan == cellInfo.colSpan\n        ? 0\n        : -1;\n    },\n    execCommand: function() {\n      var rng = this.selection.getRange(),\n        bk = rng.createBookmark(true);\n      var cell = getTableItemsByRange(this).cell,\n        ut = getUETable(cell);\n      ut.mergeDown(cell);\n      rng.moveToBookmark(bk).select();\n    }\n  };\n  UE.commands[\"mergecells\"] = {\n    queryCommandState: function() {\n      return getUETableBySelected(this) ? 0 : -1;\n    },\n    execCommand: function() {\n      var ut = getUETableBySelected(this);\n      if (ut && ut.selectedTds.length) {\n        var cell = ut.selectedTds[0];\n        ut.mergeRange();\n        var rng = this.selection.getRange();\n        if (domUtils.isEmptyBlock(cell)) {\n          rng.setStart(cell, 0).collapse(true);\n        } else {\n          rng.selectNodeContents(cell);\n        }\n        rng.select();\n      }\n    }\n  };\n  UE.commands[\"insertrow\"] = {\n    queryCommandState: function() {\n      var tableItems = getTableItemsByRange(this),\n        cell = tableItems.cell;\n      return cell &&\n        (cell.tagName == \"TD\" ||\n          (cell.tagName == \"TH\" &&\n            tableItems.tr !== tableItems.table.rows[0])) &&\n        getUETable(tableItems.table).rowsNum < this.options.maxRowNum\n        ? 0\n        : -1;\n    },\n    execCommand: function() {\n      var rng = this.selection.getRange(),\n        bk = rng.createBookmark(true);\n      var tableItems = getTableItemsByRange(this),\n        cell = tableItems.cell,\n        table = tableItems.table,\n        ut = getUETable(table),\n        cellInfo = ut.getCellInfo(cell);\n      //ut.insertRow(!ut.selectedTds.length ? cellInfo.rowIndex:ut.cellsRange.beginRowIndex,'');\n      if (!ut.selectedTds.length) {\n        ut.insertRow(cellInfo.rowIndex, cell);\n      } else {\n        var range = ut.cellsRange;\n        for (\n          var i = 0, len = range.endRowIndex - range.beginRowIndex + 1;\n          i < len;\n          i++\n        ) {\n          ut.insertRow(range.beginRowIndex, cell);\n        }\n      }\n      rng.moveToBookmark(bk).select();\n      if (table.getAttribute(\"interlaced\") === \"enabled\")\n        this.fireEvent(\"interlacetable\", table);\n    }\n  };\n  //后插入行\n  UE.commands[\"insertrownext\"] = {\n    queryCommandState: function() {\n      var tableItems = getTableItemsByRange(this),\n        cell = tableItems.cell;\n      return cell &&\n        cell.tagName == \"TD\" &&\n        getUETable(tableItems.table).rowsNum < this.options.maxRowNum\n        ? 0\n        : -1;\n    },\n    execCommand: function() {\n      var rng = this.selection.getRange(),\n        bk = rng.createBookmark(true);\n      var tableItems = getTableItemsByRange(this),\n        cell = tableItems.cell,\n        table = tableItems.table,\n        ut = getUETable(table),\n        cellInfo = ut.getCellInfo(cell);\n      //ut.insertRow(!ut.selectedTds.length? cellInfo.rowIndex + cellInfo.rowSpan : ut.cellsRange.endRowIndex + 1,'');\n      if (!ut.selectedTds.length) {\n        ut.insertRow(cellInfo.rowIndex + cellInfo.rowSpan, cell);\n      } else {\n        var range = ut.cellsRange;\n        for (\n          var i = 0, len = range.endRowIndex - range.beginRowIndex + 1;\n          i < len;\n          i++\n        ) {\n          ut.insertRow(range.endRowIndex + 1, cell);\n        }\n      }\n      rng.moveToBookmark(bk).select();\n      if (table.getAttribute(\"interlaced\") === \"enabled\")\n        this.fireEvent(\"interlacetable\", table);\n    }\n  };\n  UE.commands[\"deleterow\"] = {\n    queryCommandState: function() {\n      var tableItems = getTableItemsByRange(this);\n      return tableItems.cell ? 0 : -1;\n    },\n    execCommand: function() {\n      var cell = getTableItemsByRange(this).cell,\n        ut = getUETable(cell),\n        cellsRange = ut.cellsRange,\n        cellInfo = ut.getCellInfo(cell),\n        preCell = ut.getVSideCell(cell),\n        nextCell = ut.getVSideCell(cell, true),\n        rng = this.selection.getRange();\n      if (utils.isEmptyObject(cellsRange)) {\n        ut.deleteRow(cellInfo.rowIndex);\n      } else {\n        for (\n          var i = cellsRange.beginRowIndex;\n          i < cellsRange.endRowIndex + 1;\n          i++\n        ) {\n          ut.deleteRow(cellsRange.beginRowIndex);\n        }\n      }\n      var table = ut.table;\n      if (!table.getElementsByTagName(\"td\").length) {\n        var nextSibling = table.nextSibling;\n        domUtils.remove(table);\n        if (nextSibling) {\n          rng.setStart(nextSibling, 0).setCursor(false, true);\n        }\n      } else {\n        if (\n          cellInfo.rowSpan == 1 ||\n          cellInfo.rowSpan ==\n            cellsRange.endRowIndex - cellsRange.beginRowIndex + 1\n        ) {\n          if (nextCell || preCell)\n            rng.selectNodeContents(nextCell || preCell).setCursor(false, true);\n        } else {\n          var newCell = ut.getCell(\n            cellInfo.rowIndex,\n            ut.indexTable[cellInfo.rowIndex][cellInfo.colIndex].cellIndex\n          );\n          if (newCell) rng.selectNodeContents(newCell).setCursor(false, true);\n        }\n      }\n      if (table.getAttribute(\"interlaced\") === \"enabled\")\n        this.fireEvent(\"interlacetable\", table);\n    }\n  };\n  UE.commands[\"insertcol\"] = {\n    queryCommandState: function(cmd) {\n      var tableItems = getTableItemsByRange(this),\n        cell = tableItems.cell;\n      return cell &&\n        (cell.tagName == \"TD\" ||\n          (cell.tagName == \"TH\" && cell !== tableItems.tr.cells[0])) &&\n        getUETable(tableItems.table).colsNum < this.options.maxColNum\n        ? 0\n        : -1;\n    },\n    execCommand: function(cmd) {\n      var rng = this.selection.getRange(),\n        bk = rng.createBookmark(true);\n      if (this.queryCommandState(cmd) == -1) return;\n      var cell = getTableItemsByRange(this).cell,\n        ut = getUETable(cell),\n        cellInfo = ut.getCellInfo(cell);\n\n      //ut.insertCol(!ut.selectedTds.length ? cellInfo.colIndex:ut.cellsRange.beginColIndex);\n      if (!ut.selectedTds.length) {\n        ut.insertCol(cellInfo.colIndex, cell);\n      } else {\n        var range = ut.cellsRange;\n        for (\n          var i = 0, len = range.endColIndex - range.beginColIndex + 1;\n          i < len;\n          i++\n        ) {\n          ut.insertCol(range.beginColIndex, cell);\n        }\n      }\n      rng.moveToBookmark(bk).select(true);\n    }\n  };\n  UE.commands[\"insertcolnext\"] = {\n    queryCommandState: function() {\n      var tableItems = getTableItemsByRange(this),\n        cell = tableItems.cell;\n      return cell &&\n        getUETable(tableItems.table).colsNum < this.options.maxColNum\n        ? 0\n        : -1;\n    },\n    execCommand: function() {\n      var rng = this.selection.getRange(),\n        bk = rng.createBookmark(true);\n      var cell = getTableItemsByRange(this).cell,\n        ut = getUETable(cell),\n        cellInfo = ut.getCellInfo(cell);\n      //ut.insertCol(!ut.selectedTds.length ? cellInfo.colIndex + cellInfo.colSpan:ut.cellsRange.endColIndex +1);\n      if (!ut.selectedTds.length) {\n        ut.insertCol(cellInfo.colIndex + cellInfo.colSpan, cell);\n      } else {\n        var range = ut.cellsRange;\n        for (\n          var i = 0, len = range.endColIndex - range.beginColIndex + 1;\n          i < len;\n          i++\n        ) {\n          ut.insertCol(range.endColIndex + 1, cell);\n        }\n      }\n      rng.moveToBookmark(bk).select();\n    }\n  };\n\n  UE.commands[\"deletecol\"] = {\n    queryCommandState: function() {\n      var tableItems = getTableItemsByRange(this);\n      return tableItems.cell ? 0 : -1;\n    },\n    execCommand: function() {\n      var cell = getTableItemsByRange(this).cell,\n        ut = getUETable(cell),\n        range = ut.cellsRange,\n        cellInfo = ut.getCellInfo(cell),\n        preCell = ut.getHSideCell(cell),\n        nextCell = ut.getHSideCell(cell, true);\n      if (utils.isEmptyObject(range)) {\n        ut.deleteCol(cellInfo.colIndex);\n      } else {\n        for (var i = range.beginColIndex; i < range.endColIndex + 1; i++) {\n          ut.deleteCol(range.beginColIndex);\n        }\n      }\n      var table = ut.table,\n        rng = this.selection.getRange();\n\n      if (!table.getElementsByTagName(\"td\").length) {\n        var nextSibling = table.nextSibling;\n        domUtils.remove(table);\n        if (nextSibling) {\n          rng.setStart(nextSibling, 0).setCursor(false, true);\n        }\n      } else {\n        if (domUtils.inDoc(cell, this.document)) {\n          rng.setStart(cell, 0).setCursor(false, true);\n        } else {\n          if (nextCell && domUtils.inDoc(nextCell, this.document)) {\n            rng.selectNodeContents(nextCell).setCursor(false, true);\n          } else {\n            if (preCell && domUtils.inDoc(preCell, this.document)) {\n              rng.selectNodeContents(preCell).setCursor(true, true);\n            }\n          }\n        }\n      }\n    }\n  };\n  UE.commands[\"splittocells\"] = {\n    queryCommandState: function() {\n      var tableItems = getTableItemsByRange(this),\n        cell = tableItems.cell;\n      if (!cell) return -1;\n      var ut = getUETable(tableItems.table);\n      if (ut.selectedTds.length > 0) return -1;\n      return cell && (cell.colSpan > 1 || cell.rowSpan > 1) ? 0 : -1;\n    },\n    execCommand: function() {\n      var rng = this.selection.getRange(),\n        bk = rng.createBookmark(true);\n      var cell = getTableItemsByRange(this).cell,\n        ut = getUETable(cell);\n      ut.splitToCells(cell);\n      rng.moveToBookmark(bk).select();\n    }\n  };\n  UE.commands[\"splittorows\"] = {\n    queryCommandState: function() {\n      var tableItems = getTableItemsByRange(this),\n        cell = tableItems.cell;\n      if (!cell) return -1;\n      var ut = getUETable(tableItems.table);\n      if (ut.selectedTds.length > 0) return -1;\n      return cell && cell.rowSpan > 1 ? 0 : -1;\n    },\n    execCommand: function() {\n      var rng = this.selection.getRange(),\n        bk = rng.createBookmark(true);\n      var cell = getTableItemsByRange(this).cell,\n        ut = getUETable(cell);\n      ut.splitToRows(cell);\n      rng.moveToBookmark(bk).select();\n    }\n  };\n  UE.commands[\"splittocols\"] = {\n    queryCommandState: function() {\n      var tableItems = getTableItemsByRange(this),\n        cell = tableItems.cell;\n      if (!cell) return -1;\n      var ut = getUETable(tableItems.table);\n      if (ut.selectedTds.length > 0) return -1;\n      return cell && cell.colSpan > 1 ? 0 : -1;\n    },\n    execCommand: function() {\n      var rng = this.selection.getRange(),\n        bk = rng.createBookmark(true);\n      var cell = getTableItemsByRange(this).cell,\n        ut = getUETable(cell);\n      ut.splitToCols(cell);\n      rng.moveToBookmark(bk).select();\n    }\n  };\n\n  UE.commands[\"adaptbytext\"] = UE.commands[\"adaptbywindow\"] = {\n    queryCommandState: function() {\n      return getTableItemsByRange(this).table ? 0 : -1;\n    },\n    execCommand: function(cmd) {\n      var tableItems = getTableItemsByRange(this),\n        table = tableItems.table;\n      if (table) {\n        if (cmd == \"adaptbywindow\") {\n          resetTdWidth(table, this);\n        } else {\n          var cells = domUtils.getElementsByTagName(table, \"td th\");\n          utils.each(cells, function(cell) {\n            cell.removeAttribute(\"width\");\n          });\n          table.removeAttribute(\"width\");\n        }\n      }\n    }\n  };\n\n  //平均分配各列\n  UE.commands[\"averagedistributecol\"] = {\n    queryCommandState: function() {\n      var ut = getUETableBySelected(this);\n      if (!ut) return -1;\n      return ut.isFullRow() || ut.isFullCol() ? 0 : -1;\n    },\n    execCommand: function(cmd) {\n      var me = this,\n        ut = getUETableBySelected(me);\n\n      function getAverageWidth() {\n        var tb = ut.table,\n          averageWidth,\n          sumWidth = 0,\n          colsNum = 0,\n          tbAttr = getDefaultValue(me, tb);\n\n        if (ut.isFullRow()) {\n          sumWidth = tb.offsetWidth;\n          colsNum = ut.colsNum;\n        } else {\n          var begin = ut.cellsRange.beginColIndex,\n            end = ut.cellsRange.endColIndex,\n            node;\n          for (var i = begin; i <= end; ) {\n            node = ut.selectedTds[i];\n            sumWidth += node.offsetWidth;\n            i += node.colSpan;\n            colsNum += 1;\n          }\n        }\n        averageWidth =\n          Math.ceil(sumWidth / colsNum) -\n          tbAttr.tdBorder * 2 -\n          tbAttr.tdPadding * 2;\n        return averageWidth;\n      }\n\n      function setAverageWidth(averageWidth) {\n        utils.each(domUtils.getElementsByTagName(ut.table, \"th\"), function(\n          node\n        ) {\n          node.setAttribute(\"width\", \"\");\n        });\n        var cells = ut.isFullRow()\n          ? domUtils.getElementsByTagName(ut.table, \"td\")\n          : ut.selectedTds;\n\n        utils.each(cells, function(node) {\n          if (node.colSpan == 1) {\n            node.setAttribute(\"width\", averageWidth);\n          }\n        });\n      }\n\n      if (ut && ut.selectedTds.length) {\n        setAverageWidth(getAverageWidth());\n      }\n    }\n  };\n  //平均分配各行\n  UE.commands[\"averagedistributerow\"] = {\n    queryCommandState: function() {\n      var ut = getUETableBySelected(this);\n      if (!ut) return -1;\n      if (ut.selectedTds && /th/gi.test(ut.selectedTds[0].tagName)) return -1;\n      return ut.isFullRow() || ut.isFullCol() ? 0 : -1;\n    },\n    execCommand: function(cmd) {\n      var me = this,\n        ut = getUETableBySelected(me);\n\n      function getAverageHeight() {\n        var averageHeight,\n          rowNum,\n          sumHeight = 0,\n          tb = ut.table,\n          tbAttr = getDefaultValue(me, tb),\n          tdpadding = parseInt(\n            domUtils.getComputedStyle(\n              tb.getElementsByTagName(\"td\")[0],\n              \"padding-top\"\n            )\n          );\n\n        if (ut.isFullCol()) {\n          var captionArr = domUtils.getElementsByTagName(tb, \"caption\"),\n            thArr = domUtils.getElementsByTagName(tb, \"th\"),\n            captionHeight,\n            thHeight;\n\n          if (captionArr.length > 0) {\n            captionHeight = captionArr[0].offsetHeight;\n          }\n          if (thArr.length > 0) {\n            thHeight = thArr[0].offsetHeight;\n          }\n\n          sumHeight = tb.offsetHeight - (captionHeight || 0) - (thHeight || 0);\n          rowNum = thArr.length == 0 ? ut.rowsNum : ut.rowsNum - 1;\n        } else {\n          var begin = ut.cellsRange.beginRowIndex,\n            end = ut.cellsRange.endRowIndex,\n            count = 0,\n            trs = domUtils.getElementsByTagName(tb, \"tr\");\n          for (var i = begin; i <= end; i++) {\n            sumHeight += trs[i].offsetHeight;\n            count += 1;\n          }\n          rowNum = count;\n        }\n        //ie8下是混杂模式\n        if (browser.ie && browser.version < 9) {\n          averageHeight = Math.ceil(sumHeight / rowNum);\n        } else {\n          averageHeight =\n            Math.ceil(sumHeight / rowNum) - tbAttr.tdBorder * 2 - tdpadding * 2;\n        }\n        return averageHeight;\n      }\n\n      function setAverageHeight(averageHeight) {\n        var cells = ut.isFullCol()\n          ? domUtils.getElementsByTagName(ut.table, \"td\")\n          : ut.selectedTds;\n        utils.each(cells, function(node) {\n          if (node.rowSpan == 1) {\n            node.setAttribute(\"height\", averageHeight);\n          }\n        });\n      }\n\n      if (ut && ut.selectedTds.length) {\n        setAverageHeight(getAverageHeight());\n      }\n    }\n  };\n\n  //单元格对齐方式\n  UE.commands[\"cellalignment\"] = {\n    queryCommandState: function() {\n      return getTableItemsByRange(this).table ? 0 : -1;\n    },\n    execCommand: function(cmd, data) {\n      var me = this,\n        ut = getUETableBySelected(me);\n\n      if (!ut) {\n        var start = me.selection.getStart(),\n          cell =\n            start &&\n            domUtils.findParentByTagName(start, [\"td\", \"th\", \"caption\"], true);\n        if (!/caption/gi.test(cell.tagName)) {\n          domUtils.setAttributes(cell, data);\n        } else {\n          cell.style.textAlign = data.align;\n          cell.style.verticalAlign = data.vAlign;\n        }\n        me.selection.getRange().setCursor(true);\n      } else {\n        utils.each(ut.selectedTds, function(cell) {\n          domUtils.setAttributes(cell, data);\n        });\n      }\n    },\n    /**\n         * 查询当前点击的单元格的对齐状态， 如果当前已经选择了多个单元格， 则会返回所有单元格经过统一协调过后的状态\n         * @see UE.UETable.getTableCellAlignState\n         */\n    queryCommandValue: function(cmd) {\n      var activeMenuCell = getTableItemsByRange(this).cell;\n\n      if (!activeMenuCell) {\n        activeMenuCell = getSelectedArr(this)[0];\n      }\n\n      if (!activeMenuCell) {\n        return null;\n      } else {\n        //获取同时选中的其他单元格\n        var cells = UE.UETable.getUETable(activeMenuCell).selectedTds;\n\n        !cells.length && (cells = activeMenuCell);\n\n        return UE.UETable.getTableCellAlignState(cells);\n      }\n    }\n  };\n  //表格对齐方式\n  UE.commands[\"tablealignment\"] = {\n    queryCommandState: function() {\n      if (browser.ie && browser.version < 8) {\n        return -1;\n      }\n      return getTableItemsByRange(this).table ? 0 : -1;\n    },\n    execCommand: function(cmd, value) {\n      var me = this,\n        start = me.selection.getStart(),\n        table = start && domUtils.findParentByTagName(start, [\"table\"], true);\n\n      if (table) {\n        table.setAttribute(\"align\", value);\n      }\n    }\n  };\n\n  //表格属性\n  UE.commands[\"edittable\"] = {\n    queryCommandState: function() {\n      return getTableItemsByRange(this).table ? 0 : -1;\n    },\n    execCommand: function(cmd, color) {\n      var rng = this.selection.getRange(),\n        table = domUtils.findParentByTagName(rng.startContainer, \"table\");\n      if (table) {\n        var arr = domUtils\n          .getElementsByTagName(table, \"td\")\n          .concat(\n            domUtils.getElementsByTagName(table, \"th\"),\n            domUtils.getElementsByTagName(table, \"caption\")\n          );\n        utils.each(arr, function(node) {\n          node.style.borderColor = color;\n        });\n      }\n    }\n  };\n  //单元格属性\n  UE.commands[\"edittd\"] = {\n    queryCommandState: function() {\n      return getTableItemsByRange(this).table ? 0 : -1;\n    },\n    execCommand: function(cmd, bkColor) {\n      var me = this,\n        ut = getUETableBySelected(me);\n\n      if (!ut) {\n        var start = me.selection.getStart(),\n          cell =\n            start &&\n            domUtils.findParentByTagName(start, [\"td\", \"th\", \"caption\"], true);\n        if (cell) {\n          cell.style.backgroundColor = bkColor;\n        }\n      } else {\n        utils.each(ut.selectedTds, function(cell) {\n          cell.style.backgroundColor = bkColor;\n        });\n      }\n    }\n  };\n\n  UE.commands[\"settablebackground\"] = {\n    queryCommandState: function() {\n      return getSelectedArr(this).length > 1 ? 0 : -1;\n    },\n    execCommand: function(cmd, value) {\n      var cells, ut;\n      cells = getSelectedArr(this);\n      ut = getUETable(cells[0]);\n      ut.setBackground(cells, value);\n    }\n  };\n\n  UE.commands[\"cleartablebackground\"] = {\n    queryCommandState: function() {\n      var cells = getSelectedArr(this);\n      if (!cells.length) return -1;\n      for (var i = 0, cell; (cell = cells[i++]); ) {\n        if (cell.style.backgroundColor !== \"\") return 0;\n      }\n      return -1;\n    },\n    execCommand: function() {\n      var cells = getSelectedArr(this),\n        ut = getUETable(cells[0]);\n      ut.removeBackground(cells);\n    }\n  };\n\n  UE.commands[\"interlacetable\"] = UE.commands[\"uninterlacetable\"] = {\n    queryCommandState: function(cmd) {\n      var table = getTableItemsByRange(this).table;\n      if (!table) return -1;\n      var interlaced = table.getAttribute(\"interlaced\");\n      if (cmd == \"interlacetable\") {\n        //TODO 待定\n        //是否需要待定，如果设置，则命令只能单次执行成功，但反射具备toggle效果；否则可以覆盖前次命令，但反射将不存在toggle效果\n        return interlaced === \"enabled\" ? -1 : 0;\n      } else {\n        return !interlaced || interlaced === \"disabled\" ? -1 : 0;\n      }\n    },\n    execCommand: function(cmd, classList) {\n      var table = getTableItemsByRange(this).table;\n      if (cmd == \"interlacetable\") {\n        table.setAttribute(\"interlaced\", \"enabled\");\n        this.fireEvent(\"interlacetable\", table, classList);\n      } else {\n        table.setAttribute(\"interlaced\", \"disabled\");\n        this.fireEvent(\"uninterlacetable\", table);\n      }\n    }\n  };\n  UE.commands[\"setbordervisible\"] = {\n    queryCommandState: function(cmd) {\n      var table = getTableItemsByRange(this).table;\n      if (!table) return -1;\n      return 0;\n    },\n    execCommand: function() {\n      var table = getTableItemsByRange(this).table;\n      utils.each(domUtils.getElementsByTagName(table, \"td\"), function(td) {\n        td.style.borderWidth = \"1px\";\n        td.style.borderStyle = \"solid\";\n      });\n    }\n  };\n  function resetTdWidth(table, editor) {\n    var tds = domUtils.getElementsByTagName(table, \"td th\");\n    utils.each(tds, function(td) {\n      td.removeAttribute(\"width\");\n    });\n    table.setAttribute(\n      \"width\",\n      getTableWidth(editor, true, getDefaultValue(editor, table))\n    );\n    var tdsWidths = [];\n    setTimeout(function() {\n      utils.each(tds, function(td) {\n        td.colSpan == 1 && tdsWidths.push(td.offsetWidth);\n      });\n      utils.each(tds, function(td, i) {\n        td.colSpan == 1 && td.setAttribute(\"width\", tdsWidths[i] + \"\");\n      });\n    }, 0);\n  }\n\n  function getTableWidth(editor, needIEHack, defaultValue) {\n    var body = editor.body;\n    return (\n      body.offsetWidth -\n      (needIEHack\n        ? parseInt(domUtils.getComputedStyle(body, \"margin-left\"), 10) * 2\n        : 0) -\n      defaultValue.tableBorder * 2 -\n      (editor.options.offsetWidth || 0)\n    );\n  }\n\n  function getSelectedArr(editor) {\n    var cell = getTableItemsByRange(editor).cell;\n    if (cell) {\n      var ut = getUETable(cell);\n      return ut.selectedTds.length ? ut.selectedTds : [cell];\n    } else {\n      return [];\n    }\n  }\n})();\n\n\n// plugins/table.action.js\n/**\n * Created with JetBrains PhpStorm.\n * User: taoqili\n * Date: 12-10-12\n * Time: 上午10:05\n * To change this template use File | Settings | File Templates.\n */\nUE.plugins[\"table\"] = function() {\n  var me = this,\n    tabTimer = null,\n    //拖动计时器\n    tableDragTimer = null,\n    //双击计时器\n    tableResizeTimer = null,\n    //单元格最小宽度\n    cellMinWidth = 5,\n    isInResizeBuffer = false,\n    //单元格边框大小\n    cellBorderWidth = 5,\n    //鼠标偏移距离\n    offsetOfTableCell = 10,\n    //记录在有限时间内的点击状态， 共有3个取值， 0, 1, 2。 0代表未初始化， 1代表单击了1次，2代表2次\n    singleClickState = 0,\n    userActionStatus = null,\n    //双击允许的时间范围\n    dblclickTime = 360,\n    UT = UE.UETable,\n    getUETable = function(tdOrTable) {\n      return UT.getUETable(tdOrTable);\n    },\n    getUETableBySelected = function(editor) {\n      return UT.getUETableBySelected(editor);\n    },\n    getDefaultValue = function(editor, table) {\n      return UT.getDefaultValue(editor, table);\n    },\n    removeSelectedClass = function(cells) {\n      return UT.removeSelectedClass(cells);\n    };\n\n  function showError(e) {\n    //        throw e;\n  }\n  me.ready(function() {\n    var me = this;\n    var orgGetText = me.selection.getText;\n    me.selection.getText = function() {\n      var table = getUETableBySelected(me);\n      if (table) {\n        var str = \"\";\n        utils.each(table.selectedTds, function(td) {\n          str += td[browser.ie ? \"innerText\" : \"textContent\"];\n        });\n        return str;\n      } else {\n        return orgGetText.call(me.selection);\n      }\n    };\n  });\n\n  //处理拖动及框选相关方法\n  var startTd = null, //鼠标按下时的锚点td\n    currentTd = null, //当前鼠标经过时的td\n    onDrag = \"\", //指示当前拖动状态，其值可为\"\",\"h\",\"v\" ,分别表示未拖动状态，横向拖动状态，纵向拖动状态，用于鼠标移动过程中的判断\n    onBorder = false, //检测鼠标按下时是否处在单元格边缘位置\n    dragButton = null,\n    dragOver = false,\n    dragLine = null, //模拟的拖动线\n    dragTd = null; //发生拖动的目标td\n\n  var mousedown = false,\n    //todo 判断混乱模式\n    needIEHack = true;\n\n  me.setOpt({\n    maxColNum: 20,\n    maxRowNum: 100,\n    defaultCols: 5,\n    defaultRows: 5,\n    tdvalign: \"top\",\n    cursorpath: me.options.UEDITOR_HOME_URL + \"themes/\" + me.options.theme + \"/images/cursor_\",\n    tableDragable: false,\n    classList: [\n      \"ue-table-interlace-color-single\",\n      \"ue-table-interlace-color-double\"\n    ]\n  });\n  me.getUETable = getUETable;\n  var commands = {\n    deletetable: 1,\n    inserttable: 1,\n    cellvalign: 1,\n    insertcaption: 1,\n    deletecaption: 1,\n    inserttitle: 1,\n    deletetitle: 1,\n    mergeright: 1,\n    mergedown: 1,\n    mergecells: 1,\n    insertrow: 1,\n    insertrownext: 1,\n    deleterow: 1,\n    insertcol: 1,\n    insertcolnext: 1,\n    deletecol: 1,\n    splittocells: 1,\n    splittorows: 1,\n    splittocols: 1,\n    adaptbytext: 1,\n    adaptbywindow: 1,\n    adaptbycustomer: 1,\n    insertparagraph: 1,\n    insertparagraphbeforetable: 1,\n    averagedistributecol: 1,\n    averagedistributerow: 1\n  };\n  me.ready(function() {\n    utils.cssRule(\n      \"table\",\n      //选中的td上的样式\n      \".selectTdClass{background-color:#edf5fa !important}\" +\n        \"table.noBorderTable td,table.noBorderTable th,table.noBorderTable caption{border:1px dashed #ddd !important}\" +\n        //插入的表格的默认样式\n        \"table{margin-bottom:10px;border-collapse:collapse;display:table;}\" +\n        \"td,th{padding: 5px 10px;border: 1px solid #DDD;}\" +\n        \"caption{border:1px dashed #DDD;border-bottom:0;padding:3px;text-align:center;}\" +\n        \"th{border-top:1px solid #BBB;background-color:#F7F7F7;}\" +\n        \"table tr.firstRow th{border-top-width:2px;}\" +\n        \".ue-table-interlace-color-single{ background-color: #fcfcfc; } .ue-table-interlace-color-double{ background-color: #f7faff; }\" +\n        \"td p{margin:0;padding:0;}\",\n      me.document\n    );\n\n    var tableCopyList, isFullCol, isFullRow;\n    //注册del/backspace事件\n    me.addListener(\"keydown\", function(cmd, evt) {\n      var me = this;\n      var keyCode = evt.keyCode || evt.which;\n\n      if (keyCode == 8) {\n        var ut = getUETableBySelected(me);\n        if (ut && ut.selectedTds.length) {\n          if (ut.isFullCol()) {\n            me.execCommand(\"deletecol\");\n          } else if (ut.isFullRow()) {\n            me.execCommand(\"deleterow\");\n          } else {\n            me.fireEvent(\"delcells\");\n          }\n          domUtils.preventDefault(evt);\n        }\n\n        var caption = domUtils.findParentByTagName(\n          me.selection.getStart(),\n          \"caption\",\n          true\n        ),\n          range = me.selection.getRange();\n        if (range.collapsed && caption && isEmptyBlock(caption)) {\n          me.fireEvent(\"saveScene\");\n          var table = caption.parentNode;\n          domUtils.remove(caption);\n          if (table) {\n            range.setStart(table.rows[0].cells[0], 0).setCursor(false, true);\n          }\n          me.fireEvent(\"saveScene\");\n        }\n      }\n\n      if (keyCode == 46) {\n        ut = getUETableBySelected(me);\n        if (ut) {\n          me.fireEvent(\"saveScene\");\n          for (var i = 0, ci; (ci = ut.selectedTds[i++]); ) {\n            domUtils.fillNode(me.document, ci);\n          }\n          me.fireEvent(\"saveScene\");\n          domUtils.preventDefault(evt);\n        }\n      }\n      if (keyCode == 13) {\n        var rng = me.selection.getRange(),\n          caption = domUtils.findParentByTagName(\n            rng.startContainer,\n            \"caption\",\n            true\n          );\n        if (caption) {\n          var table = domUtils.findParentByTagName(caption, \"table\");\n          if (!rng.collapsed) {\n            rng.deleteContents();\n            me.fireEvent(\"saveScene\");\n          } else {\n            if (caption) {\n              rng.setStart(table.rows[0].cells[0], 0).setCursor(false, true);\n            }\n          }\n          domUtils.preventDefault(evt);\n          return;\n        }\n        if (rng.collapsed) {\n          var table = domUtils.findParentByTagName(rng.startContainer, \"table\");\n          if (table) {\n            var cell = table.rows[0].cells[0],\n              start = domUtils.findParentByTagName(\n                me.selection.getStart(),\n                [\"td\", \"th\"],\n                true\n              ),\n              preNode = table.previousSibling;\n            if (\n              cell === start &&\n              (!preNode ||\n                (preNode.nodeType == 1 && preNode.tagName == \"TABLE\")) &&\n              domUtils.isStartInblock(rng)\n            ) {\n              var first = domUtils.findParent(\n                me.selection.getStart(),\n                function(n) {\n                  return domUtils.isBlockElm(n);\n                },\n                true\n              );\n              if (\n                first &&\n                (/t(h|d)/i.test(first.tagName) || first === start.firstChild)\n              ) {\n                me.execCommand(\"insertparagraphbeforetable\");\n                domUtils.preventDefault(evt);\n              }\n            }\n          }\n        }\n      }\n\n      if ((evt.ctrlKey || evt.metaKey) && evt.keyCode == \"67\") {\n        tableCopyList = null;\n        var ut = getUETableBySelected(me);\n        if (ut) {\n          var tds = ut.selectedTds;\n          isFullCol = ut.isFullCol();\n          isFullRow = ut.isFullRow();\n          tableCopyList = [[ut.cloneCell(tds[0], null, true)]];\n          for (var i = 1, ci; (ci = tds[i]); i++) {\n            if (ci.parentNode !== tds[i - 1].parentNode) {\n              tableCopyList.push([ut.cloneCell(ci, null, true)]);\n            } else {\n              tableCopyList[tableCopyList.length - 1].push(\n                ut.cloneCell(ci, null, true)\n              );\n            }\n          }\n        }\n      }\n    });\n    me.addListener(\"tablehasdeleted\", function() {\n      toggleDraggableState(this, false, \"\", null);\n      if (dragButton) domUtils.remove(dragButton);\n    });\n\n    me.addListener(\"beforepaste\", function(cmd, html) {\n      var me = this;\n      var rng = me.selection.getRange();\n      if (domUtils.findParentByTagName(rng.startContainer, \"caption\", true)) {\n        var div = me.document.createElement(\"div\");\n        div.innerHTML = html.html;\n        //trace:3729\n        html.html = div[browser.ie9below ? \"innerText\" : \"textContent\"];\n        return;\n      }\n      var table = getUETableBySelected(me);\n      if (tableCopyList) {\n        me.fireEvent(\"saveScene\");\n        var rng = me.selection.getRange();\n        var td = domUtils.findParentByTagName(\n          rng.startContainer,\n          [\"td\", \"th\"],\n          true\n        ),\n          tmpNode,\n          preNode;\n        if (td) {\n          var ut = getUETable(td);\n          if (isFullRow) {\n            var rowIndex = ut.getCellInfo(td).rowIndex;\n            if (td.tagName == \"TH\") {\n              rowIndex++;\n            }\n            for (var i = 0, ci; (ci = tableCopyList[i++]); ) {\n              var tr = ut.insertRow(rowIndex++, \"td\");\n              for (var j = 0, cj; (cj = ci[j]); j++) {\n                var cell = tr.cells[j];\n                if (!cell) {\n                  cell = tr.insertCell(j);\n                }\n                cell.innerHTML = cj.innerHTML;\n                cj.getAttribute(\"width\") &&\n                  cell.setAttribute(\"width\", cj.getAttribute(\"width\"));\n                cj.getAttribute(\"vAlign\") &&\n                  cell.setAttribute(\"vAlign\", cj.getAttribute(\"vAlign\"));\n                cj.getAttribute(\"align\") &&\n                  cell.setAttribute(\"align\", cj.getAttribute(\"align\"));\n                cj.style.cssText && (cell.style.cssText = cj.style.cssText);\n              }\n              for (var j = 0, cj; (cj = tr.cells[j]); j++) {\n                if (!ci[j]) break;\n                cj.innerHTML = ci[j].innerHTML;\n                ci[j].getAttribute(\"width\") &&\n                  cj.setAttribute(\"width\", ci[j].getAttribute(\"width\"));\n                ci[j].getAttribute(\"vAlign\") &&\n                  cj.setAttribute(\"vAlign\", ci[j].getAttribute(\"vAlign\"));\n                ci[j].getAttribute(\"align\") &&\n                  cj.setAttribute(\"align\", ci[j].getAttribute(\"align\"));\n                ci[j].style.cssText && (cj.style.cssText = ci[j].style.cssText);\n              }\n            }\n          } else {\n            if (isFullCol) {\n              cellInfo = ut.getCellInfo(td);\n              var maxColNum = 0;\n              for (var j = 0, ci = tableCopyList[0], cj; (cj = ci[j++]); ) {\n                maxColNum += cj.colSpan || 1;\n              }\n              me.__hasEnterExecCommand = true;\n              for (i = 0; i < maxColNum; i++) {\n                me.execCommand(\"insertcol\");\n              }\n              me.__hasEnterExecCommand = false;\n              td = ut.table.rows[0].cells[cellInfo.cellIndex];\n              if (td.tagName == \"TH\") {\n                td = ut.table.rows[1].cells[cellInfo.cellIndex];\n              }\n            }\n            for (var i = 0, ci; (ci = tableCopyList[i++]); ) {\n              tmpNode = td;\n              for (var j = 0, cj; (cj = ci[j++]); ) {\n                if (td) {\n                  td.innerHTML = cj.innerHTML;\n                  //todo 定制处理\n                  cj.getAttribute(\"width\") &&\n                    td.setAttribute(\"width\", cj.getAttribute(\"width\"));\n                  cj.getAttribute(\"vAlign\") &&\n                    td.setAttribute(\"vAlign\", cj.getAttribute(\"vAlign\"));\n                  cj.getAttribute(\"align\") &&\n                    td.setAttribute(\"align\", cj.getAttribute(\"align\"));\n                  cj.style.cssText && (td.style.cssText = cj.style.cssText);\n                  preNode = td;\n                  td = td.nextSibling;\n                } else {\n                  var cloneTd = cj.cloneNode(true);\n                  domUtils.removeAttributes(cloneTd, [\n                    \"class\",\n                    \"rowSpan\",\n                    \"colSpan\"\n                  ]);\n\n                  preNode.parentNode.appendChild(cloneTd);\n                }\n              }\n              td = ut.getNextCell(tmpNode, true, true);\n              if (!tableCopyList[i]) break;\n              if (!td) {\n                var cellInfo = ut.getCellInfo(tmpNode);\n                ut.table.insertRow(ut.table.rows.length);\n                ut.update();\n                td = ut.getVSideCell(tmpNode, true);\n              }\n            }\n          }\n          ut.update();\n        } else {\n          table = me.document.createElement(\"table\");\n          for (var i = 0, ci; (ci = tableCopyList[i++]); ) {\n            var tr = table.insertRow(table.rows.length);\n            for (var j = 0, cj; (cj = ci[j++]); ) {\n              cloneTd = UT.cloneCell(cj, null, true);\n              domUtils.removeAttributes(cloneTd, [\"class\"]);\n              tr.appendChild(cloneTd);\n            }\n            if (j == 2 && cloneTd.rowSpan > 1) {\n              cloneTd.rowSpan = 1;\n            }\n          }\n\n          var defaultValue = getDefaultValue(me),\n            width =\n              me.body.offsetWidth -\n              (needIEHack\n                ? parseInt(\n                    domUtils.getComputedStyle(me.body, \"margin-left\"),\n                    10\n                  ) * 2\n                : 0) -\n              defaultValue.tableBorder * 2 -\n              (me.options.offsetWidth || 0);\n          me.execCommand(\n            \"insertHTML\",\n            \"<table  \" +\n              (isFullCol && isFullRow ? 'width=\"' + width + '\"' : \"\") +\n              \">\" +\n              table.innerHTML\n                .replace(/>\\s*</g, \"><\")\n                .replace(/\\bth\\b/gi, \"td\") +\n              \"</table>\"\n          );\n        }\n        me.fireEvent(\"contentchange\");\n        me.fireEvent(\"saveScene\");\n        html.html = \"\";\n        return true;\n      } else {\n        var div = me.document.createElement(\"div\"),\n          tables;\n        div.innerHTML = html.html;\n        tables = div.getElementsByTagName(\"table\");\n        if (domUtils.findParentByTagName(me.selection.getStart(), \"table\")) {\n          utils.each(tables, function(t) {\n            domUtils.remove(t);\n          });\n          if (\n            domUtils.findParentByTagName(\n              me.selection.getStart(),\n              \"caption\",\n              true\n            )\n          ) {\n            div.innerHTML = div[browser.ie ? \"innerText\" : \"textContent\"];\n          }\n        } else {\n          utils.each(tables, function(table) {\n            removeStyleSize(table, true);\n            domUtils.removeAttributes(table, [\"style\", \"border\"]);\n            utils.each(domUtils.getElementsByTagName(table, \"td\"), function(\n              td\n            ) {\n              if (isEmptyBlock(td)) {\n                domUtils.fillNode(me.document, td);\n              }\n              removeStyleSize(td, true);\n              //                            domUtils.removeAttributes(td, ['style'])\n            });\n          });\n        }\n        html.html = div.innerHTML;\n      }\n    });\n\n    me.addListener(\"afterpaste\", function() {\n      utils.each(domUtils.getElementsByTagName(me.body, \"table\"), function(\n        table\n      ) {\n        if (table.offsetWidth > me.body.offsetWidth) {\n          var defaultValue = getDefaultValue(me, table);\n          table.style.width =\n            me.body.offsetWidth -\n            (needIEHack\n              ? parseInt(\n                  domUtils.getComputedStyle(me.body, \"margin-left\"),\n                  10\n                ) * 2\n              : 0) -\n            defaultValue.tableBorder * 2 -\n            (me.options.offsetWidth || 0) +\n            \"px\";\n        }\n      });\n    });\n    me.addListener(\"blur\", function() {\n      tableCopyList = null;\n    });\n    var timer;\n    me.addListener(\"keydown\", function() {\n      clearTimeout(timer);\n      timer = setTimeout(function() {\n        var rng = me.selection.getRange(),\n          cell = domUtils.findParentByTagName(\n            rng.startContainer,\n            [\"th\", \"td\"],\n            true\n          );\n        if (cell) {\n          var table = cell.parentNode.parentNode.parentNode;\n          if (table.offsetWidth > table.getAttribute(\"width\")) {\n            cell.style.wordBreak = \"break-all\";\n          }\n        }\n      }, 100);\n    });\n    me.addListener(\"selectionchange\", function() {\n      toggleDraggableState(me, false, \"\", null);\n    });\n\n    //内容变化时触发索引更新\n    //todo 可否考虑标记检测，如果不涉及表格的变化就不进行索引重建和更新\n    me.addListener(\"contentchange\", function() {\n      var me = this;\n      //尽可能排除一些不需要更新的状况\n      hideDragLine(me);\n      if (getUETableBySelected(me)) return;\n      var rng = me.selection.getRange();\n      var start = rng.startContainer;\n      start = domUtils.findParentByTagName(start, [\"td\", \"th\"], true);\n      utils.each(domUtils.getElementsByTagName(me.document, \"table\"), function(\n        table\n      ) {\n        if (me.fireEvent(\"excludetable\", table) === true) return;\n        table.ueTable = new UT(table);\n        //trace:3742\n        //                utils.each(domUtils.getElementsByTagName(me.document, 'td'), function (td) {\n        //\n        //                    if (domUtils.isEmptyBlock(td) && td !== start) {\n        //                        domUtils.fillNode(me.document, td);\n        //                        if (browser.ie && browser.version == 6) {\n        //                            td.innerHTML = '&nbsp;'\n        //                        }\n        //                    }\n        //                });\n        //                utils.each(domUtils.getElementsByTagName(me.document, 'th'), function (th) {\n        //                    if (domUtils.isEmptyBlock(th) && th !== start) {\n        //                        domUtils.fillNode(me.document, th);\n        //                        if (browser.ie && browser.version == 6) {\n        //                            th.innerHTML = '&nbsp;'\n        //                        }\n        //                    }\n        //                });\n        table.onmouseover = function() {\n          me.fireEvent(\"tablemouseover\", table);\n        };\n        table.onmousemove = function() {\n          me.fireEvent(\"tablemousemove\", table);\n          me.options.tableDragable && toggleDragButton(true, this, me);\n          utils.defer(function() {\n            me.fireEvent(\"contentchange\", 50);\n          }, true);\n        };\n        table.onmouseout = function() {\n          me.fireEvent(\"tablemouseout\", table);\n          toggleDraggableState(me, false, \"\", null);\n          hideDragLine(me);\n        };\n        table.onclick = function(evt) {\n          evt = me.window.event || evt;\n          var target = getParentTdOrTh(evt.target || evt.srcElement);\n          if (!target) return;\n          var ut = getUETable(target),\n            table = ut.table,\n            cellInfo = ut.getCellInfo(target),\n            cellsRange,\n            rng = me.selection.getRange();\n          //                    if (\"topLeft\" == inPosition(table, mouseCoords(evt))) {\n          //                        cellsRange = ut.getCellsRange(ut.table.rows[0].cells[0], ut.getLastCell());\n          //                        ut.setSelected(cellsRange);\n          //                        return;\n          //                    }\n          //                    if (\"bottomRight\" == inPosition(table, mouseCoords(evt))) {\n          //\n          //                        return;\n          //                    }\n          if (inTableSide(table, target, evt, true)) {\n            var endTdCol = ut.getCell(\n              ut.indexTable[ut.rowsNum - 1][cellInfo.colIndex].rowIndex,\n              ut.indexTable[ut.rowsNum - 1][cellInfo.colIndex].cellIndex\n            );\n            if (evt.shiftKey && ut.selectedTds.length) {\n              if (ut.selectedTds[0] !== endTdCol) {\n                cellsRange = ut.getCellsRange(ut.selectedTds[0], endTdCol);\n                ut.setSelected(cellsRange);\n              } else {\n                rng && rng.selectNodeContents(endTdCol).select();\n              }\n            } else {\n              if (target !== endTdCol) {\n                cellsRange = ut.getCellsRange(target, endTdCol);\n                ut.setSelected(cellsRange);\n              } else {\n                rng && rng.selectNodeContents(endTdCol).select();\n              }\n            }\n            return;\n          }\n          if (inTableSide(table, target, evt)) {\n            var endTdRow = ut.getCell(\n              ut.indexTable[cellInfo.rowIndex][ut.colsNum - 1].rowIndex,\n              ut.indexTable[cellInfo.rowIndex][ut.colsNum - 1].cellIndex\n            );\n            if (evt.shiftKey && ut.selectedTds.length) {\n              if (ut.selectedTds[0] !== endTdRow) {\n                cellsRange = ut.getCellsRange(ut.selectedTds[0], endTdRow);\n                ut.setSelected(cellsRange);\n              } else {\n                rng && rng.selectNodeContents(endTdRow).select();\n              }\n            } else {\n              if (target !== endTdRow) {\n                cellsRange = ut.getCellsRange(target, endTdRow);\n                ut.setSelected(cellsRange);\n              } else {\n                rng && rng.selectNodeContents(endTdRow).select();\n              }\n            }\n          }\n        };\n      });\n\n      switchBorderColor(me, true);\n    });\n\n    domUtils.on(me.document, \"mousemove\", mouseMoveEvent);\n\n    domUtils.on(me.document, \"mouseout\", function(evt) {\n      var target = evt.target || evt.srcElement;\n      if (target.tagName == \"TABLE\") {\n        toggleDraggableState(me, false, \"\", null);\n      }\n    });\n    /**\n         * 表格隔行变色\n         */\n    me.addListener(\"interlacetable\", function(type, table, classList) {\n      if (!table) return;\n      var me = this,\n        rows = table.rows,\n        len = rows.length,\n        getClass = function(list, index, repeat) {\n          return list[index]\n            ? list[index]\n            : repeat ? list[index % list.length] : \"\";\n        };\n      for (var i = 0; i < len; i++) {\n        rows[i].className = getClass(\n          classList || me.options.classList,\n          i,\n          true\n        );\n      }\n    });\n    me.addListener(\"uninterlacetable\", function(type, table) {\n      if (!table) return;\n      var me = this,\n        rows = table.rows,\n        classList = me.options.classList,\n        len = rows.length;\n      for (var i = 0; i < len; i++) {\n        domUtils.removeClasses(rows[i], classList);\n      }\n    });\n\n    me.addListener(\"mousedown\", mouseDownEvent);\n    me.addListener(\"mouseup\", mouseUpEvent);\n    //拖动的时候触发mouseup\n    domUtils.on(me.body, \"dragstart\", function(evt) {\n      mouseUpEvent.call(me, \"dragstart\", evt);\n    });\n    me.addOutputRule(function(root) {\n      utils.each(root.getNodesByTagName(\"div\"), function(n) {\n        if (n.getAttr(\"id\") == \"ue_tableDragLine\") {\n          n.parentNode.removeChild(n);\n        }\n      });\n    });\n\n    var currentRowIndex = 0;\n    me.addListener(\"mousedown\", function() {\n      currentRowIndex = 0;\n    });\n    me.addListener(\"tabkeydown\", function() {\n      var range = this.selection.getRange(),\n        common = range.getCommonAncestor(true, true),\n        table = domUtils.findParentByTagName(common, \"table\");\n      if (table) {\n        if (domUtils.findParentByTagName(common, \"caption\", true)) {\n          var cell = domUtils.getElementsByTagName(table, \"th td\");\n          if (cell && cell.length) {\n            range.setStart(cell[0], 0).setCursor(false, true);\n          }\n        } else {\n          var cell = domUtils.findParentByTagName(common, [\"td\", \"th\"], true),\n            ua = getUETable(cell);\n          currentRowIndex = cell.rowSpan > 1\n            ? currentRowIndex\n            : ua.getCellInfo(cell).rowIndex;\n          var nextCell = ua.getTabNextCell(cell, currentRowIndex);\n          if (nextCell) {\n            if (isEmptyBlock(nextCell)) {\n              range.setStart(nextCell, 0).setCursor(false, true);\n            } else {\n              range.selectNodeContents(nextCell).select();\n            }\n          } else {\n            me.fireEvent(\"saveScene\");\n            me.__hasEnterExecCommand = true;\n            this.execCommand(\"insertrownext\");\n            me.__hasEnterExecCommand = false;\n            range = this.selection.getRange();\n            range\n              .setStart(table.rows[table.rows.length - 1].cells[0], 0)\n              .setCursor();\n            me.fireEvent(\"saveScene\");\n          }\n        }\n        return true;\n      }\n    });\n    browser.ie &&\n      me.addListener(\"selectionchange\", function() {\n        toggleDraggableState(this, false, \"\", null);\n      });\n    me.addListener(\"keydown\", function(type, evt) {\n      var me = this;\n      //处理在表格的最后一个输入tab产生新的表格\n      var keyCode = evt.keyCode || evt.which;\n      if (keyCode == 8 || keyCode == 46) {\n        return;\n      }\n      var notCtrlKey =\n        !evt.ctrlKey && !evt.metaKey && !evt.shiftKey && !evt.altKey;\n      notCtrlKey &&\n        removeSelectedClass(domUtils.getElementsByTagName(me.body, \"td\"));\n      var ut = getUETableBySelected(me);\n      if (!ut) return;\n      notCtrlKey && ut.clearSelected();\n    });\n\n    me.addListener(\"beforegetcontent\", function() {\n      switchBorderColor(this, false);\n      browser.ie &&\n        utils.each(this.document.getElementsByTagName(\"caption\"), function(ci) {\n          if (domUtils.isEmptyNode(ci)) {\n            ci.innerHTML = \"&nbsp;\";\n          }\n        });\n    });\n    me.addListener(\"aftergetcontent\", function() {\n      switchBorderColor(this, true);\n    });\n    me.addListener(\"getAllHtml\", function() {\n      removeSelectedClass(me.document.getElementsByTagName(\"td\"));\n    });\n    //修正全屏状态下插入的表格宽度在非全屏状态下撑开编辑器的情况\n    me.addListener(\"fullscreenchanged\", function(type, fullscreen) {\n      if (!fullscreen) {\n        var ratio = this.body.offsetWidth / document.body.offsetWidth,\n          tables = domUtils.getElementsByTagName(this.body, \"table\");\n        utils.each(tables, function(table) {\n          if (table.offsetWidth < me.body.offsetWidth) return false;\n          var tds = domUtils.getElementsByTagName(table, \"td\"),\n            backWidths = [];\n          utils.each(tds, function(td) {\n            backWidths.push(td.offsetWidth);\n          });\n          for (var i = 0, td; (td = tds[i]); i++) {\n            td.setAttribute(\"width\", Math.floor(backWidths[i] * ratio));\n          }\n          table.setAttribute(\n            \"width\",\n            Math.floor(getTableWidth(me, needIEHack, getDefaultValue(me)))\n          );\n        });\n      }\n    });\n\n    //重写execCommand命令，用于处理框选时的处理\n    var oldExecCommand = me.execCommand;\n    me.execCommand = function(cmd, datatat) {\n      var me = this,\n        args = arguments;\n\n      cmd = cmd.toLowerCase();\n      var ut = getUETableBySelected(me),\n        tds,\n        range = new dom.Range(me.document),\n        cmdFun = me.commands[cmd] || UE.commands[cmd],\n        result;\n      if (!cmdFun) return;\n      if (\n        ut &&\n        !commands[cmd] &&\n        !cmdFun.notNeedUndo &&\n        !me.__hasEnterExecCommand\n      ) {\n        me.__hasEnterExecCommand = true;\n        me.fireEvent(\"beforeexeccommand\", cmd);\n        tds = ut.selectedTds;\n        var lastState = -2,\n          lastValue = -2,\n          value,\n          state;\n        for (var i = 0, td; (td = tds[i]); i++) {\n          if (isEmptyBlock(td)) {\n            range.setStart(td, 0).setCursor(false, true);\n          } else {\n            range.selectNode(td).select(true);\n          }\n          state = me.queryCommandState(cmd);\n          value = me.queryCommandValue(cmd);\n          if (state != -1) {\n            if (lastState !== state || lastValue !== value) {\n              me._ignoreContentChange = true;\n              result = oldExecCommand.apply(me, arguments);\n              me._ignoreContentChange = false;\n            }\n            lastState = me.queryCommandState(cmd);\n            lastValue = me.queryCommandValue(cmd);\n            if (domUtils.isEmptyBlock(td)) {\n              domUtils.fillNode(me.document, td);\n            }\n          }\n        }\n        range.setStart(tds[0], 0).shrinkBoundary(true).setCursor(false, true);\n        me.fireEvent(\"contentchange\");\n        me.fireEvent(\"afterexeccommand\", cmd);\n        me.__hasEnterExecCommand = false;\n        me._selectionChange();\n      } else {\n        result = oldExecCommand.apply(me, arguments);\n      }\n      return result;\n    };\n  });\n  /**\n     * 删除obj的宽高style，改成属性宽高\n     * @param obj\n     * @param replaceToProperty\n     */\n  function removeStyleSize(obj, replaceToProperty) {\n    removeStyle(obj, \"width\", true);\n    removeStyle(obj, \"height\", true);\n  }\n\n  function removeStyle(obj, styleName, replaceToProperty) {\n    if (obj.style[styleName]) {\n      replaceToProperty &&\n        obj.setAttribute(styleName, parseInt(obj.style[styleName], 10));\n      obj.style[styleName] = \"\";\n    }\n  }\n\n  function getParentTdOrTh(ele) {\n    if (ele.tagName == \"TD\" || ele.tagName == \"TH\") return ele;\n    var td;\n    if (\n      (td =\n        domUtils.findParentByTagName(ele, \"td\", true) ||\n        domUtils.findParentByTagName(ele, \"th\", true))\n    )\n      return td;\n    return null;\n  }\n\n  function isEmptyBlock(node) {\n    var reg = new RegExp(domUtils.fillChar, \"g\");\n    if (\n      node[browser.ie ? \"innerText\" : \"textContent\"]\n        .replace(/^\\s*$/, \"\")\n        .replace(reg, \"\").length > 0\n    ) {\n      return 0;\n    }\n    for (var n in dtd.$isNotEmpty) {\n      if (node.getElementsByTagName(n).length) {\n        return 0;\n      }\n    }\n    return 1;\n  }\n\n  function mouseCoords(evt) {\n    if (evt.pageX || evt.pageY) {\n      return { x: evt.pageX, y: evt.pageY };\n    }\n    return {\n      x:\n        evt.clientX + me.document.body.scrollLeft - me.document.body.clientLeft,\n      y: evt.clientY + me.document.body.scrollTop - me.document.body.clientTop\n    };\n  }\n\n  function mouseMoveEvent(evt) {\n    if (isEditorDisabled()) {\n      return;\n    }\n\n    try {\n      //普通状态下鼠标移动\n      var target = getParentTdOrTh(evt.target || evt.srcElement),\n        pos;\n\n      //区分用户的行为是拖动还是双击\n      if (isInResizeBuffer) {\n        me.body.style.webkitUserSelect = \"none\";\n\n        if (\n          Math.abs(userActionStatus.x - evt.clientX) > offsetOfTableCell ||\n          Math.abs(userActionStatus.y - evt.clientY) > offsetOfTableCell\n        ) {\n          clearTableDragTimer();\n          isInResizeBuffer = false;\n          singleClickState = 0;\n          //drag action\n          tableBorderDrag(evt);\n        }\n      }\n\n      //修改单元格大小时的鼠标移动\n      if (onDrag && dragTd) {\n        singleClickState = 0;\n        me.body.style.webkitUserSelect = \"none\";\n        me.selection.getNative()[\n          browser.ie9below ? \"empty\" : \"removeAllRanges\"\n        ]();\n        pos = mouseCoords(evt);\n        toggleDraggableState(me, true, onDrag, pos, target);\n        if (onDrag == \"h\") {\n          dragLine.style.left = getPermissionX(dragTd, evt) + \"px\";\n        } else if (onDrag == \"v\") {\n          dragLine.style.top = getPermissionY(dragTd, evt) + \"px\";\n        }\n        return;\n      }\n      //当鼠标处于table上时，修改移动过程中的光标状态\n      if (target) {\n        //针对使用table作为容器的组件不触发拖拽效果\n        if (me.fireEvent(\"excludetable\", target) === true) return;\n        pos = mouseCoords(evt);\n        var state = getRelation(target, pos),\n          table = domUtils.findParentByTagName(target, \"table\", true);\n\n        if (inTableSide(table, target, evt, true)) {\n          if (me.fireEvent(\"excludetable\", table) === true) return;\n          me.body.style.cursor =\n            \"url(\" + me.options.cursorpath + \"h.png),pointer\";\n        } else if (inTableSide(table, target, evt)) {\n          if (me.fireEvent(\"excludetable\", table) === true) return;\n          me.body.style.cursor =\n            \"url(\" + me.options.cursorpath + \"v.png),pointer\";\n        } else {\n          me.body.style.cursor = \"text\";\n          var curCell = target;\n          if (/\\d/.test(state)) {\n            state = state.replace(/\\d/, \"\");\n            target = getUETable(target).getPreviewCell(target, state == \"v\");\n          }\n          //位于第一行的顶部或者第一列的左边时不可拖动\n          toggleDraggableState(\n            me,\n            target ? !!state : false,\n            target ? state : \"\",\n            pos,\n            target\n          );\n        }\n      } else {\n        toggleDragButton(false, table, me);\n      }\n    } catch (e) {\n      showError(e);\n    }\n  }\n\n  var dragButtonTimer;\n\n  function toggleDragButton(show, table, editor) {\n    if (!show) {\n      if (dragOver) return;\n      dragButtonTimer = setTimeout(function() {\n        !dragOver &&\n          dragButton &&\n          dragButton.parentNode &&\n          dragButton.parentNode.removeChild(dragButton);\n      }, 2000);\n    } else {\n      createDragButton(table, editor);\n    }\n  }\n\n  function createDragButton(table, editor) {\n    var pos = domUtils.getXY(table),\n      doc = table.ownerDocument;\n    if (dragButton && dragButton.parentNode) return dragButton;\n    dragButton = doc.createElement(\"div\");\n    dragButton.contentEditable = false;\n    dragButton.innerHTML = \"\";\n    dragButton.style.cssText =\n      \"width:15px;height:15px;background-image:url(\" +\n      editor.options.UEDITOR_HOME_URL +\n      \"dialogs/table/dragicon.png);position: absolute;cursor:move;top:\" +\n      (pos.y - 15) +\n      \"px;left:\" +\n      pos.x +\n      \"px;\";\n    domUtils.unSelectable(dragButton);\n    dragButton.onmouseover = function(evt) {\n      dragOver = true;\n    };\n    dragButton.onmouseout = function(evt) {\n      dragOver = false;\n    };\n    domUtils.on(dragButton, \"click\", function(type, evt) {\n      doClick(evt, this);\n    });\n    domUtils.on(dragButton, \"dblclick\", function(type, evt) {\n      doDblClick(evt);\n    });\n    domUtils.on(dragButton, \"dragstart\", function(type, evt) {\n      domUtils.preventDefault(evt);\n    });\n    var timer;\n\n    function doClick(evt, button) {\n      // 部分浏览器下需要清理\n      clearTimeout(timer);\n      timer = setTimeout(function() {\n        editor.fireEvent(\"tableClicked\", table, button);\n      }, 300);\n    }\n\n    function doDblClick(evt) {\n      clearTimeout(timer);\n      var ut = getUETable(table),\n        start = table.rows[0].cells[0],\n        end = ut.getLastCell(),\n        range = ut.getCellsRange(start, end);\n      editor.selection.getRange().setStart(start, 0).setCursor(false, true);\n      ut.setSelected(range);\n    }\n\n    doc.body.appendChild(dragButton);\n  }\n\n  //    function inPosition(table, pos) {\n  //        var tablePos = domUtils.getXY(table),\n  //            width = table.offsetWidth,\n  //            height = table.offsetHeight;\n  //        if (pos.x - tablePos.x < 5 && pos.y - tablePos.y < 5) {\n  //            return \"topLeft\";\n  //        } else if (tablePos.x + width - pos.x < 5 && tablePos.y + height - pos.y < 5) {\n  //            return \"bottomRight\";\n  //        }\n  //    }\n\n  function inTableSide(table, cell, evt, top) {\n    var pos = mouseCoords(evt),\n      state = getRelation(cell, pos);\n\n    if (top) {\n      var caption = table.getElementsByTagName(\"caption\")[0],\n        capHeight = caption ? caption.offsetHeight : 0;\n      return state == \"v1\" && pos.y - domUtils.getXY(table).y - capHeight < 8;\n    } else {\n      return state == \"h1\" && pos.x - domUtils.getXY(table).x < 8;\n    }\n  }\n\n  /**\n     * 获取拖动时允许的X轴坐标\n     * @param dragTd\n     * @param evt\n     */\n  function getPermissionX(dragTd, evt) {\n    var ut = getUETable(dragTd);\n    if (ut) {\n      var preTd = ut.getSameEndPosCells(dragTd, \"x\")[0],\n        nextTd = ut.getSameStartPosXCells(dragTd)[0],\n        mouseX = mouseCoords(evt).x,\n        left =\n          (preTd ? domUtils.getXY(preTd).x : domUtils.getXY(ut.table).x) + 20,\n        right = nextTd\n          ? domUtils.getXY(nextTd).x + nextTd.offsetWidth - 20\n          : me.body.offsetWidth + 5 ||\n              parseInt(domUtils.getComputedStyle(me.body, \"width\"), 10);\n\n      left += cellMinWidth;\n      right -= cellMinWidth;\n\n      return mouseX < left ? left : mouseX > right ? right : mouseX;\n    }\n  }\n\n  /**\n     * 获取拖动时允许的Y轴坐标\n     */\n  function getPermissionY(dragTd, evt) {\n    try {\n      var top = domUtils.getXY(dragTd).y,\n        mousePosY = mouseCoords(evt).y;\n      return mousePosY < top ? top : mousePosY;\n    } catch (e) {\n      showError(e);\n    }\n  }\n\n  /**\n     * 移动状态切换\n     */\n  function toggleDraggableState(editor, draggable, dir, mousePos, cell) {\n    try {\n      editor.body.style.cursor = dir == \"h\"\n        ? \"col-resize\"\n        : dir == \"v\" ? \"row-resize\" : \"text\";\n      if (browser.ie) {\n        if (dir && !mousedown && !getUETableBySelected(editor)) {\n          getDragLine(editor, editor.document);\n          showDragLineAt(dir, cell);\n        } else {\n          hideDragLine(editor);\n        }\n      }\n      onBorder = draggable;\n    } catch (e) {\n      showError(e);\n    }\n  }\n\n  /**\n     * 获取与UETable相关的resize line\n     * @param uetable UETable对象\n     */\n  function getResizeLineByUETable() {\n    var lineId = \"_UETableResizeLine\",\n      line = this.document.getElementById(lineId);\n\n    if (!line) {\n      line = this.document.createElement(\"div\");\n      line.id = lineId;\n      line.contnetEditable = false;\n      line.setAttribute(\"unselectable\", \"on\");\n\n      var styles = {\n        width: 2 * cellBorderWidth + 1 + \"px\",\n        position: \"absolute\",\n        \"z-index\": 100000,\n        cursor: \"col-resize\",\n        background: \"red\",\n        display: \"none\"\n      };\n\n      //切换状态\n      line.onmouseout = function() {\n        this.style.display = \"none\";\n      };\n\n      utils.extend(line.style, styles);\n\n      this.document.body.appendChild(line);\n    }\n\n    return line;\n  }\n\n  /**\n     * 更新resize-line\n     */\n  function updateResizeLine(cell, uetable) {\n    var line = getResizeLineByUETable.call(this),\n      table = uetable.table,\n      styles = {\n        top: domUtils.getXY(table).y + \"px\",\n        left:\n          domUtils.getXY(cell).x + cell.offsetWidth - cellBorderWidth + \"px\",\n        display: \"block\",\n        height: table.offsetHeight + \"px\"\n      };\n\n    utils.extend(line.style, styles);\n  }\n\n  /**\n     * 显示resize-line\n     */\n  function showResizeLine(cell) {\n    var uetable = getUETable(cell);\n\n    updateResizeLine.call(this, cell, uetable);\n  }\n\n  /**\n     * 获取鼠标与当前单元格的相对位置\n     * @param ele\n     * @param mousePos\n     */\n  function getRelation(ele, mousePos) {\n    var elePos = domUtils.getXY(ele);\n\n    if (!elePos) {\n      return \"\";\n    }\n\n    if (elePos.x + ele.offsetWidth - mousePos.x < cellBorderWidth) {\n      return \"h\";\n    }\n    if (mousePos.x - elePos.x < cellBorderWidth) {\n      return \"h1\";\n    }\n    if (elePos.y + ele.offsetHeight - mousePos.y < cellBorderWidth) {\n      return \"v\";\n    }\n    if (mousePos.y - elePos.y < cellBorderWidth) {\n      return \"v1\";\n    }\n    return \"\";\n  }\n\n  function mouseDownEvent(type, evt) {\n    if (isEditorDisabled()) {\n      return;\n    }\n\n    userActionStatus = {\n      x: evt.clientX,\n      y: evt.clientY\n    };\n\n    //右键菜单单独处理\n    if (evt.button == 2) {\n      var ut = getUETableBySelected(me),\n        flag = false;\n\n      if (ut) {\n        var td = getTargetTd(me, evt);\n        utils.each(ut.selectedTds, function(ti) {\n          if (ti === td) {\n            flag = true;\n          }\n        });\n        if (!flag) {\n          removeSelectedClass(domUtils.getElementsByTagName(me.body, \"th td\"));\n          ut.clearSelected();\n        } else {\n          td = ut.selectedTds[0];\n          setTimeout(function() {\n            me.selection.getRange().setStart(td, 0).setCursor(false, true);\n          }, 0);\n        }\n      }\n    } else {\n      tableClickHander(evt);\n    }\n  }\n\n  //清除表格的计时器\n  function clearTableTimer() {\n    tabTimer && clearTimeout(tabTimer);\n    tabTimer = null;\n  }\n\n  //双击收缩\n  function tableDbclickHandler(evt) {\n    singleClickState = 0;\n    evt = evt || me.window.event;\n    var target = getParentTdOrTh(evt.target || evt.srcElement);\n    if (target) {\n      var h;\n      if ((h = getRelation(target, mouseCoords(evt)))) {\n        hideDragLine(me);\n\n        if (h == \"h1\") {\n          h = \"h\";\n          if (\n            inTableSide(\n              domUtils.findParentByTagName(target, \"table\"),\n              target,\n              evt\n            )\n          ) {\n            me.execCommand(\"adaptbywindow\");\n          } else {\n            target = getUETable(target).getPreviewCell(target);\n            if (target) {\n              var rng = me.selection.getRange();\n              rng.selectNodeContents(target).setCursor(true, true);\n            }\n          }\n        }\n        if (h == \"h\") {\n          var ut = getUETable(target),\n            table = ut.table,\n            cells = getCellsByMoveBorder(target, table, true);\n\n          cells = extractArray(cells, \"left\");\n\n          ut.width = ut.offsetWidth;\n\n          var oldWidth = [],\n            newWidth = [];\n\n          utils.each(cells, function(cell) {\n            oldWidth.push(cell.offsetWidth);\n          });\n\n          utils.each(cells, function(cell) {\n            cell.removeAttribute(\"width\");\n          });\n\n          window.setTimeout(function() {\n            //是否允许改变\n            var changeable = true;\n\n            utils.each(cells, function(cell, index) {\n              var width = cell.offsetWidth;\n\n              if (width > oldWidth[index]) {\n                changeable = false;\n                return false;\n              }\n\n              newWidth.push(width);\n            });\n\n            var change = changeable ? newWidth : oldWidth;\n\n            utils.each(cells, function(cell, index) {\n              cell.width = change[index] - getTabcellSpace();\n            });\n          }, 0);\n\n          //                    minWidth -= cellMinWidth;\n          //\n          //                    table.removeAttribute(\"width\");\n          //                    utils.each(cells, function (cell) {\n          //                        cell.style.width = \"\";\n          //                        cell.width -= minWidth;\n          //                    });\n        }\n      }\n    }\n  }\n\n  function tableClickHander(evt) {\n    removeSelectedClass(domUtils.getElementsByTagName(me.body, \"td th\"));\n    //trace:3113\n    //选中单元格，点击table外部，不会清掉table上挂的ueTable,会引起getUETableBySelected方法返回值\n    utils.each(me.document.getElementsByTagName(\"table\"), function(t) {\n      t.ueTable = null;\n    });\n    startTd = getTargetTd(me, evt);\n    if (!startTd) return;\n    var table = domUtils.findParentByTagName(startTd, \"table\", true);\n    ut = getUETable(table);\n    ut && ut.clearSelected();\n\n    //判断当前鼠标状态\n    if (!onBorder) {\n      me.document.body.style.webkitUserSelect = \"\";\n      mousedown = true;\n      me.addListener(\"mouseover\", mouseOverEvent);\n    } else {\n      //边框上的动作处理\n      borderActionHandler(evt);\n    }\n  }\n\n  //处理表格边框上的动作, 这里做延时处理，避免两种动作互相影响\n  function borderActionHandler(evt) {\n    if (browser.ie) {\n      evt = reconstruct(evt);\n    }\n\n    clearTableDragTimer();\n\n    //是否正在等待resize的缓冲中\n    isInResizeBuffer = true;\n\n    tableDragTimer = setTimeout(function() {\n      tableBorderDrag(evt);\n    }, dblclickTime);\n  }\n\n  function extractArray(originArr, key) {\n    var result = [],\n      tmp = null;\n\n    for (var i = 0, len = originArr.length; i < len; i++) {\n      tmp = originArr[i][key];\n\n      if (tmp) {\n        result.push(tmp);\n      }\n    }\n\n    return result;\n  }\n\n  function clearTableDragTimer() {\n    tableDragTimer && clearTimeout(tableDragTimer);\n    tableDragTimer = null;\n  }\n\n  function reconstruct(obj) {\n    var attrs = [\n      \"pageX\",\n      \"pageY\",\n      \"clientX\",\n      \"clientY\",\n      \"srcElement\",\n      \"target\"\n    ],\n      newObj = {};\n\n    if (obj) {\n      for (var i = 0, key, val; (key = attrs[i]); i++) {\n        val = obj[key];\n        val && (newObj[key] = val);\n      }\n    }\n\n    return newObj;\n  }\n\n  //边框拖动\n  function tableBorderDrag(evt) {\n    isInResizeBuffer = false;\n\n    startTd = evt.target || evt.srcElement;\n    if (!startTd) return;\n    var state = getRelation(startTd, mouseCoords(evt));\n    if (/\\d/.test(state)) {\n      state = state.replace(/\\d/, \"\");\n      startTd = getUETable(startTd).getPreviewCell(startTd, state == \"v\");\n    }\n    hideDragLine(me);\n    getDragLine(me, me.document);\n    me.fireEvent(\"saveScene\");\n    showDragLineAt(state, startTd);\n    mousedown = true;\n    //拖动开始\n    onDrag = state;\n    dragTd = startTd;\n  }\n\n  function mouseUpEvent(type, evt) {\n    if (isEditorDisabled()) {\n      return;\n    }\n\n    clearTableDragTimer();\n\n    isInResizeBuffer = false;\n\n    if (onBorder) {\n      singleClickState = ++singleClickState % 3;\n\n      userActionStatus = {\n        x: evt.clientX,\n        y: evt.clientY\n      };\n\n      tableResizeTimer = setTimeout(function() {\n        singleClickState > 0 && singleClickState--;\n      }, dblclickTime);\n\n      if (singleClickState === 2) {\n        singleClickState = 0;\n        tableDbclickHandler(evt);\n        return;\n      }\n    }\n\n    if (evt.button == 2) return;\n    var me = this;\n    //清除表格上原生跨选问题\n    var range = me.selection.getRange(),\n      start = domUtils.findParentByTagName(range.startContainer, \"table\", true),\n      end = domUtils.findParentByTagName(range.endContainer, \"table\", true);\n\n    if (start || end) {\n      if (start === end) {\n        start = domUtils.findParentByTagName(\n          range.startContainer,\n          [\"td\", \"th\", \"caption\"],\n          true\n        );\n        end = domUtils.findParentByTagName(\n          range.endContainer,\n          [\"td\", \"th\", \"caption\"],\n          true\n        );\n        if (start !== end) {\n          me.selection.clearRange();\n        }\n      } else {\n        me.selection.clearRange();\n      }\n    }\n    mousedown = false;\n    me.document.body.style.webkitUserSelect = \"\";\n    //拖拽状态下的mouseUP\n    if (onDrag && dragTd) {\n      me.selection.getNative()[\n        browser.ie9below ? \"empty\" : \"removeAllRanges\"\n      ]();\n\n      singleClickState = 0;\n      dragLine = me.document.getElementById(\"ue_tableDragLine\");\n\n      // trace 3973\n      if (dragLine) {\n        var dragTdPos = domUtils.getXY(dragTd),\n          dragLinePos = domUtils.getXY(dragLine);\n\n        switch (onDrag) {\n          case \"h\":\n            changeColWidth(dragTd, dragLinePos.x - dragTdPos.x);\n            break;\n          case \"v\":\n            changeRowHeight(\n              dragTd,\n              dragLinePos.y - dragTdPos.y - dragTd.offsetHeight\n            );\n            break;\n          default:\n        }\n        onDrag = \"\";\n        dragTd = null;\n\n        hideDragLine(me);\n        me.fireEvent(\"saveScene\");\n        return;\n      }\n    }\n    //正常状态下的mouseup\n    if (!startTd) {\n      var target = domUtils.findParentByTagName(\n        evt.target || evt.srcElement,\n        \"td\",\n        true\n      );\n      if (!target)\n        target = domUtils.findParentByTagName(\n          evt.target || evt.srcElement,\n          \"th\",\n          true\n        );\n      if (target && (target.tagName == \"TD\" || target.tagName == \"TH\")) {\n        if (me.fireEvent(\"excludetable\", target) === true) return;\n        range = new dom.Range(me.document);\n        range.setStart(target, 0).setCursor(false, true);\n      }\n    } else {\n      var ut = getUETable(startTd),\n        cell = ut ? ut.selectedTds[0] : null;\n      if (cell) {\n        range = new dom.Range(me.document);\n        if (domUtils.isEmptyBlock(cell)) {\n          range.setStart(cell, 0).setCursor(false, true);\n        } else {\n          range\n            .selectNodeContents(cell)\n            .shrinkBoundary()\n            .setCursor(false, true);\n        }\n      } else {\n        range = me.selection.getRange().shrinkBoundary();\n        if (!range.collapsed) {\n          var start = domUtils.findParentByTagName(\n            range.startContainer,\n            [\"td\", \"th\"],\n            true\n          ),\n            end = domUtils.findParentByTagName(\n              range.endContainer,\n              [\"td\", \"th\"],\n              true\n            );\n          //在table里边的不能清除\n          if (\n            (start && !end) ||\n            (!start && end) ||\n            (start && end && start !== end)\n          ) {\n            range.setCursor(false, true);\n          }\n        }\n      }\n      startTd = null;\n      me.removeListener(\"mouseover\", mouseOverEvent);\n    }\n    me._selectionChange(250, evt);\n  }\n\n  function mouseOverEvent(type, evt) {\n    if (isEditorDisabled()) {\n      return;\n    }\n\n    var me = this,\n      tar = evt.target || evt.srcElement;\n    currentTd =\n      domUtils.findParentByTagName(tar, \"td\", true) ||\n      domUtils.findParentByTagName(tar, \"th\", true);\n    //需要判断两个TD是否位于同一个表格内\n    if (\n      startTd &&\n      currentTd &&\n      ((startTd.tagName == \"TD\" && currentTd.tagName == \"TD\") ||\n        (startTd.tagName == \"TH\" && currentTd.tagName == \"TH\")) &&\n      domUtils.findParentByTagName(startTd, \"table\") ==\n        domUtils.findParentByTagName(currentTd, \"table\")\n    ) {\n      var ut = getUETable(currentTd);\n      if (startTd != currentTd) {\n        me.document.body.style.webkitUserSelect = \"none\";\n        me.selection.getNative()[\n          browser.ie9below ? \"empty\" : \"removeAllRanges\"\n        ]();\n        var range = ut.getCellsRange(startTd, currentTd);\n        ut.setSelected(range);\n      } else {\n        me.document.body.style.webkitUserSelect = \"\";\n        ut.clearSelected();\n      }\n    }\n    evt.preventDefault ? evt.preventDefault() : (evt.returnValue = false);\n  }\n\n  function setCellHeight(cell, height, backHeight) {\n    var lineHight = parseInt(\n      domUtils.getComputedStyle(cell, \"line-height\"),\n      10\n    ),\n      tmpHeight = backHeight + height;\n    height = tmpHeight < lineHight ? lineHight : tmpHeight;\n    if (cell.style.height) cell.style.height = \"\";\n    cell.rowSpan == 1\n      ? cell.setAttribute(\"height\", height)\n      : cell.removeAttribute && cell.removeAttribute(\"height\");\n  }\n\n  function getWidth(cell) {\n    if (!cell) return 0;\n    return parseInt(domUtils.getComputedStyle(cell, \"width\"), 10);\n  }\n\n  function changeColWidth(cell, changeValue) {\n    var ut = getUETable(cell);\n    if (ut) {\n      //根据当前移动的边框获取相关的单元格\n      var table = ut.table,\n        cells = getCellsByMoveBorder(cell, table);\n\n      table.style.width = \"\";\n      table.removeAttribute(\"width\");\n\n      //修正改变量\n      changeValue = correctChangeValue(changeValue, cell, cells);\n\n      if (cell.nextSibling) {\n        var i = 0;\n\n        utils.each(cells, function(cellGroup) {\n          cellGroup.left.width = +cellGroup.left.width + changeValue;\n          cellGroup.right &&\n            (cellGroup.right.width = +cellGroup.right.width - changeValue);\n        });\n      } else {\n        utils.each(cells, function(cellGroup) {\n          cellGroup.left.width -= -changeValue;\n        });\n      }\n    }\n  }\n\n  function isEditorDisabled() {\n    return me.body.contentEditable === \"false\";\n  }\n\n  function changeRowHeight(td, changeValue) {\n    if (Math.abs(changeValue) < 10) return;\n    var ut = getUETable(td);\n    if (ut) {\n      var cells = ut.getSameEndPosCells(td, \"y\"),\n        //备份需要连带变化的td的原始高度，否则后期无法获取正确的值\n        backHeight = cells[0] ? cells[0].offsetHeight : 0;\n      for (var i = 0, cell; (cell = cells[i++]); ) {\n        setCellHeight(cell, changeValue, backHeight);\n      }\n    }\n  }\n\n  /**\n     * 获取调整单元格大小的相关单元格\n     * @isContainMergeCell 返回的结果中是否包含发生合并后的单元格\n     */\n  function getCellsByMoveBorder(cell, table, isContainMergeCell) {\n    if (!table) {\n      table = domUtils.findParentByTagName(cell, \"table\");\n    }\n\n    if (!table) {\n      return null;\n    }\n\n    //获取到该单元格所在行的序列号\n    var index = domUtils.getNodeIndex(cell),\n      temp = cell,\n      rows = table.rows,\n      colIndex = 0;\n\n    while (temp) {\n      //获取到当前单元格在未发生单元格合并时的序列\n      if (temp.nodeType === 1) {\n        colIndex += temp.colSpan || 1;\n      }\n      temp = temp.previousSibling;\n    }\n\n    temp = null;\n\n    //记录想关的单元格\n    var borderCells = [];\n\n    utils.each(rows, function(tabRow) {\n      var cells = tabRow.cells,\n        currIndex = 0;\n\n      utils.each(cells, function(tabCell) {\n        currIndex += tabCell.colSpan || 1;\n\n        if (currIndex === colIndex) {\n          borderCells.push({\n            left: tabCell,\n            right: tabCell.nextSibling || null\n          });\n\n          return false;\n        } else if (currIndex > colIndex) {\n          if (isContainMergeCell) {\n            borderCells.push({\n              left: tabCell\n            });\n          }\n\n          return false;\n        }\n      });\n    });\n\n    return borderCells;\n  }\n\n  /**\n     * 通过给定的单元格集合获取最小的单元格width\n     */\n  function getMinWidthByTableCells(cells) {\n    var minWidth = Number.MAX_VALUE;\n\n    for (var i = 0, curCell; (curCell = cells[i]); i++) {\n      minWidth = Math.min(\n        minWidth,\n        curCell.width || getTableCellWidth(curCell)\n      );\n    }\n\n    return minWidth;\n  }\n\n  function correctChangeValue(changeValue, relatedCell, cells) {\n    //为单元格的paading预留空间\n    changeValue -= getTabcellSpace();\n\n    if (changeValue < 0) {\n      return 0;\n    }\n\n    changeValue -= getTableCellWidth(relatedCell);\n\n    //确定方向\n    var direction = changeValue < 0 ? \"left\" : \"right\";\n\n    changeValue = Math.abs(changeValue);\n\n    //只关心非最后一个单元格就可以\n    utils.each(cells, function(cellGroup) {\n      var curCell = cellGroup[direction];\n\n      //为单元格保留最小空间\n      if (curCell) {\n        changeValue = Math.min(\n          changeValue,\n          getTableCellWidth(curCell) - cellMinWidth\n        );\n      }\n    });\n\n    //修正越界\n    changeValue = changeValue < 0 ? 0 : changeValue;\n\n    return direction === \"left\" ? -changeValue : changeValue;\n  }\n\n  function getTableCellWidth(cell) {\n    var width = 0,\n      //偏移纠正量\n      offset = 0,\n      width = cell.offsetWidth - getTabcellSpace();\n\n    //最后一个节点纠正一下\n    if (!cell.nextSibling) {\n      width -= getTableCellOffset(cell);\n    }\n\n    width = width < 0 ? 0 : width;\n\n    try {\n      cell.width = width;\n    } catch (e) {}\n\n    return width;\n  }\n\n  /**\n     * 获取单元格所在表格的最末单元格的偏移量\n     */\n  function getTableCellOffset(cell) {\n    tab = domUtils.findParentByTagName(cell, \"table\", false);\n\n    if (tab.offsetVal === undefined) {\n      var prev = cell.previousSibling;\n\n      if (prev) {\n        //最后一个单元格和前一个单元格的width diff结果 如果恰好为一个border width， 则条件成立\n        tab.offsetVal = cell.offsetWidth - prev.offsetWidth === UT.borderWidth\n          ? UT.borderWidth\n          : 0;\n      } else {\n        tab.offsetVal = 0;\n      }\n    }\n\n    return tab.offsetVal;\n  }\n\n  function getTabcellSpace() {\n    if (UT.tabcellSpace === undefined) {\n      var cell = null,\n        tab = me.document.createElement(\"table\"),\n        tbody = me.document.createElement(\"tbody\"),\n        trow = me.document.createElement(\"tr\"),\n        tabcell = me.document.createElement(\"td\"),\n        mirror = null;\n\n      tabcell.style.cssText = \"border: 0;\";\n      tabcell.width = 1;\n\n      trow.appendChild(tabcell);\n      trow.appendChild((mirror = tabcell.cloneNode(false)));\n\n      tbody.appendChild(trow);\n\n      tab.appendChild(tbody);\n\n      tab.style.cssText = \"visibility: hidden;\";\n\n      me.body.appendChild(tab);\n\n      UT.paddingSpace = tabcell.offsetWidth - 1;\n\n      var tmpTabWidth = tab.offsetWidth;\n\n      tabcell.style.cssText = \"\";\n      mirror.style.cssText = \"\";\n\n      UT.borderWidth = (tab.offsetWidth - tmpTabWidth) / 3;\n\n      UT.tabcellSpace = UT.paddingSpace + UT.borderWidth;\n\n      me.body.removeChild(tab);\n    }\n\n    getTabcellSpace = function() {\n      return UT.tabcellSpace;\n    };\n\n    return UT.tabcellSpace;\n  }\n\n  function getDragLine(editor, doc) {\n    if (mousedown) return;\n    dragLine = editor.document.createElement(\"div\");\n    domUtils.setAttributes(dragLine, {\n      id: \"ue_tableDragLine\",\n      unselectable: \"on\",\n      contenteditable: false,\n      onresizestart: \"return false\",\n      ondragstart: \"return false\",\n      onselectstart: \"return false\",\n      style:\n        \"background-color:blue;position:absolute;padding:0;margin:0;background-image:none;border:0px none;opacity:0;filter:alpha(opacity=0)\"\n    });\n    editor.body.appendChild(dragLine);\n  }\n\n  function hideDragLine(editor) {\n    if (mousedown) return;\n    var line;\n    while ((line = editor.document.getElementById(\"ue_tableDragLine\"))) {\n      domUtils.remove(line);\n    }\n  }\n\n  /**\n     * 依据state（v|h）在cell位置显示横线\n     * @param state\n     * @param cell\n     */\n  function showDragLineAt(state, cell) {\n    if (!cell) return;\n    var table = domUtils.findParentByTagName(cell, \"table\"),\n      caption = table.getElementsByTagName(\"caption\"),\n      width = table.offsetWidth,\n      height =\n        table.offsetHeight - (caption.length > 0 ? caption[0].offsetHeight : 0),\n      tablePos = domUtils.getXY(table),\n      cellPos = domUtils.getXY(cell),\n      css;\n    switch (state) {\n      case \"h\":\n        css =\n          \"height:\" +\n          height +\n          \"px;top:\" +\n          (tablePos.y + (caption.length > 0 ? caption[0].offsetHeight : 0)) +\n          \"px;left:\" +\n          (cellPos.x + cell.offsetWidth);\n        dragLine.style.cssText =\n          css +\n          \"px;position: absolute;display:block;background-color:blue;width:1px;border:0; color:blue;opacity:.3;filter:alpha(opacity=30)\";\n        break;\n      case \"v\":\n        css =\n          \"width:\" +\n          width +\n          \"px;left:\" +\n          tablePos.x +\n          \"px;top:\" +\n          (cellPos.y + cell.offsetHeight);\n        //必须加上border:0和color:blue，否则低版ie不支持背景色显示\n        dragLine.style.cssText =\n          css +\n          \"px;overflow:hidden;position: absolute;display:block;background-color:blue;height:1px;border:0;color:blue;opacity:.2;filter:alpha(opacity=20)\";\n        break;\n      default:\n    }\n  }\n\n  /**\n     * 当表格边框颜色为白色时设置为虚线,true为添加虚线\n     * @param editor\n     * @param flag\n     */\n  function switchBorderColor(editor, flag) {\n    var tableArr = domUtils.getElementsByTagName(editor.body, \"table\"),\n      color;\n    for (var i = 0, node; (node = tableArr[i++]); ) {\n      var td = domUtils.getElementsByTagName(node, \"td\");\n      if (td[0]) {\n        if (flag) {\n          color = td[0].style.borderColor.replace(/\\s/g, \"\");\n          if (/(#ffffff)|(rgb\\(255,255,255\\))/gi.test(color))\n            domUtils.addClass(node, \"noBorderTable\");\n        } else {\n          domUtils.removeClasses(node, \"noBorderTable\");\n        }\n      }\n    }\n  }\n\n  function getTableWidth(editor, needIEHack, defaultValue) {\n    var body = editor.body;\n    return (\n      body.offsetWidth -\n      (needIEHack\n        ? parseInt(domUtils.getComputedStyle(body, \"margin-left\"), 10) * 2\n        : 0) -\n      defaultValue.tableBorder * 2 -\n      (editor.options.offsetWidth || 0)\n    );\n  }\n\n  /**\n     * 获取当前拖动的单元格\n     */\n  function getTargetTd(editor, evt) {\n    var target = domUtils.findParentByTagName(\n      evt.target || evt.srcElement,\n      [\"td\", \"th\"],\n      true\n    ),\n      dir = null;\n\n    if (!target) {\n      return null;\n    }\n\n    dir = getRelation(target, mouseCoords(evt));\n\n    //如果有前一个节点， 需要做一个修正， 否则可能会得到一个错误的td\n\n    if (!target) {\n      return null;\n    }\n\n    if (dir === \"h1\" && target.previousSibling) {\n      var position = domUtils.getXY(target),\n        cellWidth = target.offsetWidth;\n\n      if (Math.abs(position.x + cellWidth - evt.clientX) > cellWidth / 3) {\n        target = target.previousSibling;\n      }\n    } else if (dir === \"v1\" && target.parentNode.previousSibling) {\n      var position = domUtils.getXY(target),\n        cellHeight = target.offsetHeight;\n\n      if (Math.abs(position.y + cellHeight - evt.clientY) > cellHeight / 3) {\n        target = target.parentNode.previousSibling.firstChild;\n      }\n    }\n\n    //排除了非td内部以及用于代码高亮部分的td\n    return target && !(editor.fireEvent(\"excludetable\", target) === true)\n      ? target\n      : null;\n  }\n};\n\n\n// plugins/table.sort.js\n/**\n * Created with JetBrains PhpStorm.\n * User: Jinqn\n * Date: 13-10-12\n * Time: 上午10:20\n * To change this template use File | Settings | File Templates.\n */\n\nUE.UETable.prototype.sortTable = function(sortByCellIndex, compareFn) {\n  var table = this.table,\n    rows = table.rows,\n    trArray = [],\n    flag = rows[0].cells[0].tagName === \"TH\",\n    lastRowIndex = 0;\n  if (this.selectedTds.length) {\n    var range = this.cellsRange,\n      len = range.endRowIndex + 1;\n    for (var i = range.beginRowIndex; i < len; i++) {\n      trArray[i] = rows[i];\n    }\n    trArray.splice(0, range.beginRowIndex);\n    lastRowIndex = range.endRowIndex + 1 === this.rowsNum\n      ? 0\n      : range.endRowIndex + 1;\n  } else {\n    for (var i = 0, len = rows.length; i < len; i++) {\n      trArray[i] = rows[i];\n    }\n  }\n\n  var Fn = {\n    reversecurrent: function(td1, td2) {\n      return 1;\n    },\n    orderbyasc: function(td1, td2) {\n      var value1 = td1.innerText || td1.textContent,\n        value2 = td2.innerText || td2.textContent;\n      return value1.localeCompare(value2);\n    },\n    reversebyasc: function(td1, td2) {\n      var value1 = td1.innerHTML,\n        value2 = td2.innerHTML;\n      return value2.localeCompare(value1);\n    },\n    orderbynum: function(td1, td2) {\n      var value1 = td1[browser.ie ? \"innerText\" : \"textContent\"].match(/\\d+/),\n        value2 = td2[browser.ie ? \"innerText\" : \"textContent\"].match(/\\d+/);\n      if (value1) value1 = +value1[0];\n      if (value2) value2 = +value2[0];\n      return (value1 || 0) - (value2 || 0);\n    },\n    reversebynum: function(td1, td2) {\n      var value1 = td1[browser.ie ? \"innerText\" : \"textContent\"].match(/\\d+/),\n        value2 = td2[browser.ie ? \"innerText\" : \"textContent\"].match(/\\d+/);\n      if (value1) value1 = +value1[0];\n      if (value2) value2 = +value2[0];\n      return (value2 || 0) - (value1 || 0);\n    }\n  };\n\n  //对表格设置排序的标记data-sort-type\n  table.setAttribute(\n    \"data-sort-type\",\n    compareFn && typeof compareFn === \"string\" && Fn[compareFn] ? compareFn : \"\"\n  );\n\n  //th不参与排序\n  flag && trArray.splice(0, 1);\n  trArray = utils.sort(trArray, function(tr1, tr2) {\n    var result;\n    if (compareFn && typeof compareFn === \"function\") {\n      result = compareFn.call(\n        this,\n        tr1.cells[sortByCellIndex],\n        tr2.cells[sortByCellIndex]\n      );\n    } else if (compareFn && typeof compareFn === \"number\") {\n      result = 1;\n    } else if (compareFn && typeof compareFn === \"string\" && Fn[compareFn]) {\n      result = Fn[compareFn].call(\n        this,\n        tr1.cells[sortByCellIndex],\n        tr2.cells[sortByCellIndex]\n      );\n    } else {\n      result = Fn[\"orderbyasc\"].call(\n        this,\n        tr1.cells[sortByCellIndex],\n        tr2.cells[sortByCellIndex]\n      );\n    }\n    return result;\n  });\n  var fragment = table.ownerDocument.createDocumentFragment();\n  for (var j = 0, len = trArray.length; j < len; j++) {\n    fragment.appendChild(trArray[j]);\n  }\n  var tbody = table.getElementsByTagName(\"tbody\")[0];\n  if (!lastRowIndex) {\n    tbody.appendChild(fragment);\n  } else {\n    tbody.insertBefore(\n      fragment,\n      rows[lastRowIndex - range.endRowIndex + range.beginRowIndex - 1]\n    );\n  }\n};\n\nUE.plugins[\"tablesort\"] = function() {\n  var me = this,\n    UT = UE.UETable,\n    getUETable = function(tdOrTable) {\n      return UT.getUETable(tdOrTable);\n    },\n    getTableItemsByRange = function(editor) {\n      return UT.getTableItemsByRange(editor);\n    };\n\n  me.ready(function() {\n    //添加表格可排序的样式\n    utils.cssRule(\n      \"tablesort\",\n      \"table.sortEnabled tr.firstRow th,table.sortEnabled tr.firstRow td{padding-right:20px;background-repeat: no-repeat;background-position: center right;\" +\n        \"   background-image:url(\" +\n        me.options.themePath +\n        me.options.theme +\n        \"/images/sortable.png);}\",\n      me.document\n    );\n\n    //做单元格合并操作时,清除可排序标识\n    me.addListener(\"afterexeccommand\", function(type, cmd) {\n      if (cmd == \"mergeright\" || cmd == \"mergedown\" || cmd == \"mergecells\") {\n        this.execCommand(\"disablesort\");\n      }\n    });\n  });\n\n  //表格排序\n  UE.commands[\"sorttable\"] = {\n    queryCommandState: function() {\n      var me = this,\n        tableItems = getTableItemsByRange(me);\n      if (!tableItems.cell) return -1;\n      var table = tableItems.table,\n        cells = table.getElementsByTagName(\"td\");\n      for (var i = 0, cell; (cell = cells[i++]); ) {\n        if (cell.rowSpan != 1 || cell.colSpan != 1) return -1;\n      }\n      return 0;\n    },\n    execCommand: function(cmd, fn) {\n      var me = this,\n        range = me.selection.getRange(),\n        bk = range.createBookmark(true),\n        tableItems = getTableItemsByRange(me),\n        cell = tableItems.cell,\n        ut = getUETable(tableItems.table),\n        cellInfo = ut.getCellInfo(cell);\n      ut.sortTable(cellInfo.cellIndex, fn);\n      range.moveToBookmark(bk);\n      try {\n        range.select();\n      } catch (e) {}\n    }\n  };\n\n  //设置表格可排序,清除表格可排序\n  UE.commands[\"enablesort\"] = UE.commands[\"disablesort\"] = {\n    queryCommandState: function(cmd) {\n      var table = getTableItemsByRange(this).table;\n      if (table && cmd == \"enablesort\") {\n        var cells = domUtils.getElementsByTagName(table, \"th td\");\n        for (var i = 0; i < cells.length; i++) {\n          if (\n            cells[i].getAttribute(\"colspan\") > 1 ||\n            cells[i].getAttribute(\"rowspan\") > 1\n          )\n            return -1;\n        }\n      }\n\n      return !table\n        ? -1\n        : (cmd == \"enablesort\") ^\n            (table.getAttribute(\"data-sort\") != \"sortEnabled\")\n          ? -1\n          : 0;\n    },\n    execCommand: function(cmd) {\n      var table = getTableItemsByRange(this).table;\n      table.setAttribute(\n        \"data-sort\",\n        cmd == \"enablesort\" ? \"sortEnabled\" : \"sortDisabled\"\n      );\n      cmd == \"enablesort\"\n        ? domUtils.addClass(table, \"sortEnabled\")\n        : domUtils.removeClasses(table, \"sortEnabled\");\n    }\n  };\n};\n\n\n// plugins/contextmenu.js\n///import core\n///commands 右键菜单\n///commandsName  ContextMenu\n///commandsTitle  右键菜单\n/**\n * 右键菜单\n * @function\n * @name baidu.editor.plugins.contextmenu\n * @author zhanyi\n */\n\nUE.plugins[\"contextmenu\"] = function() {\n  var me = this;\n\n  me.setOpt(\"enableContextMenu\", me.getOpt(\"enableContextMenu\") || true);\n\n  if (me.getOpt(\"enableContextMenu\") === false) {\n    return;\n  }\n  var lang = me.getLang(\"contextMenu\"),\n    menu,\n    items = me.options.contextMenu || [\n      { label: lang[\"selectall\"], cmdName: \"selectall\" },\n      {\n        label: lang.cleardoc,\n        cmdName: \"cleardoc\",\n        exec: function() {\n          if (confirm(lang.confirmclear)) {\n            this.execCommand(\"cleardoc\");\n          }\n        }\n      },\n      \"-\",\n      {\n        label: lang.unlink,\n        cmdName: \"unlink\"\n      },\n      \"-\",\n      {\n        group: lang.paragraph,\n        icon: \"justifyjustify\",\n        subMenu: [\n          {\n            label: lang.justifyleft,\n            cmdName: \"justify\",\n            value: \"left\"\n          },\n          {\n            label: lang.justifyright,\n            cmdName: \"justify\",\n            value: \"right\"\n          },\n          {\n            label: lang.justifycenter,\n            cmdName: \"justify\",\n            value: \"center\"\n          },\n          {\n            label: lang.justifyjustify,\n            cmdName: \"justify\",\n            value: \"justify\"\n          }\n        ]\n      },\n      \"-\",\n      {\n        group: lang.table,\n        icon: \"table\",\n        subMenu: [\n          {\n            label: lang.inserttable,\n            cmdName: \"inserttable\"\n          },\n          {\n            label: lang.deletetable,\n            cmdName: \"deletetable\"\n          },\n          \"-\",\n          {\n            label: lang.deleterow,\n            cmdName: \"deleterow\"\n          },\n          {\n            label: lang.deletecol,\n            cmdName: \"deletecol\"\n          },\n          {\n            label: lang.insertcol,\n            cmdName: \"insertcol\"\n          },\n          {\n            label: lang.insertcolnext,\n            cmdName: \"insertcolnext\"\n          },\n          {\n            label: lang.insertrow,\n            cmdName: \"insertrow\"\n          },\n          {\n            label: lang.insertrownext,\n            cmdName: \"insertrownext\"\n          },\n          \"-\",\n          {\n            label: lang.insertcaption,\n            cmdName: \"insertcaption\"\n          },\n          {\n            label: lang.deletecaption,\n            cmdName: \"deletecaption\"\n          },\n          {\n            label: lang.inserttitle,\n            cmdName: \"inserttitle\"\n          },\n          {\n            label: lang.deletetitle,\n            cmdName: \"deletetitle\"\n          },\n          {\n            label: lang.inserttitlecol,\n            cmdName: \"inserttitlecol\"\n          },\n          {\n            label: lang.deletetitlecol,\n            cmdName: \"deletetitlecol\"\n          },\n          \"-\",\n          {\n            label: lang.mergecells,\n            cmdName: \"mergecells\"\n          },\n          {\n            label: lang.mergeright,\n            cmdName: \"mergeright\"\n          },\n          {\n            label: lang.mergedown,\n            cmdName: \"mergedown\"\n          },\n          \"-\",\n          {\n            label: lang.splittorows,\n            cmdName: \"splittorows\"\n          },\n          {\n            label: lang.splittocols,\n            cmdName: \"splittocols\"\n          },\n          {\n            label: lang.splittocells,\n            cmdName: \"splittocells\"\n          },\n          \"-\",\n          {\n            label: lang.averageDiseRow,\n            cmdName: \"averagedistributerow\"\n          },\n          {\n            label: lang.averageDisCol,\n            cmdName: \"averagedistributecol\"\n          },\n          \"-\",\n          {\n            label: lang.edittd,\n            cmdName: \"edittd\",\n            exec: function() {\n              if (UE.ui[\"edittd\"]) {\n                new UE.ui[\"edittd\"](this);\n              }\n              this.getDialog(\"edittd\").open();\n            }\n          },\n          {\n            label: lang.edittable,\n            cmdName: \"edittable\",\n            exec: function() {\n              if (UE.ui[\"edittable\"]) {\n                new UE.ui[\"edittable\"](this);\n              }\n              this.getDialog(\"edittable\").open();\n            }\n          },\n          {\n            label: lang.setbordervisible,\n            cmdName: \"setbordervisible\"\n          }\n        ]\n      },\n      {\n        group: lang.tablesort,\n        icon: \"tablesort\",\n        subMenu: [\n          {\n            label: lang.enablesort,\n            cmdName: \"enablesort\"\n          },\n          {\n            label: lang.disablesort,\n            cmdName: \"disablesort\"\n          },\n          \"-\",\n          {\n            label: lang.reversecurrent,\n            cmdName: \"sorttable\",\n            value: \"reversecurrent\"\n          },\n          {\n            label: lang.orderbyasc,\n            cmdName: \"sorttable\",\n            value: \"orderbyasc\"\n          },\n          {\n            label: lang.reversebyasc,\n            cmdName: \"sorttable\",\n            value: \"reversebyasc\"\n          },\n          {\n            label: lang.orderbynum,\n            cmdName: \"sorttable\",\n            value: \"orderbynum\"\n          },\n          {\n            label: lang.reversebynum,\n            cmdName: \"sorttable\",\n            value: \"reversebynum\"\n          }\n        ]\n      },\n      {\n        group: lang.borderbk,\n        icon: \"borderBack\",\n        subMenu: [\n          {\n            label: lang.setcolor,\n            cmdName: \"interlacetable\",\n            exec: function() {\n              this.execCommand(\"interlacetable\");\n            }\n          },\n          {\n            label: lang.unsetcolor,\n            cmdName: \"uninterlacetable\",\n            exec: function() {\n              this.execCommand(\"uninterlacetable\");\n            }\n          },\n          {\n            label: lang.setbackground,\n            cmdName: \"settablebackground\",\n            exec: function() {\n              this.execCommand(\"settablebackground\", {\n                repeat: true,\n                colorList: [\"#bbb\", \"#ccc\"]\n              });\n            }\n          },\n          {\n            label: lang.unsetbackground,\n            cmdName: \"cleartablebackground\",\n            exec: function() {\n              this.execCommand(\"cleartablebackground\");\n            }\n          },\n          {\n            label: lang.redandblue,\n            cmdName: \"settablebackground\",\n            exec: function() {\n              this.execCommand(\"settablebackground\", {\n                repeat: true,\n                colorList: [\"red\", \"blue\"]\n              });\n            }\n          },\n          {\n            label: lang.threecolorgradient,\n            cmdName: \"settablebackground\",\n            exec: function() {\n              this.execCommand(\"settablebackground\", {\n                repeat: true,\n                colorList: [\"#aaa\", \"#bbb\", \"#ccc\"]\n              });\n            }\n          }\n        ]\n      },\n      {\n        group: lang.aligntd,\n        icon: \"aligntd\",\n        subMenu: [\n          {\n            cmdName: \"cellalignment\",\n            value: { align: \"left\", vAlign: \"top\" }\n          },\n          {\n            cmdName: \"cellalignment\",\n            value: { align: \"center\", vAlign: \"top\" }\n          },\n          {\n            cmdName: \"cellalignment\",\n            value: { align: \"right\", vAlign: \"top\" }\n          },\n          {\n            cmdName: \"cellalignment\",\n            value: { align: \"left\", vAlign: \"middle\" }\n          },\n          {\n            cmdName: \"cellalignment\",\n            value: { align: \"center\", vAlign: \"middle\" }\n          },\n          {\n            cmdName: \"cellalignment\",\n            value: { align: \"right\", vAlign: \"middle\" }\n          },\n          {\n            cmdName: \"cellalignment\",\n            value: { align: \"left\", vAlign: \"bottom\" }\n          },\n          {\n            cmdName: \"cellalignment\",\n            value: { align: \"center\", vAlign: \"bottom\" }\n          },\n          {\n            cmdName: \"cellalignment\",\n            value: { align: \"right\", vAlign: \"bottom\" }\n          }\n        ]\n      },\n      {\n        group: lang.aligntable,\n        icon: \"aligntable\",\n        subMenu: [\n          {\n            cmdName: \"tablealignment\",\n            className: \"left\",\n            label: lang.tableleft,\n            value: \"left\"\n          },\n          {\n            cmdName: \"tablealignment\",\n            className: \"center\",\n            label: lang.tablecenter,\n            value: \"center\"\n          },\n          {\n            cmdName: \"tablealignment\",\n            className: \"right\",\n            label: lang.tableright,\n            value: \"right\"\n          }\n        ]\n      },\n      \"-\",\n      {\n        label: lang.insertparagraphbefore,\n        cmdName: \"insertparagraph\",\n        value: true\n      },\n      {\n        label: lang.insertparagraphafter,\n        cmdName: \"insertparagraph\"\n      },\n      {\n        label: lang[\"copy\"],\n        cmdName: \"copy\"\n      },\n      {\n        label: lang[\"paste\"],\n        cmdName: \"paste\"\n      }\n    ];\n  if (!items.length) {\n    return;\n  }\n  var uiUtils = UE.ui.uiUtils;\n\n  me.addListener(\"contextmenu\", function(type, evt) {\n    var offset = uiUtils.getViewportOffsetByEvent(evt);\n    me.fireEvent(\"beforeselectionchange\");\n    if (menu) {\n      menu.destroy();\n    }\n    for (var i = 0, ti, contextItems = []; (ti = items[i]); i++) {\n      var last;\n      (function(item) {\n        if (item == \"-\") {\n          if ((last = contextItems[contextItems.length - 1]) && last !== \"-\") {\n            contextItems.push(\"-\");\n          }\n        } else if (item.hasOwnProperty(\"group\")) {\n          for (var j = 0, cj, subMenu = []; (cj = item.subMenu[j]); j++) {\n            (function(subItem) {\n              if (subItem == \"-\") {\n                if ((last = subMenu[subMenu.length - 1]) && last !== \"-\") {\n                  subMenu.push(\"-\");\n                } else {\n                  subMenu.splice(subMenu.length - 1);\n                }\n              } else {\n                if (\n                  (me.commands[subItem.cmdName] ||\n                    UE.commands[subItem.cmdName] ||\n                    subItem.query) &&\n                  (subItem.query\n                    ? subItem.query()\n                    : me.queryCommandState(subItem.cmdName)) > -1\n                ) {\n                  subMenu.push({\n                    label:\n                      subItem.label ||\n                        me.getLang(\n                          \"contextMenu.\" +\n                            subItem.cmdName +\n                            (subItem.value || \"\")\n                        ) ||\n                        \"\",\n                    className:\n                      \"edui-for-\" +\n                        subItem.cmdName +\n                        (subItem.className\n                          ? \" edui-for-\" +\n                              subItem.cmdName +\n                              \"-\" +\n                              subItem.className\n                          : \"\"),\n                    onclick: subItem.exec\n                      ? function() {\n                          subItem.exec.call(me);\n                        }\n                      : function() {\n                          me.execCommand(subItem.cmdName, subItem.value);\n                        }\n                  });\n                }\n              }\n            })(cj);\n          }\n          if (subMenu.length) {\n            function getLabel() {\n              switch (item.icon) {\n                case \"table\":\n                  return me.getLang(\"contextMenu.table\");\n                case \"justifyjustify\":\n                  return me.getLang(\"contextMenu.paragraph\");\n                case \"aligntd\":\n                  return me.getLang(\"contextMenu.aligntd\");\n                case \"aligntable\":\n                  return me.getLang(\"contextMenu.aligntable\");\n                case \"tablesort\":\n                  return lang.tablesort;\n                case \"borderBack\":\n                  return lang.borderbk;\n                default:\n                  return \"\";\n              }\n            }\n            contextItems.push({\n              //todo 修正成自动获取方式\n              label: getLabel(),\n              className: \"edui-for-\" + item.icon,\n              subMenu: {\n                items: subMenu,\n                editor: me\n              }\n            });\n          }\n        } else {\n          //有可能commmand没有加载右键不能出来，或者没有command也想能展示出来添加query方法\n          if (\n            (me.commands[item.cmdName] ||\n              UE.commands[item.cmdName] ||\n              item.query) &&\n            (item.query\n              ? item.query.call(me)\n              : me.queryCommandState(item.cmdName)) > -1\n          ) {\n            contextItems.push({\n              label: item.label || me.getLang(\"contextMenu.\" + item.cmdName),\n              className:\n                \"edui-for-\" +\n                  (item.icon ? item.icon : item.cmdName + (item.value || \"\")),\n              onclick: item.exec\n                ? function() {\n                    item.exec.call(me);\n                  }\n                : function() {\n                    me.execCommand(item.cmdName, item.value);\n                  }\n            });\n          }\n        }\n      })(ti);\n    }\n    if (contextItems[contextItems.length - 1] == \"-\") {\n      contextItems.pop();\n    }\n\n    menu = new UE.ui.Menu({\n      items: contextItems,\n      className: \"edui-contextmenu\",\n      editor: me\n    });\n    menu.render();\n    menu.showAt(offset);\n\n    me.fireEvent(\"aftershowcontextmenu\", menu);\n\n    domUtils.preventDefault(evt);\n    if (browser.ie) {\n      var ieRange;\n      try {\n        ieRange = me.selection.getNative().createRange();\n      } catch (e) {\n        return;\n      }\n      if (ieRange.item) {\n        var range = new dom.Range(me.document);\n        range.selectNode(ieRange.item(0)).select(true, true);\n      }\n    }\n  });\n\n  // 添加复制的flash按钮\n  me.addListener(\"aftershowcontextmenu\", function(type, menu) {\n    if (me.zeroclipboard) {\n      var items = menu.items;\n      for (var key in items) {\n        if (items[key].className == \"edui-for-copy\") {\n          me.zeroclipboard.clip(items[key].getDom());\n        }\n      }\n    }\n  });\n};\n\n\n// plugins/shortcutmenu.js\n///import core\n///commands       弹出菜单\n// commandsName  popupmenu\n///commandsTitle  弹出菜单\n/**\n * 弹出菜单\n * @function\n * @name baidu.editor.plugins.popupmenu\n * @author xuheng\n */\n\nUE.plugins[\"shortcutmenu\"] = function() {\n  var me = this,\n    menu,\n    items = me.options.shortcutMenu || [];\n\n  if (!items.length) {\n    return;\n  }\n\n  me.addListener(\"contextmenu mouseup\", function(type, e) {\n    var me = this,\n      customEvt = {\n        type: type,\n        target: e.target || e.srcElement,\n        screenX: e.screenX,\n        screenY: e.screenY,\n        clientX: e.clientX,\n        clientY: e.clientY\n      };\n\n    setTimeout(function() {\n      var rng = me.selection.getRange();\n      if (rng.collapsed === false || type == \"contextmenu\") {\n        if (!menu) {\n          menu = new baidu.editor.ui.ShortCutMenu({\n            editor: me,\n            items: items,\n            theme: me.options.theme,\n            className: \"edui-shortcutmenu\"\n          });\n\n          menu.render();\n          me.fireEvent(\"afterrendershortcutmenu\", menu);\n        }\n\n        menu.show(customEvt, !!UE.plugins[\"contextmenu\"]);\n      }\n    });\n\n    if (type == \"contextmenu\") {\n      domUtils.preventDefault(e);\n      if (browser.ie9below) {\n        var ieRange;\n        try {\n          ieRange = me.selection.getNative().createRange();\n        } catch (e) {\n          return;\n        }\n        if (ieRange.item) {\n          var range = new dom.Range(me.document);\n          range.selectNode(ieRange.item(0)).select(true, true);\n        }\n      }\n    }\n  });\n\n  me.addListener(\"keydown\", function(type) {\n    if (type == \"keydown\") {\n      menu && !menu.isHidden && menu.hide();\n    }\n  });\n};\n\n\n// plugins/basestyle.js\n/**\n * B、I、sub、super命令支持\n * @file\n * @since 1.2.6.1\n */\n\nUE.plugins[\"basestyle\"] = function() {\n  /**\n     * 字体加粗\n     * @command bold\n     * @param { String } cmd 命令字符串\n     * @remind 对已加粗的文本内容执行该命令， 将取消加粗\n     * @method execCommand\n     * @example\n     * ```javascript\n     * //editor是编辑器实例\n     * //对当前选中的文本内容执行加粗操作\n     * //第一次执行， 文本内容加粗\n     * editor.execCommand( 'bold' );\n     *\n     * //第二次执行， 文本内容取消加粗\n     * editor.execCommand( 'bold' );\n     * ```\n     */\n\n  /**\n     * 字体倾斜\n     * @command italic\n     * @method execCommand\n     * @param { String } cmd 命令字符串\n     * @remind 对已倾斜的文本内容执行该命令， 将取消倾斜\n     * @example\n     * ```javascript\n     * //editor是编辑器实例\n     * //对当前选中的文本内容执行斜体操作\n     * //第一次操作， 文本内容将变成斜体\n     * editor.execCommand( 'italic' );\n     *\n     * //再次对同一文本内容执行， 则文本内容将恢复正常\n     * editor.execCommand( 'italic' );\n     * ```\n     */\n\n  /**\n     * 下标文本，与“superscript”命令互斥\n     * @command subscript\n     * @method execCommand\n     * @remind  把选中的文本内容切换成下标文本， 如果当前选中的文本已经是下标， 则该操作会把文本内容还原成正常文本\n     * @param { String } cmd 命令字符串\n     * @example\n     * ```javascript\n     * //editor是编辑器实例\n     * //对当前选中的文本内容执行下标操作\n     * //第一次操作， 文本内容将变成下标文本\n     * editor.execCommand( 'subscript' );\n     *\n     * //再次对同一文本内容执行， 则文本内容将恢复正常\n     * editor.execCommand( 'subscript' );\n     * ```\n     */\n\n  /**\n     * 上标文本，与“subscript”命令互斥\n     * @command superscript\n     * @method execCommand\n     * @remind 把选中的文本内容切换成上标文本， 如果当前选中的文本已经是上标， 则该操作会把文本内容还原成正常文本\n     * @param { String } cmd 命令字符串\n     * @example\n     * ```javascript\n     * //editor是编辑器实例\n     * //对当前选中的文本内容执行上标操作\n     * //第一次操作， 文本内容将变成上标文本\n     * editor.execCommand( 'superscript' );\n     *\n     * //再次对同一文本内容执行， 则文本内容将恢复正常\n     * editor.execCommand( 'superscript' );\n     * ```\n     */\n  var basestyles = {\n    bold: [\"strong\", \"b\"],\n    italic: [\"em\", \"i\"],\n    subscript: [\"sub\"],\n    superscript: [\"sup\"]\n  },\n    getObj = function(editor, tagNames) {\n      return domUtils.filterNodeList(\n        editor.selection.getStartElementPath(),\n        tagNames\n      );\n    },\n    me = this;\n  //添加快捷键\n  me.addshortcutkey({\n    Bold: \"ctrl+66\", //^B\n    Italic: \"ctrl+73\", //^I\n    Underline: \"ctrl+85\" //^U\n  });\n  me.addInputRule(function(root) {\n    utils.each(root.getNodesByTagName(\"b i\"), function(node) {\n      switch (node.tagName) {\n        case \"b\":\n          node.tagName = \"strong\";\n          break;\n        case \"i\":\n          node.tagName = \"em\";\n      }\n    });\n  });\n  for (var style in basestyles) {\n    (function(cmd, tagNames) {\n      me.commands[cmd] = {\n        execCommand: function(cmdName) {\n          var range = me.selection.getRange(),\n            obj = getObj(this, tagNames);\n          if (range.collapsed) {\n            if (obj) {\n              var tmpText = me.document.createTextNode(\"\");\n              range.insertNode(tmpText).removeInlineStyle(tagNames);\n              range.setStartBefore(tmpText);\n              domUtils.remove(tmpText);\n            } else {\n              var tmpNode = range.document.createElement(tagNames[0]);\n              if (cmdName == \"superscript\" || cmdName == \"subscript\") {\n                tmpText = me.document.createTextNode(\"\");\n                range\n                  .insertNode(tmpText)\n                  .removeInlineStyle([\"sub\", \"sup\"])\n                  .setStartBefore(tmpText)\n                  .collapse(true);\n              }\n              range.insertNode(tmpNode).setStart(tmpNode, 0);\n            }\n            range.collapse(true);\n          } else {\n            if (cmdName == \"superscript\" || cmdName == \"subscript\") {\n              if (!obj || obj.tagName.toLowerCase() != cmdName) {\n                range.removeInlineStyle([\"sub\", \"sup\"]);\n              }\n            }\n            obj\n              ? range.removeInlineStyle(tagNames)\n              : range.applyInlineStyle(tagNames[0]);\n          }\n          range.select();\n        },\n        queryCommandState: function() {\n          return getObj(this, tagNames) ? 1 : 0;\n        }\n      };\n    })(style, basestyles[style]);\n  }\n};\n\n\n// plugins/elementpath.js\n/**\n * 选取路径命令\n * @file\n */\nUE.plugins[\"elementpath\"] = function() {\n  var currentLevel,\n    tagNames,\n    me = this;\n  me.setOpt(\"elementPathEnabled\", true);\n  if (!me.options.elementPathEnabled) {\n    return;\n  }\n  me.commands[\"elementpath\"] = {\n    execCommand: function(cmdName, level) {\n      var start = tagNames[level],\n        range = me.selection.getRange();\n      currentLevel = level * 1;\n      range.selectNode(start).select();\n    },\n    queryCommandValue: function() {\n      //产生一个副本，不能修改原来的startElementPath;\n      var parents = [].concat(this.selection.getStartElementPath()).reverse(),\n        names = [];\n      tagNames = parents;\n      for (var i = 0, ci; (ci = parents[i]); i++) {\n        if (ci.nodeType == 3) {\n          continue;\n        }\n        var name = ci.tagName.toLowerCase();\n        if (name == \"img\" && ci.getAttribute(\"anchorname\")) {\n          name = \"anchor\";\n        }\n        names[i] = name;\n        if (currentLevel == i) {\n          currentLevel = -1;\n          break;\n        }\n      }\n      return names;\n    }\n  };\n};\n\n\n// plugins/formatmatch.js\n/**\n * 格式刷，只格式inline的\n * @file\n * @since 1.2.6.1\n */\n\n/**\n * 格式刷\n * @command formatmatch\n * @method execCommand\n * @remind 该操作不能复制段落格式\n * @param { String } cmd 命令字符串\n * @example\n * ```javascript\n * //editor是编辑器实例\n * //获取格式刷\n * editor.execCommand( 'formatmatch' );\n * ```\n */\nUE.plugins[\"formatmatch\"] = function() {\n  var me = this,\n    list = [],\n    img,\n    flag = 0;\n\n  me.addListener(\"reset\", function() {\n    list = [];\n    flag = 0;\n  });\n\n  function addList(type, evt) {\n    if (browser.webkit) {\n      var target = evt.target.tagName == \"IMG\" ? evt.target : null;\n    }\n\n    function addFormat(range) {\n      if (text) {\n        range.selectNode(text);\n      }\n      return range.applyInlineStyle(list[list.length - 1].tagName, null, list);\n    }\n\n    me.undoManger && me.undoManger.save();\n\n    var range = me.selection.getRange(),\n      imgT = target || range.getClosedNode();\n    if (img && imgT && imgT.tagName == \"IMG\") {\n      //trace:964\n\n      imgT.style.cssText +=\n        \";float:\" +\n        (img.style.cssFloat || img.style.styleFloat || \"none\") +\n        \";display:\" +\n        (img.style.display || \"inline\");\n\n      img = null;\n    } else {\n      if (!img) {\n        var collapsed = range.collapsed;\n        if (collapsed) {\n          var text = me.document.createTextNode(\"match\");\n          range.insertNode(text).select();\n        }\n        me.__hasEnterExecCommand = true;\n        //不能把block上的属性干掉\n        //trace:1553\n        var removeFormatAttributes = me.options.removeFormatAttributes;\n        me.options.removeFormatAttributes = \"\";\n        me.execCommand(\"removeformat\");\n        me.options.removeFormatAttributes = removeFormatAttributes;\n        me.__hasEnterExecCommand = false;\n        //trace:969\n        range = me.selection.getRange();\n        if (list.length) {\n          addFormat(range);\n        }\n        if (text) {\n          range.setStartBefore(text).collapse(true);\n        }\n        range.select();\n        text && domUtils.remove(text);\n      }\n    }\n\n    me.undoManger && me.undoManger.save();\n    me.removeListener(\"mouseup\", addList);\n    flag = 0;\n  }\n\n  me.commands[\"formatmatch\"] = {\n    execCommand: function(cmdName) {\n      if (flag) {\n        flag = 0;\n        list = [];\n        me.removeListener(\"mouseup\", addList);\n        return;\n      }\n\n      var range = me.selection.getRange();\n      img = range.getClosedNode();\n      if (!img || img.tagName != \"IMG\") {\n        range.collapse(true).shrinkBoundary();\n        var start = range.startContainer;\n        list = domUtils.findParents(start, true, function(node) {\n          return !domUtils.isBlockElm(node) && node.nodeType == 1;\n        });\n        //a不能加入格式刷, 并且克隆节点\n        for (var i = 0, ci; (ci = list[i]); i++) {\n          if (ci.tagName == \"A\") {\n            list.splice(i, 1);\n            break;\n          }\n        }\n      }\n\n      me.addListener(\"mouseup\", addList);\n      flag = 1;\n    },\n    queryCommandState: function() {\n      return flag;\n    },\n    notNeedUndo: 1\n  };\n};\n\n\n// plugins/searchreplace.js\n///import core\n///commands 查找替换\n///commandsName  SearchReplace\n///commandsTitle  查询替换\n///commandsDialog  dialogs\\searchreplace\n/**\n * @description 查找替换\n * @author zhanyi\n */\n\nUE.plugin.register(\"searchreplace\", function() {\n  var me = this;\n\n  var _blockElm = { table: 1, tbody: 1, tr: 1, ol: 1, ul: 1 };\n\n  var lastRng = null;\n\n  function getText(node) {\n    var text = node.nodeType == 3\n      ? node.nodeValue\n      : node[browser.ie ? \"innerText\" : \"textContent\"];\n    return text.replace(domUtils.fillChar, \"\");\n  }\n\n  function findTextInString(textContent, opt, currentIndex) {\n    var str = opt.searchStr;\n\n    var reg = new RegExp(str, \"g\" + (opt.casesensitive ? \"\" : \"i\")),\n      match;\n\n    if (opt.dir == -1) {\n      textContent = textContent.substr(0, currentIndex);\n      textContent = textContent.split(\"\").reverse().join(\"\");\n      str = str.split(\"\").reverse().join(\"\");\n      match = reg.exec(textContent);\n      if (match) {\n        return currentIndex - match.index - str.length;\n      }\n    } else {\n      textContent = textContent.substr(currentIndex);\n      match = reg.exec(textContent);\n      if (match) {\n        return match.index + currentIndex;\n      }\n    }\n\n    return -1;\n  }\n  function findTextBlockElm(node, currentIndex, opt) {\n    var textContent,\n      index,\n      methodName = opt.all || opt.dir == 1 ? \"getNextDomNode\" : \"getPreDomNode\";\n    if (domUtils.isBody(node)) {\n      node = node.firstChild;\n    }\n    var first = 1;\n    while (node) {\n      textContent = getText(node);\n      index = findTextInString(textContent, opt, currentIndex);\n      first = 0;\n      if (index != -1) {\n        return {\n          node: node,\n          index: index\n        };\n      }\n      node = domUtils[methodName](node);\n      while (node && _blockElm[node.nodeName.toLowerCase()]) {\n        node = domUtils[methodName](node, true);\n      }\n      if (node) {\n        currentIndex = opt.dir == -1 ? getText(node).length : 0;\n      }\n    }\n  }\n  function findNTextInBlockElm(node, index, str) {\n    var currentIndex = 0,\n      currentNode = node.firstChild,\n      currentNodeLength = 0,\n      result;\n    while (currentNode) {\n      if (currentNode.nodeType == 3) {\n        currentNodeLength = getText(currentNode).replace(\n          /(^[\\t\\r\\n]+)|([\\t\\r\\n]+$)/,\n          \"\"\n        ).length;\n        currentIndex += currentNodeLength;\n        if (currentIndex >= index) {\n          return {\n            node: currentNode,\n            index: currentNodeLength - (currentIndex - index)\n          };\n        }\n      } else if (!dtd.$empty[currentNode.tagName]) {\n        currentNodeLength = getText(currentNode).replace(\n          /(^[\\t\\r\\n]+)|([\\t\\r\\n]+$)/,\n          \"\"\n        ).length;\n        currentIndex += currentNodeLength;\n        if (currentIndex >= index) {\n          result = findNTextInBlockElm(\n            currentNode,\n            currentNodeLength - (currentIndex - index),\n            str\n          );\n          if (result) {\n            return result;\n          }\n        }\n      }\n      currentNode = domUtils.getNextDomNode(currentNode);\n    }\n  }\n\n  function searchReplace(me, opt) {\n    var rng = lastRng || me.selection.getRange(),\n      startBlockNode,\n      searchStr = opt.searchStr,\n      span = me.document.createElement(\"span\");\n    span.innerHTML = \"$$ueditor_searchreplace_key$$\";\n\n    rng.shrinkBoundary(true);\n\n    //判断是不是第一次选中\n    if (!rng.collapsed) {\n      rng.select();\n      var rngText = me.selection.getText();\n      if (\n        new RegExp(\n          \"^\" + opt.searchStr + \"$\",\n          opt.casesensitive ? \"\" : \"i\"\n        ).test(rngText)\n      ) {\n        if (opt.replaceStr != undefined) {\n          replaceText(rng, opt.replaceStr);\n          rng.select();\n          return true;\n        } else {\n          rng.collapse(opt.dir == -1);\n        }\n      }\n    }\n\n    rng.insertNode(span);\n    rng.enlargeToBlockElm(true);\n    startBlockNode = rng.startContainer;\n    var currentIndex = getText(startBlockNode).indexOf(\n      \"$$ueditor_searchreplace_key$$\"\n    );\n    rng.setStartBefore(span);\n    domUtils.remove(span);\n    var result = findTextBlockElm(startBlockNode, currentIndex, opt);\n    if (result) {\n      var rngStart = findNTextInBlockElm(result.node, result.index, searchStr);\n      var rngEnd = findNTextInBlockElm(\n        result.node,\n        result.index + searchStr.length,\n        searchStr\n      );\n      rng\n        .setStart(rngStart.node, rngStart.index)\n        .setEnd(rngEnd.node, rngEnd.index);\n\n      if (opt.replaceStr !== undefined) {\n        replaceText(rng, opt.replaceStr);\n      }\n      rng.select();\n      return true;\n    } else {\n      rng.setCursor();\n    }\n  }\n  function replaceText(rng, str) {\n    str = me.document.createTextNode(str);\n    rng.deleteContents().insertNode(str);\n  }\n  return {\n    commands: {\n      searchreplace: {\n        execCommand: function(cmdName, opt) {\n          utils.extend(\n            opt,\n            {\n              all: false,\n              casesensitive: false,\n              dir: 1\n            },\n            true\n          );\n          var num = 0;\n          if (opt.all) {\n            lastRng = null;\n            var rng = me.selection.getRange(),\n              first = me.body.firstChild;\n            if (first && first.nodeType == 1) {\n              rng.setStart(first, 0);\n              rng.shrinkBoundary(true);\n            } else if (first.nodeType == 3) {\n              rng.setStartBefore(first);\n            }\n            rng.collapse(true).select(true);\n            if (opt.replaceStr !== undefined) {\n              me.fireEvent(\"saveScene\");\n            }\n            while (searchReplace(this, opt)) {\n              num++;\n              lastRng = me.selection.getRange();\n              lastRng.collapse(opt.dir == -1);\n            }\n            if (num) {\n              me.fireEvent(\"saveScene\");\n            }\n          } else {\n            if (opt.replaceStr !== undefined) {\n              me.fireEvent(\"saveScene\");\n            }\n            if (searchReplace(this, opt)) {\n              num++;\n              lastRng = me.selection.getRange();\n              lastRng.collapse(opt.dir == -1);\n            }\n            if (num) {\n              me.fireEvent(\"saveScene\");\n            }\n          }\n\n          return num;\n        },\n        notNeedUndo: 1\n      }\n    },\n    bindEvents: {\n      clearlastSearchResult: function() {\n        lastRng = null;\n      }\n    }\n  };\n});\n\n\n// plugins/customstyle.js\n/**\n * 自定义样式\n * @file\n * @since 1.2.6.1\n */\n\n/**\n * 根据config配置文件里“customstyle”选项的值对匹配的标签执行样式替换。\n * @command customstyle\n * @method execCommand\n * @param { String } cmd 命令字符串\n * @example\n * ```javascript\n * editor.execCommand( 'customstyle' );\n * ```\n */\nUE.plugins[\"customstyle\"] = function() {\n  var me = this;\n  me.setOpt({\n    customstyle: [\n      {\n        tag: \"h1\",\n        name: \"tc\",\n        style:\n          \"font-size:32px;font-weight:bold;border-bottom:#ccc 2px solid;padding:0 4px 0 0;text-align:center;margin:0 0 20px 0;\"\n      },\n      {\n        tag: \"h1\",\n        name: \"tl\",\n        style:\n          \"font-size:32px;font-weight:bold;border-bottom:#ccc 2px solid;padding:0 4px 0 0;text-align:left;margin:0 0 10px 0;\"\n      },\n      {\n        tag: \"span\",\n        name: \"im\",\n        style:\n          \"font-size:16px;font-style:italic;font-weight:bold;line-height:18px;\"\n      },\n      {\n        tag: \"span\",\n        name: \"hi\",\n        style:\n          \"font-size:16px;font-style:italic;font-weight:bold;color:rgb(51, 153, 204);line-height:18px;\"\n      }\n    ]\n  });\n  me.commands[\"customstyle\"] = {\n    execCommand: function(cmdName, obj) {\n      var me = this,\n        tagName = obj.tag,\n        node = domUtils.findParent(\n          me.selection.getStart(),\n          function(node) {\n            return node.getAttribute(\"label\");\n          },\n          true\n        ),\n        range,\n        bk,\n        tmpObj = {};\n      for (var p in obj) {\n        if (obj[p] !== undefined) tmpObj[p] = obj[p];\n      }\n      delete tmpObj.tag;\n      if (node && node.getAttribute(\"label\") == obj.label) {\n        range = this.selection.getRange();\n        bk = range.createBookmark();\n        if (range.collapsed) {\n          //trace:1732 删掉自定义标签，要有p来回填站位\n          if (dtd.$block[node.tagName]) {\n            var fillNode = me.document.createElement(\"p\");\n            domUtils.moveChild(node, fillNode);\n            node.parentNode.insertBefore(fillNode, node);\n            domUtils.remove(node);\n          } else {\n            domUtils.remove(node, true);\n          }\n        } else {\n          var common = domUtils.getCommonAncestor(bk.start, bk.end),\n            nodes = domUtils.getElementsByTagName(common, tagName);\n          if (new RegExp(tagName, \"i\").test(common.tagName)) {\n            nodes.push(common);\n          }\n          for (var i = 0, ni; (ni = nodes[i++]); ) {\n            if (ni.getAttribute(\"label\") == obj.label) {\n              var ps = domUtils.getPosition(ni, bk.start),\n                pe = domUtils.getPosition(ni, bk.end);\n              if (\n                (ps & domUtils.POSITION_FOLLOWING ||\n                  ps & domUtils.POSITION_CONTAINS) &&\n                (pe & domUtils.POSITION_PRECEDING ||\n                  pe & domUtils.POSITION_CONTAINS)\n              )\n                if (dtd.$block[tagName]) {\n                  var fillNode = me.document.createElement(\"p\");\n                  domUtils.moveChild(ni, fillNode);\n                  ni.parentNode.insertBefore(fillNode, ni);\n                }\n              domUtils.remove(ni, true);\n            }\n          }\n          node = domUtils.findParent(\n            common,\n            function(node) {\n              return node.getAttribute(\"label\") == obj.label;\n            },\n            true\n          );\n          if (node) {\n            domUtils.remove(node, true);\n          }\n        }\n        range.moveToBookmark(bk).select();\n      } else {\n        if (dtd.$block[tagName]) {\n          this.execCommand(\"paragraph\", tagName, tmpObj, \"customstyle\");\n          range = me.selection.getRange();\n          if (!range.collapsed) {\n            range.collapse();\n            node = domUtils.findParent(\n              me.selection.getStart(),\n              function(node) {\n                return node.getAttribute(\"label\") == obj.label;\n              },\n              true\n            );\n            var pNode = me.document.createElement(\"p\");\n            domUtils.insertAfter(node, pNode);\n            domUtils.fillNode(me.document, pNode);\n            range.setStart(pNode, 0).setCursor();\n          }\n        } else {\n          range = me.selection.getRange();\n          if (range.collapsed) {\n            node = me.document.createElement(tagName);\n            domUtils.setAttributes(node, tmpObj);\n            range.insertNode(node).setStart(node, 0).setCursor();\n\n            return;\n          }\n\n          bk = range.createBookmark();\n          range.applyInlineStyle(tagName, tmpObj).moveToBookmark(bk).select();\n        }\n      }\n    },\n    queryCommandValue: function() {\n      var parent = domUtils.filterNodeList(\n        this.selection.getStartElementPath(),\n        function(node) {\n          return node.getAttribute(\"label\");\n        }\n      );\n      return parent ? parent.getAttribute(\"label\") : \"\";\n    }\n  };\n  //当去掉customstyle是，如果是块元素，用p代替\n  me.addListener(\"keyup\", function(type, evt) {\n    var keyCode = evt.keyCode || evt.which;\n\n    if (keyCode == 32 || keyCode == 13) {\n      var range = me.selection.getRange();\n      if (range.collapsed) {\n        var node = domUtils.findParent(\n          me.selection.getStart(),\n          function(node) {\n            return node.getAttribute(\"label\");\n          },\n          true\n        );\n        if (node && dtd.$block[node.tagName] && domUtils.isEmptyNode(node)) {\n          var p = me.document.createElement(\"p\");\n          domUtils.insertAfter(node, p);\n          domUtils.fillNode(me.document, p);\n          domUtils.remove(node);\n          range.setStart(p, 0).setCursor();\n        }\n      }\n    }\n  });\n};\n\n\n// plugins/catchremoteimage.js\n///import core\n///commands 远程图片抓取\n///commandsName  catchRemoteImage,catchremoteimageenable\n///commandsTitle  远程图片抓取\n/**\n * 远程图片抓取,当开启本插件时所有不符合本地域名的图片都将被抓取成为本地服务器上的图片\n */\nUE.plugins[\"catchremoteimage\"] = function() {\n  var me = this,\n    ajax = UE.ajax;\n\n  /* 设置默认值 */\n  if (me.options.catchRemoteImageEnable === false) return;\n  me.setOpt({\n    catchRemoteImageEnable: false\n  });\n\n  me.addListener(\"afterpaste\", function() {\n    me.fireEvent(\"catchRemoteImage\");\n  });\n\n  me.addListener(\"catchRemoteImage\", function() {\n    var catcherLocalDomain = me.getOpt(\"catcherLocalDomain\"),\n      catcherActionUrl = me.getActionUrl(me.getOpt(\"catcherActionName\")),\n      catcherUrlPrefix = me.getOpt(\"catcherUrlPrefix\"),\n      catcherFieldName = me.getOpt(\"catcherFieldName\");\n\n    var remoteImages = [],\n      loadingIMG =  me.options.themePath + me.options.theme + '/images/spacer.gif',\n      imgs = me.document.querySelectorAll('[style*=\"url\"],img'),\n      test = function(src, urls) {\n        if (src.indexOf(location.host) != -1 || /(^\\.)|(^\\/)/.test(src)) {\n          return true;\n        }\n        if (urls) {\n          for (var j = 0, url; (url = urls[j++]); ) {\n            if (src.indexOf(url) !== -1) {\n              return true;\n            }\n          }\n        }\n        return false;\n      };\n\n    for (var i = 0, ci; (ci = imgs[i++]); ) {\n      if (ci.getAttribute(\"word_img\")) {\n        continue;\n      }\n      if(ci.nodeName == \"IMG\"){\n        var src = ci.getAttribute(\"_src\") || ci.src || \"\";\n        if (/^(https?|ftp):/i.test(src) && !test(src, catcherLocalDomain)) {\n          remoteImages.push(src);\n          // 添加上传时的uploading动画\n          domUtils.setAttributes(ci, {\n            class: \"loadingclass\",\n            _src: src,\n            src: loadingIMG\n          })\n        }\n      } else {\n        // 获取背景图片url\n        var backgroundImageurl = ci.style.cssText.replace(/.*\\s?url\\([\\'\\\"]?/, '').replace(/[\\'\\\"]?\\).*/, '');\n        if (/^(https?|ftp):/i.test(backgroundImageurl) && !test(backgroundImageurl, catcherLocalDomain)) {\n          remoteImages.push(backgroundImageurl);\n          ci.style.cssText = ci.style.cssText.replace(backgroundImageurl, loadingIMG);\n          domUtils.setAttributes(ci, {\n            \"data-background\": backgroundImageurl\n          })\n        }\n      }\n    }\n\n    if (remoteImages.length) {\n      catchremoteimage(remoteImages, {\n        //成功抓取\n        success: function(r) {\n          try {\n            var info = r.state !== undefined\n              ? r\n              : eval(\"(\" + r.responseText + \")\");\n          } catch (e) {\n            return;\n          }\n\n          /* 获取源路径和新路径 */\n          var i,\n            j,\n            ci,\n            cj,\n            oldSrc,\n            newSrc,\n            list = info.list;\n\n          /* 抓取失败统计 */\n          var catchFailList = [];\n          /* 抓取成功统计 */\n          var catchSuccessList = [];\n          /* 抓取失败时显示的图片 */\n          var failIMG = me.options.themePath + me.options.theme + '/images/img-cracked.png';\n\n          for (i = 0; ci = imgs[i++];) {\n            oldSrc = ci.getAttribute(\"_src\") || ci.src || \"\";\n            oldBgIMG = ci.getAttribute(\"data-background\") || \"\";\n            for (j = 0; cj = list[j++];) {\n              if (oldSrc == cj.source && cj.state == \"SUCCESS\") {\n                newSrc = catcherUrlPrefix + cj.url;\n                // 上传成功是删除uploading动画\n                domUtils.removeClasses( ci, \"loadingclass\" );\n                domUtils.setAttributes(ci, {\n                    \"src\": newSrc,\n                    \"_src\": newSrc,\n                    \"data-catchResult\":\"img_catchSuccess\"   // 添加catch成功标记\n                });\n                catchSuccessList.push(ci);\n                break;\n              } else if (oldSrc == cj.source && cj.state == \"FAIL\") {\n                // 替换成统一的失败图片\n                domUtils.removeClasses( ci, \"loadingclass\" );\n                domUtils.setAttributes(ci, {\n                    \"src\": failIMG,\n                    \"_src\": failIMG,\n                    \"data-catchResult\":\"img_catchFail\" // 添加catch失败标记\n                });\n                catchFailList.push(ci);\n                break;\n              } else if (oldBgIMG == cj.source && cj.state == \"SUCCESS\") {\n                newBgIMG = catcherUrlPrefix + cj.url;\n                ci.style.cssText = ci.style.cssText.replace(loadingIMG, newBgIMG);\n                domUtils.removeAttributes(ci,\"data-background\");\n                domUtils.setAttributes(ci, {\n                    \"data-catchResult\":\"img_catchSuccess\"   // 添加catch成功标记\n                });\n                catchSuccessList.push(ci);\n                break;\n              } else if (oldBgIMG == cj.source && cj.state == \"FAIL\"){\n                ci.style.cssText = ci.style.cssText.replace(loadingIMG, failIMG);\n                domUtils.removeAttributes(ci,\"data-background\");\n                domUtils.setAttributes(ci, {\n                    \"data-catchResult\":\"img_catchFail\"   // 添加catch失败标记\n                });\n                catchFailList.push(ci);\n                break;\n              }\n            }\n\n          }\n          // 监听事件添加成功抓取和抓取失败的dom列表参数\n          me.fireEvent('catchremotesuccess',catchSuccessList,catchFailList);\n        },\n        //回调失败，本次请求超时\n        error: function() {\n          me.fireEvent(\"catchremoteerror\");\n        }\n      });\n    }\n\n    function catchremoteimage(imgs, callbacks) {\n      var params =\n        utils.serializeParam(me.queryCommandValue(\"serverparam\")) || \"\",\n        url = utils.formatUrl(\n          catcherActionUrl +\n            (catcherActionUrl.indexOf(\"?\") == -1 ? \"?\" : \"&\") +\n            params\n        ),\n        isJsonp = utils.isCrossDomainUrl(url),\n        opt = {\n          method: \"POST\",\n          dataType: isJsonp ? \"jsonp\" : \"\",\n          timeout: 60000, //单位：毫秒，回调请求超时设置。目标用户如果网速不是很快的话此处建议设置一个较大的数值\n          onsuccess: callbacks[\"success\"],\n          onerror: callbacks[\"error\"]\n        };\n      opt[catcherFieldName] = imgs;\n      ajax.request(url, opt);\n    }\n  });\n};\n\n\n// plugins/snapscreen.js\n/**\n * 截屏插件，为UEditor提供插入支持\n * @file\n * @since 1.4.2\n */\nUE.plugin.register(\"snapscreen\", function() {\n  var me = this;\n  var snapplugin;\n\n  function getLocation(url) {\n    var search,\n      a = document.createElement(\"a\"),\n      params = utils.serializeParam(me.queryCommandValue(\"serverparam\")) || \"\";\n\n    a.href = url;\n    if (browser.ie) {\n      a.href = a.href;\n    }\n\n    search = a.search;\n    if (params) {\n      search = search + (search.indexOf(\"?\") == -1 ? \"?\" : \"&\") + params;\n      search = search.replace(/[&]+/gi, \"&\");\n    }\n    return {\n      port: a.port,\n      hostname: a.hostname,\n      path: a.pathname + search || +a.hash\n    };\n  }\n\n  return {\n    commands: {\n      /**\n             * 字体背景颜色\n             * @command snapscreen\n             * @method execCommand\n             * @param { String } cmd 命令字符串\n             * @example\n             * ```javascript\n             * editor.execCommand('snapscreen');\n             * ```\n             */\n      snapscreen: {\n        execCommand: function(cmd) {\n          var url, local, res;\n          var lang = me.getLang(\"snapScreen_plugin\");\n\n          if (!snapplugin) {\n            var container = me.container;\n            var doc = me.container.ownerDocument || me.container.document;\n            snapplugin = doc.createElement(\"object\");\n            try {\n              snapplugin.type = \"application/x-pluginbaidusnap\";\n            } catch (e) {\n              return;\n            }\n            snapplugin.style.cssText =\n              \"position:absolute;left:-9999px;width:0;height:0;\";\n            snapplugin.setAttribute(\"width\", \"0\");\n            snapplugin.setAttribute(\"height\", \"0\");\n            container.appendChild(snapplugin);\n          }\n\n          function onSuccess(rs) {\n            try {\n              rs = eval(\"(\" + rs + \")\");\n              if (rs.state == \"SUCCESS\") {\n                var opt = me.options;\n                me.execCommand(\"insertimage\", {\n                  src: opt.snapscreenUrlPrefix + rs.url,\n                  _src: opt.snapscreenUrlPrefix + rs.url,\n                  alt: rs.title || \"\",\n                  floatStyle: opt.snapscreenImgAlign\n                });\n              } else {\n                alert(rs.state);\n              }\n            } catch (e) {\n              alert(lang.callBackErrorMsg);\n            }\n          }\n          url = me.getActionUrl(me.getOpt(\"snapscreenActionName\"));\n          local = getLocation(url);\n          setTimeout(function() {\n            try {\n              res = snapplugin.saveSnapshot(\n                local.hostname,\n                local.path,\n                local.port\n              );\n            } catch (e) {\n              me.ui._dialogs[\"snapscreenDialog\"].open();\n              return;\n            }\n\n            onSuccess(res);\n          }, 50);\n        },\n        queryCommandState: function() {\n          return navigator.userAgent.indexOf(\"Windows\", 0) != -1 ? 0 : -1;\n        }\n      }\n    }\n  };\n});\n\n\n// plugins/insertparagraph.js\n/**\n * 插入段落\n * @file\n * @since 1.2.6.1\n */\n\n/**\n * 插入段落\n * @command insertparagraph\n * @method execCommand\n * @param { String } cmd 命令字符串\n * @example\n * ```javascript\n * //editor是编辑器实例\n * editor.execCommand( 'insertparagraph' );\n * ```\n */\n\nUE.commands[\"insertparagraph\"] = {\n  execCommand: function(cmdName, front) {\n    var me = this,\n      range = me.selection.getRange(),\n      start = range.startContainer,\n      tmpNode;\n    while (start) {\n      if (domUtils.isBody(start)) {\n        break;\n      }\n      tmpNode = start;\n      start = start.parentNode;\n    }\n    if (tmpNode) {\n      var p = me.document.createElement(\"p\");\n      if (front) {\n        tmpNode.parentNode.insertBefore(p, tmpNode);\n      } else {\n        tmpNode.parentNode.insertBefore(p, tmpNode.nextSibling);\n      }\n      domUtils.fillNode(me.document, p);\n      range.setStart(p, 0).setCursor(false, true);\n    }\n  }\n};\n\n\n// plugins/webapp.js\n/**\n * 百度应用\n * @file\n * @since 1.2.6.1\n */\n\n/**\n * 插入百度应用\n * @command webapp\n * @method execCommand\n * @remind 需要百度APPKey\n * @remind 百度应用主页： <a href=\"http://app.baidu.com/\" target=\"_blank\">http://app.baidu.com/</a>\n * @param { Object } appOptions 应用所需的参数项， 支持的key有： title=>应用标题， width=>应用容器宽度，\n * height=>应用容器高度，logo=>应用logo，url=>应用地址\n * @example\n * ```javascript\n * //editor是编辑器实例\n * //在编辑器里插入一个“植物大战僵尸”的APP\n * editor.execCommand( 'webapp' , {\n *     title: '植物大战僵尸',\n *     width: 560,\n *     height: 465,\n *     logo: '应用展示的图片',\n *     url: '百度应用的地址'\n * } );\n * ```\n */\n\n//UE.plugins['webapp'] = function () {\n//    var me = this;\n//    function createInsertStr( obj, toIframe, addParagraph ) {\n//        return !toIframe ?\n//                (addParagraph ? '<p>' : '') + '<img title=\"'+obj.title+'\" width=\"' + obj.width + '\" height=\"' + obj.height + '\"' +\n//                        ' src=\"' + me.options.UEDITOR_HOME_URL + 'themes/default/images/spacer.gif\" style=\"background:url(' + obj.logo+') no-repeat center center; border:1px solid gray;\" class=\"edui-faked-webapp\" _url=\"' + obj.url + '\" />' +\n//                        (addParagraph ? '</p>' : '')\n//                :\n//                '<iframe class=\"edui-faked-webapp\" title=\"'+obj.title+'\" width=\"' + obj.width + '\" height=\"' + obj.height + '\"  scrolling=\"no\" frameborder=\"0\" src=\"' + obj.url + '\" logo_url = '+obj.logo+'></iframe>';\n//    }\n//\n//    function switchImgAndIframe( img2frame ) {\n//        var tmpdiv,\n//                nodes = domUtils.getElementsByTagName( me.document, !img2frame ? \"iframe\" : \"img\" );\n//        for ( var i = 0, node; node = nodes[i++]; ) {\n//            if ( node.className != \"edui-faked-webapp\" ){\n//                continue;\n//            }\n//            tmpdiv = me.document.createElement( \"div\" );\n//            tmpdiv.innerHTML = createInsertStr( img2frame ? {url:node.getAttribute( \"_url\" ), width:node.width, height:node.height,title:node.title,logo:node.style.backgroundImage.replace(\"url(\",\"\").replace(\")\",\"\")} : {url:node.getAttribute( \"src\", 2 ),title:node.title, width:node.width, height:node.height,logo:node.getAttribute(\"logo_url\")}, img2frame ? true : false,false );\n//            node.parentNode.replaceChild( tmpdiv.firstChild, node );\n//        }\n//    }\n//\n//    me.addListener( \"beforegetcontent\", function () {\n//        switchImgAndIframe( true );\n//    } );\n//    me.addListener( 'aftersetcontent', function () {\n//        switchImgAndIframe( false );\n//    } );\n//    me.addListener( 'aftergetcontent', function ( cmdName ) {\n//        if ( cmdName == 'aftergetcontent' && me.queryCommandState( 'source' ) ){\n//            return;\n//        }\n//        switchImgAndIframe( false );\n//    } );\n//\n//    me.commands['webapp'] = {\n//        execCommand:function ( cmd, obj ) {\n//            me.execCommand( \"inserthtml\", createInsertStr( obj, false,true ) );\n//        }\n//    };\n//};\n\nUE.plugin.register(\"webapp\", function() {\n  var me = this;\n  function createInsertStr(obj, toEmbed) {\n    return !toEmbed\n      ? '<img title=\"' +\n          obj.title +\n          '\" width=\"' +\n          obj.width +\n          '\" height=\"' +\n          obj.height +\n          '\"' +\n          ' src=\"' +\n          me.options.UEDITOR_HOME_URL +\n          'themes/notadd/images/spacer.gif\" _logo_url=\"' +\n          obj.logo +\n          '\" style=\"background:url(' +\n          obj.logo +\n          ') no-repeat center center; border:1px solid gray;\" class=\"edui-faked-webapp\" _url=\"' +\n          obj.url +\n          '\" ' +\n          (obj.align && !obj.cssfloat ? 'align=\"' + obj.align + '\"' : \"\") +\n          (obj.cssfloat ? 'style=\"float:' + obj.cssfloat + '\"' : \"\") +\n          \"/>\"\n      : '<iframe class=\"edui-faked-webapp\" title=\"' +\n          obj.title +\n          '\" ' +\n          (obj.align && !obj.cssfloat ? 'align=\"' + obj.align + '\"' : \"\") +\n          (obj.cssfloat ? 'style=\"float:' + obj.cssfloat + '\"' : \"\") +\n          'width=\"' +\n          obj.width +\n          '\" height=\"' +\n          obj.height +\n          '\"  scrolling=\"no\" frameborder=\"0\" src=\"' +\n          obj.url +\n          '\" logo_url = \"' +\n          obj.logo +\n          '\"></iframe>';\n  }\n  return {\n    outputRule: function(root) {\n      utils.each(root.getNodesByTagName(\"img\"), function(node) {\n        var html;\n        if (node.getAttr(\"class\") == \"edui-faked-webapp\") {\n          html = createInsertStr(\n            {\n              title: node.getAttr(\"title\"),\n              width: node.getAttr(\"width\"),\n              height: node.getAttr(\"height\"),\n              align: node.getAttr(\"align\"),\n              cssfloat: node.getStyle(\"float\"),\n              url: node.getAttr(\"_url\"),\n              logo: node.getAttr(\"_logo_url\")\n            },\n            true\n          );\n          var embed = UE.uNode.createElement(html);\n          node.parentNode.replaceChild(embed, node);\n        }\n      });\n    },\n    inputRule: function(root) {\n      utils.each(root.getNodesByTagName(\"iframe\"), function(node) {\n        if (node.getAttr(\"class\") == \"edui-faked-webapp\") {\n          var img = UE.uNode.createElement(\n            createInsertStr({\n              title: node.getAttr(\"title\"),\n              width: node.getAttr(\"width\"),\n              height: node.getAttr(\"height\"),\n              align: node.getAttr(\"align\"),\n              cssfloat: node.getStyle(\"float\"),\n              url: node.getAttr(\"src\"),\n              logo: node.getAttr(\"logo_url\")\n            })\n          );\n          node.parentNode.replaceChild(img, node);\n        }\n      });\n    },\n    commands: {\n      /**\n             * 插入百度应用\n             * @command webapp\n             * @method execCommand\n             * @remind 需要百度APPKey\n             * @remind 百度应用主页： <a href=\"http://app.baidu.com/\" target=\"_blank\">http://app.baidu.com/</a>\n             * @param { Object } appOptions 应用所需的参数项， 支持的key有： title=>应用标题， width=>应用容器宽度，\n             * height=>应用容器高度，logo=>应用logo，url=>应用地址\n             * @example\n             * ```javascript\n             * //editor是编辑器实例\n             * //在编辑器里插入一个“植物大战僵尸”的APP\n             * editor.execCommand( 'webapp' , {\n             *     title: '植物大战僵尸',\n             *     width: 560,\n             *     height: 465,\n             *     logo: '应用展示的图片',\n             *     url: '百度应用的地址'\n             * } );\n             * ```\n             */\n      webapp: {\n        execCommand: function(cmd, obj) {\n          var me = this,\n            str = createInsertStr(\n              utils.extend(obj, {\n                align: \"none\"\n              }),\n              false\n            );\n          me.execCommand(\"inserthtml\", str);\n        },\n        queryCommandState: function() {\n          var me = this,\n            img = me.selection.getRange().getClosedNode(),\n            flag = img && img.className == \"edui-faked-webapp\";\n          return flag ? 1 : 0;\n        }\n      }\n    }\n  };\n});\n\n\n// plugins/template.js\n///import core\n///import plugins\\inserthtml.js\n///import plugins\\cleardoc.js\n///commands 模板\n///commandsName  template\n///commandsTitle  模板\n///commandsDialog  dialogs\\template\nUE.plugins[\"template\"] = function() {\n  UE.commands[\"template\"] = {\n    execCommand: function(cmd, obj) {\n      obj.html && this.execCommand(\"inserthtml\", obj.html);\n    }\n  };\n  this.addListener(\"click\", function(type, evt) {\n    var el = evt.target || evt.srcElement,\n      range = this.selection.getRange();\n    var tnode = domUtils.findParent(\n      el,\n      function(node) {\n        if (node.className && domUtils.hasClass(node, \"ue_t\")) {\n          return node;\n        }\n      },\n      true\n    );\n    tnode && range.selectNode(tnode).shrinkBoundary().select();\n  });\n  this.addListener(\"keydown\", function(type, evt) {\n    var range = this.selection.getRange();\n    if (!range.collapsed) {\n      if (!evt.ctrlKey && !evt.metaKey && !evt.shiftKey && !evt.altKey) {\n        var tnode = domUtils.findParent(\n          range.startContainer,\n          function(node) {\n            if (node.className && domUtils.hasClass(node, \"ue_t\")) {\n              return node;\n            }\n          },\n          true\n        );\n        if (tnode) {\n          domUtils.removeClasses(tnode, [\"ue_t\"]);\n        }\n      }\n    }\n  });\n};\n\n\n// plugins/music.js\n/**\n * 插入音乐命令\n * @file\n */\nUE.plugin.register(\"music\", function() {\n  var me = this;\n  function creatInsertStr(url, width, height, align, cssfloat, toEmbed) {\n    return !toEmbed\n      ? \"<img \" +\n          (align && !cssfloat ? 'align=\"' + align + '\"' : \"\") +\n          (cssfloat ? 'style=\"float:' + cssfloat + '\"' : \"\") +\n          ' width=\"' +\n          width +\n          '\" height=\"' +\n          height +\n          '\" _url=\"' +\n          url +\n          '\" class=\"edui-faked-music\"' +\n          ' src=\"' +\n          me.options.langPath +\n          me.options.lang +\n          '/images/music.png\" />'\n      : '<embed type=\"application/x-shockwave-flash\" class=\"edui-faked-music\" pluginspage=\"http://www.macromedia.com/go/getflashplayer\"' +\n          ' src=\"' +\n          url +\n          '\" width=\"' +\n          width +\n          '\" height=\"' +\n          height +\n          '\" ' +\n          (align && !cssfloat ? 'align=\"' + align + '\"' : \"\") +\n          (cssfloat ? 'style=\"float:' + cssfloat + '\"' : \"\") +\n          ' wmode=\"transparent\" play=\"true\" loop=\"false\" menu=\"false\" allowscriptaccess=\"never\" allowfullscreen=\"true\" >';\n  }\n  return {\n    outputRule: function(root) {\n      utils.each(root.getNodesByTagName(\"img\"), function(node) {\n        var html;\n        if (node.getAttr(\"class\") == \"edui-faked-music\") {\n          var cssfloat = node.getStyle(\"float\");\n          var align = node.getAttr(\"align\");\n          html = creatInsertStr(\n            node.getAttr(\"_url\"),\n            node.getAttr(\"width\"),\n            node.getAttr(\"height\"),\n            align,\n            cssfloat,\n            true\n          );\n          var embed = UE.uNode.createElement(html);\n          node.parentNode.replaceChild(embed, node);\n        }\n      });\n    },\n    inputRule: function(root) {\n      utils.each(root.getNodesByTagName(\"embed\"), function(node) {\n        if (node.getAttr(\"class\") == \"edui-faked-music\") {\n          var cssfloat = node.getStyle(\"float\");\n          var align = node.getAttr(\"align\");\n          html = creatInsertStr(\n            node.getAttr(\"src\"),\n            node.getAttr(\"width\"),\n            node.getAttr(\"height\"),\n            align,\n            cssfloat,\n            false\n          );\n          var img = UE.uNode.createElement(html);\n          node.parentNode.replaceChild(img, node);\n        }\n      });\n    },\n    commands: {\n      /**\n             * 插入音乐\n             * @command music\n             * @method execCommand\n             * @param { Object } musicOptions 插入音乐的参数项， 支持的key有： url=>音乐地址；\n             * width=>音乐容器宽度；height=>音乐容器高度；align=>音乐文件的对齐方式， 可选值有: left, center, right, none\n             * @example\n             * ```javascript\n             * //editor是编辑器实例\n             * //在编辑器里插入一个“植物大战僵尸”的APP\n             * editor.execCommand( 'music' , {\n             *     width: 400,\n             *     height: 95,\n             *     align: \"center\",\n             *     url: \"音乐地址\"\n             * } );\n             * ```\n             */\n      music: {\n        execCommand: function(cmd, musicObj) {\n          var me = this,\n            str = creatInsertStr(\n              musicObj.url,\n              musicObj.width || 400,\n              musicObj.height || 95,\n              \"none\",\n              false\n            );\n          me.execCommand(\"inserthtml\", str);\n        },\n        queryCommandState: function() {\n          var me = this,\n            img = me.selection.getRange().getClosedNode(),\n            flag = img && img.className == \"edui-faked-music\";\n          return flag ? 1 : 0;\n        }\n      }\n    }\n  };\n});\n\n\n// plugins/autoupload.js\n/**\n * @description\n * 1.拖放文件到编辑区域，自动上传并插入到选区\n * 2.插入粘贴板的图片，自动上传并插入到选区\n * @author Jinqn\n * @date 2013-10-14\n */\nUE.plugin.register(\"autoupload\", function() {\n  function sendAndInsertFile(file, editor) {\n    var me = editor;\n    //模拟数据\n    var fieldName,\n      urlPrefix,\n      maxSize,\n      allowFiles,\n      actionUrl,\n      loadingHtml,\n      errorHandler,\n      successHandler,\n      filetype = /image\\/\\w+/i.test(file.type) ? \"image\" : \"file\",\n      loadingId = \"loading_\" + (+new Date()).toString(36);\n\n    fieldName = me.getOpt(filetype + \"FieldName\");\n    urlPrefix = me.getOpt(filetype + \"UrlPrefix\");\n    maxSize = me.getOpt(filetype + \"MaxSize\");\n    allowFiles = me.getOpt(filetype + \"AllowFiles\");\n    actionUrl = me.getActionUrl(me.getOpt(filetype + \"ActionName\"));\n    errorHandler = function(title) {\n      var loader = me.document.getElementById(loadingId);\n      loader && domUtils.remove(loader);\n      me.fireEvent(\"showmessage\", {\n        id: loadingId,\n        content: title,\n        type: \"error\",\n        timeout: 4000\n      });\n    };\n\n    if (filetype == \"image\") {\n      loadingHtml =\n        '<img class=\"loadingclass\" id=\"' +\n        loadingId +\n        '\" src=\"' +\n        me.options.themePath +\n        me.options.theme +\n        '/images/spacer.gif\">';\n      successHandler = function(data) {\n        var link = urlPrefix + data.url,\n          loader = me.document.getElementById(loadingId);\n        if (loader) {\n          domUtils.removeClasses(loader, \"loadingclass\");\n          loader.setAttribute(\"src\", link);\n          loader.setAttribute(\"_src\", link);\n          loader.setAttribute(\"alt\", data.original || \"\");\n          loader.removeAttribute(\"id\");\n          me.trigger(\"contentchange\", loader);\n        }\n      };\n    } else {\n      loadingHtml =\n        \"<p>\" +\n        '<img class=\"loadingclass\" id=\"' +\n        loadingId +\n        '\" src=\"' +\n        me.options.themePath +\n        me.options.theme +\n        '/images/spacer.gif\">' +\n        \"</p>\";\n      successHandler = function(data) {\n        var link = urlPrefix + data.url,\n          loader = me.document.getElementById(loadingId);\n\n        var rng = me.selection.getRange(),\n          bk = rng.createBookmark();\n        rng.selectNode(loader).select();\n        me.execCommand(\"insertfile\", { url: link });\n        rng.moveToBookmark(bk).select();\n      };\n    }\n\n    /* 插入loading的占位符 */\n    me.execCommand(\"inserthtml\", loadingHtml);\n    /* 判断后端配置是否没有加载成功 */\n    if (!me.getOpt(filetype + \"ActionName\")) {\n      errorHandler(me.getLang(\"autoupload.errorLoadConfig\"));\n      return;\n    }\n    /* 判断文件大小是否超出限制 */\n    if (file.size > maxSize) {\n      errorHandler(me.getLang(\"autoupload.exceedSizeError\"));\n      return;\n    }\n    /* 判断文件格式是否超出允许 */\n    var fileext = file.name ? file.name.substr(file.name.lastIndexOf(\".\")) : \"\";\n    if (\n      (fileext && filetype != \"image\") ||\n      (allowFiles &&\n        (allowFiles.join(\"\") + \".\").indexOf(fileext.toLowerCase() + \".\") == -1)\n    ) {\n      errorHandler(me.getLang(\"autoupload.exceedTypeError\"));\n      return;\n    }\n\n    /* 创建Ajax并提交 */\n    var xhr = new XMLHttpRequest(),\n      fd = new FormData(),\n      params = utils.serializeParam(me.queryCommandValue(\"serverparam\")) || \"\",\n      url = utils.formatUrl(\n        actionUrl + (actionUrl.indexOf(\"?\") == -1 ? \"?\" : \"&\") + params\n      );\n\n    fd.append(\n      fieldName,\n      file,\n      file.name || \"blob.\" + file.type.substr(\"image/\".length)\n    );\n    fd.append(\"type\", \"ajax\");\n    xhr.open(\"post\", url, true);\n    xhr.setRequestHeader(\"X-Requested-With\", \"XMLHttpRequest\");\n    xhr.addEventListener(\"load\", function(e) {\n      try {\n        var json = new Function(\"return \" + utils.trim(e.target.response))();\n        if (json.state == \"SUCCESS\" && json.url) {\n          successHandler(json);\n        } else {\n          errorHandler(json.state);\n        }\n      } catch (er) {\n        errorHandler(me.getLang(\"autoupload.loadError\"));\n      }\n    });\n    xhr.send(fd);\n  }\n\n  function getPasteImage(e) {\n    return e.clipboardData &&\n      e.clipboardData.items &&\n      e.clipboardData.items.length == 1 &&\n      /^image\\//.test(e.clipboardData.items[0].type)\n      ? e.clipboardData.items\n      : null;\n  }\n  function getDropImage(e) {\n    return e.dataTransfer && e.dataTransfer.files ? e.dataTransfer.files : null;\n  }\n\n  return {\n    outputRule: function(root) {\n      utils.each(root.getNodesByTagName(\"img\"), function(n) {\n        if (/\\b(loaderrorclass)|(bloaderrorclass)\\b/.test(n.getAttr(\"class\"))) {\n          n.parentNode.removeChild(n);\n        }\n      });\n      utils.each(root.getNodesByTagName(\"p\"), function(n) {\n        if (/\\bloadpara\\b/.test(n.getAttr(\"class\"))) {\n          n.parentNode.removeChild(n);\n        }\n      });\n    },\n    bindEvents: {\n      defaultOptions: {\n        //默认间隔时间\n        enableDragUpload: true,\n        enablePasteUpload: true\n      },\n      //插入粘贴板的图片，拖放插入图片\n      ready: function(e) {\n        var me = this;\n        if (window.FormData && window.FileReader) {\n          var handler = function(e) {\n            var hasImg = false,\n              items;\n            //获取粘贴板文件列表或者拖放文件列表\n            items = e.type == \"paste\" ? getPasteImage(e) : getDropImage(e);\n            if (items) {\n              var len = items.length,\n                file;\n              while (len--) {\n                file = items[len];\n                if (file.getAsFile) file = file.getAsFile();\n                if (file && file.size > 0) {\n                  sendAndInsertFile(file, me);\n                  hasImg = true;\n                }\n              }\n              hasImg && e.preventDefault();\n            }\n          };\n\n          if (me.getOpt(\"enablePasteUpload\") !== false) {\n            domUtils.on(me.body, \"paste \", handler);\n          }\n          if (me.getOpt(\"enableDragUpload\") !== false) {\n            domUtils.on(me.body, \"drop\", handler);\n            //取消拖放图片时出现的文字光标位置提示\n            domUtils.on(me.body, \"dragover\", function(e) {\n              if (e.dataTransfer.types[0] == \"Files\") {\n                e.preventDefault();\n              }\n            });\n          } else {\n            if (browser.gecko) {\n              domUtils.on(me.body, \"drop\", function(e) {\n                if (getDropImage(e)) {\n                  e.preventDefault();\n                }\n              });\n            }\n          }\n\n          //设置loading的样式\n          utils.cssRule(\n            \"loading\",\n            \".loadingclass{display:inline-block;cursor:default;background: url('\" +\n              this.options.themePath +\n              this.options.theme +\n              \"/images/loading.gif') no-repeat center center transparent;border:1px solid #cccccc;margin-left:1px;height: 22px;width: 22px;}\\n\" +\n              \".loaderrorclass{display:inline-block;cursor:default;background: url('\" +\n              this.options.themePath +\n              this.options.theme +\n              \"/images/loaderror.png') no-repeat center center transparent;border:1px solid #cccccc;margin-right:1px;height: 22px;width: 22px;\" +\n              \"}\",\n            this.document\n          );\n        }\n      }\n    }\n  };\n});\n\n\n// plugins/autosave.js\nUE.plugin.register(\"autosave\", function() {\n  var me = this,\n    //无限循环保护\n    lastSaveTime = new Date(),\n    //最小保存间隔时间\n    MIN_TIME = 20,\n    //auto save key\n    saveKey = null;\n\n  function save(editor) {\n    var saveData;\n\n    if (new Date() - lastSaveTime < MIN_TIME) {\n      return;\n    }\n\n    if (!editor.hasContents()) {\n      //这里不能调用命令来删除， 会造成事件死循环\n      saveKey && me.removePreferences(saveKey);\n      return;\n    }\n\n    lastSaveTime = new Date();\n\n    editor._saveFlag = null;\n\n    saveData = me.body.innerHTML;\n\n    if (\n      editor.fireEvent(\"beforeautosave\", {\n        content: saveData\n      }) === false\n    ) {\n      return;\n    }\n\n    me.setPreferences(saveKey, saveData);\n\n    editor.fireEvent(\"afterautosave\", {\n      content: saveData\n    });\n  }\n\n  return {\n    defaultOptions: {\n      //默认间隔时间\n      saveInterval: 500,\n      enableAutoSave: true\n    },\n    bindEvents: {\n      ready: function() {\n        var _suffix = \"-drafts-data\",\n          key = null;\n\n        if (me.key) {\n          key = me.key + _suffix;\n        } else {\n          key = (me.container.parentNode.id || \"ue-common\") + _suffix;\n        }\n\n        //页面地址+编辑器ID 保持唯一\n        saveKey =\n          (location.protocol + location.host + location.pathname).replace(\n            /[.:\\/]/g,\n            \"_\"\n          ) + key;\n      },\n\n      contentchange: function() {\n        if (!me.getOpt(\"enableAutoSave\")) {\n          return;\n        }\n\n        if (!saveKey) {\n          return;\n        }\n\n        if (me._saveFlag) {\n          window.clearTimeout(me._saveFlag);\n        }\n\n        if (me.options.saveInterval > 0) {\n          me._saveFlag = window.setTimeout(function() {\n            save(me);\n          }, me.options.saveInterval);\n        } else {\n          save(me);\n        }\n      }\n    },\n    commands: {\n      clearlocaldata: {\n        execCommand: function(cmd, name) {\n          if (saveKey && me.getPreferences(saveKey)) {\n            me.removePreferences(saveKey);\n          }\n        },\n        notNeedUndo: true,\n        ignoreContentChange: true\n      },\n\n      getlocaldata: {\n        execCommand: function(cmd, name) {\n          return saveKey ? me.getPreferences(saveKey) || \"\" : \"\";\n        },\n        notNeedUndo: true,\n        ignoreContentChange: true\n      },\n\n      drafts: {\n        execCommand: function(cmd, name) {\n          if (saveKey) {\n              window.setTimeout(function(){\n                me.body.innerHTML =\n                    me.getPreferences(saveKey) || \"<p>\" + domUtils.fillHtml + \"</p>\";\n                // me.focus(true);\n              }, 0);\n          }\n        },\n        queryCommandState: function() {\n          return saveKey ? (me.getPreferences(saveKey) === null ? -1 : 0) : -1;\n        },\n        notNeedUndo: true,\n        ignoreContentChange: true\n      }\n    }\n  };\n});\n\n\n// plugins/charts.js\nUE.plugin.register(\"charts\", function() {\n  var me = this;\n\n  return {\n    bindEvents: {\n      chartserror: function() {}\n    },\n    commands: {\n      charts: {\n        execCommand: function(cmd, data) {\n          var tableNode = domUtils.findParentByTagName(\n            this.selection.getRange().startContainer,\n            \"table\",\n            true\n          ),\n            flagText = [],\n            config = {};\n\n          if (!tableNode) {\n            return false;\n          }\n\n          if (!validData(tableNode)) {\n            me.fireEvent(\"chartserror\");\n            return false;\n          }\n\n          config.title = data.title || \"\";\n          config.subTitle = data.subTitle || \"\";\n          config.xTitle = data.xTitle || \"\";\n          config.yTitle = data.yTitle || \"\";\n          config.suffix = data.suffix || \"\";\n          config.tip = data.tip || \"\";\n          //数据对齐方式\n          config.dataFormat = data.tableDataFormat || \"\";\n          //图表类型\n          config.chartType = data.chartType || 0;\n\n          for (var key in config) {\n            if (!config.hasOwnProperty(key)) {\n              continue;\n            }\n\n            flagText.push(key + \":\" + config[key]);\n          }\n\n          tableNode.setAttribute(\"data-chart\", flagText.join(\";\"));\n          domUtils.addClass(tableNode, \"edui-charts-table\");\n        },\n        queryCommandState: function(cmd, name) {\n          var tableNode = domUtils.findParentByTagName(\n            this.selection.getRange().startContainer,\n            \"table\",\n            true\n          );\n          return tableNode && validData(tableNode) ? 0 : -1;\n        }\n      }\n    },\n    inputRule: function(root) {\n      utils.each(root.getNodesByTagName(\"table\"), function(tableNode) {\n        if (tableNode.getAttr(\"data-chart\") !== undefined) {\n          tableNode.setAttr(\"style\");\n        }\n      });\n    },\n    outputRule: function(root) {\n      utils.each(root.getNodesByTagName(\"table\"), function(tableNode) {\n        if (tableNode.getAttr(\"data-chart\") !== undefined) {\n          tableNode.setAttr(\"style\", \"display: none;\");\n        }\n      });\n    }\n  };\n\n  function validData(table) {\n    var firstRows = null,\n      cellCount = 0;\n\n    //行数不够\n    if (table.rows.length < 2) {\n      return false;\n    }\n\n    //列数不够\n    if (table.rows[0].cells.length < 2) {\n      return false;\n    }\n\n    //第一行所有cell必须是th\n    firstRows = table.rows[0].cells;\n    cellCount = firstRows.length;\n\n    for (var i = 0, cell; (cell = firstRows[i]); i++) {\n      if (cell.tagName.toLowerCase() !== \"th\") {\n        return false;\n      }\n    }\n\n    for (var i = 1, row; (row = table.rows[i]); i++) {\n      //每行单元格数不匹配， 返回false\n      if (row.cells.length != cellCount) {\n        return false;\n      }\n\n      //第一列不是th也返回false\n      if (row.cells[0].tagName.toLowerCase() !== \"th\") {\n        return false;\n      }\n\n      for (var j = 1, cell; (cell = row.cells[j]); j++) {\n        var value = utils.trim(cell.innerText || cell.textContent || \"\");\n\n        value = value\n          .replace(new RegExp(UE.dom.domUtils.fillChar, \"g\"), \"\")\n          .replace(/^\\s+|\\s+$/g, \"\");\n\n        //必须是数字\n        if (!/^\\d*\\.?\\d+$/.test(value)) {\n          return false;\n        }\n      }\n    }\n\n    return true;\n  }\n});\n\n\n// plugins/section.js\n/**\n * 目录大纲支持插件\n * @file\n * @since 1.3.0\n */\nUE.plugin.register(\"section\", function() {\n  /* 目录节点对象 */\n  function Section(option) {\n    this.tag = \"\";\n    (this.level = -1), (this.dom = null);\n    this.nextSection = null;\n    this.previousSection = null;\n    this.parentSection = null;\n    this.startAddress = [];\n    this.endAddress = [];\n    this.children = [];\n  }\n  function getSection(option) {\n    var section = new Section();\n    return utils.extend(section, option);\n  }\n  function getNodeFromAddress(startAddress, root) {\n    var current = root;\n    for (var i = 0; i < startAddress.length; i++) {\n      if (!current.childNodes) return null;\n      current = current.childNodes[startAddress[i]];\n    }\n    return current;\n  }\n\n  var me = this;\n\n  return {\n    bindMultiEvents: {\n      type: \"aftersetcontent afterscencerestore\",\n      handler: function() {\n        me.fireEvent(\"updateSections\");\n      }\n    },\n    bindEvents: {\n      /* 初始化、拖拽、粘贴、执行setcontent之后 */\n      ready: function() {\n        me.fireEvent(\"updateSections\");\n        domUtils.on(me.body, \"drop paste\", function() {\n          me.fireEvent(\"updateSections\");\n        });\n      },\n      /* 执行paragraph命令之后 */\n      afterexeccommand: function(type, cmd) {\n        if (cmd == \"paragraph\") {\n          me.fireEvent(\"updateSections\");\n        }\n      },\n      /* 部分键盘操作，触发updateSections事件 */\n      keyup: function(type, e) {\n        var me = this,\n          range = me.selection.getRange();\n        if (range.collapsed != true) {\n          me.fireEvent(\"updateSections\");\n        } else {\n          var keyCode = e.keyCode || e.which;\n          if (keyCode == 13 || keyCode == 8 || keyCode == 46) {\n            me.fireEvent(\"updateSections\");\n          }\n        }\n      }\n    },\n    commands: {\n      getsections: {\n        execCommand: function(cmd, levels) {\n          var levelFn = levels || [\"h1\", \"h2\", \"h3\", \"h4\", \"h5\", \"h6\"];\n\n          for (var i = 0; i < levelFn.length; i++) {\n            if (typeof levelFn[i] == \"string\") {\n              levelFn[i] = (function(fn) {\n                return function(node) {\n                  return node.tagName == fn.toUpperCase();\n                };\n              })(levelFn[i]);\n            } else if (typeof levelFn[i] != \"function\") {\n              levelFn[i] = function(node) {\n                return null;\n              };\n            }\n          }\n          function getSectionLevel(node) {\n            for (var i = 0; i < levelFn.length; i++) {\n              if (levelFn[i](node)) return i;\n            }\n            return -1;\n          }\n\n          var me = this,\n            Directory = getSection({ level: -1, title: \"root\" }),\n            previous = Directory;\n\n          function traversal(node, Directory) {\n            var level,\n              tmpSection = null,\n              parent,\n              child,\n              children = node.childNodes;\n            for (var i = 0, len = children.length; i < len; i++) {\n              child = children[i];\n              level = getSectionLevel(child);\n              if (level >= 0) {\n                var address = me.selection\n                  .getRange()\n                  .selectNode(child)\n                  .createAddress(true).startAddress,\n                  current = getSection({\n                    tag: child.tagName,\n                    title: child.innerText || child.textContent || \"\",\n                    level: level,\n                    dom: child,\n                    startAddress: utils.clone(address, []),\n                    endAddress: utils.clone(address, []),\n                    children: []\n                  });\n                previous.nextSection = current;\n                current.previousSection = previous;\n                parent = previous;\n                while (level <= parent.level) {\n                  parent = parent.parentSection;\n                }\n                current.parentSection = parent;\n                parent.children.push(current);\n                tmpSection = previous = current;\n              } else {\n                child.nodeType === 1 && traversal(child, Directory);\n                tmpSection &&\n                  tmpSection.endAddress[tmpSection.endAddress.length - 1]++;\n              }\n            }\n          }\n          traversal(me.body, Directory);\n          return Directory;\n        },\n        notNeedUndo: true\n      },\n      movesection: {\n        execCommand: function(cmd, sourceSection, targetSection, isAfter) {\n          var me = this,\n            targetAddress,\n            target;\n\n          if (!sourceSection || !targetSection || targetSection.level == -1)\n            return;\n\n          targetAddress = isAfter\n            ? targetSection.endAddress\n            : targetSection.startAddress;\n          target = getNodeFromAddress(targetAddress, me.body);\n\n          /* 判断目标地址是否被源章节包含 */\n          if (\n            !targetAddress ||\n            !target ||\n            isContainsAddress(\n              sourceSection.startAddress,\n              sourceSection.endAddress,\n              targetAddress\n            )\n          )\n            return;\n\n          var startNode = getNodeFromAddress(\n            sourceSection.startAddress,\n            me.body\n          ),\n            endNode = getNodeFromAddress(sourceSection.endAddress, me.body),\n            current,\n            nextNode;\n\n          if (isAfter) {\n            current = endNode;\n            while (\n              current &&\n              !(\n                domUtils.getPosition(startNode, current) &\n                domUtils.POSITION_FOLLOWING\n              )\n            ) {\n              nextNode = current.previousSibling;\n              domUtils.insertAfter(target, current);\n              if (current == startNode) break;\n              current = nextNode;\n            }\n          } else {\n            current = startNode;\n            while (\n              current &&\n              !(\n                domUtils.getPosition(current, endNode) &\n                domUtils.POSITION_FOLLOWING\n              )\n            ) {\n              nextNode = current.nextSibling;\n              target.parentNode.insertBefore(current, target);\n              if (current == endNode) break;\n              current = nextNode;\n            }\n          }\n\n          me.fireEvent(\"updateSections\");\n\n          /* 获取地址的包含关系 */\n          function isContainsAddress(startAddress, endAddress, addressTarget) {\n            var isAfterStartAddress = false,\n              isBeforeEndAddress = false;\n            for (var i = 0; i < startAddress.length; i++) {\n              if (i >= addressTarget.length) break;\n              if (addressTarget[i] > startAddress[i]) {\n                isAfterStartAddress = true;\n                break;\n              } else if (addressTarget[i] < startAddress[i]) {\n                break;\n              }\n            }\n            for (var i = 0; i < endAddress.length; i++) {\n              if (i >= addressTarget.length) break;\n              if (addressTarget[i] < startAddress[i]) {\n                isBeforeEndAddress = true;\n                break;\n              } else if (addressTarget[i] > startAddress[i]) {\n                break;\n              }\n            }\n            return isAfterStartAddress && isBeforeEndAddress;\n          }\n        }\n      },\n      deletesection: {\n        execCommand: function(cmd, section, keepChildren) {\n          var me = this;\n\n          if (!section) return;\n\n          function getNodeFromAddress(startAddress) {\n            var current = me.body;\n            for (var i = 0; i < startAddress.length; i++) {\n              if (!current.childNodes) return null;\n              current = current.childNodes[startAddress[i]];\n            }\n            return current;\n          }\n\n          var startNode = getNodeFromAddress(section.startAddress),\n            endNode = getNodeFromAddress(section.endAddress),\n            current = startNode,\n            nextNode;\n\n          if (!keepChildren) {\n            while (\n              current &&\n              domUtils.inDoc(endNode, me.document) &&\n              !(\n                domUtils.getPosition(current, endNode) &\n                domUtils.POSITION_FOLLOWING\n              )\n            ) {\n              nextNode = current.nextSibling;\n              domUtils.remove(current);\n              current = nextNode;\n            }\n          } else {\n            domUtils.remove(current);\n          }\n\n          me.fireEvent(\"updateSections\");\n        }\n      },\n      selectsection: {\n        execCommand: function(cmd, section) {\n          if (!section && !section.dom) return false;\n          var me = this,\n            range = me.selection.getRange(),\n            address = {\n              startAddress: utils.clone(section.startAddress, []),\n              endAddress: utils.clone(section.endAddress, [])\n            };\n          address.endAddress[address.endAddress.length - 1]++;\n          range.moveToAddress(address).select().scrollToView();\n          return true;\n        },\n        notNeedUndo: true\n      },\n      scrolltosection: {\n        execCommand: function(cmd, section) {\n          if (!section && !section.dom) return false;\n          var me = this,\n            range = me.selection.getRange(),\n            address = {\n              startAddress: section.startAddress,\n              endAddress: section.endAddress\n            };\n          address.endAddress[address.endAddress.length - 1]++;\n          range.moveToAddress(address).scrollToView();\n          return true;\n        },\n        notNeedUndo: true\n      }\n    }\n  };\n});\n\n\n// plugins/simpleupload.js\n/**\n * @description\n * 简单上传:点击按钮,直接选择文件上传\n * @author Jinqn\n * @date 2014-03-31\n */\nUE.plugin.register(\"simpleupload\", function() {\n  var me = this,\n    isLoaded = false,\n    containerBtn;\n\n  function initUploadBtn() {\n    var w = containerBtn.offsetWidth || 20,\n      h = containerBtn.offsetHeight || 20,\n      btnIframe = document.createElement(\"iframe\"),\n      btnStyle =\n        \"display:block;width:\" +\n        w +\n        \"px;height:\" +\n        h +\n        \"px;overflow:hidden;border:0;margin:0;padding:0;position:absolute;top:0;left:0;filter:alpha(opacity=0);-moz-opacity:0;-khtml-opacity: 0;opacity: 0;cursor:pointer;\";\n\n    domUtils.on(btnIframe, \"load\", function() {\n      var timestrap = (+new Date()).toString(36),\n        wrapper,\n        btnIframeDoc,\n        btnIframeBody;\n\n      btnIframeDoc =\n        btnIframe.contentDocument || btnIframe.contentWindow.document;\n      btnIframeBody = btnIframeDoc.body;\n      wrapper = btnIframeDoc.createElement(\"div\");\n\n      wrapper.innerHTML =\n        '<form id=\"edui_form_' +\n        timestrap +\n        '\" target=\"edui_iframe_' +\n        timestrap +\n        '\" method=\"POST\" enctype=\"multipart/form-data\" action=\"' +\n        me.getOpt(\"serverUrl\") +\n        '\" ' +\n        'style=\"' +\n        btnStyle +\n        '\">' +\n        '<input id=\"edui_input_' +\n        timestrap +\n        '\" type=\"file\" accept=\"image/*\" name=\"' +\n        me.options.imageFieldName +\n        '\" ' +\n        'style=\"' +\n        btnStyle +\n        '\">' +\n        \"</form>\" +\n        '<iframe id=\"edui_iframe_' +\n        timestrap +\n        '\" name=\"edui_iframe_' +\n        timestrap +\n        '\" style=\"display:none;width:0;height:0;border:0;margin:0;padding:0;position:absolute;\"></iframe>';\n\n      wrapper.className = \"edui-\" + me.options.theme;\n      wrapper.id = me.ui.id + \"_iframeupload\";\n      btnIframeBody.style.cssText = btnStyle;\n      btnIframeBody.style.width = w + \"px\";\n      btnIframeBody.style.height = h + \"px\";\n      btnIframeBody.appendChild(wrapper);\n\n      if (btnIframeBody.parentNode) {\n        btnIframeBody.parentNode.style.width = w + \"px\";\n        btnIframeBody.parentNode.style.height = w + \"px\";\n      }\n\n      var form = btnIframeDoc.getElementById(\"edui_form_\" + timestrap);\n      var input = btnIframeDoc.getElementById(\"edui_input_\" + timestrap);\n      var iframe = btnIframeDoc.getElementById(\"edui_iframe_\" + timestrap);\n\n      domUtils.on(input, \"change\", function() {\n        if (!input.value) return;\n        var loadingId = \"loading_\" + (+new Date()).toString(36);\n        var params =\n          utils.serializeParam(me.queryCommandValue(\"serverparam\")) || \"\";\n\n        var imageActionUrl = me.getActionUrl(me.getOpt(\"imageActionName\"));\n        var allowFiles = me.getOpt(\"imageAllowFiles\");\n\n        me.focus();\n        me.execCommand(\n          \"inserthtml\",\n          '<img class=\"loadingclass\" id=\"' +\n            loadingId +\n            '\" src=\"' +\n            me.options.themePath +\n            me.options.theme +\n            '/images/spacer.gif\">'\n        );\n\n        function callback() {\n          try {\n            var link,\n              json,\n              loader,\n              body = (iframe.contentDocument || iframe.contentWindow.document)\n                .body,\n              result = body.innerText || body.textContent || \"\";\n            json = new Function(\"return \" + result)();\n            link = me.options.imageUrlPrefix + json.url;\n            if (json.state == \"SUCCESS\" && json.url) {\n              loader = me.document.getElementById(loadingId);\n              domUtils.removeClasses(loader, \"loadingclass\");\n              domUtils.on(loader,'load',function(){\n                 me.fireEvent('contentchange');\n              });\n              loader.setAttribute(\"src\", link);\n              loader.setAttribute(\"_src\", link);\n              loader.setAttribute(\"alt\", json.original || \"\");\n              loader.removeAttribute(\"id\");\n            } else {\n              showErrorLoader && showErrorLoader(json.state);\n            }\n          } catch (er) {\n            showErrorLoader &&\n              showErrorLoader(me.getLang(\"simpleupload.loadError\"));\n          }\n          form.reset();\n          domUtils.un(iframe, \"load\", callback);\n        }\n        function showErrorLoader(title) {\n          if (loadingId) {\n            var loader = me.document.getElementById(loadingId);\n            loader && domUtils.remove(loader);\n            me.fireEvent(\"showmessage\", {\n              id: loadingId,\n              content: title,\n              type: \"error\",\n              timeout: 4000\n            });\n          }\n        }\n\n        /* 判断后端配置是否没有加载成功 */\n        if (!me.getOpt(\"imageActionName\")) {\n          errorHandler(me.getLang(\"autoupload.errorLoadConfig\"));\n          return;\n        }\n        // 判断文件格式是否错误\n        var filename = input.value,\n          fileext = filename ? filename.substr(filename.lastIndexOf(\".\")) : \"\";\n        if (\n          !fileext ||\n          (allowFiles &&\n            (allowFiles.join(\"\") + \".\").indexOf(fileext.toLowerCase() + \".\") ==\n              -1)\n        ) {\n          showErrorLoader(me.getLang(\"simpleupload.exceedTypeError\"));\n          return;\n        }\n\n        domUtils.on(iframe, \"load\", callback);\n        form.action = utils.formatUrl(\n          imageActionUrl +\n            (imageActionUrl.indexOf(\"?\") == -1 ? \"?\" : \"&\") +\n            params\n        );\n        form.submit();\n      });\n\n      var stateTimer;\n      me.addListener(\"selectionchange\", function() {\n        clearTimeout(stateTimer);\n        stateTimer = setTimeout(function() {\n          var state = me.queryCommandState(\"simpleupload\");\n          if (state == -1) {\n            input.disabled = \"disabled\";\n          } else {\n            input.disabled = false;\n          }\n        }, 400);\n      });\n      isLoaded = true;\n    });\n\n    btnIframe.style.cssText = btnStyle;\n    containerBtn.appendChild(btnIframe);\n  }\n\n  return {\n    bindEvents: {\n      ready: function() {\n        //设置loading的样式\n        utils.cssRule(\n          \"loading\",\n          \".loadingclass{display:inline-block;cursor:default;background: url('\" +\n            this.options.themePath +\n            this.options.theme +\n            \"/images/loading.gif') no-repeat center center transparent;border:1px solid #cccccc;margin-right:1px;height: 22px;width: 22px;}\\n\" +\n            \".loaderrorclass{display:inline-block;cursor:default;background: url('\" +\n            this.options.themePath +\n            this.options.theme +\n            \"/images/loaderror.png') no-repeat center center transparent;border:1px solid #cccccc;margin-right:1px;height: 22px;width: 22px;\" +\n            \"}\",\n          this.document\n        );\n      },\n      /* 初始化简单上传按钮 */\n      simpleuploadbtnready: function(type, container) {\n        containerBtn = container;\n        me.afterConfigReady(initUploadBtn);\n      }\n    },\n    outputRule: function(root) {\n      utils.each(root.getNodesByTagName(\"img\"), function(n) {\n        if (/\\b(loaderrorclass)|(bloaderrorclass)\\b/.test(n.getAttr(\"class\"))) {\n          n.parentNode.removeChild(n);\n        }\n      });\n    },\n    commands: {\n      simpleupload: {\n        queryCommandState: function() {\n          return isLoaded ? 0 : -1;\n        }\n      }\n    }\n  };\n});\n\n\n// plugins/serverparam.js\n/**\n * 服务器提交的额外参数列表设置插件\n * @file\n * @since 1.2.6.1\n */\nUE.plugin.register(\"serverparam\", function() {\n  var me = this,\n    serverParam = {};\n\n  return {\n    commands: {\n      /**\n             * 修改服务器提交的额外参数列表,清除所有项\n             * @command serverparam\n             * @method execCommand\n             * @param { String } cmd 命令字符串\n             * @example\n             * ```javascript\n             * editor.execCommand('serverparam');\n             * editor.queryCommandValue('serverparam'); //返回空\n             * ```\n             */\n      /**\n             * 修改服务器提交的额外参数列表,删除指定项\n             * @command serverparam\n             * @method execCommand\n             * @param { String } cmd 命令字符串\n             * @param { String } key 要清除的属性\n             * @example\n             * ```javascript\n             * editor.execCommand('serverparam', 'name'); //删除属性name\n             * ```\n             */\n      /**\n             * 修改服务器提交的额外参数列表,使用键值添加项\n             * @command serverparam\n             * @method execCommand\n             * @param { String } cmd 命令字符串\n             * @param { String } key 要添加的属性\n             * @param { String } value 要添加属性的值\n             * @example\n             * ```javascript\n             * editor.execCommand('serverparam', 'name', 'hello');\n             * editor.queryCommandValue('serverparam'); //返回对象 {'name': 'hello'}\n             * ```\n             */\n      /**\n             * 修改服务器提交的额外参数列表,传入键值对对象添加多项\n             * @command serverparam\n             * @method execCommand\n             * @param { String } cmd 命令字符串\n             * @param { Object } key 传入的键值对对象\n             * @example\n             * ```javascript\n             * editor.execCommand('serverparam', {'name': 'hello'});\n             * editor.queryCommandValue('serverparam'); //返回对象 {'name': 'hello'}\n             * ```\n             */\n      /**\n             * 修改服务器提交的额外参数列表,使用自定义函数添加多项\n             * @command serverparam\n             * @method execCommand\n             * @param { String } cmd 命令字符串\n             * @param { Function } key 自定义获取参数的函数\n             * @example\n             * ```javascript\n             * editor.execCommand('serverparam', function(editor){\n             *     return {'key': 'value'};\n             * });\n             * editor.queryCommandValue('serverparam'); //返回对象 {'key': 'value'}\n             * ```\n             */\n\n      /**\n             * 获取服务器提交的额外参数列表\n             * @command serverparam\n             * @method queryCommandValue\n             * @param { String } cmd 命令字符串\n             * @example\n             * ```javascript\n             * editor.queryCommandValue( 'serverparam' ); //返回对象 {'key': 'value'}\n             * ```\n             */\n      serverparam: {\n        execCommand: function(cmd, key, value) {\n          if (key === undefined || key === null) {\n            //不传参数,清空列表\n            serverParam = {};\n          } else if (utils.isString(key)) {\n            //传入键值\n            if (value === undefined || value === null) {\n              delete serverParam[key];\n            } else {\n              serverParam[key] = value;\n            }\n          } else if (utils.isObject(key)) {\n            //传入对象,覆盖列表项\n            utils.extend(serverParam, key, false);\n          } else if (utils.isFunction(key)) {\n            //传入函数,添加列表项\n            utils.extend(serverParam, key(), false);\n          }\n        },\n        queryCommandValue: function() {\n          return serverParam || {};\n        }\n      }\n    }\n  };\n});\n\n\n// plugins/insertfile.js\n/**\n * 插入附件\n */\nUE.plugin.register(\"insertfile\", function() {\n  var me = this;\n\n  function getFileIcon(url) {\n    var ext = url.substr(url.lastIndexOf(\".\") + 1).toLowerCase(),\n      maps = {\n        rar: \"icon_rar.gif\",\n        zip: \"icon_rar.gif\",\n        tar: \"icon_rar.gif\",\n        gz: \"icon_rar.gif\",\n        bz2: \"icon_rar.gif\",\n        doc: \"icon_doc.gif\",\n        docx: \"icon_doc.gif\",\n        pdf: \"icon_pdf.gif\",\n        mp3: \"icon_mp3.gif\",\n        xls: \"icon_xls.gif\",\n        chm: \"icon_chm.gif\",\n        ppt: \"icon_ppt.gif\",\n        pptx: \"icon_ppt.gif\",\n        avi: \"icon_mv.gif\",\n        rmvb: \"icon_mv.gif\",\n        wmv: \"icon_mv.gif\",\n        flv: \"icon_mv.gif\",\n        swf: \"icon_mv.gif\",\n        rm: \"icon_mv.gif\",\n        exe: \"icon_exe.gif\",\n        psd: \"icon_psd.gif\",\n        txt: \"icon_txt.gif\",\n        jpg: \"icon_jpg.gif\",\n        png: \"icon_jpg.gif\",\n        jpeg: \"icon_jpg.gif\",\n        gif: \"icon_jpg.gif\",\n        ico: \"icon_jpg.gif\",\n        bmp: \"icon_jpg.gif\"\n      };\n    return maps[ext] ? maps[ext] : maps[\"txt\"];\n  }\n\n  return {\n    commands: {\n      insertfile: {\n        execCommand: function(command, filelist) {\n          filelist = utils.isArray(filelist) ? filelist : [filelist];\n\n          if (me.fireEvent(\"beforeinsertfile\", filelist) === true) {\n            return;\n          }\n\n          var i,\n            item,\n            icon,\n            title,\n            html = \"\",\n            URL = me.getOpt(\"UEDITOR_HOME_URL\"),\n            iconDir =\n              URL +\n              (URL.substr(URL.length - 1) == \"/\" ? \"\" : \"/\") +\n              \"dialogs/attachment/fileTypeImages/\";\n          for (i = 0; i < filelist.length; i++) {\n            item = filelist[i];\n            icon = iconDir + getFileIcon(item.url);\n            title =\n              item.title || item.url.substr(item.url.lastIndexOf(\"/\") + 1);\n            html +=\n              '<p style=\"line-height: 16px;\">' +\n              '<img style=\"vertical-align: middle; margin-right: 2px;\" src=\"' +\n              icon +\n              '\" _src=\"' +\n              icon +\n              '\" />' +\n              '<a style=\"font-size:12px; color:#0066cc;\" href=\"' +\n              item.url +\n              '\" title=\"' +\n              title +\n              '\">' +\n              title +\n              \"</a>\" +\n              \"</p>\";\n          }\n          me.execCommand(\"insertHtml\", html);\n\n          me.fireEvent(\"afterinsertfile\", filelist);\n        }\n      }\n    }\n  };\n});\n\n\n// plugins/xssFilter.js\n/**\n * @file xssFilter.js\n * @desc xss过滤器\n * @author robbenmu\n */\n\nUE.plugins.xssFilter = function() {\n\n\tvar config = UEDITOR_CONFIG;\n\tvar whitList = config.whitList;\n\n\tfunction filter(node) {\n\n\t\tvar tagName = node.tagName;\n\t\tvar attrs = node.attrs;\n\n\t\tif (!whitList.hasOwnProperty(tagName)) {\n\t\t\tnode.parentNode.removeChild(node);\n\t\t\treturn false;\n\t\t}\n\n\t\tUE.utils.each(attrs, function (val, key) {\n\n\t\t\tif (whitList[tagName].indexOf(key) === -1) {\n\t\t\t\tnode.setAttr(key);\n\t\t\t}\n\t\t});\n\t}\n\n\t// 添加inserthtml\\paste等操作用的过滤规则\n\tif (whitList && config.xssFilterRules) {\n\t\tthis.options.filterRules = function () {\n\n\t\t\tvar result = {};\n\n\t\t\tUE.utils.each(whitList, function(val, key) {\n\t\t\t\tresult[key] = function (node) {\n\t\t\t\t\treturn filter(node);\n\t\t\t\t};\n\t\t\t});\n\n\t\t\treturn result;\n\t\t}();\n\t}\n\n\tvar tagList = [];\n\n\tUE.utils.each(whitList, function (val, key) {\n\t\ttagList.push(key);\n\t});\n\n\t// 添加input过滤规则\n\t//\n\tif (whitList && config.inputXssFilter) {\n\t\tthis.addInputRule(function (root) {\n\n\t\t\troot.traversal(function(node) {\n\t\t\t\tif (node.type !== 'element') {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tfilter(node);\n\t\t\t});\n\t\t});\n\t}\n\t// 添加output过滤规则\n\t//\n\tif (whitList && config.outputXssFilter) {\n\t\tthis.addOutputRule(function (root) {\n\n\t\t\troot.traversal(function(node) {\n\t\t\t\tif (node.type !== 'element') {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tfilter(node);\n\t\t\t});\n\t\t});\n\t}\n\n};\n\n\n// ui/ui.js\nvar baidu = baidu || {};\nbaidu.editor = baidu.editor || {};\nUE.ui = baidu.editor.ui = {};\n\n\n// ui/uiutils.js\n;(function() {\n  var browser = baidu.editor.browser,\n    domUtils = baidu.editor.dom.domUtils;\n\n  var magic = \"$EDITORUI\";\n  var root = (window[magic] = {});\n  var uidMagic = \"ID\" + magic;\n  var uidCount = 0;\n\n  var uiUtils = (baidu.editor.ui.uiUtils = {\n    uid: function(obj) {\n      return obj ? obj[uidMagic] || (obj[uidMagic] = ++uidCount) : ++uidCount;\n    },\n    hook: function(fn, callback) {\n      var dg;\n      if (fn && fn._callbacks) {\n        dg = fn;\n      } else {\n        dg = function() {\n          var q;\n          if (fn) {\n            q = fn.apply(this, arguments);\n          }\n          var callbacks = dg._callbacks;\n          var k = callbacks.length;\n          while (k--) {\n            var r = callbacks[k].apply(this, arguments);\n            if (q === undefined) {\n              q = r;\n            }\n          }\n          return q;\n        };\n        dg._callbacks = [];\n      }\n      dg._callbacks.push(callback);\n      return dg;\n    },\n    createElementByHtml: function(html) {\n      var el = document.createElement(\"div\");\n      el.innerHTML = html;\n      el = el.firstChild;\n      el.parentNode.removeChild(el);\n      return el;\n    },\n    getViewportElement: function() {\n      return browser.ie && browser.quirks\n        ? document.body\n        : document.documentElement;\n    },\n    getClientRect: function(element) {\n      var bcr;\n      //trace  IE6下在控制编辑器显隐时可能会报错，catch一下\n      try {\n        bcr = element.getBoundingClientRect();\n      } catch (e) {\n        bcr = { left: 0, top: 0, height: 0, width: 0 };\n      }\n      var rect = {\n        left: Math.round(bcr.left),\n        top: Math.round(bcr.top),\n        height: Math.round(bcr.bottom - bcr.top),\n        width: Math.round(bcr.right - bcr.left)\n      };\n      var doc;\n      while (\n        (doc = element.ownerDocument) !== document &&\n        (element = domUtils.getWindow(doc).frameElement)\n      ) {\n        bcr = element.getBoundingClientRect();\n        rect.left += bcr.left;\n        rect.top += bcr.top;\n      }\n      rect.bottom = rect.top + rect.height;\n      rect.right = rect.left + rect.width;\n      return rect;\n    },\n    getViewportRect: function() {\n      var viewportEl = uiUtils.getViewportElement();\n      var width = (window.innerWidth || viewportEl.clientWidth) | 0;\n      var height = (window.innerHeight || viewportEl.clientHeight) | 0;\n      return {\n        left: 0,\n        top: 0,\n        height: height,\n        width: width,\n        bottom: height,\n        right: width\n      };\n    },\n    setViewportOffset: function(element, offset) {\n      var rect;\n      var fixedLayer = uiUtils.getFixedLayer();\n      if (element.parentNode === fixedLayer) {\n        element.style.left = offset.left + \"px\";\n        element.style.top = offset.top + \"px\";\n      } else {\n        domUtils.setViewportOffset(element, offset);\n      }\n    },\n    getEventOffset: function(evt) {\n      var el = evt.target || evt.srcElement;\n      var rect = uiUtils.getClientRect(el);\n      var offset = uiUtils.getViewportOffsetByEvent(evt);\n      return {\n        left: offset.left - rect.left,\n        top: offset.top - rect.top\n      };\n    },\n    getViewportOffsetByEvent: function(evt) {\n      var el = evt.target || evt.srcElement;\n      var frameEl = domUtils.getWindow(el).frameElement;\n      var offset = {\n        left: evt.clientX,\n        top: evt.clientY\n      };\n      if (frameEl && el.ownerDocument !== document) {\n        var rect = uiUtils.getClientRect(frameEl);\n        offset.left += rect.left;\n        offset.top += rect.top;\n      }\n      return offset;\n    },\n    setGlobal: function(id, obj) {\n      root[id] = obj;\n      return magic + '[\"' + id + '\"]';\n    },\n    unsetGlobal: function(id) {\n      delete root[id];\n    },\n    copyAttributes: function(tgt, src) {\n      var attributes = src.attributes;\n      var k = attributes.length;\n      while (k--) {\n        var attrNode = attributes[k];\n        if (\n          attrNode.nodeName != \"style\" &&\n          attrNode.nodeName != \"class\" &&\n          (!browser.ie || attrNode.specified)\n        ) {\n          tgt.setAttribute(attrNode.nodeName, attrNode.nodeValue);\n        }\n      }\n      if (src.className) {\n        domUtils.addClass(tgt, src.className);\n      }\n      if (src.style.cssText) {\n        tgt.style.cssText += \";\" + src.style.cssText;\n      }\n    },\n    removeStyle: function(el, styleName) {\n      if (el.style.removeProperty) {\n        el.style.removeProperty(styleName);\n      } else if (el.style.removeAttribute) {\n        el.style.removeAttribute(styleName);\n      } else throw \"\";\n    },\n    contains: function(elA, elB) {\n      return (\n        elA &&\n        elB &&\n        (elA === elB\n          ? false\n          : elA.contains\n            ? elA.contains(elB)\n            : elA.compareDocumentPosition(elB) & 16)\n      );\n    },\n    startDrag: function(evt, callbacks, doc) {\n      var doc = doc || document;\n      var startX = evt.clientX;\n      var startY = evt.clientY;\n      function handleMouseMove(evt) {\n        var x = evt.clientX - startX;\n        var y = evt.clientY - startY;\n        callbacks.ondragmove(x, y, evt);\n        if (evt.stopPropagation) {\n          evt.stopPropagation();\n        } else {\n          evt.cancelBubble = true;\n        }\n      }\n      if (doc.addEventListener) {\n        function handleMouseUp(evt) {\n          doc.removeEventListener(\"mousemove\", handleMouseMove, true);\n          doc.removeEventListener(\"mouseup\", handleMouseUp, true);\n          window.removeEventListener(\"mouseup\", handleMouseUp, true);\n          callbacks.ondragstop();\n        }\n        doc.addEventListener(\"mousemove\", handleMouseMove, true);\n        doc.addEventListener(\"mouseup\", handleMouseUp, true);\n        window.addEventListener(\"mouseup\", handleMouseUp, true);\n\n        evt.preventDefault();\n      } else {\n        var elm = evt.srcElement;\n        elm.setCapture();\n        function releaseCaptrue() {\n          elm.releaseCapture();\n          elm.detachEvent(\"onmousemove\", handleMouseMove);\n          elm.detachEvent(\"onmouseup\", releaseCaptrue);\n          elm.detachEvent(\"onlosecaptrue\", releaseCaptrue);\n          callbacks.ondragstop();\n        }\n        elm.attachEvent(\"onmousemove\", handleMouseMove);\n        elm.attachEvent(\"onmouseup\", releaseCaptrue);\n        elm.attachEvent(\"onlosecaptrue\", releaseCaptrue);\n        evt.returnValue = false;\n      }\n      callbacks.ondragstart();\n    },\n    getFixedLayer: function() {\n      var layer = document.getElementById(\"edui_fixedlayer\");\n      if (layer == null) {\n        layer = document.createElement(\"div\");\n        layer.id = \"edui_fixedlayer\";\n        document.body.appendChild(layer);\n        if (browser.ie && browser.version <= 8) {\n          layer.style.position = \"absolute\";\n          bindFixedLayer();\n          setTimeout(updateFixedOffset);\n        } else {\n          layer.style.position = \"fixed\";\n        }\n        layer.style.left = \"0\";\n        layer.style.top = \"0\";\n        layer.style.width = \"0\";\n        layer.style.height = \"0\";\n      }\n      return layer;\n    },\n    makeUnselectable: function(element) {\n      if (browser.opera || (browser.ie && browser.version < 9)) {\n        element.unselectable = \"on\";\n        if (element.hasChildNodes()) {\n          for (var i = 0; i < element.childNodes.length; i++) {\n            if (element.childNodes[i].nodeType == 1) {\n              uiUtils.makeUnselectable(element.childNodes[i]);\n            }\n          }\n        }\n      } else {\n        if (element.style.MozUserSelect !== undefined) {\n          element.style.MozUserSelect = \"none\";\n        } else if (element.style.WebkitUserSelect !== undefined) {\n          element.style.WebkitUserSelect = \"none\";\n        } else if (element.style.KhtmlUserSelect !== undefined) {\n          element.style.KhtmlUserSelect = \"none\";\n        }\n      }\n    }\n  });\n  function updateFixedOffset() {\n    var layer = document.getElementById(\"edui_fixedlayer\");\n    uiUtils.setViewportOffset(layer, {\n      left: 0,\n      top: 0\n    });\n    //        layer.style.display = 'none';\n    //        layer.style.display = 'block';\n\n    //#trace: 1354\n    //        setTimeout(updateFixedOffset);\n  }\n  function bindFixedLayer(adjOffset) {\n    domUtils.on(window, \"scroll\", updateFixedOffset);\n    domUtils.on(\n      window,\n      \"resize\",\n      baidu.editor.utils.defer(updateFixedOffset, 0, true)\n    );\n  }\n})();\n\n\n// ui/uibase.js\n;(function() {\n  var utils = baidu.editor.utils,\n    uiUtils = baidu.editor.ui.uiUtils,\n    EventBase = baidu.editor.EventBase,\n    UIBase = (baidu.editor.ui.UIBase = function() {});\n\n  UIBase.prototype = {\n    className: \"\",\n    uiName: \"\",\n    initOptions: function(options) {\n      var me = this;\n      for (var k in options) {\n        me[k] = options[k];\n      }\n      this.id = this.id || \"edui\" + uiUtils.uid();\n    },\n    initUIBase: function() {\n      this._globalKey = utils.unhtml(uiUtils.setGlobal(this.id, this));\n    },\n    render: function(holder) {\n      var html = this.renderHtml();\n      var el = uiUtils.createElementByHtml(html);\n\n      //by xuheng 给每个node添加class\n      var list = domUtils.getElementsByTagName(el, \"*\");\n      var theme = \"edui-\" + (this.theme || 'notadd');\n      var layer = document.getElementById(\"edui_fixedlayer\");\n      for (var i = 0, node; (node = list[i++]); ) {\n        domUtils.addClass(node, theme);\n      }\n      domUtils.addClass(el, theme);\n      if (layer) {\n        layer.className = \"\";\n        domUtils.addClass(layer, theme);\n      }\n\n      var seatEl = this.getDom();\n      if (seatEl != null) {\n        seatEl.parentNode.replaceChild(el, seatEl);\n        uiUtils.copyAttributes(el, seatEl);\n      } else {\n        if (typeof holder == \"string\") {\n          holder = document.getElementById(holder);\n        }\n        holder = holder || uiUtils.getFixedLayer();\n        domUtils.addClass(holder, theme);\n        holder.appendChild(el);\n      }\n      this.postRender();\n    },\n    getDom: function(name) {\n      if (!name) {\n        return document.getElementById(this.id);\n      } else {\n        return document.getElementById(this.id + \"_\" + name);\n      }\n    },\n    postRender: function() {\n      this.fireEvent(\"postrender\");\n    },\n    getHtmlTpl: function() {\n      return \"\";\n    },\n    formatHtml: function(tpl) {\n      var prefix = \"edui-\" + this.uiName;\n      return tpl\n        .replace(/##/g, this.id)\n        .replace(/%%-/g, this.uiName ? prefix + \"-\" : \"\")\n        .replace(/%%/g, (this.uiName ? prefix : \"\") + \" \" + this.className)\n        .replace(/\\$\\$/g, this._globalKey);\n    },\n    renderHtml: function() {\n      return this.formatHtml(this.getHtmlTpl());\n    },\n    dispose: function() {\n      var box = this.getDom();\n      if (box) baidu.editor.dom.domUtils.remove(box);\n      uiUtils.unsetGlobal(this.id);\n    }\n  };\n  utils.inherits(UIBase, EventBase);\n})();\n\n\n// ui/separator.js\n;(function() {\n  var utils = baidu.editor.utils,\n    UIBase = baidu.editor.ui.UIBase,\n    Separator = (baidu.editor.ui.Separator = function(options) {\n      this.initOptions(options);\n      this.initSeparator();\n    });\n  Separator.prototype = {\n    uiName: \"separator\",\n    initSeparator: function() {\n      this.initUIBase();\n    },\n    getHtmlTpl: function() {\n      return '<div id=\"##\" class=\"edui-box %%\"></div>';\n    }\n  };\n  utils.inherits(Separator, UIBase);\n})();\n\n\n// ui/mask.js\n///import core\n///import uicore\n;(function() {\n  var utils = baidu.editor.utils,\n    domUtils = baidu.editor.dom.domUtils,\n    UIBase = baidu.editor.ui.UIBase,\n    uiUtils = baidu.editor.ui.uiUtils;\n\n  var Mask = (baidu.editor.ui.Mask = function(options) {\n    this.initOptions(options);\n    this.initUIBase();\n  });\n  Mask.prototype = {\n    getHtmlTpl: function() {\n      return '<div id=\"##\" class=\"edui-mask %%\" onclick=\"return $$._onClick(event, this);\" onmousedown=\"return $$._onMouseDown(event, this);\"></div>';\n    },\n    postRender: function() {\n      var me = this;\n      domUtils.on(window, \"resize\", function() {\n        setTimeout(function() {\n          if (!me.isHidden()) {\n            me._fill();\n          }\n        });\n      });\n    },\n    show: function(zIndex) {\n      this._fill();\n      this.getDom().style.display = \"\";\n      this.getDom().style.zIndex = zIndex;\n    },\n    hide: function() {\n      this.getDom().style.display = \"none\";\n      this.getDom().style.zIndex = \"\";\n    },\n    isHidden: function() {\n      return this.getDom().style.display == \"none\";\n    },\n    _onMouseDown: function() {\n      return false;\n    },\n    _onClick: function(e, target) {\n      this.fireEvent(\"click\", e, target);\n    },\n    _fill: function() {\n      var el = this.getDom();\n      var vpRect = uiUtils.getViewportRect();\n      el.style.width = vpRect.width + \"px\";\n      el.style.height = vpRect.height + \"px\";\n    }\n  };\n  utils.inherits(Mask, UIBase);\n})();\n\n\n// ui/popup.js\n///import core\n///import uicore\n;(function() {\n  var utils = baidu.editor.utils,\n    uiUtils = baidu.editor.ui.uiUtils,\n    domUtils = baidu.editor.dom.domUtils,\n    UIBase = baidu.editor.ui.UIBase,\n    Popup = (baidu.editor.ui.Popup = function(options) {\n      this.initOptions(options);\n      this.initPopup();\n    });\n\n  var allPopups = [];\n  function closeAllPopup(evt, el) {\n    for (var i = 0; i < allPopups.length; i++) {\n      var pop = allPopups[i];\n      if (!pop.isHidden()) {\n        if (pop.queryAutoHide(el) !== false) {\n          if (\n            evt &&\n            /scroll/gi.test(evt.type) &&\n            pop.className == \"edui-wordpastepop\"\n          )\n            return;\n          pop.hide();\n        }\n      }\n    }\n\n    if (allPopups.length) pop.editor.fireEvent(\"afterhidepop\");\n  }\n\n  Popup.postHide = closeAllPopup;\n\n  var ANCHOR_CLASSES = [\n    \"edui-anchor-topleft\",\n    \"edui-anchor-topright\",\n    \"edui-anchor-bottomleft\",\n    \"edui-anchor-bottomright\"\n  ];\n  Popup.prototype = {\n    SHADOW_RADIUS: 5,\n    content: null,\n    _hidden: false,\n    autoRender: true,\n    canSideLeft: true,\n    canSideUp: true,\n    initPopup: function() {\n      this.initUIBase();\n      allPopups.push(this);\n    },\n    getHtmlTpl: function() {\n      return (\n        '<div id=\"##\" class=\"edui-popup %%\" onmousedown=\"return false;\">' +\n        ' <div id=\"##_body\" class=\"edui-popup-body\">' +\n        ' <iframe style=\"position:absolute;z-index:-1;left:0;top:0;background-color: transparent;\" frameborder=\"0\" width=\"100%\" height=\"100%\" src=\"about:blank\"></iframe>' +\n        ' <div class=\"edui-shadow\"></div>' +\n        ' <div id=\"##_content\" class=\"edui-popup-content\">' +\n        this.getContentHtmlTpl() +\n        \"  </div>\" +\n        \" </div>\" +\n        \"</div>\"\n      );\n    },\n    getContentHtmlTpl: function() {\n      if (this.content) {\n        if (typeof this.content == \"string\") {\n          return this.content;\n        }\n        return this.content.renderHtml();\n      } else {\n        return \"\";\n      }\n    },\n    _UIBase_postRender: UIBase.prototype.postRender,\n    postRender: function() {\n      if (this.content instanceof UIBase) {\n        this.content.postRender();\n      }\n\n      //捕获鼠标滚轮\n      if (this.captureWheel && !this.captured) {\n        this.captured = true;\n\n        var winHeight =\n          (document.documentElement.clientHeight ||\n            document.body.clientHeight) - 80,\n          _height = this.getDom().offsetHeight,\n          _top = uiUtils.getClientRect(this.combox.getDom()).top,\n          content = this.getDom(\"content\"),\n          ifr = this.getDom(\"body\").getElementsByTagName(\"iframe\"),\n          me = this;\n\n        ifr.length && (ifr = ifr[0]);\n\n        while (_top + _height > winHeight) {\n          _height -= 30;\n        }\n        content.style.height = _height + \"px\";\n        //同步更改iframe高度\n        ifr && (ifr.style.height = _height + \"px\");\n\n        //阻止在combox上的鼠标滚轮事件, 防止用户的正常操作被误解\n        if (window.XMLHttpRequest) {\n          domUtils.on(\n            content,\n            \"onmousewheel\" in document.body ? \"mousewheel\" : \"DOMMouseScroll\",\n            function(e) {\n              if (e.preventDefault) {\n                e.preventDefault();\n              } else {\n                e.returnValue = false;\n              }\n\n              if (e.wheelDelta) {\n                content.scrollTop -= e.wheelDelta / 120 * 60;\n              } else {\n                content.scrollTop -= e.detail / -3 * 60;\n              }\n            }\n          );\n        } else {\n          //ie6\n          domUtils.on(this.getDom(), \"mousewheel\", function(e) {\n            e.returnValue = false;\n\n            me.getDom(\"content\").scrollTop -= e.wheelDelta / 120 * 60;\n          });\n        }\n      }\n      this.fireEvent(\"postRenderAfter\");\n      this.hide(true);\n      this._UIBase_postRender();\n    },\n    _doAutoRender: function() {\n      if (!this.getDom() && this.autoRender) {\n        this.render();\n      }\n    },\n    mesureSize: function() {\n      var box = this.getDom(\"content\");\n      return uiUtils.getClientRect(box);\n    },\n    fitSize: function() {\n      if (this.captureWheel && this.sized) {\n        return this.__size;\n      }\n      this.sized = true;\n      var popBodyEl = this.getDom(\"body\");\n      popBodyEl.style.width = \"\";\n      popBodyEl.style.height = \"\";\n      var size = this.mesureSize();\n      if (this.captureWheel) {\n        popBodyEl.style.width = -(-20 - size.width) + \"px\";\n        var height = parseInt(this.getDom(\"content\").style.height, 10);\n        !window.isNaN(height) && (size.height = height);\n      } else {\n        popBodyEl.style.width = size.width + \"px\";\n      }\n      popBodyEl.style.height = size.height + \"px\";\n      this.__size = size;\n      this.captureWheel && (this.getDom(\"content\").style.overflow = \"auto\");\n      return size;\n    },\n    showAnchor: function(element, hoz) {\n      this.showAnchorRect(uiUtils.getClientRect(element), hoz);\n    },\n    showAnchorRect: function(rect, hoz, adj) {\n      this._doAutoRender();\n      var vpRect = uiUtils.getViewportRect();\n      this.getDom().style.visibility = \"hidden\";\n      this._show();\n      var popSize = this.fitSize();\n\n      var sideLeft, sideUp, left, top;\n      if (hoz) {\n        sideLeft =\n          this.canSideLeft &&\n          (rect.right + popSize.width > vpRect.right &&\n            rect.left > popSize.width);\n        sideUp =\n          this.canSideUp &&\n          (rect.top + popSize.height > vpRect.bottom &&\n            rect.bottom > popSize.height);\n        left = sideLeft ? rect.left - popSize.width : rect.right;\n        top = sideUp ? rect.bottom - popSize.height : rect.top;\n      } else {\n        sideLeft =\n          this.canSideLeft &&\n          (rect.right + popSize.width > vpRect.right &&\n            rect.left > popSize.width);\n        sideUp =\n          this.canSideUp &&\n          (rect.top + popSize.height > vpRect.bottom &&\n            rect.bottom > popSize.height);\n        left = sideLeft ? rect.right - popSize.width : rect.left;\n        top = sideUp ? rect.top - popSize.height : rect.bottom;\n      }\n\n      var popEl = this.getDom();\n      uiUtils.setViewportOffset(popEl, {\n        left: left,\n        top: top\n      });\n      domUtils.removeClasses(popEl, ANCHOR_CLASSES);\n      popEl.className +=\n        \" \" + ANCHOR_CLASSES[(sideUp ? 1 : 0) * 2 + (sideLeft ? 1 : 0)];\n      if (this.editor) {\n        popEl.style.zIndex = this.editor.container.style.zIndex * 1 + 10;\n        baidu.editor.ui.uiUtils.getFixedLayer().style.zIndex =\n          popEl.style.zIndex - 1;\n      }\n      this.getDom().style.visibility = \"visible\";\n    },\n    showAt: function(offset) {\n      var left = offset.left;\n      var top = offset.top;\n      var rect = {\n        left: left,\n        top: top,\n        right: left,\n        bottom: top,\n        height: 0,\n        width: 0\n      };\n      this.showAnchorRect(rect, false, true);\n    },\n    _show: function() {\n      if (this._hidden) {\n        var box = this.getDom();\n        box.style.display = \"\";\n        this._hidden = false;\n        //                if (box.setActive) {\n        //                    box.setActive();\n        //                }\n        this.fireEvent(\"show\");\n      }\n    },\n    isHidden: function() {\n      return this._hidden;\n    },\n    show: function() {\n      this._doAutoRender();\n      this._show();\n    },\n    hide: function(notNofity) {\n      if (!this._hidden && this.getDom()) {\n        this.getDom().style.display = \"none\";\n        this._hidden = true;\n        if (!notNofity) {\n          this.fireEvent(\"hide\");\n        }\n      }\n    },\n    queryAutoHide: function(el) {\n      return !el || !uiUtils.contains(this.getDom(), el);\n    }\n  };\n  utils.inherits(Popup, UIBase);\n\n  domUtils.on(document, \"mousedown\", function(evt) {\n    var el = evt.target || evt.srcElement;\n    closeAllPopup(evt, el);\n  });\n  domUtils.on(window, \"scroll\", function(evt, el) {\n    closeAllPopup(evt, el);\n  });\n})();\n\n\n// ui/colorpicker.js\n///import core\n///import uicore\n;(function() {\n  var utils = baidu.editor.utils,\n    UIBase = baidu.editor.ui.UIBase,\n    ColorPicker = (baidu.editor.ui.ColorPicker = function(options) {\n      this.initOptions(options);\n      this.noColorText = this.noColorText || this.editor.getLang(\"clearColor\");\n      this.initUIBase();\n    });\n\n  ColorPicker.prototype = {\n    getHtmlTpl: function() {\n      return genColorPicker(this.noColorText, this.editor);\n    },\n    _onTableClick: function(evt) {\n      var tgt = evt.target || evt.srcElement;\n      var color = tgt.getAttribute(\"data-color\");\n      if (color) {\n        this.fireEvent(\"pickcolor\", color);\n      }\n    },\n    _onTableOver: function(evt) {\n      var tgt = evt.target || evt.srcElement;\n      var color = tgt.getAttribute(\"data-color\");\n      if (color) {\n        this.getDom(\"preview\").style.backgroundColor = color;\n      }\n    },\n    _onTableOut: function() {\n      this.getDom(\"preview\").style.backgroundColor = \"\";\n    },\n    _onPickNoColor: function() {\n      this.fireEvent(\"picknocolor\");\n    }\n  };\n  utils.inherits(ColorPicker, UIBase);\n\n  var COLORS = (\"ffffff,000000,eeece1,1f497d,4f81bd,c0504d,9bbb59,8064a2,4bacc6,f79646,\" +\n    \"f2f2f2,7f7f7f,ddd9c3,c6d9f0,dbe5f1,f2dcdb,ebf1dd,e5e0ec,dbeef3,fdeada,\" +\n    \"d8d8d8,595959,c4bd97,8db3e2,b8cce4,e5b9b7,d7e3bc,ccc1d9,b7dde8,fbd5b5,\" +\n    \"bfbfbf,3f3f3f,938953,548dd4,95b3d7,d99694,c3d69b,b2a2c7,92cddc,fac08f,\" +\n    \"a5a5a5,262626,494429,17365d,366092,953734,76923c,5f497a,31859b,e36c09,\" +\n    \"7f7f7f,0c0c0c,1d1b10,0f243e,244061,632423,4f6128,3f3151,205867,974806,\" +\n    \"c00000,ff0000,ffc000,ffff00,92d050,00b050,00b0f0,0070c0,002060,7030a0,\").split(\n    \",\"\n  );\n\n  function genColorPicker(noColorText, editor) {\n    var html =\n      '<div id=\"##\" class=\"edui-colorpicker %%\">' +\n      '<div class=\"edui-colorpicker-topbar edui-clearfix\">' +\n      '<div unselectable=\"on\" id=\"##_preview\" class=\"edui-colorpicker-preview\"></div>' +\n      '<div unselectable=\"on\" class=\"edui-colorpicker-nocolor\" onclick=\"$$._onPickNoColor(event, this);\">' +\n      noColorText +\n      \"</div>\" +\n      \"</div>\" +\n      '<table  class=\"edui-box\" style=\"border-collapse: collapse;\" onmouseover=\"$$._onTableOver(event, this);\" onmouseout=\"$$._onTableOut(event, this);\" onclick=\"return $$._onTableClick(event, this);\" cellspacing=\"0\" cellpadding=\"0\">' +\n      '<tr style=\"border-bottom: 1px solid #ddd;font-size: 13px;line-height: 25px;color:#39C;padding-top: 2px\"><td colspan=\"10\">' +\n      editor.getLang(\"themeColor\") +\n      \"</td> </tr>\" +\n      '<tr class=\"edui-colorpicker-tablefirstrow\" >';\n    for (var i = 0; i < COLORS.length; i++) {\n      if (i && i % 10 === 0) {\n        html +=\n          \"</tr>\" +\n          (i == 60\n            ? '<tr style=\"border-bottom: 1px solid #ddd;font-size: 13px;line-height: 25px;color:#39C;\"><td colspan=\"10\">' +\n                editor.getLang(\"standardColor\") +\n                \"</td></tr>\"\n            : \"\") +\n          \"<tr\" +\n          (i == 60 ? ' class=\"edui-colorpicker-tablefirstrow\"' : \"\") +\n          \">\";\n      }\n      html += i < 70\n        ? '<td style=\"padding: 0 2px;\"><a hidefocus title=\"' +\n            COLORS[i] +\n            '\" onclick=\"return false;\" href=\"javascript:\" unselectable=\"on\" class=\"edui-box edui-colorpicker-colorcell\"' +\n            ' data-color=\"#' +\n            COLORS[i] +\n            '\"' +\n            ' style=\"background-color:#' +\n            COLORS[i] +\n            \";border:solid #ccc;\" +\n            (i < 10 || i >= 60\n              ? \"border-width:1px;\"\n              : i >= 10 && i < 20\n                ? \"border-width:1px 1px 0 1px;\"\n                : \"border-width:0 1px 0 1px;\") +\n            '\"' +\n            \"></a></td>\"\n        : \"\";\n    }\n    html += \"</tr></table></div>\";\n    return html;\n  }\n})();\n\n\n// ui/tablepicker.js\n///import core\n///import uicore\n;(function() {\n  var utils = baidu.editor.utils,\n    uiUtils = baidu.editor.ui.uiUtils,\n    UIBase = baidu.editor.ui.UIBase;\n\n  var TablePicker = (baidu.editor.ui.TablePicker = function(options) {\n    this.initOptions(options);\n    this.initTablePicker();\n  });\n  TablePicker.prototype = {\n    defaultNumRows: 10,\n    defaultNumCols: 10,\n    maxNumRows: 20,\n    maxNumCols: 20,\n    numRows: 10,\n    numCols: 10,\n    lengthOfCellSide: 22,\n    initTablePicker: function() {\n      this.initUIBase();\n    },\n    getHtmlTpl: function() {\n      var me = this;\n      return (\n        '<div id=\"##\" class=\"edui-tablepicker %%\">' +\n        '<div class=\"edui-tablepicker-body\">' +\n        '<div class=\"edui-infoarea\">' +\n        '<span id=\"##_label\" class=\"edui-label\"></span>' +\n        \"</div>\" +\n        '<div class=\"edui-pickarea\"' +\n        ' onmousemove=\"$$._onMouseMove(event, this);\"' +\n        ' onmouseover=\"$$._onMouseOver(event, this);\"' +\n        ' onmouseout=\"$$._onMouseOut(event, this);\"' +\n        ' onclick=\"$$._onClick(event, this);\"' +\n        \">\" +\n        '<div id=\"##_overlay\" class=\"edui-overlay\"></div>' +\n        \"</div>\" +\n        \"</div>\" +\n        \"</div>\"\n      );\n    },\n    _UIBase_render: UIBase.prototype.render,\n    render: function(holder) {\n      this._UIBase_render(holder);\n      this.getDom(\"label\").innerHTML =\n        \"0\" +\n        this.editor.getLang(\"t_row\") +\n        \" x 0\" +\n        this.editor.getLang(\"t_col\");\n    },\n    _track: function(numCols, numRows) {\n      var style = this.getDom(\"overlay\").style;\n      var sideLen = this.lengthOfCellSide;\n      style.width = numCols * sideLen + \"px\";\n      style.height = numRows * sideLen + \"px\";\n      var label = this.getDom(\"label\");\n      label.innerHTML =\n        numCols +\n        this.editor.getLang(\"t_col\") +\n        \" x \" +\n        numRows +\n        this.editor.getLang(\"t_row\");\n      this.numCols = numCols;\n      this.numRows = numRows;\n    },\n    _onMouseOver: function(evt, el) {\n      var rel = evt.relatedTarget || evt.fromElement;\n      if (!uiUtils.contains(el, rel) && el !== rel) {\n        this.getDom(\"label\").innerHTML =\n          \"0\" +\n          this.editor.getLang(\"t_col\") +\n          \" x 0\" +\n          this.editor.getLang(\"t_row\");\n        this.getDom(\"overlay\").style.visibility = \"\";\n      }\n    },\n    _onMouseOut: function(evt, el) {\n      var rel = evt.relatedTarget || evt.toElement;\n      if (!uiUtils.contains(el, rel) && el !== rel) {\n        this.getDom(\"label\").innerHTML =\n          \"0\" +\n          this.editor.getLang(\"t_col\") +\n          \" x 0\" +\n          this.editor.getLang(\"t_row\");\n        this.getDom(\"overlay\").style.visibility = \"hidden\";\n      }\n    },\n    _onMouseMove: function(evt, el) {\n      var style = this.getDom(\"overlay\").style;\n      var offset = uiUtils.getEventOffset(evt);\n      var sideLen = this.lengthOfCellSide;\n      var numCols = Math.ceil(offset.left / sideLen);\n      var numRows = Math.ceil(offset.top / sideLen);\n      this._track(numCols, numRows);\n    },\n    _onClick: function() {\n      this.fireEvent(\"picktable\", this.numCols, this.numRows);\n    }\n  };\n  utils.inherits(TablePicker, UIBase);\n})();\n\n\n// ui/stateful.js\n;(function() {\n  var browser = baidu.editor.browser,\n    domUtils = baidu.editor.dom.domUtils,\n    uiUtils = baidu.editor.ui.uiUtils;\n\n  var TPL_STATEFUL =\n    'onmousedown=\"$$.Stateful_onMouseDown(event, this);\"' +\n    ' onmouseup=\"$$.Stateful_onMouseUp(event, this);\"' +\n    (browser.ie\n      ? ' onmouseenter=\"$$.Stateful_onMouseEnter(event, this);\"' +\n          ' onmouseleave=\"$$.Stateful_onMouseLeave(event, this);\"'\n      : ' onmouseover=\"$$.Stateful_onMouseOver(event, this);\"' +\n          ' onmouseout=\"$$.Stateful_onMouseOut(event, this);\"');\n\n  baidu.editor.ui.Stateful = {\n    alwalysHoverable: false,\n    target: null, //目标元素和this指向dom不一样\n    Stateful_init: function() {\n      this._Stateful_dGetHtmlTpl = this.getHtmlTpl;\n      this.getHtmlTpl = this.Stateful_getHtmlTpl;\n    },\n    Stateful_getHtmlTpl: function() {\n      var tpl = this._Stateful_dGetHtmlTpl();\n      // 使用function避免$转义\n      return tpl.replace(/stateful/g, function() {\n        return TPL_STATEFUL;\n      });\n    },\n    Stateful_onMouseEnter: function(evt, el) {\n      this.target = el;\n      if (!this.isDisabled() || this.alwalysHoverable) {\n        this.addState(\"hover\");\n        this.fireEvent(\"over\");\n      }\n    },\n    Stateful_onMouseLeave: function(evt, el) {\n      if (!this.isDisabled() || this.alwalysHoverable) {\n        this.removeState(\"hover\");\n        this.removeState(\"active\");\n        this.fireEvent(\"out\");\n      }\n    },\n    Stateful_onMouseOver: function(evt, el) {\n      var rel = evt.relatedTarget;\n      if (!uiUtils.contains(el, rel) && el !== rel) {\n        this.Stateful_onMouseEnter(evt, el);\n      }\n    },\n    Stateful_onMouseOut: function(evt, el) {\n      var rel = evt.relatedTarget;\n      if (!uiUtils.contains(el, rel) && el !== rel) {\n        this.Stateful_onMouseLeave(evt, el);\n      }\n    },\n    Stateful_onMouseDown: function(evt, el) {\n      if (!this.isDisabled()) {\n        this.addState(\"active\");\n      }\n    },\n    Stateful_onMouseUp: function(evt, el) {\n      if (!this.isDisabled()) {\n        this.removeState(\"active\");\n      }\n    },\n    Stateful_postRender: function() {\n      if (this.disabled && !this.hasState(\"disabled\")) {\n        this.addState(\"disabled\");\n      }\n    },\n    hasState: function(state) {\n      return domUtils.hasClass(this.getStateDom(), \"edui-state-\" + state);\n    },\n    addState: function(state) {\n      if (!this.hasState(state)) {\n        this.getStateDom().className += \" edui-state-\" + state;\n      }\n    },\n    removeState: function(state) {\n      if (this.hasState(state)) {\n        domUtils.removeClasses(this.getStateDom(), [\"edui-state-\" + state]);\n      }\n    },\n    getStateDom: function() {\n      return this.getDom(\"state\");\n    },\n    isChecked: function() {\n      return this.hasState(\"checked\");\n    },\n    setChecked: function(checked) {\n      if (!this.isDisabled() && checked) {\n        this.addState(\"checked\");\n      } else {\n        this.removeState(\"checked\");\n      }\n    },\n    isDisabled: function() {\n      return this.hasState(\"disabled\");\n    },\n    setDisabled: function(disabled) {\n      if (disabled) {\n        this.removeState(\"hover\");\n        this.removeState(\"checked\");\n        this.removeState(\"active\");\n        this.addState(\"disabled\");\n      } else {\n        this.removeState(\"disabled\");\n      }\n    }\n  };\n})();\n\n\n// ui/button.js\n///import core\n///import uicore\n///import ui/stateful.js\n;(function() {\n  var utils = baidu.editor.utils,\n    UIBase = baidu.editor.ui.UIBase,\n    Stateful = baidu.editor.ui.Stateful,\n    Button = (baidu.editor.ui.Button = function(options) {\n      if (options.name) {\n        var btnName = options.name;\n        var cssRules = options.cssRules;\n        if (!options.className) {\n          options.className = \"edui-for-\" + btnName;\n        }\n        options.cssRules =\n          \".edui-\" +\n          (options.theme || \"default\") +\n          \" .edui-toolbar .edui-button.edui-for-\" +\n          btnName +\n          \" .edui-icon {\" +\n          cssRules +\n          \"}\";\n      }\n      this.initOptions(options);\n      this.initButton();\n    });\n  Button.prototype = {\n    uiName: \"button\",\n    label: \"\",\n    title: \"\",\n    showIcon: true,\n    showText: true,\n    cssRules: \"\",\n    initButton: function() {\n      this.initUIBase();\n      this.Stateful_init();\n      if (this.cssRules) {\n        utils.cssRule(\"edui-customize-\" + this.name + \"-style\", this.cssRules);\n      }\n    },\n    getHtmlTpl: function() {\n      return (\n        '<div id=\"##\" class=\"edui-box %%\">' +\n        '<div id=\"##_state\" stateful>' +\n        '<div class=\"%%-wrap\"><div id=\"##_body\" unselectable=\"on\" ' +\n        (this.title ? 'title=\"' + this.title + '\"' : \"\") +\n        ' class=\"%%-body\" onmousedown=\"return $$._onMouseDown(event, this);\" onclick=\"return $$._onClick(event, this);\">' +\n        (this.showIcon ? '<div class=\"edui-box edui-icon\"><svg class=\"edui-iconfont\"><use xlink:href=\"#' + this.className + '\"></use></svg></div>' : \"\") +\n        (this.showText\n          ? '<div class=\"edui-box edui-label\">' + this.label + \"</div>\"\n          : \"\") +\n        \"</div>\" +\n        \"</div>\" +\n        \"</div></div>\"\n      );\n    },\n    postRender: function() {\n      this.Stateful_postRender();\n      this.setDisabled(this.disabled);\n    },\n    _onMouseDown: function(e) {\n      var target = e.target || e.srcElement,\n        tagName = target && target.tagName && target.tagName.toLowerCase();\n      if (tagName == \"input\" || tagName == \"object\" || tagName == \"object\") {\n        return false;\n      }\n    },\n    _onClick: function() {\n      if (!this.isDisabled()) {\n        this.fireEvent(\"click\");\n      }\n    },\n    setTitle: function(text) {\n      var label = this.getDom(\"label\");\n      label.innerHTML = text;\n    }\n  };\n  utils.inherits(Button, UIBase);\n  utils.extend(Button.prototype, Stateful);\n})();\n\n\n// ui/splitbutton.js\n///import core\n///import uicore\n///import ui/stateful.js\n;(function() {\n  var utils = baidu.editor.utils,\n    uiUtils = baidu.editor.ui.uiUtils,\n    domUtils = baidu.editor.dom.domUtils,\n    UIBase = baidu.editor.ui.UIBase,\n    Stateful = baidu.editor.ui.Stateful,\n    SplitButton = (baidu.editor.ui.SplitButton = function(options) {\n      this.initOptions(options);\n      this.initSplitButton();\n    });\n  SplitButton.prototype = {\n    popup: null,\n    uiName: \"splitbutton\",\n    title: \"\",\n    initSplitButton: function() {\n      this.initUIBase();\n      this.Stateful_init();\n      var me = this;\n      if (this.popup != null) {\n        var popup = this.popup;\n        this.popup = null;\n        this.setPopup(popup);\n      }\n    },\n    _UIBase_postRender: UIBase.prototype.postRender,\n    postRender: function() {\n      this.Stateful_postRender();\n      this._UIBase_postRender();\n    },\n    setPopup: function(popup) {\n      if (this.popup === popup) return;\n      if (this.popup != null) {\n        this.popup.dispose();\n      }\n      popup.addListener(\"show\", utils.bind(this._onPopupShow, this));\n      popup.addListener(\"hide\", utils.bind(this._onPopupHide, this));\n      popup.addListener(\n        \"postrender\",\n        utils.bind(function() {\n          popup\n            .getDom(\"body\")\n            .appendChild(\n              uiUtils.createElementByHtml(\n                '<div id=\"' +\n                  this.popup.id +\n                  '_bordereraser\" class=\"edui-bordereraser edui-background\" style=\"width:' +\n                  (uiUtils.getClientRect(this.getDom()).width + 20) +\n                  'px\"></div>'\n              )\n            );\n          popup.getDom().className += \" \" + this.className;\n        }, this)\n      );\n      this.popup = popup;\n    },\n    _onPopupShow: function() {\n      this.addState(\"opened\");\n    },\n    _onPopupHide: function() {\n      this.removeState(\"opened\");\n    },\n    getHtmlTpl: function() {\n      return (\n        '<div id=\"##\" class=\"edui-box %%\">' +\n        \"<div \" +\n        (this.title ? 'title=\"' + this.title + '\"' : \"\") +\n        ' id=\"##_state\" stateful><div class=\"%%-body\">' +\n        '<div id=\"##_button_body\" class=\"edui-box edui-button-body\" onclick=\"$$._onButtonClick(event, this);\">' +\n        '<div class=\"edui-box edui-icon\"><svg class=\"edui-iconfont\"><use xlink:href=\"#' + this.className + '\"></use></svg></div>' +\n        \"</div>\" +\n        '<div class=\"edui-box edui-splitborder\"></div>' +\n        '<div class=\"edui-box edui-arrow\" onclick=\"$$._onArrowClick();\"></div>' +\n        \"</div></div></div>\"\n      );\n    },\n    showPopup: function() {\n      // 当popup往上弹出的时候，做特殊处理\n      var rect = uiUtils.getClientRect(this.getDom());\n      rect.top -= this.popup.SHADOW_RADIUS;\n      rect.height += this.popup.SHADOW_RADIUS;\n      this.popup.showAnchorRect(rect);\n    },\n    _onArrowClick: function(event, el) {\n      if (!this.isDisabled()) {\n        this.showPopup();\n      }\n    },\n    _onButtonClick: function() {\n      if (!this.isDisabled()) {\n        this.fireEvent(\"buttonclick\");\n      }\n    }\n  };\n  utils.inherits(SplitButton, UIBase);\n  utils.extend(SplitButton.prototype, Stateful, true);\n})();\n\n\n// ui/colorbutton.js\n///import core\n///import uicore\n///import ui/colorpicker.js\n///import ui/popup.js\n///import ui/splitbutton.js\n;(function() {\n  var utils = baidu.editor.utils,\n    uiUtils = baidu.editor.ui.uiUtils,\n    ColorPicker = baidu.editor.ui.ColorPicker,\n    Popup = baidu.editor.ui.Popup,\n    SplitButton = baidu.editor.ui.SplitButton,\n    ColorButton = (baidu.editor.ui.ColorButton = function(options) {\n      this.initOptions(options);\n      this.initColorButton();\n    });\n  ColorButton.prototype = {\n    initColorButton: function() {\n      var me = this;\n      this.popup = new Popup({\n        content: new ColorPicker({\n          noColorText: me.editor.getLang(\"clearColor\"),\n          editor: me.editor,\n          onpickcolor: function(t, color) {\n            me._onPickColor(color);\n          },\n          onpicknocolor: function(t, color) {\n            me._onPickNoColor(color);\n          }\n        }),\n        editor: me.editor\n      });\n      this.initSplitButton();\n    },\n    _SplitButton_postRender: SplitButton.prototype.postRender,\n    postRender: function() {\n      this._SplitButton_postRender();\n      this.getDom(\"button_body\").appendChild(\n        uiUtils.createElementByHtml(\n          '<div id=\"' + this.id + '_colorlump\" class=\"edui-colorlump\"></div>'\n        )\n      );\n      this.getDom().className += \" edui-colorbutton\";\n    },\n    setColor: function(color) {\n      this.getDom(\"colorlump\").style.backgroundColor = color;\n      this.color = color;\n    },\n    _onPickColor: function(color) {\n      if (this.fireEvent(\"pickcolor\", color) !== false) {\n        this.setColor(color);\n        this.popup.hide();\n      }\n    },\n    _onPickNoColor: function(color) {\n      if (this.fireEvent(\"picknocolor\") !== false) {\n        this.popup.hide();\n      }\n    }\n  };\n  utils.inherits(ColorButton, SplitButton);\n})();\n\n\n// ui/tablebutton.js\n///import core\n///import uicore\n///import ui/popup.js\n///import ui/tablepicker.js\n///import ui/splitbutton.js\n;(function() {\n  var utils = baidu.editor.utils,\n    Popup = baidu.editor.ui.Popup,\n    TablePicker = baidu.editor.ui.TablePicker,\n    SplitButton = baidu.editor.ui.SplitButton,\n    TableButton = (baidu.editor.ui.TableButton = function(options) {\n      this.initOptions(options);\n      this.initTableButton();\n    });\n  TableButton.prototype = {\n    initTableButton: function() {\n      var me = this;\n      this.popup = new Popup({\n        content: new TablePicker({\n          editor: me.editor,\n          onpicktable: function(t, numCols, numRows) {\n            me._onPickTable(numCols, numRows);\n          }\n        }),\n        editor: me.editor\n      });\n      this.initSplitButton();\n    },\n    _onPickTable: function(numCols, numRows) {\n      if (this.fireEvent(\"picktable\", numCols, numRows) !== false) {\n        this.popup.hide();\n      }\n    }\n  };\n  utils.inherits(TableButton, SplitButton);\n})();\n\n\n// ui/autotypesetpicker.js\n///import core\n///import uicore\n;(function() {\n  var utils = baidu.editor.utils,\n    UIBase = baidu.editor.ui.UIBase;\n\n  var AutoTypeSetPicker = (baidu.editor.ui.AutoTypeSetPicker = function(\n    options\n  ) {\n    this.initOptions(options);\n    this.initAutoTypeSetPicker();\n  });\n  AutoTypeSetPicker.prototype = {\n    initAutoTypeSetPicker: function() {\n      this.initUIBase();\n    },\n    getHtmlTpl: function() {\n      var me = this.editor,\n        opt = me.options.autotypeset,\n        lang = me.getLang(\"autoTypeSet\");\n\n      var textAlignInputName = \"textAlignValue\" + me.uid,\n        imageBlockInputName = \"imageBlockLineValue\" + me.uid,\n        symbolConverInputName = \"symbolConverValue\" + me.uid;\n\n      return (\n        '<div id=\"##\" class=\"edui-autotypesetpicker %%\">' +\n        '<div class=\"edui-autotypesetpicker-body\">' +\n        \"<table >\" +\n        '<tr><td nowrap><input type=\"checkbox\" name=\"mergeEmptyline\" ' +\n        (opt[\"mergeEmptyline\"] ? \"checked\" : \"\") +\n        \">\" +\n        lang.mergeLine +\n        '</td><td colspan=\"2\"><input type=\"checkbox\" name=\"removeEmptyline\" ' +\n        (opt[\"removeEmptyline\"] ? \"checked\" : \"\") +\n        \">\" +\n        lang.delLine +\n        \"</td></tr>\" +\n        '<tr><td nowrap><input type=\"checkbox\" name=\"removeClass\" ' +\n        (opt[\"removeClass\"] ? \"checked\" : \"\") +\n        \">\" +\n        lang.removeFormat +\n        '</td><td colspan=\"2\"><input type=\"checkbox\" name=\"indent\" ' +\n        (opt[\"indent\"] ? \"checked\" : \"\") +\n        \">\" +\n        lang.indent +\n        \"</td></tr>\" +\n        \"<tr>\" +\n        '<td nowrap><input type=\"checkbox\" name=\"textAlign\" ' +\n        (opt[\"textAlign\"] ? \"checked\" : \"\") +\n        \">\" +\n        lang.alignment +\n        \"</td>\" +\n        '<td colspan=\"2\" id=\"' +\n        textAlignInputName +\n        '\">' +\n        '<input type=\"radio\" name=\"' +\n        textAlignInputName +\n        '\" value=\"left\" ' +\n        (opt[\"textAlign\"] && opt[\"textAlign\"] == \"left\" ? \"checked\" : \"\") +\n        \">\" +\n        me.getLang(\"justifyleft\") +\n        '<input type=\"radio\" name=\"' +\n        textAlignInputName +\n        '\" value=\"center\" ' +\n        (opt[\"textAlign\"] && opt[\"textAlign\"] == \"center\" ? \"checked\" : \"\") +\n        \">\" +\n        me.getLang(\"justifycenter\") +\n        '<input type=\"radio\" name=\"' +\n        textAlignInputName +\n        '\" value=\"right\" ' +\n        (opt[\"textAlign\"] && opt[\"textAlign\"] == \"right\" ? \"checked\" : \"\") +\n        \">\" +\n        me.getLang(\"justifyright\") +\n        \"</td>\" +\n        \"</tr>\" +\n        \"<tr>\" +\n        '<td nowrap><input type=\"checkbox\" name=\"imageBlockLine\" ' +\n        (opt[\"imageBlockLine\"] ? \"checked\" : \"\") +\n        \">\" +\n        lang.imageFloat +\n        \"</td>\" +\n        '<td nowrap id=\"' +\n        imageBlockInputName +\n        '\">' +\n        '<input type=\"radio\" name=\"' +\n        imageBlockInputName +\n        '\" value=\"none\" ' +\n        (opt[\"imageBlockLine\"] && opt[\"imageBlockLine\"] == \"none\"\n          ? \"checked\"\n          : \"\") +\n        \">\" +\n        me.getLang(\"default\") +\n        '<input type=\"radio\" name=\"' +\n        imageBlockInputName +\n        '\" value=\"left\" ' +\n        (opt[\"imageBlockLine\"] && opt[\"imageBlockLine\"] == \"left\"\n          ? \"checked\"\n          : \"\") +\n        \">\" +\n        me.getLang(\"justifyleft\") +\n        '<input type=\"radio\" name=\"' +\n        imageBlockInputName +\n        '\" value=\"center\" ' +\n        (opt[\"imageBlockLine\"] && opt[\"imageBlockLine\"] == \"center\"\n          ? \"checked\"\n          : \"\") +\n        \">\" +\n        me.getLang(\"justifycenter\") +\n        '<input type=\"radio\" name=\"' +\n        imageBlockInputName +\n        '\" value=\"right\" ' +\n        (opt[\"imageBlockLine\"] && opt[\"imageBlockLine\"] == \"right\"\n          ? \"checked\"\n          : \"\") +\n        \">\" +\n        me.getLang(\"justifyright\") +\n        \"</td>\" +\n        \"</tr>\" +\n        '<tr><td nowrap><input type=\"checkbox\" name=\"clearFontSize\" ' +\n        (opt[\"clearFontSize\"] ? \"checked\" : \"\") +\n        \">\" +\n        lang.removeFontsize +\n        '</td><td colspan=\"2\"><input type=\"checkbox\" name=\"clearFontFamily\" ' +\n        (opt[\"clearFontFamily\"] ? \"checked\" : \"\") +\n        \">\" +\n        lang.removeFontFamily +\n        \"</td></tr>\" +\n        '<tr><td nowrap colspan=\"3\"><input type=\"checkbox\" name=\"removeEmptyNode\" ' +\n        (opt[\"removeEmptyNode\"] ? \"checked\" : \"\") +\n        \">\" +\n        lang.removeHtml +\n        \"</td></tr>\" +\n        '<tr><td nowrap colspan=\"3\"><input type=\"checkbox\" name=\"pasteFilter\" ' +\n        (opt[\"pasteFilter\"] ? \"checked\" : \"\") +\n        \">\" +\n        lang.pasteFilter +\n        \"</td></tr>\" +\n        \"<tr>\" +\n        '<td nowrap><input type=\"checkbox\" name=\"symbolConver\" ' +\n        (opt[\"bdc2sb\"] || opt[\"tobdc\"] ? \"checked\" : \"\") +\n        \">\" +\n        lang.symbol +\n        \"</td>\" +\n        '<td id=\"' +\n        symbolConverInputName +\n        '\">' +\n        '<input type=\"radio\" name=\"bdc\" value=\"bdc2sb\" ' +\n        (opt[\"bdc2sb\"] ? \"checked\" : \"\") +\n        \">\" +\n        lang.bdc2sb +\n        '<input type=\"radio\" name=\"bdc\" value=\"tobdc\" ' +\n        (opt[\"tobdc\"] ? \"checked\" : \"\") +\n        \">\" +\n        lang.tobdc +\n        \"\" +\n        \"</td>\" +\n        '<td nowrap align=\"right\"><button >' +\n        lang.run +\n        \"</button></td>\" +\n        \"</tr>\" +\n        \"</table>\" +\n        \"</div>\" +\n        \"</div>\"\n      );\n    },\n    _UIBase_render: UIBase.prototype.render\n  };\n  utils.inherits(AutoTypeSetPicker, UIBase);\n})();\n\n\n// ui/autotypesetbutton.js\n///import core\n///import uicore\n///import ui/popup.js\n///import ui/autotypesetpicker.js\n///import ui/splitbutton.js\n;(function() {\n  var utils = baidu.editor.utils,\n    Popup = baidu.editor.ui.Popup,\n    AutoTypeSetPicker = baidu.editor.ui.AutoTypeSetPicker,\n    SplitButton = baidu.editor.ui.SplitButton,\n    AutoTypeSetButton = (baidu.editor.ui.AutoTypeSetButton = function(options) {\n      this.initOptions(options);\n      this.initAutoTypeSetButton();\n    });\n  function getPara(me) {\n    var opt = {},\n      cont = me.getDom(),\n      editorId = me.editor.uid,\n      inputType = null,\n      attrName = null,\n      ipts = domUtils.getElementsByTagName(cont, \"input\");\n    for (var i = ipts.length - 1, ipt; (ipt = ipts[i--]); ) {\n      inputType = ipt.getAttribute(\"type\");\n      if (inputType == \"checkbox\") {\n        attrName = ipt.getAttribute(\"name\");\n        opt[attrName] && delete opt[attrName];\n        if (ipt.checked) {\n          var attrValue = document.getElementById(\n            attrName + \"Value\" + editorId\n          );\n          if (attrValue) {\n            if (/input/gi.test(attrValue.tagName)) {\n              opt[attrName] = attrValue.value;\n            } else {\n              var iptChilds = attrValue.getElementsByTagName(\"input\");\n              for (\n                var j = iptChilds.length - 1, iptchild;\n                (iptchild = iptChilds[j--]);\n\n              ) {\n                if (iptchild.checked) {\n                  opt[attrName] = iptchild.value;\n                  break;\n                }\n              }\n            }\n          } else {\n            opt[attrName] = true;\n          }\n        } else {\n          opt[attrName] = false;\n        }\n      } else {\n        opt[ipt.getAttribute(\"value\")] = ipt.checked;\n      }\n    }\n\n    var selects = domUtils.getElementsByTagName(cont, \"select\");\n    for (var i = 0, si; (si = selects[i++]); ) {\n      var attr = si.getAttribute(\"name\");\n      opt[attr] = opt[attr] ? si.value : \"\";\n    }\n\n    utils.extend(me.editor.options.autotypeset, opt);\n\n    me.editor.setPreferences(\"autotypeset\", opt);\n  }\n\n  AutoTypeSetButton.prototype = {\n    initAutoTypeSetButton: function() {\n      var me = this;\n      this.popup = new Popup({\n        //传入配置参数\n        content: new AutoTypeSetPicker({ editor: me.editor }),\n        editor: me.editor,\n        hide: function() {\n          if (!this._hidden && this.getDom()) {\n            getPara(this);\n            this.getDom().style.display = \"none\";\n            this._hidden = true;\n            this.fireEvent(\"hide\");\n          }\n        }\n      });\n      var flag = 0;\n      this.popup.addListener(\"postRenderAfter\", function() {\n        var popupUI = this;\n        if (flag) return;\n        var cont = this.getDom(),\n          btn = cont.getElementsByTagName(\"button\")[0];\n\n        btn.onclick = function() {\n          getPara(popupUI);\n          me.editor.execCommand(\"autotypeset\");\n          popupUI.hide();\n        };\n\n        domUtils.on(cont, \"click\", function(e) {\n          var target = e.target || e.srcElement,\n            editorId = me.editor.uid;\n          if (target && target.tagName == \"INPUT\") {\n            // 点击图片浮动的checkbox,去除对应的radio\n            if (\n              target.name == \"imageBlockLine\" ||\n              target.name == \"textAlign\" ||\n              target.name == \"symbolConver\"\n            ) {\n              var checked = target.checked,\n                radioTd = document.getElementById(\n                  target.name + \"Value\" + editorId\n                ),\n                radios = radioTd.getElementsByTagName(\"input\"),\n                defalutSelect = {\n                  imageBlockLine: \"none\",\n                  textAlign: \"left\",\n                  symbolConver: \"tobdc\"\n                };\n\n              for (var i = 0; i < radios.length; i++) {\n                if (checked) {\n                  if (radios[i].value == defalutSelect[target.name]) {\n                    radios[i].checked = \"checked\";\n                  }\n                } else {\n                  radios[i].checked = false;\n                }\n              }\n            }\n            // 点击radio,选中对应的checkbox\n            if (\n              target.name == \"imageBlockLineValue\" + editorId ||\n              target.name == \"textAlignValue\" + editorId ||\n              target.name == \"bdc\"\n            ) {\n              var checkboxs = target.parentNode.previousSibling.getElementsByTagName(\n                \"input\"\n              );\n              checkboxs && (checkboxs[0].checked = true);\n            }\n\n            getPara(popupUI);\n          }\n        });\n\n        flag = 1;\n      });\n      this.initSplitButton();\n    }\n  };\n  utils.inherits(AutoTypeSetButton, SplitButton);\n})();\n\n\n// ui/cellalignpicker.js\n///import core\n///import uicore\n;(function() {\n  var utils = baidu.editor.utils,\n    Popup = baidu.editor.ui.Popup,\n    Stateful = baidu.editor.ui.Stateful,\n    UIBase = baidu.editor.ui.UIBase;\n\n  /**\n     * 该参数将新增一个参数： selected， 参数类型为一个Object， 形如{ 'align': 'center', 'valign': 'top' }， 表示单元格的初始\n     * 对齐状态为： 竖直居上，水平居中; 其中 align的取值为：'center', 'left', 'right'; valign的取值为: 'top', 'middle', 'bottom'\n     * @update 2013/4/2 hancong03@baidu.com\n     */\n  var CellAlignPicker = (baidu.editor.ui.CellAlignPicker = function(options) {\n    this.initOptions(options);\n    this.initSelected();\n    this.initCellAlignPicker();\n  });\n  CellAlignPicker.prototype = {\n    //初始化选中状态， 该方法将根据传递进来的参数获取到应该选中的对齐方式图标的索引\n    initSelected: function() {\n      var status = {\n        valign: {\n          top: 0,\n          middle: 1,\n          bottom: 2\n        },\n        align: {\n          left: 0,\n          center: 1,\n          right: 2\n        },\n        count: 3\n      },\n        result = -1;\n\n      if (this.selected) {\n        this.selectedIndex =\n          status.valign[this.selected.valign] * status.count +\n          status.align[this.selected.align];\n      }\n    },\n    initCellAlignPicker: function() {\n      this.initUIBase();\n      this.Stateful_init();\n    },\n    getHtmlTpl: function() {\n      var alignType = [\"left\", \"center\", \"right\"],\n        COUNT = 9,\n        tempClassName = null,\n        tempIndex = -1,\n        tmpl = [];\n\n      for (var i = 0; i < COUNT; i++) {\n        tempClassName = this.selectedIndex === i\n          ? ' class=\"edui-cellalign-selected\" '\n          : \"\";\n        tempIndex = i % 3;\n\n        tempIndex === 0 && tmpl.push(\"<tr>\");\n\n        tmpl.push(\n          '<td index=\"' +\n            i +\n            '\" ' +\n            tempClassName +\n            ' stateful><div class=\"edui-icon edui-' +\n            alignType[tempIndex] +\n            '\"></div></td>'\n        );\n\n        tempIndex === 2 && tmpl.push(\"</tr>\");\n      }\n\n      return (\n        '<div id=\"##\" class=\"edui-cellalignpicker %%\">' +\n        '<div class=\"edui-cellalignpicker-body\">' +\n        '<table onclick=\"$$._onClick(event);\">' +\n        tmpl.join(\"\") +\n        \"</table>\" +\n        \"</div>\" +\n        \"</div>\"\n      );\n    },\n    getStateDom: function() {\n      return this.target;\n    },\n    _onClick: function(evt) {\n      var target = evt.target || evt.srcElement;\n      if (/icon/.test(target.className)) {\n        this.items[target.parentNode.getAttribute(\"index\")].onclick();\n        Popup.postHide(evt);\n      }\n    },\n    _UIBase_render: UIBase.prototype.render\n  };\n  utils.inherits(CellAlignPicker, UIBase);\n  utils.extend(CellAlignPicker.prototype, Stateful, true);\n})();\n\n\n// ui/pastepicker.js\n///import core\n///import uicore\n;(function() {\n  var utils = baidu.editor.utils,\n    Stateful = baidu.editor.ui.Stateful,\n    uiUtils = baidu.editor.ui.uiUtils,\n    UIBase = baidu.editor.ui.UIBase;\n\n  var PastePicker = (baidu.editor.ui.PastePicker = function(options) {\n    this.initOptions(options);\n    this.initPastePicker();\n  });\n  PastePicker.prototype = {\n    initPastePicker: function() {\n      this.initUIBase();\n      this.Stateful_init();\n    },\n    getHtmlTpl: function() {\n      return (\n        '<div class=\"edui-pasteicon\" onclick=\"$$._onClick(this)\"></div>' +\n        '<div class=\"edui-pastecontainer\">' +\n        '<div class=\"edui-title\">' +\n        this.editor.getLang(\"pasteOpt\") +\n        \"</div>\" +\n        '<div class=\"edui-button\">' +\n        '<div title=\"' +\n        this.editor.getLang(\"pasteSourceFormat\") +\n        '\" onclick=\"$$.format(false)\" stateful>' +\n        '<div class=\"edui-richtxticon\"></div></div>' +\n        '<div title=\"' +\n        this.editor.getLang(\"tagFormat\") +\n        '\" onclick=\"$$.format(2)\" stateful>' +\n        '<div class=\"edui-tagicon\"></div></div>' +\n        '<div title=\"' +\n        this.editor.getLang(\"pasteTextFormat\") +\n        '\" onclick=\"$$.format(true)\" stateful>' +\n        '<div class=\"edui-plaintxticon\"></div></div>' +\n        \"</div>\" +\n        \"</div>\" +\n        \"</div>\"\n      );\n    },\n    getStateDom: function() {\n      return this.target;\n    },\n    format: function(param) {\n      this.editor.ui._isTransfer = true;\n      this.editor.fireEvent(\"pasteTransfer\", param);\n    },\n    _onClick: function(cur) {\n      var node = domUtils.getNextDomNode(cur),\n        screenHt = uiUtils.getViewportRect().height,\n        subPop = uiUtils.getClientRect(node);\n\n      if (subPop.top + subPop.height > screenHt)\n        node.style.top = -subPop.height - cur.offsetHeight + \"px\";\n      else node.style.top = \"\";\n\n      if (/hidden/gi.test(domUtils.getComputedStyle(node, \"visibility\"))) {\n        node.style.visibility = \"visible\";\n        domUtils.addClass(cur, \"edui-state-opened\");\n      } else {\n        node.style.visibility = \"hidden\";\n        domUtils.removeClasses(cur, \"edui-state-opened\");\n      }\n    },\n    _UIBase_render: UIBase.prototype.render\n  };\n  utils.inherits(PastePicker, UIBase);\n  utils.extend(PastePicker.prototype, Stateful, true);\n})();\n\n\n// ui/toolbar.js\n;(function() {\n  var utils = baidu.editor.utils,\n    uiUtils = baidu.editor.ui.uiUtils,\n    UIBase = baidu.editor.ui.UIBase,\n    Toolbar = (baidu.editor.ui.Toolbar = function(options) {\n      this.initOptions(options);\n      this.initToolbar();\n    });\n  Toolbar.prototype = {\n    items: null,\n    initToolbar: function() {\n      this.items = this.items || [];\n      this.initUIBase();\n    },\n    add: function(item, index) {\n      if (index === undefined) {\n        this.items.push(item);\n      } else {\n        this.items.splice(index, 0, item);\n      }\n    },\n    getHtmlTpl: function() {\n      var buff = [];\n      for (var i = 0; i < this.items.length; i++) {\n        buff[i] = this.items[i].renderHtml();\n      }\n      return (\n        '<div id=\"##\" class=\"edui-toolbar %%\" onselectstart=\"return false;\" onmousedown=\"return $$._onMouseDown(event, this);\">' +\n        buff.join(\"\") +\n        \"</div>\"\n      );\n    },\n    postRender: function() {\n      var box = this.getDom();\n      for (var i = 0; i < this.items.length; i++) {\n        this.items[i].postRender();\n      }\n      uiUtils.makeUnselectable(box);\n    },\n    _onMouseDown: function(e) {\n      var target = e.target || e.srcElement,\n        tagName = target && target.tagName && target.tagName.toLowerCase();\n      if (tagName == \"input\" || tagName == \"object\" || tagName == \"object\") {\n        return false;\n      }\n    }\n  };\n  utils.inherits(Toolbar, UIBase);\n})();\n\n\n// ui/menu.js\n///import core\n///import uicore\n///import ui\\popup.js\n///import ui\\stateful.js\n;(function() {\n  var utils = baidu.editor.utils,\n    domUtils = baidu.editor.dom.domUtils,\n    uiUtils = baidu.editor.ui.uiUtils,\n    UIBase = baidu.editor.ui.UIBase,\n    Popup = baidu.editor.ui.Popup,\n    Stateful = baidu.editor.ui.Stateful,\n    CellAlignPicker = baidu.editor.ui.CellAlignPicker,\n    Menu = (baidu.editor.ui.Menu = function(options) {\n      this.initOptions(options);\n      this.initMenu();\n    });\n\n  var menuSeparator = {\n    renderHtml: function() {\n      return '<div class=\"edui-menuitem edui-menuseparator\"><div class=\"edui-menuseparator-inner\"></div></div>';\n    },\n    postRender: function() {},\n    queryAutoHide: function() {\n      return true;\n    }\n  };\n  Menu.prototype = {\n    items: null,\n    uiName: \"menu\",\n    initMenu: function() {\n      this.items = this.items || [];\n      this.initPopup();\n      this.initItems();\n    },\n    initItems: function() {\n      for (var i = 0; i < this.items.length; i++) {\n        var item = this.items[i];\n        if (item == \"-\") {\n          this.items[i] = this.getSeparator();\n        } else if (!(item instanceof MenuItem)) {\n          item.editor = this.editor;\n          item.theme = this.editor.options.theme;\n          this.items[i] = this.createItem(item);\n        }\n      }\n    },\n    getSeparator: function() {\n      return menuSeparator;\n    },\n    createItem: function(item) {\n      //新增一个参数menu, 该参数存储了menuItem所对应的menu引用\n      item.menu = this;\n      return new MenuItem(item);\n    },\n    _Popup_getContentHtmlTpl: Popup.prototype.getContentHtmlTpl,\n    getContentHtmlTpl: function() {\n      if (this.items.length == 0) {\n        return this._Popup_getContentHtmlTpl();\n      }\n      var buff = [];\n      for (var i = 0; i < this.items.length; i++) {\n        var item = this.items[i];\n        buff[i] = item.renderHtml();\n      }\n      return '<div class=\"%%-body\">' + buff.join(\"\") + \"</div>\";\n    },\n    _Popup_postRender: Popup.prototype.postRender,\n    postRender: function() {\n      var me = this;\n      for (var i = 0; i < this.items.length; i++) {\n        var item = this.items[i];\n        item.ownerMenu = this;\n        item.postRender();\n      }\n      domUtils.on(this.getDom(), \"mouseover\", function(evt) {\n        evt = evt || event;\n        var rel = evt.relatedTarget || evt.fromElement;\n        var el = me.getDom();\n        if (!uiUtils.contains(el, rel) && el !== rel) {\n          me.fireEvent(\"over\");\n        }\n      });\n      this._Popup_postRender();\n    },\n    queryAutoHide: function(el) {\n      if (el) {\n        if (uiUtils.contains(this.getDom(), el)) {\n          return false;\n        }\n        for (var i = 0; i < this.items.length; i++) {\n          var item = this.items[i];\n          if (item.queryAutoHide(el) === false) {\n            return false;\n          }\n        }\n      }\n    },\n    clearItems: function() {\n      for (var i = 0; i < this.items.length; i++) {\n        var item = this.items[i];\n        clearTimeout(item._showingTimer);\n        clearTimeout(item._closingTimer);\n        if (item.subMenu) {\n          item.subMenu.destroy();\n        }\n      }\n      this.items = [];\n    },\n    destroy: function() {\n      if (this.getDom()) {\n        domUtils.remove(this.getDom());\n      }\n      this.clearItems();\n    },\n    dispose: function() {\n      this.destroy();\n    }\n  };\n  utils.inherits(Menu, Popup);\n\n  /**\n     * @update 2013/04/03 hancong03 新增一个参数menu, 该参数存储了menuItem所对应的menu引用\n     * @type {Function}\n     */\n  var MenuItem = (baidu.editor.ui.MenuItem = function(options) {\n    this.initOptions(options);\n    this.initUIBase();\n    this.Stateful_init();\n    if (this.subMenu && !(this.subMenu instanceof Menu)) {\n      if (options.className && options.className.indexOf(\"aligntd\") != -1) {\n        var me = this;\n\n        //获取单元格对齐初始状态\n        this.subMenu.selected = this.editor.queryCommandValue(\"cellalignment\");\n\n        this.subMenu = new Popup({\n          content: new CellAlignPicker(this.subMenu),\n          parentMenu: me,\n          editor: me.editor,\n          destroy: function() {\n            if (this.getDom()) {\n              domUtils.remove(this.getDom());\n            }\n          }\n        });\n        this.subMenu.addListener(\"postRenderAfter\", function() {\n          domUtils.on(this.getDom(), \"mouseover\", function() {\n            me.addState(\"opened\");\n          });\n        });\n      } else {\n        this.subMenu = new Menu(this.subMenu);\n      }\n    }\n  });\n  MenuItem.prototype = {\n    label: \"\",\n    subMenu: null,\n    ownerMenu: null,\n    uiName: \"menuitem\",\n    alwalysHoverable: true,\n    getHtmlTpl: function() {\n      return (\n        '<div id=\"##\" class=\"%%\" stateful onclick=\"$$._onClick(event, this);\">' +\n        '<div class=\"%%-body\">' +\n        this.renderLabelHtml() +\n        \"</div>\" +\n        \"</div>\"\n      );\n    },\n    postRender: function() {\n      var me = this;\n      this.addListener(\"over\", function() {\n        me.ownerMenu.fireEvent(\"submenuover\", me);\n        if (me.subMenu) {\n          me.delayShowSubMenu();\n        }\n      });\n      if (this.subMenu) {\n        this.getDom().className += \" edui-hassubmenu\";\n        this.subMenu.render();\n        this.addListener(\"out\", function() {\n          me.delayHideSubMenu();\n        });\n        this.subMenu.addListener(\"over\", function() {\n          clearTimeout(me._closingTimer);\n          me._closingTimer = null;\n          me.addState(\"opened\");\n        });\n        this.ownerMenu.addListener(\"hide\", function() {\n          me.hideSubMenu();\n        });\n        this.ownerMenu.addListener(\"submenuover\", function(t, subMenu) {\n          if (subMenu !== me) {\n            me.delayHideSubMenu();\n          }\n        });\n        this.subMenu._bakQueryAutoHide = this.subMenu.queryAutoHide;\n        this.subMenu.queryAutoHide = function(el) {\n          if (el && uiUtils.contains(me.getDom(), el)) {\n            return false;\n          }\n          return this._bakQueryAutoHide(el);\n        };\n      }\n      this.getDom().style.tabIndex = \"-1\";\n      uiUtils.makeUnselectable(this.getDom());\n      this.Stateful_postRender();\n    },\n    delayShowSubMenu: function() {\n      var me = this;\n      if (!me.isDisabled()) {\n        me.addState(\"opened\");\n        clearTimeout(me._showingTimer);\n        clearTimeout(me._closingTimer);\n        me._closingTimer = null;\n        me._showingTimer = setTimeout(function() {\n          me.showSubMenu();\n        }, 250);\n      }\n    },\n    delayHideSubMenu: function() {\n      var me = this;\n      if (!me.isDisabled()) {\n        me.removeState(\"opened\");\n        clearTimeout(me._showingTimer);\n        if (!me._closingTimer) {\n          me._closingTimer = setTimeout(function() {\n            if (!me.hasState(\"opened\")) {\n              me.hideSubMenu();\n            }\n            me._closingTimer = null;\n          }, 400);\n        }\n      }\n    },\n    renderLabelHtml: function() {\n      return (\n        '<div class=\"edui-arrow\"></div>' +\n        '<div class=\"edui-box edui-icon\"></div>' +\n        '<div class=\"edui-box edui-label %%-label\">' +\n        (this.label || \"\") +\n        \"</div>\"\n      );\n    },\n    getStateDom: function() {\n      return this.getDom();\n    },\n    queryAutoHide: function(el) {\n      if (this.subMenu && this.hasState(\"opened\")) {\n        return this.subMenu.queryAutoHide(el);\n      }\n    },\n    _onClick: function(event, this_) {\n      if (this.hasState(\"disabled\")) return;\n      if (this.fireEvent(\"click\", event, this_) !== false) {\n        if (this.subMenu) {\n          this.showSubMenu();\n        } else {\n          Popup.postHide(event);\n        }\n      }\n    },\n    showSubMenu: function() {\n      var rect = uiUtils.getClientRect(this.getDom());\n      rect.right -= 5;\n      rect.left += 2;\n      rect.width -= 7;\n      rect.top -= 4;\n      rect.bottom += 4;\n      rect.height += 8;\n      this.subMenu.showAnchorRect(rect, true, true);\n    },\n    hideSubMenu: function() {\n      this.subMenu.hide();\n    }\n  };\n  utils.inherits(MenuItem, UIBase);\n  utils.extend(MenuItem.prototype, Stateful, true);\n})();\n\n\n// ui/combox.js\n///import core\n///import uicore\n///import ui/menu.js\n///import ui/splitbutton.js\n;(function() {\n  // todo: menu和item提成通用list\n  var utils = baidu.editor.utils,\n    uiUtils = baidu.editor.ui.uiUtils,\n    Menu = baidu.editor.ui.Menu,\n    SplitButton = baidu.editor.ui.SplitButton,\n    Combox = (baidu.editor.ui.Combox = function(options) {\n      this.initOptions(options);\n      this.initCombox();\n    });\n  Combox.prototype = {\n    uiName: \"combox\",\n    onbuttonclick: function() {\n      this.showPopup();\n    },\n    initCombox: function() {\n      var me = this;\n      this.items = this.items || [];\n      for (var i = 0; i < this.items.length; i++) {\n        var item = this.items[i];\n        item.uiName = \"listitem\";\n        item.index = i;\n        item.onclick = function() {\n          me.selectByIndex(this.index);\n        };\n      }\n      this.popup = new Menu({\n        items: this.items,\n        uiName: \"list\",\n        editor: this.editor,\n        captureWheel: true,\n        combox: this\n      });\n\n      this.initSplitButton();\n    },\n    _SplitButton_postRender: SplitButton.prototype.postRender,\n    postRender: function() {\n      this._SplitButton_postRender();\n      this.setLabel(this.label || \"\");\n      this.setValue(this.initValue || \"\");\n    },\n    showPopup: function() {\n      var rect = uiUtils.getClientRect(this.getDom());\n      rect.top += 1;\n      rect.bottom -= 1;\n      rect.height -= 2;\n      this.popup.showAnchorRect(rect);\n    },\n    getValue: function() {\n      return this.value;\n    },\n    setValue: function(value) {\n      var index = this.indexByValue(value);\n      if (index != -1) {\n        this.selectedIndex = index;\n        this.setLabel(this.items[index].label);\n        this.value = this.items[index].value;\n      } else {\n        this.selectedIndex = -1;\n        this.setLabel(this.getLabelForUnknowValue(value));\n        this.value = value;\n      }\n    },\n    setLabel: function(label) {\n      this.getDom(\"button_body\").innerHTML = label;\n      this.label = label;\n    },\n    getLabelForUnknowValue: function(value) {\n      return value;\n    },\n    indexByValue: function(value) {\n      for (var i = 0; i < this.items.length; i++) {\n        if (value == this.items[i].value) {\n          return i;\n        }\n      }\n      return -1;\n    },\n    getItem: function(index) {\n      return this.items[index];\n    },\n    selectByIndex: function(index) {\n      if (\n        index < this.items.length &&\n        this.fireEvent(\"select\", index) !== false\n      ) {\n        this.selectedIndex = index;\n        this.value = this.items[index].value;\n        this.setLabel(this.items[index].label);\n      }\n    }\n  };\n  utils.inherits(Combox, SplitButton);\n})();\n\n\n// ui/dialog.js\n///import core\n///import uicore\n///import ui/mask.js\n///import ui/button.js\n;(function() {\n  var utils = baidu.editor.utils,\n    domUtils = baidu.editor.dom.domUtils,\n    uiUtils = baidu.editor.ui.uiUtils,\n    Mask = baidu.editor.ui.Mask,\n    UIBase = baidu.editor.ui.UIBase,\n    Button = baidu.editor.ui.Button,\n    Dialog = (baidu.editor.ui.Dialog = function(options) {\n      if (options.name) {\n        var name = options.name;\n        var cssRules = options.cssRules;\n        if (!options.className) {\n          options.className = \"edui-for-\" + name;\n        }\n        if (cssRules) {\n          options.cssRules =\n            \".edui-for-\" + name + \" .edui-dialog-content  {\" + cssRules + \"}\";\n        }\n      }\n      this.initOptions(\n        utils.extend(\n          {\n            autoReset: true,\n            draggable: true,\n            onok: function() {},\n            oncancel: function() {},\n            onclose: function(t, ok) {\n              return ok ? this.onok() : this.oncancel();\n            },\n            //是否控制dialog中的scroll事件， 默认为不阻止\n            holdScroll: false\n          },\n          options\n        )\n      );\n      this.initDialog();\n    });\n  var modalMask;\n  var dragMask;\n  var activeDialog;\n  Dialog.prototype = {\n    draggable: false,\n    uiName: \"dialog\",\n    initDialog: function() {\n      // var me = this,\n      //   theme = this.editor.options.theme;\n      var me = this,\n        theme = 'notadd';\n      if (this.cssRules) {\n        this.cssRules = \".edui-\" + theme + \" \" + this.cssRules;\n        utils.cssRule(\"edui-customize-\" + this.name + \"-style\", this.cssRules);\n      }\n      this.initUIBase();\n      this.modalMask =\n        modalMask ||\n        (modalMask = new Mask({\n          className: \"edui-dialog-modalmask\",\n          theme: theme,\n          onclick: function() {\n            activeDialog && activeDialog.close(false);\n          }\n        }));\n      this.dragMask =\n        dragMask ||\n        (dragMask = new Mask({\n          className: \"edui-dialog-dragmask\",\n          theme: theme\n        }));\n      this.closeButton = new Button({\n        className: \"edui-dialog-closebutton\",\n        title: me.closeDialog,\n        theme: theme,\n        onclick: function() {\n          me.close(false);\n        }\n      });\n\n      this.fullscreen && this.initResizeEvent();\n\n      if (this.buttons) {\n        for (var i = 0; i < this.buttons.length; i++) {\n          if (!(this.buttons[i] instanceof Button)) {\n            this.buttons[i] = new Button(\n              utils.extend(\n                this.buttons[i],\n                {\n                  editor: this.editor\n                },\n                true\n              )\n            );\n          }\n        }\n      }\n    },\n    initResizeEvent: function() {\n      var me = this;\n\n      domUtils.on(window, \"resize\", function() {\n        if (me._hidden || me._hidden === undefined) {\n          return;\n        }\n\n        if (me.__resizeTimer) {\n          window.clearTimeout(me.__resizeTimer);\n        }\n\n        me.__resizeTimer = window.setTimeout(function() {\n          me.__resizeTimer = null;\n\n          var dialogWrapNode = me.getDom(),\n            contentNode = me.getDom(\"content\"),\n            wrapRect = UE.ui.uiUtils.getClientRect(dialogWrapNode),\n            contentRect = UE.ui.uiUtils.getClientRect(contentNode),\n            vpRect = uiUtils.getViewportRect();\n\n          contentNode.style.width =\n            vpRect.width - wrapRect.width + contentRect.width + \"px\";\n          contentNode.style.height =\n            vpRect.height - wrapRect.height + contentRect.height + \"px\";\n\n          dialogWrapNode.style.width = vpRect.width + \"px\";\n          dialogWrapNode.style.height = vpRect.height + \"px\";\n\n          me.fireEvent(\"resize\");\n        }, 100);\n      });\n    },\n    fitSize: function() {\n      var popBodyEl = this.getDom(\"body\");\n      //            if (!(baidu.editor.browser.ie && baidu.editor.browser.version == 7)) {\n      //                uiUtils.removeStyle(popBodyEl, 'width');\n      //                uiUtils.removeStyle(popBodyEl, 'height');\n      //            }\n      var size = this.mesureSize();\n      popBodyEl.style.width = size.width + \"px\";\n      popBodyEl.style.height = size.height + \"px\";\n      return size;\n    },\n    safeSetOffset: function(offset) {\n      var me = this;\n      var el = me.getDom();\n      var vpRect = uiUtils.getViewportRect();\n      var rect = uiUtils.getClientRect(el);\n      var left = offset.left;\n      if (left + rect.width > vpRect.right) {\n        left = vpRect.right - rect.width;\n      }\n      var top = offset.top;\n      if (top + rect.height > vpRect.bottom) {\n        top = vpRect.bottom - rect.height;\n      }\n      el.style.left = Math.max(left, 0) + \"px\";\n      el.style.top = Math.max(top, 0) + \"px\";\n    },\n    showAtCenter: function() {\n      var vpRect = uiUtils.getViewportRect();\n\n      if (!this.fullscreen) {\n        this.getDom().style.display = \"\";\n        var popSize = this.fitSize();\n        var titleHeight = this.getDom(\"titlebar\").offsetHeight | 0;\n        var left = vpRect.width / 2 - popSize.width / 2;\n        var top =\n          vpRect.height / 2 - (popSize.height - titleHeight) / 2 - titleHeight;\n        var popEl = this.getDom();\n        this.safeSetOffset({\n          left: Math.max(left | 0, 0),\n          top: Math.max(top | 0, 0)\n        });\n        if (!domUtils.hasClass(popEl, \"edui-state-centered\")) {\n          popEl.className += \" edui-state-centered\";\n        }\n      } else {\n        var dialogWrapNode = this.getDom(),\n          contentNode = this.getDom(\"content\");\n\n        dialogWrapNode.style.display = \"block\";\n\n        var wrapRect = UE.ui.uiUtils.getClientRect(dialogWrapNode),\n          contentRect = UE.ui.uiUtils.getClientRect(contentNode);\n        dialogWrapNode.style.left = \"-100000px\";\n\n        contentNode.style.width =\n          vpRect.width - wrapRect.width + contentRect.width + \"px\";\n        contentNode.style.height =\n          vpRect.height - wrapRect.height + contentRect.height + \"px\";\n\n        dialogWrapNode.style.width = vpRect.width + \"px\";\n        dialogWrapNode.style.height = vpRect.height + \"px\";\n        dialogWrapNode.style.left = 0;\n\n        //保存环境的overflow值\n        this._originalContext = {\n          html: {\n            overflowX: document.documentElement.style.overflowX,\n            overflowY: document.documentElement.style.overflowY\n          },\n          body: {\n            overflowX: document.body.style.overflowX,\n            overflowY: document.body.style.overflowY\n          }\n        };\n\n        document.documentElement.style.overflowX = \"hidden\";\n        document.documentElement.style.overflowY = \"hidden\";\n        document.body.style.overflowX = \"hidden\";\n        document.body.style.overflowY = \"hidden\";\n      }\n\n      this._show();\n    },\n    getContentHtml: function() {\n      var contentHtml = \"\";\n      if (typeof this.content == \"string\") {\n        contentHtml = this.content;\n      } else if (this.iframeUrl) {\n        contentHtml =\n          '<span id=\"' +\n          this.id +\n          '_contmask\" class=\"dialogcontmask\"></span><iframe id=\"' +\n          this.id +\n          '_iframe\" class=\"%%-iframe\" height=\"100%\" width=\"100%\" frameborder=\"0\" src=\"' +\n          this.iframeUrl +\n          '\"></iframe>';\n      }\n      return contentHtml;\n    },\n    getHtmlTpl: function() {\n      var footHtml = \"\";\n\n      if (this.buttons) {\n        var buff = [];\n        for (var i = 0; i < this.buttons.length; i++) {\n          buff[i] = this.buttons[i].renderHtml();\n        }\n        footHtml =\n          '<div class=\"%%-foot\">' +\n          '<div id=\"##_buttons\" class=\"%%-buttons\">' +\n          buff.join(\"\") +\n          \"</div>\" +\n          \"</div>\";\n      }\n\n      return (\n        '<div id=\"##\" class=\"%%\"><div ' +\n        (!this.fullscreen\n          ? 'class=\"%%\"'\n          : 'class=\"%%-wrap edui-dialog-fullscreen-flag\"') +\n        '><div id=\"##_body\" class=\"%%-body\">' +\n        '<div class=\"%%-shadow\"></div>' +\n        '<div id=\"##_titlebar\" class=\"%%-titlebar\">' +\n        '<div class=\"%%-draghandle\" onmousedown=\"$$._onTitlebarMouseDown(event, this);\">' +\n        '<span class=\"%%-caption\">' +\n        (this.title || \"\") +\n        \"</span>\" +\n        \"</div>\" +\n        this.closeButton.renderHtml() +\n        \"</div>\" +\n        '<div id=\"##_content\" class=\"%%-content\">' +\n        (this.autoReset ? \"\" : this.getContentHtml()) +\n        \"</div>\" +\n        footHtml +\n        \"</div></div></div>\"\n      );\n    },\n    postRender: function() {\n      // todo: 保持居中/记住上次关闭位置选项\n      if (!this.modalMask.getDom()) {\n        this.modalMask.render();\n        this.modalMask.hide();\n      }\n      if (!this.dragMask.getDom()) {\n        this.dragMask.render();\n        this.dragMask.hide();\n      }\n      var me = this;\n      this.addListener(\"show\", function() {\n        me.modalMask.show(this.getDom().style.zIndex - 2);\n      });\n      this.addListener(\"hide\", function() {\n        me.modalMask.hide();\n      });\n      if (this.buttons) {\n        for (var i = 0; i < this.buttons.length; i++) {\n          this.buttons[i].postRender();\n        }\n      }\n      domUtils.on(window, \"resize\", function() {\n        setTimeout(function() {\n          if (!me.isHidden()) {\n            me.safeSetOffset(uiUtils.getClientRect(me.getDom()));\n          }\n        });\n      });\n\n      //hold住scroll事件，防止dialog的滚动影响页面\n      //            if( this.holdScroll ) {\n      //\n      //                if( !me.iframeUrl ) {\n      //                    domUtils.on( document.getElementById( me.id + \"_iframe\"), !browser.gecko ? \"mousewheel\" : \"DOMMouseScroll\", function(e){\n      //                        domUtils.preventDefault(e);\n      //                    } );\n      //                } else {\n      //                    me.addListener('dialogafterreset', function(){\n      //                        window.setTimeout(function(){\n      //                            var iframeWindow = document.getElementById( me.id + \"_iframe\").contentWindow;\n      //\n      //                            if( browser.ie ) {\n      //\n      //                                var timer = window.setInterval(function(){\n      //\n      //                                    if( iframeWindow.document && iframeWindow.document.body ) {\n      //                                        window.clearInterval( timer );\n      //                                        timer = null;\n      //                                        domUtils.on( iframeWindow.document.body, !browser.gecko ? \"mousewheel\" : \"DOMMouseScroll\", function(e){\n      //                                            domUtils.preventDefault(e);\n      //                                        } );\n      //                                    }\n      //\n      //                                }, 100);\n      //\n      //                            } else {\n      //                                domUtils.on( iframeWindow, !browser.gecko ? \"mousewheel\" : \"DOMMouseScroll\", function(e){\n      //                                    domUtils.preventDefault(e);\n      //                                } );\n      //                            }\n      //\n      //                        }, 1);\n      //                    });\n      //                }\n      //\n      //            }\n      this._hide();\n    },\n    mesureSize: function() {\n      var body = this.getDom(\"body\");\n      var width = uiUtils.getClientRect(this.getDom(\"content\")).width;\n      var dialogBodyStyle = body.style;\n      dialogBodyStyle.width = width;\n      return uiUtils.getClientRect(body);\n    },\n    _onTitlebarMouseDown: function(evt, el) {\n      if (this.draggable) {\n        var rect;\n        var vpRect = uiUtils.getViewportRect();\n        var me = this;\n        uiUtils.startDrag(evt, {\n          ondragstart: function() {\n            rect = uiUtils.getClientRect(me.getDom());\n            me.getDom(\"contmask\").style.visibility = \"visible\";\n            me.dragMask.show(me.getDom().style.zIndex - 1);\n          },\n          ondragmove: function(x, y) {\n            var left = rect.left + x;\n            var top = rect.top + y;\n            me.safeSetOffset({\n              left: left,\n              top: top\n            });\n          },\n          ondragstop: function() {\n            me.getDom(\"contmask\").style.visibility = \"hidden\";\n            domUtils.removeClasses(me.getDom(), [\"edui-state-centered\"]);\n            me.dragMask.hide();\n          }\n        });\n      }\n    },\n    reset: function() {\n      this.getDom(\"content\").innerHTML = this.getContentHtml();\n      this.fireEvent(\"dialogafterreset\");\n    },\n    _show: function() {\n      if (this._hidden) {\n        this.getDom().style.display = \"\";\n\n        //要高过编辑器的zindxe\n        this.editor.container.style.zIndex &&\n          (this.getDom().style.zIndex =\n            this.editor.container.style.zIndex * 1 + 10);\n        this._hidden = false;\n        this.fireEvent(\"show\");\n        baidu.editor.ui.uiUtils.getFixedLayer().style.zIndex =\n          this.getDom().style.zIndex - 4;\n      }\n    },\n    isHidden: function() {\n      return this._hidden;\n    },\n    _hide: function() {\n      if (!this._hidden) {\n        var wrapNode = this.getDom();\n        wrapNode.style.display = \"none\";\n        wrapNode.style.zIndex = \"\";\n        wrapNode.style.width = \"\";\n        wrapNode.style.height = \"\";\n        this._hidden = true;\n        this.fireEvent(\"hide\");\n      }\n    },\n    open: function() {\n      if (this.autoReset) {\n        //有可能还没有渲染\n        try {\n          this.reset();\n        } catch (e) {\n          this.render();\n          this.open();\n        }\n      }\n      this.showAtCenter();\n      if (this.iframeUrl) {\n        try {\n          this.getDom(\"iframe\").focus();\n        } catch (ex) {}\n      }\n      activeDialog = this;\n    },\n    _onCloseButtonClick: function(evt, el) {\n      this.close(false);\n    },\n    close: function(ok) {\n      if (this.fireEvent(\"close\", ok) !== false) {\n        //还原环境\n        if (this.fullscreen) {\n          document.documentElement.style.overflowX = this._originalContext.html.overflowX;\n          document.documentElement.style.overflowY = this._originalContext.html.overflowY;\n          document.body.style.overflowX = this._originalContext.body.overflowX;\n          document.body.style.overflowY = this._originalContext.body.overflowY;\n          delete this._originalContext;\n        }\n        this._hide();\n\n        //销毁content\n        var content = this.getDom(\"content\");\n        var iframe = this.getDom(\"iframe\");\n        if (content && iframe) {\n          var doc = iframe.contentDocument || iframe.contentWindow.document;\n          doc && (doc.body.innerHTML = \"\");\n          domUtils.remove(content);\n        }\n      }\n    }\n  };\n  utils.inherits(Dialog, UIBase);\n})();\n\n\n// ui/menubutton.js\n///import core\n///import uicore\n///import ui/menu.js\n///import ui/splitbutton.js\n;(function() {\n  var utils = baidu.editor.utils,\n    Menu = baidu.editor.ui.Menu,\n    SplitButton = baidu.editor.ui.SplitButton,\n    MenuButton = (baidu.editor.ui.MenuButton = function(options) {\n      this.initOptions(options);\n      this.initMenuButton();\n    });\n  MenuButton.prototype = {\n    initMenuButton: function() {\n      var me = this;\n      this.uiName = \"menubutton\";\n      this.popup = new Menu({\n        items: me.items,\n        className: me.className,\n        editor: me.editor\n      });\n      this.popup.addListener(\"show\", function() {\n        var list = this;\n        for (var i = 0; i < list.items.length; i++) {\n          list.items[i].removeState(\"checked\");\n          if (list.items[i].value == me._value) {\n            list.items[i].addState(\"checked\");\n            this.value = me._value;\n          }\n        }\n      });\n      this.initSplitButton();\n    },\n    setValue: function(value) {\n      this._value = value;\n    }\n  };\n  utils.inherits(MenuButton, SplitButton);\n})();\n\n\n// ui/multiMenu.js\n///import core\n///import uicore\n///commands 表情\n;(function() {\n  var utils = baidu.editor.utils,\n    Popup = baidu.editor.ui.Popup,\n    SplitButton = baidu.editor.ui.SplitButton,\n    MultiMenuPop = (baidu.editor.ui.MultiMenuPop = function(options) {\n      this.initOptions(options);\n      this.initMultiMenu();\n    });\n\n  MultiMenuPop.prototype = {\n    initMultiMenu: function() {\n      var me = this;\n      this.popup = new Popup({\n        content: \"\",\n        editor: me.editor,\n        iframe_rendered: false,\n        onshow: function() {\n          if (!this.iframe_rendered) {\n            this.iframe_rendered = true;\n            this.getDom(\"content\").innerHTML =\n              '<iframe id=\"' +\n              me.id +\n              '_iframe\" src=\"' +\n              me.iframeUrl +\n              '\" frameborder=\"0\"></iframe>';\n            me.editor.container.style.zIndex &&\n              (this.getDom().style.zIndex =\n                me.editor.container.style.zIndex * 1 + 1);\n          }\n        }\n        // canSideUp:false,\n        // canSideLeft:false\n      });\n      this.onbuttonclick = function() {\n        this.showPopup();\n      };\n      this.initSplitButton();\n    }\n  };\n\n  utils.inherits(MultiMenuPop, SplitButton);\n})();\n\n\n// ui/shortcutmenu.js\n;(function() {\n  var UI = baidu.editor.ui,\n    UIBase = UI.UIBase,\n    uiUtils = UI.uiUtils,\n    utils = baidu.editor.utils,\n    domUtils = baidu.editor.dom.domUtils;\n\n  var allMenus = [], //存储所有快捷菜单\n    timeID,\n    isSubMenuShow = false; //是否有子pop显示\n\n  var ShortCutMenu = (UI.ShortCutMenu = function(options) {\n    this.initOptions(options);\n    this.initShortCutMenu();\n  });\n\n  ShortCutMenu.postHide = hideAllMenu;\n\n  ShortCutMenu.prototype = {\n    isHidden: true,\n    SPACE: 5,\n    initShortCutMenu: function() {\n      this.items = this.items || [];\n      this.initUIBase();\n      this.initItems();\n      this.initEvent();\n      allMenus.push(this);\n    },\n    initEvent: function() {\n      var me = this,\n        doc = me.editor.document;\n\n      domUtils.on(doc, \"mousemove\", function(e) {\n        if (me.isHidden === false) {\n          //有pop显示就不隐藏快捷菜单\n          if (me.getSubMenuMark() || me.eventType == \"contextmenu\") return;\n\n          var flag = true,\n            el = me.getDom(),\n            wt = el.offsetWidth,\n            ht = el.offsetHeight,\n            distanceX = wt / 2 + me.SPACE, //距离中心X标准\n            distanceY = ht / 2, //距离中心Y标准\n            x = Math.abs(e.screenX - me.left), //离中心距离横坐标\n            y = Math.abs(e.screenY - me.top); //离中心距离纵坐标\n\n          clearTimeout(timeID);\n          timeID = setTimeout(function() {\n            if (y > 0 && y < distanceY) {\n              me.setOpacity(el, \"1\");\n            } else if (y > distanceY && y < distanceY + 70) {\n              me.setOpacity(el, \"0.5\");\n              flag = false;\n            } else if (y > distanceY + 70 && y < distanceY + 140) {\n              me.hide();\n            }\n\n            if (flag && x > 0 && x < distanceX) {\n              me.setOpacity(el, \"1\");\n            } else if (x > distanceX && x < distanceX + 70) {\n              me.setOpacity(el, \"0.5\");\n            } else if (x > distanceX + 70 && x < distanceX + 140) {\n              me.hide();\n            }\n          });\n        }\n      });\n\n      //ie\\ff下 mouseout不准\n      if (browser.chrome) {\n        domUtils.on(doc, \"mouseout\", function(e) {\n          var relatedTgt = e.relatedTarget || e.toElement;\n\n          if (relatedTgt == null || relatedTgt.tagName == \"HTML\") {\n            me.hide();\n          }\n        });\n      }\n\n      me.editor.addListener(\"afterhidepop\", function() {\n        if (!me.isHidden) {\n          isSubMenuShow = true;\n        }\n      });\n    },\n    initItems: function() {\n      if (utils.isArray(this.items)) {\n        for (var i = 0, len = this.items.length; i < len; i++) {\n          var item = this.items[i].toLowerCase();\n\n          if (UI[item]) {\n            this.items[i] = new UI[item](this.editor);\n            this.items[i].className += \" edui-shortcutsubmenu \";\n          }\n        }\n      }\n    },\n    setOpacity: function(el, value) {\n      if (browser.ie && browser.version < 9) {\n        el.style.filter = \"alpha(opacity = \" + parseFloat(value) * 100 + \");\";\n      } else {\n        el.style.opacity = value;\n      }\n    },\n    getSubMenuMark: function() {\n      isSubMenuShow = false;\n      var layerEle = uiUtils.getFixedLayer();\n      var list = domUtils.getElementsByTagName(layerEle, \"div\", function(node) {\n        return domUtils.hasClass(node, \"edui-shortcutsubmenu edui-popup\");\n      });\n\n      for (var i = 0, node; (node = list[i++]); ) {\n        if (node.style.display != \"none\") {\n          isSubMenuShow = true;\n        }\n      }\n      return isSubMenuShow;\n    },\n    show: function(e, hasContextmenu) {\n      var me = this,\n        offset = {},\n        el = this.getDom(),\n        fixedlayer = uiUtils.getFixedLayer();\n\n      function setPos(offset) {\n        if (offset.left < 0) {\n          offset.left = 0;\n        }\n        if (offset.top < 0) {\n          offset.top = 0;\n        }\n        el.style.cssText =\n          \"position:absolute;left:\" +\n          offset.left +\n          \"px;top:\" +\n          offset.top +\n          \"px;\";\n      }\n\n      function setPosByCxtMenu(menu) {\n        if (!menu.tagName) {\n          menu = menu.getDom();\n        }\n        offset.left = parseInt(menu.style.left);\n        offset.top = parseInt(menu.style.top);\n        offset.top -= el.offsetHeight + 15;\n        setPos(offset);\n      }\n\n      me.eventType = e.type;\n      el.style.cssText = \"display:block;left:-9999px\";\n\n      if (e.type == \"contextmenu\" && hasContextmenu) {\n        var menu = domUtils.getElementsByTagName(\n          fixedlayer,\n          \"div\",\n          \"edui-contextmenu\"\n        )[0];\n        if (menu) {\n          setPosByCxtMenu(menu);\n        } else {\n          me.editor.addListener(\"aftershowcontextmenu\", function(type, menu) {\n            setPosByCxtMenu(menu);\n          });\n        }\n      } else {\n        offset = uiUtils.getViewportOffsetByEvent(e);\n        offset.top -= el.offsetHeight + me.SPACE;\n        offset.left += me.SPACE + 20;\n        setPos(offset);\n        me.setOpacity(el, 0.2);\n      }\n\n      me.isHidden = false;\n      me.left = e.screenX + el.offsetWidth / 2 - me.SPACE;\n      me.top = e.screenY - el.offsetHeight / 2 - me.SPACE;\n\n      if (me.editor) {\n        el.style.zIndex = me.editor.container.style.zIndex * 1 + 10;\n        fixedlayer.style.zIndex = el.style.zIndex - 1;\n      }\n    },\n    hide: function() {\n      if (this.getDom()) {\n        this.getDom().style.display = \"none\";\n      }\n      this.isHidden = true;\n    },\n    postRender: function() {\n      if (utils.isArray(this.items)) {\n        for (var i = 0, item; (item = this.items[i++]); ) {\n          item.postRender();\n        }\n      }\n    },\n    getHtmlTpl: function() {\n      var buff;\n      if (utils.isArray(this.items)) {\n        buff = [];\n        for (var i = 0; i < this.items.length; i++) {\n          buff[i] = this.items[i].renderHtml();\n        }\n        buff = buff.join(\"\");\n      } else {\n        buff = this.items;\n      }\n\n      return (\n        '<div id=\"##\" class=\"%% edui-toolbar\" data-src=\"shortcutmenu\" onmousedown=\"return false;\" onselectstart=\"return false;\" >' +\n        buff +\n        \"</div>\"\n      );\n    }\n  };\n\n  utils.inherits(ShortCutMenu, UIBase);\n\n  function hideAllMenu(e) {\n    var tgt = e.target || e.srcElement,\n      cur = domUtils.findParent(\n        tgt,\n        function(node) {\n          return (\n            domUtils.hasClass(node, \"edui-shortcutmenu\") ||\n            domUtils.hasClass(node, \"edui-popup\")\n          );\n        },\n        true\n      );\n\n    if (!cur) {\n      for (var i = 0, menu; (menu = allMenus[i++]); ) {\n        menu.hide();\n      }\n    }\n  }\n\n  domUtils.on(document, \"mousedown\", function(e) {\n    hideAllMenu(e);\n  });\n\n  domUtils.on(window, \"scroll\", function(e) {\n    hideAllMenu(e);\n  });\n})();\n\n\n// ui/breakline.js\n;(function() {\n  var utils = baidu.editor.utils,\n    UIBase = baidu.editor.ui.UIBase,\n    Breakline = (baidu.editor.ui.Breakline = function(options) {\n      this.initOptions(options);\n      this.initSeparator();\n    });\n  Breakline.prototype = {\n    uiName: \"Breakline\",\n    initSeparator: function() {\n      this.initUIBase();\n    },\n    getHtmlTpl: function() {\n      return \"<br/>\";\n    }\n  };\n  utils.inherits(Breakline, UIBase);\n})();\n\n\n// ui/message.js\n///import core\n///import uicore\n;(function() {\n  var utils = baidu.editor.utils,\n    domUtils = baidu.editor.dom.domUtils,\n    UIBase = baidu.editor.ui.UIBase,\n    Message = (baidu.editor.ui.Message = function(options) {\n      this.initOptions(options);\n      this.initMessage();\n    });\n\n  Message.prototype = {\n    initMessage: function() {\n      this.initUIBase();\n    },\n    getHtmlTpl: function() {\n      return (\n        '<div id=\"##\" class=\"edui-message %%\">' +\n        ' <div id=\"##_closer\" class=\"edui-message-closer\">×</div>' +\n        ' <div id=\"##_body\" class=\"edui-message-body edui-message-type-info\">' +\n        ' <iframe style=\"position:absolute;z-index:-1;left:0;top:0;background-color: transparent;\" frameborder=\"0\" width=\"100%\" height=\"100%\" src=\"about:blank\"></iframe>' +\n        ' <div class=\"edui-shadow\"></div>' +\n        ' <div id=\"##_content\" class=\"edui-message-content\">' +\n        \"  </div>\" +\n        \" </div>\" +\n        \"</div>\"\n      );\n    },\n    reset: function(opt) {\n      var me = this;\n      if (!opt.keepshow) {\n        clearTimeout(this.timer);\n        me.timer = setTimeout(function() {\n          me.hide();\n        }, opt.timeout || 4000);\n      }\n\n      opt.content !== undefined && me.setContent(opt.content);\n      opt.type !== undefined && me.setType(opt.type);\n\n      me.show();\n    },\n    postRender: function() {\n      var me = this,\n        closer = this.getDom(\"closer\");\n      closer &&\n        domUtils.on(closer, \"click\", function() {\n          me.hide();\n        });\n    },\n    setContent: function(content) {\n      this.getDom(\"content\").innerHTML = content;\n    },\n    setType: function(type) {\n      type = type || \"info\";\n      var body = this.getDom(\"body\");\n      body.className = body.className.replace(\n        /edui-message-type-[\\w-]+/,\n        \"edui-message-type-\" + type\n      );\n    },\n    getContent: function() {\n      return this.getDom(\"content\").innerHTML;\n    },\n    getType: function() {\n      var arr = this.getDom(\"body\").match(/edui-message-type-([\\w-]+)/);\n      return arr ? arr[1] : \"\";\n    },\n    show: function() {\n      this.getDom().style.display = \"block\";\n    },\n    hide: function() {\n      var dom = this.getDom();\n      if (dom) {\n        dom.style.display = \"none\";\n        dom.parentNode && dom.parentNode.removeChild(dom);\n      }\n    }\n  };\n\n  utils.inherits(Message, UIBase);\n})();\n\n\n// ui/iconfont.js\n  ;(function (window) {\n    var svgSprite = '<svg>' +\n      '<symbol id=\"edui-for-controlradio\" viewBox=\"0 0 1024 1024\"><path d=\"M512 960C264.96 960 64 759.04 64 512S264.96 64 512 64s448 200.96 448 448S759.04 960 512 960zM512 128c-211.744 0-384 172.256-384 384s172.256 384 384 384 384-172.256 384-384S723.744 128 512 128z\" fill=\"#707070\" ></path><path d=\"M512 512m-250 0a250 250 0 1 0 500 0 250 250 0 1 0-500 0Z\" fill=\"#707070\" ></path><path d=\"M552.5 114.5A0.5 1 0 1 1 552.5 115.5Z\"  ></path></symbol><symbol id=\"edui-for-controltextarea\" viewBox=\"0 0 1024 1024\"><path d=\"M853.333333 1024 170.666667 1024c-93.866667 0-170.666667-76.8-170.666667-170.666667L0 170.666667c0-93.866667 76.8-170.666667 170.666667-170.666667l682.666667 0c93.866667 0 170.666667 76.8 170.666667 170.666667l0 682.666667C1024 947.2 947.2 1024 853.333333 1024zM170.666667 85.333333C123.733333 85.333333 85.333333 123.733333 85.333333 170.666667l0 682.666667c0 46.933333 38.4 85.333333 85.333333 85.333333l682.666667 0c46.933333 0 85.333333-38.4 85.333333-85.333333L938.666667 170.666667c0-46.933333-38.4-85.333333-85.333333-85.333333L170.666667 85.333333z\" fill=\"#707070\" ></path><path d=\"M725.333333 341.333333 298.666667 341.333333C273.066667 341.333333 256 324.266667 256 298.666667s17.066667-42.666667 42.666667-42.666667l426.666667 0c25.6 0 42.666667 17.066667 42.666667 42.666667S750.933333 341.333333 725.333333 341.333333z\" fill=\"#707070\" ></path><path d=\"M298.666667 384C273.066667 384 256 366.933333 256 341.333333L256 298.666667c0-25.6 17.066667-42.666667 42.666667-42.666667s42.666667 17.066667 42.666667 42.666667l0 42.666667C341.333333 366.933333 324.266667 384 298.666667 384z\" fill=\"#707070\" ></path><path d=\"M725.333333 384c-25.6 0-42.666667-17.066667-42.666667-42.666667L682.666667 298.666667c0-25.6 17.066667-42.666667 42.666667-42.666667s42.666667 17.066667 42.666667 42.666667l0 42.666667C768 366.933333 750.933333 384 725.333333 384z\" fill=\"#707070\" ></path><path d=\"M512 768c-25.6 0-42.666667-17.066667-42.666667-42.666667L469.333333 298.666667c0-25.6 17.066667-42.666667 42.666667-42.666667s42.666667 17.066667 42.666667 42.666667l0 426.666667C554.666667 750.933333 537.6 768 512 768z\" fill=\"#707070\" ></path><path d=\"M554.666667 768l-85.333333 0c-25.6 0-42.666667-17.066667-42.666667-42.666667s17.066667-42.666667 42.666667-42.666667l85.333333 0c25.6 0 42.666667 17.066667 42.666667 42.666667S580.266667 768 554.666667 768z\" fill=\"#707070\" ></path></symbol><symbol id=\"edui-for-controlcheckbox\" viewBox=\"0 0 1024 1024\"><path d=\"M822.68918518 1029.81530905H97.74775349c-57.11502814 0-103.56306132-46.44803318-103.56306254-103.56306254V304.87387614c0-57.06324741 46.44803318-103.56306132 103.56306254-103.56306132h517.81530783v103.56306132H97.74775349v621.37837037h724.94143169v-258.90765392h103.56306133v258.90765392c0 57.11502814-46.44803318 103.56306132-103.56306133 103.56306254z\" fill=\"#707070\" ></path><path d=\"M462.44507497 812.90247585l-255.12760298-255.07582103 91.54974698-91.60152771 159.12464474 159.17642548 472.14399761-519.42053569 95.79583291 87.09653451z\" fill=\"#707070\" ></path></symbol><symbol id=\"edui-for-controlselect\" viewBox=\"0 0 1024 1024\"><path d=\"M940.1926656 226.72752853H84.3839872c-26.25842667 0-47.54432 21.29572267-47.54432 47.54978027v475.4421056c0 26.26388693 21.28589333 47.55414933 47.54432 47.55414933h855.8086784c26.2540576 0 47.53995093-21.2902624 47.53995093-47.55414933v-475.44319787c0-26.2540576-21.28589333-47.548688-47.53995093-47.548688z m0 522.99079467H84.3839872V274.27621653h855.8086784v475.44210667z m-95.607408-285.26810347H655.4335008l94.58079253 94.5753312 94.57096427-94.5753312zM559.83046187 321.8216288h-47.54432v380.3567424h47.54432V321.8216288z\" fill=\"#707070\" ></path></symbol><symbol id=\"edui-for-controltable\" viewBox=\"0 0 1024 1024\"><path d=\"M513.27203555 125.61863111h382.02026667c44.1344 0 58.84814222 14.71374222 58.84814223 58.34069334v657.50243555c0 44.13895111-14.71374222 58.84700445-58.33955556 58.84700445H125.16352c-40.58908445 0-56.82062222-15.72408889-56.82062222-56.31203556V179.90542222c0-39.0656 16.23153778-54.28679111 55.80458667-54.79424 129.87960889 0.50744889 259.24949333 0.50744889 389.1245511 0.50744889z m-166.912 568.20736H126.17955555v149.15925334h220.18048V693.82599111z m274.46613334 150.17187556V694.33571555H402.16576v149.66215112h218.66040889z m55.296-1.52007112h220.18616889V693.82599111H676.12216889v148.65180444zM126.68700445 493.43488v148.13866667h219.16558222v-148.13866667H126.68700445z m549.43516444 149.66215111c71.53436445 0 141.04007111 0 210.03377778-0.50744889 3.55214222 0 10.65415111-6.59456 10.65415111-10.14556444 0.50744889-46.16760889 0.50744889-92.33408 0.50744889-138.50510223H675.61927111c0.50289778 50.22492445 0.50289778 97.91601778 0.50289778 149.15811556z m-274.96903111-1.52348444h220.18048V493.93891555H401.15313778v147.63463112z m-55.30055111-199.38076445V293.54666667H125.16352c0 46.16647111-0.50744889 90.80945778 0.50744889 134.94954666 0 4.56704 9.12952889 13.18912 14.20515556 13.18912 67.47477333 1.01489778 135.96558222 0.50744889 205.97646222 0.50744889z m55.80344888-2.02638222h219.17013334V293.03808h-219.17013334v147.12832z m494.14485334 1.01034667v-148.13866667h-219.17013334v148.13866667h219.17013334z m0 0\" fill=\"#707070\" ></path></symbol><symbol id=\"edui-for-controldate\" viewBox=\"0 0 1177 1024\"><path d=\"M464 128h240v72H464V128z m-168 0v72H176a72 72 0 0 0-72 72v576a72 72 0 0 0 72 72h816a72 72 0 0 0 72-72V272a72 72 0 0 0-72-72h-120V128h120a144 144 0 0 1 144 144v576a144 144 0 0 1-144 144H176a144 144 0 0 1-144-144V272a144 144 0 0 1 144-144h120z m-96 216h96v96H200v-96z m168 0h96v96h-96v-96z m168 0h96v96h-96v-96zM200 512h96v96H200v-96z m168 0h96v96h-96v-96z m336-168h96v96h-96v-96z m168 0h96v96h-96v-96z m-336 168h96v96h-96v-96z m168 0h96v96h-96v-96z m168 0h96v96h-96v-96zM200 680h96v96H200v-96z m168 0h96v96h-96v-96z m168 0h96v96h-96v-96zM380 32A36 36 0 0 1 416 68v168a36 36 0 0 1-72 0v-168A36 36 0 0 1 380 32z m408 0A36 36 0 0 1 824 68v168a36 36 0 0 1-72 0v-168A36 36 0 0 1 788 32z\" fill=\"#707070\" ></path></symbol><symbol id=\"edui-for-controllist\" viewBox=\"0 0 1024 1024\"><path d=\"M40 212.8a4.2 4.2 0 1 0 134.4 0 4.2 4.2 0 1 0-134.4 0zM980.8 145.6H297.6c-9.6 0-16 8-16 16V264c0 9.6 8 16 16 16h683.2c9.6 0 16-8 16-16V161.6c0-9.6-8-16-16-16zM28.8 497.6a4.2 4.2 0 1 0 134.4 0 4.2 4.2 0 1 0-134.4 0zM968 430.4H284.8c-9.6 0-16 8-16 16v102.4c0 9.6 8 16 16 16H968c9.6 0 16-8 16-16V446.4c0-8-6.4-16-16-16zM28.8 795.2a4.2 4.2 0 1 0 134.4 0 4.2 4.2 0 1 0-134.4 0zM968 728H284.8c-9.6 0-16 8-16 16v102.4c0 9.6 8 16 16 16H968c9.6 0 16-8 16-16V744c0-8-6.4-16-16-16z\" fill=\"#707070\" ></path></symbol><symbol id=\"edui-for-controlinput\" viewBox=\"0 0 1024 1024\"><path d=\"M560 720h96v64H368v-64h96V304h-96v-64h288v64h-96z\"  ></path><path d=\"M851.2 1024H172.8C78.4 1024 0 945.6 0 851.2V172.8C0 78.4 78.4 0 172.8 0h676.8C945.6 0 1024 78.4 1024 172.8v676.8c0 96-78.4 174.4-172.8 174.4zM172.8 64C113.6 64 64 113.6 64 172.8v676.8c0 60.8 49.6 108.8 108.8 108.8h676.8c60.8 0 108.8-49.6 108.8-108.8V172.8c1.6-59.2-48-108.8-107.2-108.8H172.8z\"  ></path></symbol>' +\n      // '<symbol id=\"edui-for-control-radio\" viewBox=\"0 0 1024 1024\"><path d=\"M512 960C264.96 960 64 759.04 64 512S264.96 64 512 64s448 200.96 448 448S759.04 960 512 960zM512 128c-211.744 0-384 172.256-384 384s172.256 384 384 384 384-172.256 384-384S723.744 128 512 128z\" fill=\"#707070\" ></path><path d=\"M512 512m-250 0a250 250 0 1 0 500 0 250 250 0 1 0-500 0Z\" fill=\"#707070\" ></path><path d=\"M552.5 114.5A0.5 1 0 1 1 552.5 115.5Z\"  ></path></symbol>' +\n      // '<symbol id=\"edui-for-control-textarea\" viewBox=\"0 0 1024 1024\"><path d=\"M853.333333 1024 170.666667 1024c-93.866667 0-170.666667-76.8-170.666667-170.666667L0 170.666667c0-93.866667 76.8-170.666667 170.666667-170.666667l682.666667 0c93.866667 0 170.666667 76.8 170.666667 170.666667l0 682.666667C1024 947.2 947.2 1024 853.333333 1024zM170.666667 85.333333C123.733333 85.333333 85.333333 123.733333 85.333333 170.666667l0 682.666667c0 46.933333 38.4 85.333333 85.333333 85.333333l682.666667 0c46.933333 0 85.333333-38.4 85.333333-85.333333L938.666667 170.666667c0-46.933333-38.4-85.333333-85.333333-85.333333L170.666667 85.333333z\" fill=\"#707070\" ></path><path d=\"M725.333333 341.333333 298.666667 341.333333C273.066667 341.333333 256 324.266667 256 298.666667s17.066667-42.666667 42.666667-42.666667l426.666667 0c25.6 0 42.666667 17.066667 42.666667 42.666667S750.933333 341.333333 725.333333 341.333333z\" fill=\"#707070\" ></path><path d=\"M298.666667 384C273.066667 384 256 366.933333 256 341.333333L256 298.666667c0-25.6 17.066667-42.666667 42.666667-42.666667s42.666667 17.066667 42.666667 42.666667l0 42.666667C341.333333 366.933333 324.266667 384 298.666667 384z\" fill=\"#707070\" ></path><path d=\"M725.333333 384c-25.6 0-42.666667-17.066667-42.666667-42.666667L682.666667 298.666667c0-25.6 17.066667-42.666667 42.666667-42.666667s42.666667 17.066667 42.666667 42.666667l0 42.666667C768 366.933333 750.933333 384 725.333333 384z\" fill=\"#707070\" ></path><path d=\"M512 768c-25.6 0-42.666667-17.066667-42.666667-42.666667L469.333333 298.666667c0-25.6 17.066667-42.666667 42.666667-42.666667s42.666667 17.066667 42.666667 42.666667l0 426.666667C554.666667 750.933333 537.6 768 512 768z\" fill=\"#707070\" ></path><path d=\"M554.666667 768l-85.333333 0c-25.6 0-42.666667-17.066667-42.666667-42.666667s17.066667-42.666667 42.666667-42.666667l85.333333 0c25.6 0 42.666667 17.066667 42.666667 42.666667S580.266667 768 554.666667 768z\" fill=\"#707070\" ></path></symbol>' +\n      // '<symbol id=\"edui-for-control-checkbox\" viewBox=\"0 0 1024 1024\"><path d=\"M822.68918518 1029.81530905H97.74775349c-57.11502814 0-103.56306132-46.44803318-103.56306254-103.56306254V304.87387614c0-57.06324741 46.44803318-103.56306132 103.56306254-103.56306132h517.81530783v103.56306132H97.74775349v621.37837037h724.94143169v-258.90765392h103.56306133v258.90765392c0 57.11502814-46.44803318 103.56306132-103.56306133 103.56306254z\" fill=\"#707070\" ></path><path d=\"M462.44507497 812.90247585l-255.12760298-255.07582103 91.54974698-91.60152771 159.12464474 159.17642548 472.14399761-519.42053569 95.79583291 87.09653451z\" fill=\"#707070\" ></path></symbol>' +\n      // '<symbol id=\"edui-for-control-select\" viewBox=\"0 0 1024 1024\"><path d=\"M940.1926656 226.72752853H84.3839872c-26.25842667 0-47.54432 21.29572267-47.54432 47.54978027v475.4421056c0 26.26388693 21.28589333 47.55414933 47.54432 47.55414933h855.8086784c26.2540576 0 47.53995093-21.2902624 47.53995093-47.55414933v-475.44319787c0-26.2540576-21.28589333-47.548688-47.53995093-47.548688z m0 522.99079467H84.3839872V274.27621653h855.8086784v475.44210667z m-95.607408-285.26810347H655.4335008l94.58079253 94.5753312 94.57096427-94.5753312zM559.83046187 321.8216288h-47.54432v380.3567424h47.54432V321.8216288z\" fill=\"#707070\" ></path></symbol>' +\n      // '<symbol id=\"edui-for-control-table\" viewBox=\"0 0 1024 1024\"><path d=\"M513.27203555 125.61863111h382.02026667c44.1344 0 58.84814222 14.71374222 58.84814223 58.34069334v657.50243555c0 44.13895111-14.71374222 58.84700445-58.33955556 58.84700445H125.16352c-40.58908445 0-56.82062222-15.72408889-56.82062222-56.31203556V179.90542222c0-39.0656 16.23153778-54.28679111 55.80458667-54.79424 129.87960889 0.50744889 259.24949333 0.50744889 389.1245511 0.50744889z m-166.912 568.20736H126.17955555v149.15925334h220.18048V693.82599111z m274.46613334 150.17187556V694.33571555H402.16576v149.66215112h218.66040889z m55.296-1.52007112h220.18616889V693.82599111H676.12216889v148.65180444zM126.68700445 493.43488v148.13866667h219.16558222v-148.13866667H126.68700445z m549.43516444 149.66215111c71.53436445 0 141.04007111 0 210.03377778-0.50744889 3.55214222 0 10.65415111-6.59456 10.65415111-10.14556444 0.50744889-46.16760889 0.50744889-92.33408 0.50744889-138.50510223H675.61927111c0.50289778 50.22492445 0.50289778 97.91601778 0.50289778 149.15811556z m-274.96903111-1.52348444h220.18048V493.93891555H401.15313778v147.63463112z m-55.30055111-199.38076445V293.54666667H125.16352c0 46.16647111-0.50744889 90.80945778 0.50744889 134.94954666 0 4.56704 9.12952889 13.18912 14.20515556 13.18912 67.47477333 1.01489778 135.96558222 0.50744889 205.97646222 0.50744889z m55.80344888-2.02638222h219.17013334V293.03808h-219.17013334v147.12832z m494.14485334 1.01034667v-148.13866667h-219.17013334v148.13866667h219.17013334z m0 0\" fill=\"#707070\" ></path></symbol>' +\n      // '<symbol id=\"edui-for-control-date\" viewBox=\"0 0 1177 1024\"><path d=\"M464 128h240v72H464V128z m-168 0v72H176a72 72 0 0 0-72 72v576a72 72 0 0 0 72 72h816a72 72 0 0 0 72-72V272a72 72 0 0 0-72-72h-120V128h120a144 144 0 0 1 144 144v576a144 144 0 0 1-144 144H176a144 144 0 0 1-144-144V272a144 144 0 0 1 144-144h120z m-96 216h96v96H200v-96z m168 0h96v96h-96v-96z m168 0h96v96h-96v-96zM200 512h96v96H200v-96z m168 0h96v96h-96v-96z m336-168h96v96h-96v-96z m168 0h96v96h-96v-96z m-336 168h96v96h-96v-96z m168 0h96v96h-96v-96z m168 0h96v96h-96v-96zM200 680h96v96H200v-96z m168 0h96v96h-96v-96z m168 0h96v96h-96v-96zM380 32A36 36 0 0 1 416 68v168a36 36 0 0 1-72 0v-168A36 36 0 0 1 380 32z m408 0A36 36 0 0 1 824 68v168a36 36 0 0 1-72 0v-168A36 36 0 0 1 788 32z\" fill=\"#707070\" ></path></symbol>' +\n      // '<symbol id=\"edui-for-control-list\" viewBox=\"0 0 1024 1024\"><path d=\"M40 212.8a4.2 4.2 0 1 0 134.4 0 4.2 4.2 0 1 0-134.4 0zM980.8 145.6H297.6c-9.6 0-16 8-16 16V264c0 9.6 8 16 16 16h683.2c9.6 0 16-8 16-16V161.6c0-9.6-8-16-16-16zM28.8 497.6a4.2 4.2 0 1 0 134.4 0 4.2 4.2 0 1 0-134.4 0zM968 430.4H284.8c-9.6 0-16 8-16 16v102.4c0 9.6 8 16 16 16H968c9.6 0 16-8 16-16V446.4c0-8-6.4-16-16-16zM28.8 795.2a4.2 4.2 0 1 0 134.4 0 4.2 4.2 0 1 0-134.4 0zM968 728H284.8c-9.6 0-16 8-16 16v102.4c0 9.6 8 16 16 16H968c9.6 0 16-8 16-16V744c0-8-6.4-16-16-16z\" fill=\"#707070\" ></path></symbol>' +\n      // '<symbol id=\"edui-for-control-input\" viewBox=\"0 0 1024 1024\"><path d=\"M560 720h96v64H368v-64h96V304h-96v-64h288v64h-96z\"  ></path><path d=\"M851.2 1024H172.8C78.4 1024 0 945.6 0 851.2V172.8C0 78.4 78.4 0 172.8 0h676.8C945.6 0 1024 78.4 1024 172.8v676.8c0 96-78.4 174.4-172.8 174.4zM172.8 64C113.6 64 64 113.6 64 172.8v676.8c0 60.8 49.6 108.8 108.8 108.8h676.8c60.8 0 108.8-49.6 108.8-108.8V172.8c1.6-59.2-48-108.8-107.2-108.8H172.8z\"  ></path></symbol>' +\n      //'<symbol id=\"edui-for-input\" viewBox=\"0 0 1024 1024\"><path d=\"M883.027 784.417v49.539c0 27.354-22.184 49.538-49.538 49.538H783.95c-27.355 0-49.538-22.184-49.538-49.538H288.551c0 27.354-22.179 49.538-49.539 49.538h-49.539c-27.357 0-49.539-22.184-49.539-49.538v-49.539c0-27.355 22.182-49.538 49.539-49.538V289.017c-27.357 0-49.539-22.178-49.539-49.536v-49.542c0-27.357 22.182-49.539 49.539-49.539h49.539c27.36 0 49.539 22.182 49.539 49.539h445.861c0-27.357 22.183-49.539 49.538-49.539h49.539c27.354 0 49.538 22.182 49.538 49.539v49.539c0 27.36-22.184 49.539-49.538 49.539v445.862c27.355 0 49.538 22.183 49.538 49.538z m-99.077-495.4c-27.355 0-49.538-22.178-49.538-49.536H288.551c0 27.357-22.179 49.536-49.539 49.536v445.862c27.36 0 49.539 22.183 49.539 49.538h445.861c0-27.355 22.183-49.538 49.538-49.538V289.017z m-99.084 99.084h-99.077V635.8h49.545v49.533h-247.7V635.8h49.539V388.101H338.09v49.539h-49.539v-99.083h445.861v99.083h-49.546v-49.539z\"  ></path></symbol>' +\n      '<symbol id=\"edui-for-close\" viewBox=\"0 0 1024 1024\"><path d=\"M960 153.6L870.4 64 512 422.4 153.6 64 64 153.6 422.4 512 64 870.4 153.6 960 512 601.6l358.4 358.4 89.6-89.6L601.6 512 960 153.6z\" fill=\"#666666\" ></path></symbol>' +\n      '<symbol id=\"edui-for-italic\" viewBox=\"0 0 1024 1024\"><path d=\"M384 64v64h128L384 896H256v64h384v-64H512l128-768h128V64z\" fill=\"#666666\" ></path></symbol>' +\n      '<symbol id=\"edui-for-insertcaption\" viewBox=\"0 0 1024 1024\"><path d=\"M576 0v448h448V0z m384 256h-128v128h-64V256h-128V192h128V64h64v128h128z\" fill=\"#1C7C59\" ></path><path d=\"M997.12 448H0v576h1024V448zM60.16 960v-256H320v256z m481.92 0H384v-256h256v256z m421.76 0H704v-256h259.84zM448 0H0v64h192v384h64V64h192V0z\" fill=\"#666666\" ></path></symbol>' +\n      '<symbol id=\"edui-for-insertparagraph\" viewBox=\"0 0 1024 1024\"><path d=\"M997.12 0H0v576h1024V0zM60.16 512V256H320v256z m481.92 0H384V256h256v256z m421.76 0H704V256h259.84zM448 576H0v64h192v384h64v-384h192V576z\" fill=\"#666666\" ></path></symbol>' +\n      '<symbol id=\"edui-for-inserttitlecol\" viewBox=\"0 0 1024 1024\"><path d=\"M64 960v-128H0v192h192v-64H64zM448 1024h576V0H448z m512-320v256h-192v-256z m-256 0v256H512v-256z m256-320v256h-192V384z m-256 0v256H512V384z m256-320v256h-192V64z m-256 0v256H512V64zM64 512h128V448H0v192h64V512zM384 512v128h64V448H256v64h128zM384 960H256v64h192v-192H384v128z\" fill=\"#666666\" ></path><path d=\"M64 960v-128H0v192h192v-64H64zM448 1024h576V0H448z m512-320v256h-192v-256z m-256 0v256H512v-256z m256-320v256h-192V384z m-256 0v256H512V384z m256-320v256h-192V64z m-256 0v256H512V64zM64 512h128V448H0v192h64V512zM384 512v128h64V448H256v64h128zM384 960H256v64h192v-192H384v128z\" fill=\"#666666\" ></path><path d=\"M0 448h448V0H0z m256-384v128h128v64H256v128H192V256H64V192h128V64z\" fill=\"#1C7C59\" ></path></symbol>' +\n      '<symbol id=\"edui-for-insertimage\" viewBox=\"0 0 1024 1024\"><path d=\"M350.08 535.04l128 192 263.68-430.08 156.16 256V576h64V117.12a53.12 53.12 0 0 0-55.04-53.12H53.12a53.12 53.12 0 0 0-53.12 53.12v727.04a51.84 51.84 0 0 0 51.84 51.84H640v-64H154.88z m-53.12-350.72a119.04 119.04 0 1 1-118.4 118.4 119.04 119.04 0 0 1 118.4-118.4z\" fill=\"#666666\" ></path><path d=\"M1024 704h-192V512h-64v192H576v64h192v192h64v-192h192v-64z\" fill=\"#666666\" ></path></symbol>' +\n      '<symbol id=\"edui-for-previousstep\" viewBox=\"0 0 1024 1024\"><path d=\"M483.84 896a53.76 53.76 0 0 1-24.96-6.4h-3.84L87.04 556.8A55.04 55.04 0 0 1 64 517.76a56.96 56.96 0 0 1 22.4-48.64l371.2-328.32a46.08 46.08 0 0 1 30.72-12.8 40.96 40.96 0 0 1 35.84 21.12 60.16 60.16 0 0 1 7.04 28.16v192h29.44a400 400 0 0 1 97.28 12.16 363.52 363.52 0 0 1 120.32 54.4A384 384 0 0 1 889.6 556.8 602.88 602.88 0 0 1 960 768a60.16 60.16 0 0 1-10.24 53.12 39.68 39.68 0 0 1-29.44 13.44 55.04 55.04 0 0 1-42.24-26.24 229.12 229.12 0 0 0-64-68.48 314.24 314.24 0 0 0-89.6-47.36 437.76 437.76 0 0 0-141.44-21.76h-48.64V832a68.48 68.48 0 0 1-12.8 51.2 43.52 43.52 0 0 1-37.76 12.8zM145.28 512l312.96 281.6v-148.48a64 64 0 0 1 68.48-48h53.12a507.52 507.52 0 0 1 167.68 26.88 384 384 0 0 1 110.72 60.16l9.6 7.68a354.56 354.56 0 0 0-128-197.76 312.32 312.32 0 0 0-176-53.12 240 240 0 0 0-33.92 0h-12.8a56.96 56.96 0 0 1-49.28-24.96 55.04 55.04 0 0 1-8.96-26.24V234.88z\" fill=\"#666666\" ></path></symbol>' +\n      '<symbol id=\"edui-for-nextstep\" viewBox=\"0 0 1024 1024\"><path d=\"M506.88 880.64a68.48 68.48 0 0 1-12.8-51.2v-160h-48.64a437.76 437.76 0 0 0-141.44 21.76 314.24 314.24 0 0 0-89.6 47.36 229.12 229.12 0 0 0-64 68.48 55.04 55.04 0 0 1-42.24 26.24 39.68 39.68 0 0 1-29.44-13.44A60.16 60.16 0 0 1 64 768a602.88 602.88 0 0 1 70.4-211.2 384 384 0 0 1 111.36-124.16 363.52 363.52 0 0 1 120.32-54.4 400 400 0 0 1 97.28-12.16h29.44v-192a60.16 60.16 0 0 1 7.04-28.16 40.96 40.96 0 0 1 35.84-17.92 46.08 46.08 0 0 1 30.72 12.8l370.56 328.32a56.96 56.96 0 0 1 22.4 48.64 55.04 55.04 0 0 1-22.4 39.68l-368 330.24h-3.84a53.76 53.76 0 0 1-24.96 6.4 43.52 43.52 0 0 1-33.28-13.44z m58.24-645.76v154.24a55.04 55.04 0 0 1-8.96 26.24 56.96 56.96 0 0 1-49.28 24.96h-9.6a240 240 0 0 0-33.92 0 312.32 312.32 0 0 0-176 53.12 354.56 354.56 0 0 0-128 197.76l9.6-7.68a384 384 0 0 1 110.72-60.16 507.52 507.52 0 0 1 163.84-28.16h53.12a64 64 0 0 1 68.48 48v150.4l313.6-281.6z\" fill=\"#666666\" ></path></symbol>' +\n      '<symbol id=\"edui-for-scaleboard\" viewBox=\"0 0 1024 1024\"><path d=\"M374.935252 651.624033a35.190169 35.190169 0 0 0-26.872492-11.516783H39.029096a40.308739 40.308739 0 0 0-39.029096 39.668918V704.089375a41.588381 41.588381 0 0 0 43.507845 37.749454h163.154419L19.834459 932.505561a53.105164 53.105164 0 0 0 0 74.859087 51.825521 51.825521 0 0 0 73.579443 0l186.827805-188.107448v165.073883a37.749454 37.749454 0 0 0 37.109633 39.029096h26.872492a36.469811 36.469811 0 0 0 39.668918-33.910526v-309.673485a36.469811 36.469811 0 0 0-8.957498-26.872493zM383.89275 325.955016V34.196526A35.82999 35.82999 0 0 0 343.584011 0.286h-28.152135a37.109632 37.109632 0 0 0-37.109632 39.029096v166.353525L94.053724 21.400101a51.1857 51.1857 0 0 0-72.939623 0 52.465342 52.465342 0 0 0 0 73.579444l184.26852 184.26852H43.507845A42.228202 42.228202 0 0 0 0 320.196625v26.872493A40.308739 40.308739 0 0 0 38.389275 384.17875h310.313306a35.190169 35.190169 0 0 0 26.232671-10.876961A35.82999 35.82999 0 0 0 383.89275 345.789475v-19.194637zM648.778747 372.661968a35.190169 35.190169 0 0 0 26.872493 10.876961H984.684904a40.308739 40.308739 0 0 0 39.029096-39.029096V320.196625a41.588381 41.588381 0 0 0-43.507845-37.749454h-163.154419l186.827805-187.467626a53.105164 53.105164 0 0 0 0-74.859086 51.825521 51.825521 0 0 0-73.579444 0L743.472292 205.0288V39.954918a37.749454 37.749454 0 0 0-36.469811-39.668918h-26.872492a36.469811 36.469811 0 0 0-40.308739 34.550348v309.673485a36.469811 36.469811 0 0 0 8.957497 26.872492zM639.82125 698.330984v291.118669a35.82999 35.82999 0 0 0 38.389275 33.910526h28.152135a37.109632 37.109632 0 0 0 37.109632-39.029096v-166.353525l185.548163 184.26852a51.1857 51.1857 0 0 0 72.939622 0 52.465342 52.465342 0 0 0 0-73.579444l-183.628698-183.628699h161.874776A42.228202 42.228202 0 0 0 1023.714 704.089375v-26.872492a40.308739 40.308739 0 0 0-38.389275-39.029097h-309.673485a35.190169 35.190169 0 0 0-26.232671 10.876962 35.82999 35.82999 0 0 0-8.957498 26.872492v19.194638z\" fill=\"#666666\" ></path></symbol>' +\n      '<symbol id=\"edui-for-brush\" viewBox=\"0 0 1024 1024\"><path d=\"M986.878764 284.789854L739.847564 35.198746a122.875623 122.875623 0 0 0-172.153867 0L92.830614 511.981761a87.676877 87.676877 0 0 0-32.638837 56.317993L0.03392 915.807374a119.675737 119.675737 0 0 0 28.158997 79.99715 94.076649 94.076649 0 0 0 69.757515 28.158997h14.079498l344.307734-63.99772a86.396922 86.396922 0 0 0 55.678017-30.078928l474.863083-475.50306a115.195896 115.195896 0 0 0 0-169.593959zM448.017961 868.449062l-348.787575 63.99772 60.797834-348.147598 347.50762-351.347483 288.629718 287.349763z m474.863083-479.982901l-63.997721 70.397492-291.189626-286.709786 63.99772-63.99772a34.558769 34.558769 0 0 1 41.598518 0l246.391223 249.591108a35.838723 35.838723 0 0 1 9.599658 18.559339c1.919932 2.559909-3.199886 7.679726-7.679727 12.159567z\" fill=\"#666666\" ></path></symbol>' +\n      '<symbol id=\"edui-for-background\" viewBox=\"0 0 1024 1024\"><path d=\"M988.16 448H419.84a35.84 35.84 0 0 0-35.84 35.84v504.32a35.84 35.84 0 0 0 35.84 35.84h568.96a35.84 35.84 0 0 0 35.84-35.84V483.84a35.84 35.84 0 0 0-36.48-35.84z m-323.84 164.48a80 80 0 1 1-80-81.92 81.28 81.28 0 0 1 80 81.92zM929.28 960H461.44l131.2-205.44 85.12 133.12 177.28-298.24L960 768v163.2a30.72 30.72 0 0 1-30.72 28.8z\" fill=\"#666666\" ></path><path d=\"M320 832H224a32 32 0 0 0 0 64H320zM320 640H128a64 64 0 0 1-64-64V128a64 64 0 0 1 64-64h640a64 64 0 0 1 64 64v256h64V64a64 64 0 0 0-64-64H64a64 64 0 0 0-64 64v576a64 64 0 0 0 64 64h256z\" fill=\"#666666\" ></path></symbol>' +\n      '<symbol id=\"edui-for-strikethrough\" viewBox=\"0 0 1024 1024\"><path d=\"M994.56 672a128 128 0 0 1-98.56 48.64c-74.24 0-122.88-57.6-128-150.4h236.8v-52.48H768c7.68-92.8 58.24-150.4 132.48-150.4a115.84 115.84 0 0 1 87.04 40.96l28.8-35.2A156.8 156.8 0 0 0 896 320c-100.48 0-176.64 74.24-186.88 197.76H608.64a96.64 96.64 0 0 0 44.16-83.84c0-76.16-59.52-105.6-146.56-105.6h-128v192H267.52l-64-192h-58.88l-64 192H22.4v52.48H64l-64 192h54.4l41.6-136.32h155.52l40.32 131.84h56.96l-64-192h95.36v192h135.68c95.36 0 161.28-41.6 161.28-128a103.04 103.04 0 0 0-19.84-64h52.48C719.36 694.4 794.24 768 896 768a163.84 163.84 0 0 0 128-64zM433.92 371.2h64c64 0 100.48 18.56 100.48 69.76S570.24 512 497.28 512h-64z m-261.76 0c14.08 49.92 26.88 96.64 42.88 145.28H128c17.28-47.36 31.36-93.44 44.16-144z m64 212.48h-128l4.48-14.72h120.96z m384 47.36c0 58.24-42.88 85.12-115.84 85.12h-70.4V570.24H588.8a64 64 0 0 1 35.2 61.44z\" fill=\"#666666\" ></path></symbol>' +\n      '<symbol id=\"edui-for-spechars\" viewBox=\"0 0 1024 1024\"><path d=\"M954.24 1024l-158.72-160A434.56 434.56 0 0 1 512 965.76a421.12 421.12 0 0 1-283.52-101.76L69.76 1024 0 951.68l160.64-155.52A477.44 477.44 0 0 1 64 512a426.88 426.88 0 0 1 96.64-282.24L0 72.32 69.76 0l158.72 160A464 464 0 0 1 512 60.16a432 432 0 0 1 281.6 99.84L954.24 0 1024 72.32l-161.92 157.44A430.08 430.08 0 0 1 960 512a448 448 0 0 1-99.2 283.52L1024 951.68zM512 160a337.28 337.28 0 0 0-250.24 103.68A342.4 342.4 0 0 0 160.64 512a343.04 343.04 0 0 0 104.96 249.6 339.84 339.84 0 0 0 492.16 0A344.32 344.32 0 0 0 862.08 512a332.8 332.8 0 0 0-105.6-250.24A339.84 339.84 0 0 0 512 160z\" fill=\"#666666\" ></path></symbol>' +\n      '<symbol id=\"edui-for-clearboard\" viewBox=\"0 0 1024 1024\"><path d=\"M704 128V0H320v128H0v64h64v832h896V192h64V128zM384 64h256v64H384zM320 960H128V384h192z m320 0H384V384h256z m256 0h-192V384h192z m0-640H128V192h768z\" fill=\"#666666\" ></path></symbol>' +\n      '<symbol id=\"edui-for-bold\" viewBox=\"0 0 1024 1024\"><path d=\"M876.8 710.4c-6.4-51.2-25.6-102.4-57.6-140.8-32-38.4-83.2-70.4-128-76.8 44.8-12.8 76.8-38.4 102.4-76.8 32-38.4 38.4-83.2 38.4-134.4 0-57.6-25.6-121.6-70.4-166.4C710.4 76.8 640 64 576 64H192v896h384c76.8 6.4 140.8-12.8 211.2-51.2 57.6-44.8 96-121.6 89.6-198.4zM288 153.6h262.4c44.8 0 96 6.4 134.4 38.4 32 25.6 51.2 57.6 44.8 96 0 44.8-12.8 83.2-44.8 115.2-38.4 32-89.6 44.8-134.4 38.4H288V153.6zM768 704c0 51.2-25.6 102.4-70.4 134.4-44.8 25.6-89.6 38.4-140.8 38.4H288V544h275.2c51.2 0 102.4 6.4 147.2 38.4 44.8 25.6 64 76.8 57.6 121.6z\" fill=\"#666666\" ></path></symbol>' +\n      '<symbol id=\"edui-for-fullscreen\" viewBox=\"0 0 1024 1024\"><path d=\"M960 0H64a64 64 0 0 0-64 64v704a64 64 0 0 0 64 64h320v128H288a32 32 0 0 0 0 64h448a32 32 0 0 0 0-64H640v-128h320a64 64 0 0 0 64-64V64a64 64 0 0 0-64-64zM576 960H448v-128h128z m384-256a64 64 0 0 1-64 64H128a64 64 0 0 1-64-64V128a64 64 0 0 1 64-64h768a64 64 0 0 1 64 64z\" fill=\"#666666\" ></path></symbol>' +\n      '<symbol id=\"edui-for-formatmatch\" viewBox=\"0 0 1024 1024\"><path d=\"M128 448v448l108.8-300.8L396.8 896H896V448zM128 256h768v64H128zM384 128h256v128H384z\" fill=\"#666666\" ></path></symbol>' +\n      '<symbol id=\"edui-for-underline\" viewBox=\"0 0 1024 1024\"><path d=\"M192 896h640v64H192zM704 64v384c0 102.4-83.2 192-192 192-102.4 0-192-83.2-192-192V64H192v384c0 179.2 147.2 320 320 320s320-147.2 320-320V64h-128z\" fill=\"#666666\" ></path></symbol>' +\n      '<symbol id=\"edui-for-removeformat\" viewBox=\"0 0 1024 1024\"><path d=\"M682.88 64L0 768l170.88 192h398.08L1024 448zM528 832h-288L192 775.04l192-227.2 192 227.84z\" fill=\"#666666\" ></path></symbol>' +\n      '<symbol id=\"edui-for-blockquote\" viewBox=\"0 0 1024 1024\"><path d=\"M401.92 894.272v-292.48H248.064c-7.36-187.392 65.92-344.96 219.648-472.448L401.856 61.888C218.88 189.44 127.36 384.384 127.36 646.72v247.552h274.56z m428.16 0v-292.48h-153.728c-7.36-187.392 65.92-344.96 219.648-472.448L830.08 61.888c-182.976 127.616-274.432 322.496-274.432 584.832v247.552h274.496z\" fill=\"#666666\" ></path></symbol>' +\n      '<symbol id=\"edui-for-anchor\" viewBox=\"0 0 1024 1024\"><path d=\"M722.56 668.16l76.8 72.32A438.4 438.4 0 0 1 576 837.76V436.48a192 192 0 1 0-128 0v400a448 448 0 0 1-231.68-90.88l82.56-77.44L0 625.28l45.44 280.96L124.8 832a618.88 618.88 0 0 0 384 128 597.12 597.12 0 0 0 384-133.12l87.04 81.92 44.16-283.52zM384 256a128 128 0 1 1 128 128 128 128 0 0 1-128-128z\" fill=\"#666666\" ></path></symbol>' +\n      '<symbol id=\"edui-for-help\" viewBox=\"0 0 1024 1024\"><path d=\"M512 0a512 512 0 1 0 512 512 512 512 0 0 0-512-512z m0 960a448 448 0 1 1 448-448 448 448 0 0 1-448 448z\" fill=\"#666666\" ></path><path d=\"M512 640H448v-27.52a151.68 151.68 0 0 1 75.52-117.76q64-47.36 64-90.24a64 64 0 0 0-64-57.6q-76.8 0-95.36 87.68L320 414.08A192 192 0 0 1 536.96 256q153.6 7.68 167.04 135.68a156.16 156.16 0 0 1-90.24 140.8A544 544 0 0 0 512 620.16zM448 704h128v128H448z\" fill=\"#666666\" ></path></symbol>' +\n      '<symbol id=\"edui-for-horizontal\" viewBox=\"0 0 1024 1024\"><path d=\"M0 448h1024v128H0z\" fill=\"#666666\" ></path></symbol>' +\n      '<symbol id=\"edui-for-simpleupload\" viewBox=\"0 0 1024 1024\"><path d=\"M128 832l160-320L448 832H128zM514.56 832l254.72-512L1024 832H514.56z\" fill=\"#666666\" ></path><path d=\"M960 64H64a64 64 0 0 0-64 64v768a64 64 0 0 0 64 64h896a64 64 0 0 0 64-64V128a64 64 0 0 0-64-64z m0 768a64 64 0 0 1-64 64H128a64 64 0 0 1-64-64V192a64 64 0 0 1 64-64h768a64 64 0 0 1 64 64z\" fill=\"#666666\" ></path></symbol>' +\n      '<symbol id=\"edui-for-indent\" viewBox=\"0 0 1024 1024\"><path d=\"M896 416L768 320v384l128-96L1024 512zM32 128h960c19.2 0 32-12.8 32-32s-12.8-32-32-32H32c-19.2 0-32 12.8-32 32s12.8 32 32 32zM32 960h960c19.2 0 32-12.8 32-32s-12.8-32-32-32H32c-19.2 0-32 12.8-32 32s12.8 32 32 32zM64 448h512c32 0 64-25.6 64-64 0-32-25.6-64-64-64H64c-38.4 0-64 25.6-64 64s25.6 64 64 64zM64 704h512c32 0 64-25.6 64-64 0-32-25.6-64-64-64H64c-32 0-64 25.6-64 64s25.6 64 64 64z\" fill=\"#666666\" ></path></symbol>' +\n      '<symbol id=\"edui-for-justifycenter\" viewBox=\"0 0 1024 1024\"><path d=\"M992 64H32C12.8 64 0 51.2 0 32S12.8 0 32 0h960c19.2 0 32 12.8 32 32s-12.8 32-32 32zM800 256h-576c-19.2 0-32-12.8-32-32s12.8-32 32-32h576c19.2 0 32 12.8 32 32s-12.8 32-32 32zM992 448H32C12.8 448 0 435.2 0 416S12.8 384 32 384h960c19.2 0 32 12.8 32 32s-12.8 32-32 32zM800 640h-576c-19.2 0-32-12.8-32-32s12.8-32 32-32h576c19.2 0 32 12.8 32 32s-12.8 32-32 32zM992 832H32c-19.2 0-32-12.8-32-32s12.8-32 32-32h960c19.2 0 32 12.8 32 32s-12.8 32-32 32zM800 1024h-576c-19.2 0-32-12.8-32-32s12.8-32 32-32h576c19.2 0 32 12.8 32 32s-12.8 32-32 32z\" fill=\"#666666\" ></path><path d=\"M992 448H32C12.8 448 0 435.2 0 416S12.8 384 32 384h960c19.2 0 32 12.8 32 32s-12.8 32-32 32zM800 640h-576c-19.2 0-32-12.8-32-32s12.8-32 32-32h576c19.2 0 32 12.8 32 32s-12.8 32-32 32z\" fill=\"#666666\" ></path></symbol>' +\n      '<symbol id=\"edui-for-justifyleft\" viewBox=\"0 0 1024 1024\"><path d=\"M992 64H32C12.8 64 0 51.2 0 32S12.8 0 32 0h960c19.2 0 32 12.8 32 32s-12.8 32-32 32zM608 256h-576C12.8 256 0 243.2 0 224S12.8 192 32 192h576c19.2 0 32 12.8 32 32s-12.8 32-32 32zM992 448H32C12.8 448 0 435.2 0 416S12.8 384 32 384h960c19.2 0 32 12.8 32 32s-12.8 32-32 32zM992 832H32c-19.2 0-32-12.8-32-32s12.8-32 32-32h960c19.2 0 32 12.8 32 32s-12.8 32-32 32zM608 1024h-576c-19.2 0-32-12.8-32-32s12.8-32 32-32h576c19.2 0 32 12.8 32 32s-12.8 32-32 32z\" fill=\"#666666\" ></path><path d=\"M992 448H32C12.8 448 0 435.2 0 416S12.8 384 32 384h960c19.2 0 32 12.8 32 32s-12.8 32-32 32zM608 640h-576c-19.2 0-32-12.8-32-32S12.8 576 32 576h576c19.2 0 32 12.8 32 32s-12.8 32-32 32z\" fill=\"#666666\" ></path></symbol>' +\n      '<symbol id=\"edui-for-justifyjustify\" viewBox=\"0 0 1024 1024\"><path d=\"M992 64H32C12.8 64 0 51.2 0 32S12.8 0 32 0h960c19.2 0 32 12.8 32 32s-12.8 32-32 32zM992 256H32C12.8 256 0 243.2 0 224S12.8 192 32 192h960c19.2 0 32 12.8 32 32s-12.8 32-32 32zM992 448H32C12.8 448 0 435.2 0 416S12.8 384 32 384h960c19.2 0 32 12.8 32 32s-12.8 32-32 32zM992 832H32c-19.2 0-32-12.8-32-32s12.8-32 32-32h960c19.2 0 32 12.8 32 32s-12.8 32-32 32zM992 1024H32c-19.2 0-32-12.8-32-32s12.8-32 32-32h960c19.2 0 32 12.8 32 32s-12.8 32-32 32z\" fill=\"#666666\" ></path><path d=\"M992 448H32C12.8 448 0 435.2 0 416S12.8 384 32 384h960c19.2 0 32 12.8 32 32s-12.8 32-32 32zM992 640H32c-19.2 0-32-12.8-32-32S12.8 576 32 576h960c19.2 0 32 12.8 32 32s-12.8 32-32 32z\" fill=\"#666666\" ></path></symbol>' +\n      '<symbol id=\"edui-for-justifyright\" viewBox=\"0 0 1024 1024\"><path d=\"M992 64H32C12.8 64 0 51.2 0 32S12.8 0 32 0h960c19.2 0 32 12.8 32 32s-12.8 32-32 32zM992 256h-576c-19.2 0-32-12.8-32-32s12.8-32 32-32h576c19.2 0 32 12.8 32 32s-12.8 32-32 32zM992 448H32C12.8 448 0 435.2 0 416S12.8 384 32 384h960c19.2 0 32 12.8 32 32s-12.8 32-32 32zM992 832H32c-19.2 0-32-12.8-32-32s12.8-32 32-32h960c19.2 0 32 12.8 32 32s-12.8 32-32 32zM992 1024h-576c-19.2 0-32-12.8-32-32s12.8-32 32-32h576c19.2 0 32 12.8 32 32s-12.8 32-32 32z\" fill=\"#666666\" ></path><path d=\"M992 448H32C12.8 448 0 435.2 0 416S12.8 384 32 384h960c19.2 0 32 12.8 32 32s-12.8 32-32 32zM992 640h-576c-19.2 0-32-12.8-32-32s12.8-32 32-32h576c19.2 0 32 12.8 32 32s-12.8 32-32 32z\" fill=\"#666666\" ></path></symbol>' +\n      '<symbol id=\"edui-for-link\" viewBox=\"0 0 1024 1024\"><path d=\"M759.04 768v-124.16a132.48 132.48 0 1 0 0-264.96H608.64A135.04 135.04 0 0 0 472.32 512h-128a261.12 261.12 0 0 1 264.32-256h150.4A261.12 261.12 0 0 1 1024 512a261.12 261.12 0 0 1-264.96 256z\" fill=\"#666666\" ></path><path d=\"M415.36 768H264.96A261.12 261.12 0 0 1 0 512a261.12 261.12 0 0 1 264.96-256v124.16a132.48 132.48 0 1 0 0 264.96h150.4A135.04 135.04 0 0 0 552.32 512h128a261.12 261.12 0 0 1-264.96 256z\" fill=\"#666666\" ></path></symbol>' +\n      '<symbol id=\"edui-for-cleardoc\" viewBox=\"0 0 1024 1024\"><path d=\"M895.909541 256.060626h-191.95477V56.427664A63.984924 63.984924 0 0 0 639.969847 0.120932H137.688197A69.743567 69.743567 0 0 0 64.105535 64.105855v895.78893a69.743567 69.743567 0 0 0 73.582662 63.984923h748.623606A69.743567 69.743567 0 0 0 959.894465 959.894785V313.007208A63.984924 63.984924 0 0 0 895.909541 256.060626z m0 695.516119a8.31804 8.31804 0 0 1-8.31804 8.31804H137.688197a9.597739 9.597739 0 0 1-9.597738-9.597739V72.423895A8.31804 8.31804 0 0 1 136.408499 64.105855h491.404213a11.517286 11.517286 0 0 1 12.157135 10.877437v191.954771A60.145828 60.145828 0 0 0 703.954771 320.045549h180.437484a11.517286 11.517286 0 0 1 12.157136 10.877437v620.653759z\" fill=\"#666666\" ></path></symbol>' +\n      '<symbol id=\"edui-for-drafts\" viewBox=\"0 0 1024 1024\"><path d=\"M832 320V160a32 32 0 0 0-32-32H576V64a64 64 0 0 0-64-64H384a64 64 0 0 0-64 64v64H96a32 32 0 0 0-32 32v640a32 32 0 0 0 32 32H384v192h448l192-192V320zM384 64h128v64H384zM192 192h512v64H192z m640 741.76V832h101.76zM960 768h-192v192H448V384h512z\" fill=\"#666666\" ></path></symbol>' +\n      '<symbol id=\"edui-for-subscript\" viewBox=\"0 0 1024 1024\"><path d=\"M716.8 819.2v-29.696c0-99.328 160.256-135.68 160.256-179.2 0-16.896-10.752-27.136-32.768-27.136a116.736 116.736 0 0 0-74.24 35.84l-47.104-51.2A170.496 170.496 0 0 1 852.992 512c76.288 0 119.808 40.448 119.808 93.184 0 74.752-95.232 94.72-142.848 141.312H972.8V819.2zM72.192 720.384l494.592-494.592a56.832 56.832 0 0 1 78.848-8.704l7.68 7.68a56.832 56.832 0 0 1-8.704 78.848l-494.592 494.592a56.832 56.832 0 0 1-78.848 8.704l-7.68-7.68a56.832 56.832 0 0 1 8.704-78.848z\" fill=\"#666666\" ></path><path d=\"M566.784 798.208L72.192 303.616a56.832 56.832 0 0 1-8.704-78.848l7.68-7.68a56.832 56.832 0 0 1 78.848 8.704l494.592 494.592a56.832 56.832 0 0 1 8.704 78.848l-7.68 7.68a56.832 56.832 0 0 1-78.848-8.704z\" fill=\"#666666\" ></path></symbol>' +\n      '<symbol id=\"edui-for-unlink\" viewBox=\"0 0 1024 1024\"><path d=\"M539.416837 448.012238V320.036713A95.341766 95.341766 0 0 0 639.877623 233.653234v-19.196329A95.341766 95.341766 0 0 0 539.416837 128.073426H228.436312A95.341766 95.341766 0 0 0 127.975525 214.456905v18.556451A95.341766 95.341766 0 0 0 228.436312 320.036713v127.975525A222.037535 222.037535 0 0 1 0 233.653234v-19.196329A222.037535 222.037535 0 0 1 228.436312 0.097901h310.980525A222.037535 222.037535 0 0 1 767.853148 214.456905v18.556451A222.037535 222.037535 0 0 1 539.416837 448.012238zM795.367886 1023.902099H484.387361A222.037535 222.037535 0 0 1 255.951049 809.543095v-18.556451A222.037535 222.037535 0 0 1 484.387361 575.987762v127.975525A95.341766 95.341766 0 0 0 383.926574 790.346766v18.556451A95.341766 95.341766 0 0 0 484.387361 895.926574h311.620403A95.341766 95.341766 0 0 0 895.828673 809.543095v-18.556451A95.341766 95.341766 0 0 0 795.367886 703.963287V575.987762A222.037535 222.037535 0 0 1 1023.804197 790.346766v18.556451A222.037535 222.037535 0 0 1 795.367886 1023.902099z\" fill=\"#666666\" ></path></symbol>' +\n      '<symbol id=\"edui-for-superscript\" viewBox=\"0 0 1024 1024\"><path d=\"M716.8 512v-29.696c0-99.328 160.256-135.68 160.256-179.2 0-16.896-10.752-27.136-32.768-27.136a116.736 116.736 0 0 0-74.24 35.84l-47.104-51.2A170.496 170.496 0 0 1 852.992 204.8C929.28 204.8 972.8 245.248 972.8 297.984c0 74.752-95.232 94.72-142.848 141.312H972.8V512zM72.192 720.384l494.592-494.592a56.832 56.832 0 0 1 78.848-8.704l7.68 7.68a56.832 56.832 0 0 1-8.704 78.848l-494.592 494.592a56.832 56.832 0 0 1-78.848 8.704l-7.68-7.68a56.832 56.832 0 0 1 8.704-78.848z\" fill=\"#666666\" ></path><path d=\"M566.784 798.208L72.192 303.616a56.832 56.832 0 0 1-8.704-78.848l7.68-7.68a56.832 56.832 0 0 1 78.848 8.704l494.592 494.592a56.832 56.832 0 0 1 8.704 78.848l-7.68 7.68a56.832 56.832 0 0 1-78.848-8.704z\" fill=\"#666666\" ></path></symbol>' +\n      '<symbol id=\"edui-for-forecolor\" viewBox=\"0 0 1024 1024\"><path d=\"M588.8 64H428.8L192 768h108.8l57.6-166.4h275.2l57.6 166.4H832L588.8 64zM390.4 499.2l102.4-313.6 102.4 313.6H390.4zM192 896h640v64H192z\" fill=\"#666666\" ></path></symbol>' +\n      '<symbol id=\"edui-for-backcolor\" viewBox=\"0 0 1024 1024\"><path d=\"M910.593777 663.461622s-105.39199 190.467451-105.39199 246.972795a105.39199 105.39199 0 1 0 210.149088 0c0.634892-59.04491-104.757098-246.972795-104.757098-246.972795zM412.838838 100.947749L388.712961 126.978301 266.813792 0 169.675392 100.312858l121.899168 126.978301L0.15936 526.325057 412.838838 952.337256 825.518316 526.325057z m-274.27313 425.377308l275.542913-283.796502 274.908021 283.796502z\" fill=\"#666666\" ></path></symbol>' +\n      '<symbol id=\"edui-for-touppercase\" viewBox=\"0 0 1024 1024\"><path d=\"M295.68 128L0 896h113.28l74.24-192h328.96l71.04 192H704L408.32 128z m-53.12 448l92.16-250.88A245.76 245.76 0 0 0 353.28 256a225.92 225.92 0 0 0 16 69.12L461.44 576zM996.48 812.16v-115.84Q998.4 576 865.28 576t-152.32 92.16l67.84 17.92q8.32-55.68 82.56-51.84t64 53.76a224.64 224.64 0 0 1-97.28 19.84q-122.88 12.16-128 101.76T820.48 896a139.52 139.52 0 0 0 114.56-44.16 48.64 48.64 0 0 0 19.2 37.76H1024a102.4 102.4 0 0 1-27.52-77.44zM926.72 768q-6.4 64-95.36 71.68-56.96 0-55.04-32t67.84-44.16a149.76 149.76 0 0 0 82.56-23.68zM949.76 384H1024c-15.36-106.88-232.32-128-311.04-128V128L512 288 712.32 448V327.04a488.96 488.96 0 0 1 237.44 56.96z\" fill=\"#666666\" ></path></symbol>' +\n      '<symbol id=\"edui-for-tolowercase\" viewBox=\"0 0 1024 1024\"><path d=\"M295.68 128L0 896h113.28l74.24-192h328.96l71.04 192H704L408.32 128z m-53.12 448l92.16-250.88A245.76 245.76 0 0 0 353.28 256a225.92 225.92 0 0 0 16 69.12L461.44 576zM996.48 812.16v-115.84Q998.4 576 865.28 576t-152.32 92.16l67.84 17.92q8.32-55.68 82.56-51.84t64 53.76a224.64 224.64 0 0 1-97.28 19.84q-122.88 12.16-128 101.76T820.48 896a139.52 139.52 0 0 0 114.56-44.16 48.64 48.64 0 0 0 19.2 37.76H1024a102.4 102.4 0 0 1-27.52-77.44zM926.72 768q-6.4 64-95.36 71.68-56.96 0-55.04-32t67.84-44.16a149.76 149.76 0 0 0 82.56-23.68zM586.24 384H512c15.36-106.88 232.32-128 311.04-128V128L1024 288 823.04 448V327.04a488.96 488.96 0 0 0-236.8 56.96z\" fill=\"#666666\" ></path></symbol>' +\n      '<symbol id=\"edui-for-insertvideo\" viewBox=\"0 0 1024 1024\"><path d=\"M384 768l256-256-256-256v512z\" fill=\"#666666\" ></path><path d=\"M960 64H64a64 64 0 0 0-64 64v768a64 64 0 0 0 64 64h896a64 64 0 0 0 64-64V128a64 64 0 0 0-64-64z m0 832H64V128h896z\" fill=\"#666666\" ></path></symbol>' +\n      '<symbol id=\"edui-for-emotion\" viewBox=\"0 0 1024 1024\"><path d=\"M512 0a512 512 0 1 0 512 512 512 512 0 0 0-512-512z m0 960a448 448 0 1 1 448-448 448 448 0 0 1-448 448z\" fill=\"#666666\" ></path><path d=\"M320 384m-64 0a64 64 0 1 0 128 0 64 64 0 1 0-128 0Z\" fill=\"#666666\" ></path><path d=\"M704 384m-64 0a64 64 0 1 0 128 0 64 64 0 1 0-128 0Z\" fill=\"#666666\" ></path><path d=\"M512 832a256 256 0 0 0 256-256H256a256 256 0 0 0 256 256z\" fill=\"#666666\" ></path></symbol>' +\n      '<symbol id=\"edui-for-pasteplain\" viewBox=\"0 0 1024 1024\"><path d=\"M640 256V128H576V64a64 64 0 0 0-64-64H320a64 64 0 0 0-64 64v64H192v128zM320 64h192v64H320z\" fill=\"#666666\" ></path><path d=\"M832 384V160a33.28 33.28 0 0 0-33.92-32H704v64h64v64h-64v64H128V128H33.92a33.28 33.28 0 0 0-33.92 32V896h384v128h640V384z m-384 576V448h512v512z\" fill=\"#666666\" ></path><path d=\"M576 576h320v64H576zM704 640h64v256h-64zM704 192h64v128h-64z\" fill=\"#666666\" ></path></symbol>' +\n      '<symbol id=\"edui-for-preview\" viewBox=\"0 0 1024 1024\"><path d=\"M895.909541 256.060626h-191.95477V56.427664A63.984924 63.984924 0 0 0 639.969847 0.120932H137.688197A69.743567 69.743567 0 0 0 64.105535 64.105855v895.78893a69.743567 69.743567 0 0 0 73.582662 63.984923h748.623606A69.743567 69.743567 0 0 0 959.894465 959.894785V313.007208A63.984924 63.984924 0 0 0 895.909541 256.060626z m0 695.516119a8.31804 8.31804 0 0 1-8.31804 8.31804H137.688197a9.597739 9.597739 0 0 1-9.597738-9.597739V72.423895A8.31804 8.31804 0 0 1 136.408499 64.105855h491.404213a11.517286 11.517286 0 0 1 12.157135 10.877437v191.954771A60.145828 60.145828 0 0 0 703.954771 320.045549h180.437484a11.517286 11.517286 0 0 1 12.157136 10.877437v620.653759z\" fill=\"#666666\" ></path><path d=\"M767.939694 850.480566l-173.399143-172.759294a225.86678 225.86678 0 1 0-45.429295 45.429296l173.399142 172.759293zM256.060306 543.992782A159.962309 159.962309 0 1 1 416.022615 703.955091 159.962309 159.962309 0 0 1 256.060306 543.992782z\" fill=\"#666666\" ></path></symbol>' +\n      '<symbol id=\"edui-for-print\" viewBox=\"0 0 1024 1024\"><path d=\"M320.00576 448h384v64H320.00576zM320.00576 576h384v64H320.00576z\" fill=\"#666666\" ></path><path d=\"M988.80576 179.2H832.00576V0H192.00576v179.2H35.20576a35.2 35.2 0 0 0-35.2 35.84v443.52h192V704l256 256h384v-301.44h192V346.88a36.48 36.48 0 0 0 0-3.84v-128a35.2 35.2 0 0 0-35.2-35.84zM256.00576 64h512v115.2H256.00576z m640 512h-56.96V455.68H768.00576V896H471.04576v-199.04H256.00576V455.68H187.52576V576H128.00576V384h768z m32-274.56a32.64 32.64 0 1 1 32-32.64 32 32 0 0 1-32 32.64z\" fill=\"#666666\" ></path></symbol>' +\n      '<symbol id=\"edui-for-searchreplace\" viewBox=\"0 0 1024 1024\"><path d=\"M437.771654 578.9811h82.93098L299.553354 0H219.181972L0.080371 578.9811h80.883302L136.762912 419.774095h241.626065zM160.823135 354.248383l87.026337-241.114145A222.173119 222.173119 0 0 0 256.040186 72.692587a274.388921 274.388921 0 0 0 9.214553 40.441651l90.097855 241.114145h-194.529459z m825.214441 403.904587a146.920933 146.920933 0 0 0-94.705131-44.537008 145.897094 145.897094 0 0 0 74.740266-51.191963 138.730219 138.730219 0 0 0 27.13174-84.466738 117.741515 117.741515 0 0 0-45.560847-96.75281 189.922182 189.922182 0 0 0-122.348791-36.346294h-170.469237V1023.839257h175.076513a204.767851 204.767851 0 0 0 137.70638-46.072766 153.575889 153.575889 0 0 0 53.751561-121.324952 136.170621 136.170621 0 0 0-35.322454-98.288569z m-255.959814-250.840618h74.740266q109.550801 0 109.5508 81.907141a91.121694 91.121694 0 0 1-30.715178 73.204506 126.956068 126.956068 0 0 1-84.978658 26.619821h-68.59723V507.312352z m180.707629 421.821774a136.682541 136.682541 0 0 1-90.609775 27.13174h-90.097854v-204.767851h77.299864q135.146782 0 135.146782 99.824327a93.681292 93.681292 0 0 1-31.739017 78.323704zM460.808037 801.666138a176.100352 176.100352 0 0 1-85.490578-40.95357 178.148031 178.148031 0 0 1-38.905892-219.613521L282.148087 511.919629A241.114145 241.114145 0 0 0 460.808037 866.679931v42.489329l112.110399-77.811783L460.808037 753.033774v51.191963z\" fill=\"#666666\" ></path></symbol>' +\n      '<symbol id=\"edui-for-selectall\" viewBox=\"0 0 1024 1024\"><path d=\"M184.32 113.92L298.24 0h-40.32L144 113.92h40.32zM113.92 144L0 257.92v40.32l113.92-113.92v-40.32zM144 0L0 144v40.32L184.32 0h-40.32zM30.72 0L0 30.72v40.32L71.04 0H30.72zM527.36 113.92L641.28 0h-40.32L487.68 113.92h39.68zM113.92 487.68L0 600.96v40.32l113.92-113.92v-39.68zM113.92 373.76L0 487.68v39.68l113.92-113.28v-40.32zM414.08 113.92L527.36 0h-39.68L373.76 113.92h40.32zM300.16 113.92L414.08 0h-40.32L259.84 113.92h40.32zM113.92 259.84L0 373.76v40.32l113.92-113.92v-40.32zM113.92 835.2L0 948.48v40.32l113.92-113.28v-40.32zM875.52 113.92L988.8 0h-40.32l-113.28 113.92h40.32zM113.92 721.28L0 835.2v40.32l113.92-113.92v-40.32zM761.6 113.92L875.52 0h-40.32l-113.92 113.92h40.32zM113.92 607.36L0 721.28v40.32l113.92-113.92v-40.32zM647.68 113.92L761.6 0h-40.32L607.36 113.92h40.32zM910.08 419.2L1024 305.28v-40.32l-113.92 113.92v40.32zM378.88 910.08L264.96 1024h40.32l113.92-113.92h-40.32zM910.08 305.28L1024 192v-40.32l-113.92 113.28v40.32zM264.96 910.08L151.68 1024H192l113.28-113.92h-40.32zM151.68 910.08L37.76 1024h40.32L192 910.08h-40.32zM910.08 151.68V192L1024 78.08V37.76l-113.92 113.92zM910.08 759.04L1024 645.12v-40.32l-113.92 113.92v40.32zM718.72 910.08L604.8 1024h40.32l113.92-113.92h-40.32zM910.08 645.12L1024 531.2v-40.32l-113.92 113.92v40.32zM604.8 910.08L490.88 1024h40.32l113.92-113.92h-40.32zM490.88 910.08L376.96 1024h40.32l113.92-113.92h-40.32zM910.08 531.2L1024 417.28v-40.32l-113.92 113.92v40.32zM988.16 1024l35.84-35.84v-40.32L947.84 1024h40.32zM874.24 1024L1024 874.24v-40.32L833.92 1024h40.32zM833.92 910.08L720.64 1024h39.68l113.92-113.92h-40.32zM910.08 874.24L1024 760.32v-39.68l-113.92 113.28v40.32zM256 630.4Q263.04 768 442.24 768a223.36 223.36 0 0 0 183.04-70.4 77.44 77.44 0 0 0 30.72 60.8H768a163.84 163.84 0 0 1-44.16-124.8V448Q727.04 256 512 256T269.44 403.2l108.8 28.8q13.44-89.6 133.76-83.2 112-6.4 101.76 86.4a359.68 359.68 0 0 1-156.16 32Q259.2 486.4 256 630.4zM611.84 518.4v44.8q-10.24 105.6-152.32 115.2-91.52 0-88.32-51.2-6.4-60.8 108.8-70.4a240 240 0 0 0 131.84-38.4z\" fill=\"#666666\" ></path></symbol>' +\n      '<symbol id=\"edui-for-mergecells\" viewBox=\"0 0 1024 1024\"><path d=\"M0 0v1024h1024V0z m320 960H64v-256h256z m0-320H64V384h256z m0-320H64V64h256z m64-256h256v256H384z m576 896H384V384h576z m0-640h-256V64h256z\" fill=\"#666666\" ></path></symbol>' +\n      '<symbol id=\"edui-for-deletecol\" viewBox=\"0 0 1024 1024\"><path d=\"M1024 307.84V0h-256v576h256zM832 256V64h128v192z m0 256V320h128v192zM448 307.84V0H0v576h448zM64 256V64h128v192z m192 0V64h128v192zM64 512V320h128v192z m192 0V320h128v192zM640 704V635.52L570.24 704H640zM593.28 708.48z\" fill=\"#666666\" ></path><path d=\"M640 512v136.32l64-34.56V256H512v352l64 32V512zM576 448V320h64v128z\" fill=\"#666666\" ></path><path d=\"M734.72 1024l96.64-92.8L704 808.96l128-122.88-96-92.16-32 19.84V768H512V608l-32-14.08L384 686.08l128 122.88-127.36 122.24L480.64 1024l127.36-122.24L734.72 1024z\" fill=\"#666666\" ></path><path d=\"M512 704h76.8L512 629.76V704z\" fill=\"#666666\" ></path></symbol>' +\n      '<symbol id=\"edui-for-deleterow\" viewBox=\"0 0 1024 1024\"><path d=\"M307.84 0H0v256h576V0zM256 192H64V64h192z m256 0H320V64h192zM307.84 576H0v448h576V576zM256 960H64v-128h192z m0-192H64v-128h192z m256 192H320v-128h192z m0-192H320v-128h192zM716.8 360.32h-68.48l68.48 70.4v-70.4zM708.48 430.72zM520.96 344.96h128l-34.56-35.84H256v219.52h352l32-35.84H520.96zM448 448H316.16V384H448z\" fill=\"#666666\" ></path><path d=\"M1024 288.64l-92.8-96L808.96 320l-122.88-128-92.16 96 19.84 21.12h137.6V528.64H608l-14.08 15.36 92.16 96 122.88-128 122.24 127.36L1024 542.72 901.76 416 1024 288.64z\" fill=\"#666666\" ></path><path d=\"M716.8 492.8V416l-74.24 76.8h74.24z\" fill=\"#666666\" ></path></symbol>' +\n      '<symbol id=\"edui-for-attachment\" viewBox=\"0 0 1024 1024\"><path d=\"M972.16 372.48l-520.32 512a222.72 222.72 0 0 1-312.32 0A216.32 216.32 0 0 1 138.88 576l468.48-460.8a148.48 148.48 0 0 1 208 0 144.64 144.64 0 0 1 0 206.08l-467.84 463.36a74.24 74.24 0 0 1-104.32 0 72.32 72.32 0 0 1 0-103.04l416.64-411.52-51.84-51.2L192 630.4a144.64 144.64 0 0 0 0 206.08 148.48 148.48 0 0 0 208 0l468.48-463.36a216.96 216.96 0 0 0 0-308.48A222.72 222.72 0 0 0 555.52 64L64 552.96a291.2 291.2 0 0 0 26.24 384 296.96 296.96 0 0 0 385.28 23.04L1024 424.32l-51.84-51.2z\" fill=\"#666666\" ></path></symbol>' +\n      '<symbol id=\"edui-for-music\" viewBox=\"0 0 1024 1024\"><path d=\"M991.140186 0.88755h-7.673343a36.448381 36.448381 0 0 0-15.986133 0L219.969177 135.810504a31.972264 31.972264 0 0 0-28.135593 30.693374 30.053928 30.053928 0 0 0 0 3.197226v616.425251A127.889056 127.889056 0 0 0 127.889056 768.221888a127.889056 127.889056 0 1 0 127.889056 127.889056V384.554719a36.448381 36.448381 0 0 0 17.904468 0L959.167922 260.502334v457.203376a127.889056 127.889056 0 0 0-63.944528-17.904468A127.889056 127.889056 0 1 0 1023.11245 832.166416V32.859814a31.972264 31.972264 0 0 0-31.972264-31.972264z\" fill=\"#666666\" ></path></symbol>' +\n      '<symbol id=\"edui-for-gmap\" viewBox=\"0 0 1024 1024\"><path d=\"M543.36 572.16h128v144.64a170.24 170.24 0 0 1-103.68 30.08c-135.68 0-208-89.6-208-236.8s83.84-233.6 206.08-233.6a183.04 183.04 0 0 1 138.24 55.68l56.32-64A270.72 270.72 0 0 0 562.56 192 298.24 298.24 0 0 0 256 512c0 202.24 128 320 304 320A306.56 306.56 0 0 0 768 759.68V492.16H543.36z\" fill=\"#1C7C59\" ></path><path d=\"M896 0H128a64 64 0 0 0-64 64v896a64 64 0 0 0 64 64h768a64 64 0 0 0 64-64V64a64 64 0 0 0-64-64z m0 896a64 64 0 0 1-64 64H192a64 64 0 0 1-64-64V128a64 64 0 0 1 64-64h640a64 64 0 0 1 64 64z\" fill=\"#1C7C59\" ></path></symbol>' +\n      '<symbol id=\"edui-for-insertframe\" viewBox=\"0 0 1024 1024\"><path d=\"M448 384a256 256 0 1 0 256 256 256 256 0 0 0-256-256z m195.84 170.88a213.76 213.76 0 0 1 0 170.88H547.2a504.32 504.32 0 0 0 0-170.88zM384 640a527.36 527.36 0 0 1 6.4-85.12h115.2A527.36 527.36 0 0 1 512 640a527.36 527.36 0 0 1-6.4 85.12H390.4A527.36 527.36 0 0 1 384 640z m234.88-128H537.6a218.88 218.88 0 0 0-39.68-79.36A213.76 213.76 0 0 1 618.88 512zM448 448c19.2 0 35.84 24.96 48 64h-96c12.16-39.04 28.8-64 48-64z m-49.92-15.36A218.88 218.88 0 0 0 358.4 512H277.12a213.76 213.76 0 0 1 120.96-79.36zM252.16 554.88h96a504.32 504.32 0 0 0 0 170.88h-96a213.76 213.76 0 0 1 0-170.88zM277.12 768H358.4a218.88 218.88 0 0 0 39.68 79.36A213.76 213.76 0 0 1 277.12 768zM448 832c-19.2 0-35.84-24.96-48-64h96c-12.16 39.04-28.8 64-48 64z m49.92 15.36A218.88 218.88 0 0 0 537.6 768h81.28a213.76 213.76 0 0 1-120.96 79.36z\" fill=\"#666666\" ></path><path d=\"M597.76 0H64v1024h896V330.24zM896 355.84V960H128V64h448v256h320z\" fill=\"#666666\" ></path></symbol>' +\n      '<symbol id=\"edui-for-pdfformat\" viewBox=\"0 0 1024 1024\"><path d=\"M597.76 0H64v1024h896V330.24zM896 960H128V64h448v291.2h320z\" fill=\"#EF4848\" ></path><path d=\"M213.76 615.68H166.4v133.12h49.28c58.24 0 85.76-21.76 85.76-69.76s-30.72-63.36-87.68-63.36zM486.4 622.08h-32.64v268.8h32.64c77.44 0 119.04-45.44 119.04-135.68S564.48 622.08 486.4 622.08z\" fill=\"#EF4848\" ></path><path d=\"M64 448v576h874.24V448z m175.36 352.64h-54.4v136.96H128V576h109.44c82.56 0 138.24 27.52 138.24 108.8S320 800.64 239.36 800.64z m256 136.96H396.8V576h93.44a159.36 159.36 0 0 1 174.72 179.2 160.64 160.64 0 0 1-171.52 182.4z m411.52-313.6h-158.72v110.72h133.76v48h-133.76v155.52h-56.96V576h214.4z\" fill=\"#EF4848\" ></path></symbol>' +\n      '<symbol id=\"edui-for-word\" viewBox=\"0 0 1024 1024\"><path d=\"M718.08 545.92c-12.16 60.16-21.12 117.76-32 177.28h-3.84c-12.8-58.88-23.68-117.12-36.48-177.28L567.68 208H461.44L384 545.92c-12.8 58.88-23.68 117.76-35.84 177.28H345.6c-9.6-58.88-18.56-117.12-29.44-177.28L243.2 208H128L275.84 832h131.84l64-307.2c14.08-58.88 23.68-117.12 34.56-181.76H512c12.16 64 21.76 121.6 34.56 180.48L618.24 832h136.96L896 208h-106.88z\" fill=\"#4972AD\" ></path><path d=\"M960 0H64a64 64 0 0 0-64 64v896a64 64 0 0 0 64 64h896a64 64 0 0 0 64-64V64a64 64 0 0 0-64-64z m0 896a64 64 0 0 1-64 64H128a64 64 0 0 1-64-64V128a64 64 0 0 1 64-64h768a64 64 0 0 1 64 64z\" fill=\"#4972AD\" ></path></symbol>' +\n      '<symbol id=\"edui-for-excel\" viewBox=\"0 0 1024 1024\"><path d=\"M960 0H64a64 64 0 0 0-64 64v896a64 64 0 0 0 64 64h896a64 64 0 0 0 64-64V64a64 64 0 0 0-64-64z m0 896a64 64 0 0 1-64 64H128a64 64 0 0 1-64-64V128a64 64 0 0 1 64-64h768a64 64 0 0 1 64 64z\" fill=\"#60BF6B\" ></path><path d=\"M816.64 128h-155.52L586.24 282.88c-19.2 41.6-40.32 85.12-59.52 128h-5.12c-23.04-43.52-46.72-86.4-67.2-128L369.28 128H208.64L422.4 495.36 192 896h156.16l82.56-161.92c21.76-47.36 44.16-93.44 64-136.96h6.4c25.6 43.52 50.56 90.88 73.6 136.96l96 161.92H832L602.88 512z\" fill=\"#60BF6B\" ></path></symbol>' +\n      '<symbol id=\"edui-for-time\" viewBox=\"0 0 1024 1024\"><path d=\"M839.710352 230.607611l21.719276-21.719277 43.438553 43.438553 54.298191-53.659389-127.760449-127.760449-54.936993 54.298191 43.438552 43.438553-21.719276 21.719276A477.82408 477.82408 0 0 0 556.720957 74.739863a76.656269 76.656269 0 0 0-152.673737 0 472.713662 472.713662 0 0 0-87.515907 23.635683l51.104179 79.211478a383.281347 383.281347 0 0 1 112.429196-17.24766 383.281347 383.281347 0 1 1-383.281348 383.281347 383.281347 383.281347 0 0 1 47.271366-184.613849L64.843228 304.708671a472.07486 472.07486 0 0 0-63.880225 240.189645 479.101684 479.101684 0 0 0 958.203369 0 473.352464 473.352464 0 0 0-119.45602-314.290705z\" fill=\"#666666\" ></path><path d=\"M480.064688 255.520898a46.632564 46.632564 0 0 0-46.632564 45.993762v182.05864a76.017467 76.017467 0 0 0 0 122.650031v63.880225a46.632564 46.632564 0 0 0 92.626325 0v-63.880225a76.017467 76.017467 0 0 0 0-122.650031V298.959451A46.632564 46.632564 0 0 0 480.064688 255.520898zM252.651088 0L143.415904 251.049283l274.684966 5.110418-50.465378-77.933874-51.104179-79.850281-63.880225-98.375546z\" fill=\"#666666\" ></path></symbol>' +\n      '<symbol id=\"edui-for-snapscreen\" viewBox=\"0 0 1024 1024\"><path d=\"M665.6 392.96L460.8 548.48 256 314.88V704h512V548.48l-102.4-155.52z\" fill=\"#666666\" ></path><path d=\"M1024 832h-128V128H192V0H128v128H0v64h128v704h704v128h64v-128h128zM192 832V192h640v640z\" fill=\"#666666\" ></path></symbol>' +\n      '<symbol id=\"edui-for-wordimage\" viewBox=\"0 0 1024 1024\"><path d=\"M988.16 448H419.84a35.84 35.84 0 0 0-35.84 35.84v504.32a35.84 35.84 0 0 0 35.84 35.84h568.96a35.84 35.84 0 0 0 35.84-35.84V483.84a35.84 35.84 0 0 0-36.48-35.84z m-323.84 164.48a80 80 0 1 1-80-81.92 81.28 81.28 0 0 1 80 81.92zM929.28 960H461.44l131.2-205.44 85.12 133.12 177.28-298.24L960 768v163.2a30.72 30.72 0 0 1-30.72 28.8z\" fill=\"#666666\" ></path><path d=\"M960 0H64a64 64 0 0 0-64 64v896a64 64 0 0 0 64 64h256v-64H128a64 64 0 0 1-64-64V128a64 64 0 0 1 64-64h768a64 64 0 0 1 64 64v256h64V64a64 64 0 0 0-64-64z\" fill=\"#4972AD\" ></path><path d=\"M320 554.24L241.28 192H122.88l151.68 640H320V565.76zM858.88 384l43.52-192h-116.48l-40.32 192h113.28zM501.76 384c0-26.88 4.48-40.32 7.04-64H512c0 23.68 7.68 64 7.68 64h97.28l-44.8-192H456.32l-42.88 192z\" fill=\"#4972AD\" ></path></symbol>' +\n      '<symbol id=\"edui-for-edittd\" viewBox=\"0 0 1024 1024\"><path d=\"M768 768m-192 0a192 192 0 1 0 384 0 192 192 0 1 0-384 0Z\" fill=\"#666666\" ></path><path d=\"M448 768a320 320 0 0 1 448-293.12V128H128v768h346.88A320 320 0 0 1 448 768z\" fill=\"#666666\" ></path><path d=\"M0 0v1024h576a320 320 0 0 1-64-64H64V64h896v448a320 320 0 0 1 64 64V0z\" fill=\"#666666\" ></path></symbol>' +\n      '<symbol id=\"edui-for-lineheight\" viewBox=\"0 0 1024 1024\"><path d=\"M380.8 768H0l190.72 254.72L380.8 768z\" fill=\"#666666\" ></path><path d=\"M512 768l512 0 0 64-512 0 0-64Z\" fill=\"#666666\" ></path><path d=\"M512 576l512 0 0 64-512 0 0-64Z\" fill=\"#666666\" ></path><path d=\"M512 384l512 0 0 64-512 0 0-64Z\" fill=\"#666666\" ></path><path d=\"M512 192l512 0 0 64-512 0 0-64Z\" fill=\"#666666\" ></path><path d=\"M2.56 256h380.8L193.28 1.28 2.56 256z\" fill=\"#666666\" ></path></symbol>' +\n      '<symbol id=\"edui-for-rowspacingbottom\" viewBox=\"0 0 1024 1024\"><path d=\"M704 768H320l192 256zM672 640H32c-19.2 0-32-12.8-32-32S12.8 576 32 576h640c19.2 0 32 12.8 32 32s-12.8 32-32 32zM864 448H32C12.8 448 0 435.2 0 416S12.8 384 32 384h832c19.2 0 32 12.8 32 32s-12.8 32-32 32zM480 256h-448C12.8 256 0 243.2 0 224S12.8 192 32 192h448c19.2 0 32 12.8 32 32s-12.8 32-32 32zM992 64H32C12.8 64 0 51.2 0 32S12.8 0 32 0h960c19.2 0 32 12.8 32 32s-12.8 32-32 32z\" fill=\"#666666\" ></path></symbol>' +\n      '<symbol id=\"edui-for-rowspacingtop\" viewBox=\"0 0 1024 1024\"><path d=\"M320 256h384L512 0zM352 384h640c19.2 0 32 12.8 32 32s-12.8 32-32 32h-640c-19.2 0-32-12.8-32-32s12.8-32 32-32zM160 576h832c19.2 0 32 12.8 32 32s-12.8 32-32 32h-832c-19.2 0-32-12.8-32-32s12.8-32 32-32zM544 768h448c19.2 0 32 12.8 32 32s-12.8 32-32 32h-448c-19.2 0-32-12.8-32-32s12.8-32 32-32zM32 960h960c19.2 0 32 12.8 32 32s-12.8 32-32 32H32c-19.2 0-32-12.8-32-32s12.8-32 32-32z\" fill=\"#666666\" ></path></symbol>' +\n      '<symbol id=\"edui-for-scrawl\" viewBox=\"0 0 1024 1024\"><path d=\"M1018.28352 277.12a20.48 20.48 0 0 0-15.36-6.4 68.48 68.48 0 0 0-40.96 23.68l-390.4 389.12a1234.56 1234.56 0 0 0-69.12 105.6l-8.32 14.08 14.08-8.96c3.84 0 90.24-56.96 104.96-71.04l390.4-389.12c16.64-14.08 29.44-41.6 14.72-56.96z m-243.84 120.96a56.96 56.96 0 1 1-56.96-58.88 58.24 58.24 0 0 1 56.96 58.88zM173.48352 603.52a58.88 58.88 0 1 1 56.96-58.88 58.24 58.24 0 0 1-56.96 58.88zM256.68352 398.08a56.96 56.96 0 1 1 56.96 58.88 58.24 58.24 0 0 1-56.96-58.88z m202.88-58.88a56.96 56.96 0 1 1 56.96 58.88 58.24 58.24 0 0 1-56.96-58.88z m442.88 199.04a415.36 415.36 0 0 1-402.56 352.64 335.36 335.36 0 0 1-122.88-23.68c-38.4-16-55.68-34.56-59.52-46.72s-3.84-13.44-5.12-20.48a250.24 250.24 0 0 0-23.04-64 81.28 81.28 0 0 0-72.96-43.52 114.56 114.56 0 0 0-26.24 0 187.52 187.52 0 0 1-42.24 5.12c-28.8 0-77.44-7.68-78.72-60.16-8.32-266.88 206.08-412.16 421.76-437.76a419.2 419.2 0 0 1 48.64 0 500.48 500.48 0 0 1 174.72 30.72c10.88 4.48 16.64 7.04 44.8 21.12a260.48 260.48 0 0 1 73.6 53.76l34.56-64a314.88 314.88 0 0 0-76.8-55.68c-28.8-14.08-36.48-17.92-49.92-23.68A570.24 570.24 0 0 0 539.56352 128a485.12 485.12 0 0 0-56.32 0 592 592 0 0 0-339.2 151.68A462.08 462.08 0 0 0 0.68352 640a122.88 122.88 0 0 0 46.72 97.28 159.36 159.36 0 0 0 99.84 30.72 256 256 0 0 0 57.6-7.04h10.88c13.44 0 19.2 11.52 30.72 57.6 0 7.68 3.84 15.36 5.76 23.04a154.88 154.88 0 0 0 99.2 91.52A403.84 403.84 0 0 0 499.88352 960a460.16 460.16 0 0 0 177.92-35.2A471.04 471.04 0 0 0 821.80352 832a496 496 0 0 0 100.48-135.04 476.8 476.8 0 0 0 48.64-158.72V519.04z\" fill=\"#666666\" ></path></symbol>' +\n      '<symbol id=\"edui-for-redo\" viewBox=\"0 0 1024 1024\"><path d=\"M900.608 474.112c-51.2-51.2-260.608-261.632-291.84-292.352a68.096 68.096 0 0 0-91.648 3.072 73.216 73.216 0 0 0-14.336 76.288c12.288 18.432 187.904 199.68 187.904 199.68H169.984A61.952 61.952 0 0 0 102.4 525.312a71.168 71.168 0 0 0 68.096 67.584h517.632l-173.056 172.032a68.096 68.096 0 0 0 0 93.184 65.536 65.536 0 0 0 90.624 7.168c25.088-23.04 256-252.928 297.984-296.448s-3.072-94.72-3.072-94.72z\" fill=\"#666666\" ></path></symbol>' +\n      '<symbol id=\"edui-for-undo\" viewBox=\"0 0 1024 1024\"><path d=\"M128.512 476.16c51.2-51.2 260.608-261.632 291.84-292.352a68.096 68.096 0 0 1 91.648 3.072 73.216 73.216 0 0 1 13.824 76.288C512 281.6 338.432 460.8 338.432 460.8h520.192a61.952 61.952 0 0 1 65.536 66.56 71.168 71.168 0 0 1-68.096 67.584H338.432L512 768a68.096 68.096 0 0 1 0 93.184 65.536 65.536 0 0 1-90.624 7.168c-25.088-23.04-256-252.928-297.984-296.448s5.12-95.744 5.12-95.744z\" fill=\"#666666\" ></path></symbol>' +\n      '<symbol id=\"edui-for-inserttitle\" viewBox=\"0 0 1024 1024\"><path d=\"M512 516.096v-153.6H460.8v102.4H358.4v51.2H204.8v-51.2H102.4v-102.4H51.2v614.4h921.6v-460.8z m-173.056 409.6h-240.64V757.76h238.592z m0-219.136h-240.64v-139.264h238.592z m297.472 219.136H388.096V757.76h246.272z m0-219.136H388.096v-139.264h246.272z m283.136 219.136h-233.984V757.76h231.936z m0-219.136h-233.984v-139.264h231.936z\" fill=\"#666666\" ></path><path d=\"M512 465.408v51.2h460.8V51.2h-460.8v307.2z m51.2-204.8h153.6v-153.6h51.2v153.6h153.6v51.2h-153.6v153.6h-51.2v-153.6h-153.6z\" fill=\"#1C7C59\" ></path><path d=\"M99.328 108.032h102.4v-51.2h-153.6v153.6h51.2v-102.4zM512.512 104.96v-51.2h-153.6v51.2h102.4v102.4h51.2v-102.4z\" fill=\"#666666\" ></path></symbol>' +\n      '<symbol id=\"edui-for-insertparagraphtrue\" viewBox=\"0 0 1024 1024\"><path d=\"M997.12 448H0v576h1024V448zM60.16 960v-256H320v256z m481.92 0H384v-256h256v256z m421.76 0H704v-256h259.84zM448 0H0v64h192v384h64V64h192V0z\" fill=\"#666666\" ></path></symbol>' +\n      '<symbol id=\"edui-for-aligntable\" viewBox=\"0 0 1024 1024\"><path d=\"M992 64H32C12.8 64 0 51.2 0 32S12.8 0 32 0h960c19.2 0 32 12.8 32 32s-12.8 32-32 32z m0 192H32C12.8 256 0 243.2 0 224S12.8 192 32 192h960c19.2 0 32 12.8 32 32s-12.8 32-32 32z m0 192H32C12.8 448 0 435.2 0 416S12.8 384 32 384h960c19.2 0 32 12.8 32 32s-12.8 32-32 32z m0 384H32c-19.2 0-32-12.8-32-32s12.8-32 32-32h960c19.2 0 32 12.8 32 32s-12.8 32-32 32z m0 192H32c-19.2 0-32-12.8-32-32s12.8-32 32-32h960c19.2 0 32 12.8 32 32s-12.8 32-32 32z\" fill=\"#666666\" ></path><path d=\"M992 448H32C12.8 448 0 435.2 0 416S12.8 384 32 384h960c19.2 0 32 12.8 32 32s-12.8 32-32 32z m0 192H32c-19.2 0-32-12.8-32-32S12.8 576 32 576h960c19.2 0 32 12.8 32 32s-12.8 32-32 32z\" fill=\"#666666\" ></path></symbol>' +\n      '<symbol id=\"edui-for-table\" viewBox=\"0 0 1024 1024\"><path d=\"M0 0v1024h1024V0z m320 960H64v-256h256z m0-320H64V384h256z m320 320H384v-256h256z m0-320H384V384h256z m320 320h-256v-256h256z m0-320h-256V384h256z m0-320H64V64h896z\" fill=\"#666666\" ></path></symbol>' +\n      '<symbol id=\"edui-for-tablealignment-left\" viewBox=\"0 0 1024 1024\"><path d=\"M51.2 102.4l921.6 0 0 51.2-921.6 0 0-51.2Z\" fill=\"#666666\" ></path><path d=\"M51.2 256l614.4 0 0 51.2-614.4 0 0-51.2Z\" fill=\"#666666\" ></path><path d=\"M51.2 409.6l921.6 0 0 51.2-921.6 0 0-51.2Z\" fill=\"#666666\" ></path><path d=\"M51.2 563.2l614.4 0 0 51.2-614.4 0 0-51.2Z\" fill=\"#666666\" ></path><path d=\"M51.2 716.8l921.6 0 0 51.2-921.6 0 0-51.2Z\" fill=\"#666666\" ></path><path d=\"M51.2 870.4l614.4 0 0 51.2-614.4 0 0-51.2Z\" fill=\"#666666\" ></path></symbol>' +\n      '<symbol id=\"edui-for-tablealignment-center\" viewBox=\"0 0 1024 1024\"><path d=\"M51.2 102.4l921.6 0 0 51.2-921.6 0 0-51.2Z\" fill=\"#666666\" ></path><path d=\"M51.2 409.6l921.6 0 0 51.2-921.6 0 0-51.2Z\" fill=\"#666666\" ></path><path d=\"M51.2 716.8l921.6 0 0 51.2-921.6 0 0-51.2Z\" fill=\"#666666\" ></path><path d=\"M51.2 256l921.6 0 0 51.2-921.6 0 0-51.2Z\" fill=\"#666666\" ></path><path d=\"M51.2 563.2l921.6 0 0 51.2-921.6 0 0-51.2Z\" fill=\"#666666\" ></path><path d=\"M51.2 870.4l921.6 0 0 51.2-921.6 0 0-51.2Z\" fill=\"#666666\" ></path><path d=\"M51.2 102.4l921.6 0 0 51.2-921.6 0 0-51.2Z\" fill=\"#666666\" ></path><path d=\"M51.2 409.6l921.6 0 0 51.2-921.6 0 0-51.2Z\" fill=\"#666666\" ></path><path d=\"M51.2 716.8l921.6 0 0 51.2-921.6 0 0-51.2Z\" fill=\"#666666\" ></path></symbol>' +\n      '<symbol id=\"edui-for-tablealignment-right\" viewBox=\"0 0 1024 1024\"><path d=\"M51.2 102.4l921.6 0 0 51.2-921.6 0 0-51.2Z\" fill=\"#666666\" ></path><path d=\"M358.4 256l614.4 0 0 51.2-614.4 0 0-51.2Z\" fill=\"#666666\" ></path><path d=\"M51.2 409.6l921.6 0 0 51.2-921.6 0 0-51.2Z\" fill=\"#666666\" ></path><path d=\"M358.4 563.2l614.4 0 0 51.2-614.4 0 0-51.2Z\" fill=\"#666666\" ></path><path d=\"M51.2 716.8l921.6 0 0 51.2-921.6 0 0-51.2Z\" fill=\"#666666\" ></path><path d=\"M358.4 870.4l614.4 0 0 51.2-614.4 0 0-51.2Z\" fill=\"#666666\" ></path></symbol>' +\n      '<symbol id=\"edui-for-paste\" viewBox=\"0 0 1024 1024\"><path d=\"M832 320V160a32 32 0 0 0-32-32H576V64a64 64 0 0 0-64-64H384a64 64 0 0 0-64 64v64H96a32 32 0 0 0-32 32v640a32 32 0 0 0 32 32H384v192h448l192-192V320zM384 64h128v64H384zM192 192h512v64H192z m640 741.76V832h101.76zM960 768h-192v192H448V384h512z\" fill=\"#666666\" ></path></symbol>' +\n      '<symbol id=\"edui-for-map\" viewBox=\"0 0 1024 1024\"><path d=\"M375.424 331.824c-2.432 6.96-7.856 24.704-3.152 40.208 9.232 34.672 39.424 36.24 39.424 36.24h43.264V302.368h-46.4c-20.864 6.24-30.944 22.432-33.136 29.456z m129.072 119.072H397.008c-46.448-9.28-64.896-40.992-67.28-46.368-2.288-5.456-15.504-30.944-8.464-74.256 20.032-64.976 77.28-69.616 77.28-69.616h57.248v-70.368l48.704 0.8v259.808z m200.272-0.768H581.04c-47.92-12.368-50.176-46.496-50.176-46.496V266.816L581.04 266v123.024c3.008 13.024 19.376 15.44 19.376 15.44h50.912V266.768h53.456v183.36h-0.016z\" fill=\"\" ></path><path d=\"M512 1021.45c-11.203 0-21.563-6-27.172-15.688L208.375 527.726c-30.803-53.1-47.11-113.662-47.11-175.084 0-193.047 157.35-350.094 350.75-350.094 193.391 0 350.72 157.047 350.72 350.094 0 61.421-16.298 121.975-47.126 175.115l-276.437 478.007c-5.61 9.687-15.953 15.687-27.172 15.687z m0.016-956.138c-158.788 0-287.985 128.907-287.985 287.329 0 50.375 13.375 100.037 38.663 143.615l249.303 431.1 249.297-431.062c25.297-43.616 38.656-93.281 38.656-143.656 0-158.42-129.172-287.325-287.934-287.325z\" fill=\"\" ></path></symbol>' +\n      '<symbol id=\"edui-for-directionalityrtl\" viewBox=\"0 0 1024 1024\"><path d=\"M960 833.92l-384-320 384-320.64v640.64zM64 192V128h448v64H320v640h192v64H64v-64h192V192H64z\" fill=\"#666666\" ></path></symbol>' +\n      '<symbol id=\"edui-for-imagecenter\" viewBox=\"0 0 1024 1024\"><path d=\"M0 0h1024v64H0z\" fill=\"#666666\" ></path><path d=\"M128 192l768 0 0 448-768 0 0-448Z\" fill=\"#66BBBF\" ></path><path d=\"M0 768h1024v64H0zM0 960h1024v64H0z\" fill=\"#666666\" ></path></symbol>' +\n      '<symbol id=\"edui-for-imagenone\" viewBox=\"0 0 1024 1024\"><path d=\"M52.736 107.008l921.6 0 0 51.2-921.6 0 0-51.2Z\" fill=\"#666666\" ></path><path d=\"M52.736 260.608l409.6 0 0 512-409.6 0 0-512Z\" fill=\"#66BBBF\" ></path><path d=\"M564.736 721.408l409.6 0 0 51.2-409.6 0 0-51.2Z\" fill=\"#666666\" ></path><path d=\"M54.784 875.008l921.6 0 0 51.2-921.6 0 0-51.2Z\" fill=\"#666666\" ></path><path d=\"M564.736 567.808l409.6 0 0 51.2-409.6 0 0-51.2Z\" fill=\"#666666\" ></path></symbol>' +\n      '<symbol id=\"edui-for-fontborder\" viewBox=\"0 0 1024 1024\"><path d=\"M345.6 832l44.8-153.6h224l44.8 153.6H768L576 192H448L256 832h89.6z m153.6-531.2l83.2 288H416l83.2-288z\" fill=\"#666666\" ></path><path d=\"M896 64H64v896h896V64h-64z m0 832H128V128h768v768z\" fill=\"#666666\" ></path></symbol>' +\n      '<symbol id=\"edui-for-edittable\" viewBox=\"0 0 1024 1024\"><path d=\"M993.92 848.64L849.92 704a240 240 0 0 0-320-300.8L512 410.24v2.56a12.16 12.16 0 0 0 0 17.28l134.4 134.4-81.92 80.64L432.64 512a14.08 14.08 0 0 0-23.68 5.12l-4.48 10.24a240 240 0 0 0 300.8 320l144 144a102.4 102.4 0 0 0 72.96 30.08 103.04 103.04 0 0 0 72.96-175.36zM960 960a56.96 56.96 0 0 1-40.32 16.64 56.96 56.96 0 0 1-40.32-16.64l-165.12-165.12-14.08 6.4a192 192 0 0 1-265.6-220.8L555.52 704a14.08 14.08 0 0 0 17.28 0l128-128a14.08 14.08 0 0 0 0-18.56L580.48 434.56A192 192 0 0 1 802.56 704l-6.4 14.08L960 880.64A56.96 56.96 0 0 1 960 960z\" fill=\"#666666\" ></path><path d=\"M832 0H0v832h320V320h512zM256 768H64V576h192z m0-256H64V320h192z m0-256H64V64h192z m256 0H320V64h192z m64 0V64h192v192z\" fill=\"#666666\" ></path></symbol>' +\n      '<symbol id=\"edui-for-imageleft\" viewBox=\"0 0 1024 1024\"><path d=\"M50.688 101.376l921.6 0 0 51.2-921.6 0 0-51.2Z\" fill=\"#666666\" ></path><path d=\"M50.688 254.976l409.6 0 0 512-409.6 0 0-512Z\" fill=\"#66BBBF\" ></path><path d=\"M562.688 715.776l409.6 0 0 51.2-409.6 0 0-51.2Z\" fill=\"#666666\" ></path><path d=\"M52.736 869.376l921.6 0 0 51.2-921.6 0 0-51.2Z\" fill=\"#666666\" ></path><path d=\"M562.688 562.176l409.6 0 0 51.2-409.6 0 0-51.2Z\" fill=\"#666666\" ></path><path d=\"M562.688 408.576l409.6 0 0 51.2-409.6 0 0-51.2Z\" fill=\"#666666\" ></path><path d=\"M562.688 254.976l409.6 0 0 51.2-409.6 0 0-51.2Z\" fill=\"#666666\" ></path></symbol>' +\n      '<symbol id=\"edui-for-imageright\" viewBox=\"0 0 1024 1024\"><path d=\"M0 0h1024v64H0z\" fill=\"#666666\" ></path><path d=\"M512 192l512 0 0 640-512 0 0-640Z\" fill=\"#66BBBF\" ></path><path d=\"M0 768h448v64H0zM0 960h1024v64H0zM0 576h448v64H0zM0 384h448v64H0zM0 192h448v64H0z\" fill=\"#666666\" ></path></symbol>' +\n      '<symbol id=\"edui-for-insertcol\" viewBox=\"0 0 1024 1024\"><path d=\"M256 256L0 512l256 256V256zM1024 1024V0H384v1024zM768 64h192v256h-192z m0 320h192v256h-192z m0 320h192v256h-192zM448 64h192v256H448z m0 320h192v256H448z m0 320h192v256H448z\" fill=\"#666666\" ></path></symbol>' +\n      '<symbol id=\"edui-for-insertcolnext\" viewBox=\"0 0 1024 1024\"><path d=\"M768 768l256-256-256-256v512zM0 0v1024h640V0z m256 960H64v-256h192z m0-320H64V384h192z m0-320H64V64h192z m320 640H384v-256h192z m0-320H384V384h192z m0-320H384V64h192z\" fill=\"#666666\" ></path></symbol>' +\n      '<symbol id=\"edui-for-insertorderedlist\" viewBox=\"0 0 1024 1024\"><path d=\"M319.955606 63.991121l703.902334 0 0 127.982243-703.902334 0 0-127.982243Z\" fill=\"#666666\" ></path><path d=\"M319.955606 447.937849l703.902334 0 0 127.982242-703.902334 0 0-127.982242Z\" fill=\"#666666\" ></path><path d=\"M319.955606 831.884576l703.902334 0 0 127.982242-703.902334 0 0-127.982242Z\" fill=\"#666666\" ></path><path d=\"M191.973364 0v255.964485H63.991121V0zM0 639.911212v-30.715738C0 505.529858 159.977803 467.775096 159.977803 422.3414c0-17.917514-10.878491-28.156093-33.275383-28.156093a114.544107 114.544107 0 0 0-74.229701 37.11485l-46.713518-54.392453a167.656738 167.656738 0 0 1 127.982242-56.952098C212.450522 319.955606 255.964485 362.189746 255.964485 417.22211c0 78.069168-95.346771 98.546327-142.7002 147.179579H255.964485V639.911212zM127.982242 1023.85794a165.737004 165.737004 0 0 1-127.982242-52.47272l48.633252-49.273163a106.865172 106.865172 0 0 0 69.750322 30.075827c28.156093 0 41.594229-14.078047 41.594229-33.275383 0-17.277603-12.158313-26.23636-36.474939-26.23636h-24.316626v-52.472719h24.956537c23.036804 0 36.474939-6.399112 36.474939-26.876271 0-19.837248-12.798224-31.355649-38.394672-31.35565a85.748102 85.748102 0 0 0-63.991122 31.35565l-47.993341-48.633252a158.058069 158.058069 0 0 1 127.982243-55.032365C211.1707 703.902334 255.964485 745.496562 255.964485 792.210081v5.11929a63.991121 63.991121 0 0 1-67.830589 63.991121c50.552986 7.039023 70.390233 33.275383 70.390234 67.190677v3.839467C255.964485 985.463267 204.131677 1023.85794 127.982242 1023.85794z\" fill=\"#666666\" ></path></symbol>' +\n      '<symbol id=\"edui-for-insertparagraphbeforetable\" viewBox=\"0 0 1024 1024\"><path d=\"M256 384v640h768V384z m256 576H320V448h192z m448 0H576v-128h384z m0-192H576v-128h384z m0-192H576V448h384z\" fill=\"#666666\" ></path><path d=\"M384 576h64v256H384zM0 0v64h128v384h64V64h128V0H0z\" fill=\"#666666\" ></path></symbol>' +\n      '<symbol id=\"edui-for-insertrow\" viewBox=\"0 0 1024 1024\"><path d=\"M768 256L512 0 256 256h512zM0 1024h1024V384H0z m960-256v192h-256v-192z m-320 0v192H384v-192z m-320 0v192H64v-192z m640-320v192h-256V448z m-320 0v192H384V448zM320 448v192H64V448z\" fill=\"#666666\" ></path></symbol>' +\n      '<symbol id=\"edui-for-insertrownext\" viewBox=\"0 0 1024 1024\"><path d=\"M256 768l256 256 256-256H256zM1024 0H0v640h1024zM64 256V64h256v192z m320 0V64h256v192z m320 0V64h256v192zM64 576V384h256v192z m320 0V384h256v192z m320 0V384h256v192z\" fill=\"#666666\" ></path></symbol>' +\n      '<symbol id=\"edui-for-insertunorderedlist\" viewBox=\"0 0 1024 1024\"><path d=\"M960 192H256c-38.4 0-64-25.6-64-64s25.6-64 64-64h704c38.4 0 64 25.6 64 64s-25.6 64-64 64zM64 192c-38.4 0-64-25.6-64-64s25.6-64 64-64 64 25.6 64 64-25.6 64-64 64zM960 576H256c-38.4 0-64-25.6-64-64s25.6-64 64-64h704c38.4 0 64 25.6 64 64s-25.6 64-64 64zM64 576c-38.4 0-64-25.6-64-64s25.6-64 64-64 64 25.6 64 64-25.6 64-64 64zM960 960H256c-38.4 0-64-25.6-64-64s25.6-64 64-64h704c38.4 0 64 25.6 64 64s-25.6 64-64 64zM64 960c-38.4 0-64-25.6-64-64s25.6-64 64-64 64 25.6 64 64-25.6 64-64 64z\" fill=\"#666666\" ></path></symbol>' +\n      '<symbol id=\"edui-for-mergeright\" viewBox=\"0 0 1024 1024\"><path d=\"M0 0v1024h1024V0z m384 64h256v256H384z m0 384h320V384l192 128-192 128V576H384z m-64 512H64v-256h256z m0-320H64V384h256z m0-320H64V64h256z m320 640H384v-256h256z m320 0h-256v-256h256z m0-640h-256V64h256z\" fill=\"#666666\" ></path></symbol>' +\n      '<symbol id=\"edui-for-mergedown\" viewBox=\"0 0 1024 1024\"><path d=\"M0 0v1024h1024V0z m320 960H64v-256h256z m0-320H64V384h256z m0-320H64V64h256z m192 576l-128-192h64V384h128v320h64z m128-576H384V64h256z m320 640h-256v-256h256z m0-320h-256V384h256z m0-320h-256V64h256z\" fill=\"#666666\" ></path></symbol>' +\n      '<symbol id=\"edui-for-inserttable\" viewBox=\"0 0 1024 1024\"><path d=\"M0 0v1024h1024V0z m320 960H64v-256h256z m0-320H64V384h256z m320 320H384v-256h256z m0-320H384V384h256z m320 320h-256v-256h256z m0-320h-256V384h256z m0-320H64V64h896z\" fill=\"#666666\" ></path></symbol>' +\n      '<symbol id=\"edui-for-pagebreak\" viewBox=\"0 0 1024 1024\"><path d=\"M384 960h512v64H384zM0 320v384l256-192-256-192zM320 128h576v64H320zM384 832h256v64H384z\" fill=\"#666666\" ></path><path d=\"M192 704v320h64v-256h704v256h64v-320H192zM1022.72 0H960v256H256V0H192v320h832V0h-1.28z\" fill=\"#666666\" ></path></symbol>' +\n      '<symbol id=\"edui-for-source\" viewBox=\"0 0 1024 1024\"><path d=\"M170.88 512H56.96V384H0v320h56.96V576h113.92v128h56.96V384h-56.96v128zM284.16 448h56.96v256h56.96V448h56.96V384H284.16v64zM738.56 385.28l-84.48 250.24L569.6 384l-2.56 1.28H512v316.8h56.96V561.92l47.36 140.8h72.96l2.56 1.28 48-140.8v139.52h56.32V385.92h-55.04l-2.56-0.64zM910.08 640V384h-56.96v320H1024v-64h-113.92z\" fill=\"#666666\" ></path></symbol>' +\n      '<symbol id=\"edui-for-splittorows\" viewBox=\"0 0 1024 1024\"><path d=\"M0 0h1024v64H0z\" fill=\"#666666\" ></path><path d=\"M960 0v320h-128V0h-64v320H256V0H192v320H64V0H0v1024h1024V0z m-192 384v256H256V384zM64 384h128v256H64z m0 576v-256h128v256z m192 0v-256h512v256z m704 0h-128v-256h128z m0-320h-128V384h128z\" fill=\"#666666\" ></path></symbol>' +\n      '<symbol id=\"edui-for-splittocols\" viewBox=\"0 0 1024 1024\"><path d=\"M1024 0H0v1024h1024z m-64 384v256h-128V384z m0-320v256h-128V64zM64 320V64h128v256z m0 320V384h128v256z m0 320v-256h128v256z m192 0V64h128v896z m192 0V64h128v896z m192 0V64h128v896z m192 0v-256h128v256z\" fill=\"#666666\" ></path></symbol>' +\n      '<symbol id=\"edui-for-splittocells\" viewBox=\"0 0 1024 1024\"><path d=\"M0 0v1024h1024V0z m320 960H64V384h256z m320 0H384v-256h256z m0-320H384V384h256z m320 320h-256v-256h256z m0-320h-256V384h256z m0-320H384V64h576z\" fill=\"#666666\" ></path></symbol>' +\n      '<symbol id=\"edui-for-arrow\" viewBox=\"0 0 1024 1024\"><path d=\"M513.024 665.6l204.8-204.8h-409.6l204.8 204.8z\" fill=\"\" ></path></symbol>' +\n      '<symbol id=\"edui-for-aligntd\" viewBox=\"0 0 1024 1024\"><path d=\"M256.061265 767.939055l511.87747 0 0 63.984683-511.87747 0 0-63.984683Z\" fill=\"#666666\" ></path><path d=\"M256.061265 575.985004l511.87747 0 0 63.984683-511.87747 0 0-63.984683Z\" fill=\"#666666\" ></path><path d=\"M256.061265 384.030953l511.87747 0 0 63.984683-511.87747 0 0-63.984683Z\" fill=\"#666666\" ></path><path d=\"M256.061265 192.076902l511.87747 0 0 63.984683-511.87747 0 0-63.984683Z\" fill=\"#666666\" ></path><path d=\"M863.91576 1023.877789h-703.83152A91.498098 91.498098 0 0 1 64.107214 938.77816V85.22248A91.498098 91.498098 0 0 1 160.08424 0.122851h703.83152A91.498098 91.498098 0 0 1 959.892786 85.22248v853.55568A91.498098 91.498098 0 0 1 863.91576 1023.877789zM160.08424 64.107534a30.072801 30.072801 0 0 0-31.992342 28.153261v839.47905a30.072801 30.072801 0 0 0 31.992342 28.153261h703.83152a30.072801 30.072801 0 0 0 31.992342-28.153261V92.260795a30.072801 30.072801 0 0 0-31.992342-28.153261z\" fill=\"#666666\" ></path></symbol>' +\n      '<symbol id=\"edui-for-autotypeset\" viewBox=\"0 0 1024 1024\"><path d=\"M192 192l384 0 0 320-384 0 0-320Z\" fill=\"#66BBBF\" ></path><path d=\"M640 192l192 0 0 64-192 0 0-64Z\" fill=\"#666666\" ></path><path d=\"M640 384l192 0 0 64-192 0 0-64Z\" fill=\"#666666\" ></path><path d=\"M192 576l640 0 0 64-640 0 0-64Z\" fill=\"#666666\" ></path><path d=\"M192 768l640 0 0 64-640 0 0-64Z\" fill=\"#666666\" ></path><path d=\"M960 0H64a64 64 0 0 0-64 64v896a64 64 0 0 0 64 64h896a64 64 0 0 0 64-64V64a64 64 0 0 0-64-64z m0 896a64 64 0 0 1-64 64H128a64 64 0 0 1-64-64V128a64 64 0 0 1 64-64h768a64 64 0 0 1 64 64z\" fill=\"#666666\" ></path></symbol>' +\n      '<symbol id=\"edui-for-charts\" viewBox=\"0 0 1024 1024\"><path d=\"M0 64v896h1024V64z m960 832H64V128h896z\" fill=\"#666666\" ></path><path d=\"M704 256h128v512h-128zM448 576h128v192H448zM192 384h128v384H192z\" fill=\"#666666\" ></path></symbol>' +\n      '<symbol id=\"edui-for-closeerror\" viewBox=\"0 0 1024 1024\"><path d=\"M512 0a512 512 0 1 0 512 512 512 512 0 0 0-512-512z m284.16 670.08l-128 128L512 640l-158.08 156.16-128-128L384 512 227.84 353.92l128-128L512 384l158.08-158.08 128 128L640 512z\" fill=\"#EF4848\" ></path></symbol>' +\n      '<symbol id=\"edui-for-copy\" viewBox=\"0 0 1024 1024\"><path d=\"M256.060306 384.030473l511.879388 0 0 63.984923-511.879388 0 0-63.984923Z\" fill=\"#666666\" ></path><path d=\"M256.060306 575.985243l511.879388 0 0 63.984924-511.879388 0 0-63.984924Z\" fill=\"#666666\" ></path><path d=\"M256.060306 767.940014l511.879388 0 0 63.984924-511.879388 0 0-63.984924Z\" fill=\"#666666\" ></path><path d=\"M256.060306 192.075702l255.939694 0 0 63.984924-255.939694 0 0-63.984924Z\" fill=\"#666666\" ></path><path d=\"M895.909541 256.060626h-191.95477V56.427664A63.984924 63.984924 0 0 0 639.969847 0.120932H137.688197A69.743567 69.743567 0 0 0 64.105535 64.105855v895.78893a69.743567 69.743567 0 0 0 73.582662 63.984923h748.623606A69.743567 69.743567 0 0 0 959.894465 959.894785V313.007208A63.984924 63.984924 0 0 0 895.909541 256.060626z m0 695.516119a8.31804 8.31804 0 0 1-8.31804 8.31804H137.688197a9.597739 9.597739 0 0 1-9.597738-9.597739V72.423895A8.31804 8.31804 0 0 1 136.408499 64.105855h491.404213a11.517286 11.517286 0 0 1 12.157135 10.877437v191.954771A60.145828 60.145828 0 0 0 703.954771 320.045549h180.437484a11.517286 11.517286 0 0 1 12.157136 10.877437v620.653759z\" fill=\"#666666\" ></path></symbol>' +\n      '<symbol id=\"edui-for-date\" viewBox=\"0 0 1024 1024\"><path d=\"M896 128v64h64v704H64V192h64V128H0v832h1024V128h-128z\" fill=\"#666666\" ></path><path d=\"M832 64h-192v255.36L832 320V64z\" fill=\"#EF4848\" ></path><path d=\"M576 704h256v64H576zM576 512h256v64H576zM448 128h128v64H448zM192 704h256v64H192zM192 512h256v64H192z\" fill=\"#666666\" ></path><path d=\"M384 64H192v256l192-0.64V64z\" fill=\"#EF4848\" ></path></symbol>' +\n      '<symbol id=\"edui-for-deletetable\" viewBox=\"0 0 1024 1024\"><path d=\"M576 0v448h448V0z m427.52 337.28l-90.24 90.24-113.28-113.28-113.28 113.28-90.24-90.24 113.28-113.28-113.28-113.28L686.72 20.48l113.28 113.28L913.28 20.48l90.88 90.88-113.92 112.64z\" fill=\"#EF4848\" ></path><path d=\"M960 640h-256V448h-64v192H384V384h192V320H64V64h512V0H0v1024h1024V448h-64zM320 960H64v-256h256z m0-320H64V384h256z m320 320H384v-256h256z m320 0h-256v-256h256z\" fill=\"#666666\" ></path></symbol>' +\n      '<symbol id=\"edui-for-directionalityltr\" viewBox=\"0 0 1024 1024\"><path d=\"M64 832l384-320-384-320v640zM960 192V128H512v64h192v640H512v64h448v-64h-192V192h192z\" fill=\"#666666\" ></path></symbol>' +\n      '<symbol id=\"edui-for-arrowright\" viewBox=\"0 0 1024 1024\"><path d=\"M615.424 512l-204.8-204.8v409.6l204.8-204.8z\" fill=\"\" ></path></symbol>' +\n      '<symbol id=\"edui-for-tableleft\" viewBox=\"0 0 1024 1024\"><path d=\"M960 64v896H64V64h896m64-64H0v1024h1024V0z\" fill=\"\" ></path><path d=\"M192 192h640v64H192zM192 384h640v64H192zM192 576h256v64H192z\" fill=\"\" ></path></symbol>' +\n      '<symbol id=\"edui-for-tableright\" viewBox=\"0 0 1024 1024\"><path d=\"M960 64v896H64V64h896m64-64H0v1024h1024V0z\" fill=\"\" ></path><path d=\"M188.8 191.36h640v64h-640zM188.8 383.36h640v64h-640zM576 575.36h256v64H576z\" fill=\"\" ></path></symbol>' +\n      '<symbol id=\"edui-for-tablecenter\" viewBox=\"0 0 1024 1024\"><path d=\"M960 64v896H64V64h896m64-64H0v1024h1024V0z\" fill=\"\" ></path><path d=\"M188.8 192.64h640v64h-640zM188.8 384.64h640v64h-640zM383.36 576.64h256v64h-256z\" fill=\"\" ></path></symbol>' +\n      '<symbol id=\"edui-for-videoleft\" viewBox=\"0 0 1024 1024\"><path d=\"M96 96l832 0 0 32-832 0 0-32Z\" fill=\"#3FBEE0\" ></path><path d=\"M96 192l832 0 0 32-832 0 0-32Z\" fill=\"#3FBEE0\" ></path><path d=\"M96 800l832 0 0 32-832 0 0-32Z\" fill=\"#3FBEE0\" ></path><path d=\"M96 896l399.36 0 0 32-399.36 0 0-32Z\" fill=\"#3FBEE0\" ></path><path d=\"M704 704l224 0 0 32-224 0 0-32Z\" fill=\"#3FBEE0\" ></path><path d=\"M704 608l224 0 0 32-224 0 0-32Z\" fill=\"#3FBEE0\" ></path><path d=\"M704 512l224 0 0 32-224 0 0-32Z\" fill=\"#3FBEE0\" ></path><path d=\"M704 416l224 0 0 32-224 0 0-32Z\" fill=\"#3FBEE0\" ></path><path d=\"M704 320l224 0 0 32-224 0 0-32Z\" fill=\"#3FBEE0\" ></path><path d=\"M256 480m-64 0a64 64 0 1 0 128 0 64 64 0 1 0-128 0Z\" fill=\"#3FBEE0\" ></path><path d=\"M640 320H128a32 32 0 0 0-32 32v352a32 32 0 0 0 32 32h512a32 32 0 0 0 32-32V352a32 32 0 0 0-32-32z m0 251.52L544 448l-162.24 208.64L304 563.2 186.56 704H160a32 32 0 0 1-32-32v-288a32 32 0 0 1 32-32h448a32 32 0 0 1 32 32z\" fill=\"#3FBEE0\" ></path><path d=\"M992 32v960H32V32h960m0-32H32a32 32 0 0 0-32 32v960a32 32 0 0 0 32 32h960a32 32 0 0 0 32-32V32a32 32 0 0 0-32-32z\" fill=\"#3FBEE0\" ></path></symbol>' +\n      '<symbol id=\"edui-for-videocenter\" viewBox=\"0 0 1024 1024\"><path d=\"M96 96l832 0 0 32-832 0 0-32Z\" fill=\"#3FBEE0\" ></path><path d=\"M96 192l832 0 0 32-832 0 0-32Z\" fill=\"#3FBEE0\" ></path><path d=\"M96 800l832 0 0 32-832 0 0-32Z\" fill=\"#3FBEE0\" ></path><path d=\"M96 896l399.36 0 0 32-399.36 0 0-32Z\" fill=\"#3FBEE0\" ></path><path d=\"M96 704l96 0 0 32-96 0 0-32Z\" fill=\"#3FBEE0\" ></path><path d=\"M96 608l96 0 0 32-96 0 0-32Z\" fill=\"#3FBEE0\" ></path><path d=\"M96 512l96 0 0 32-96 0 0-32Z\" fill=\"#3FBEE0\" ></path><path d=\"M96 416l96 0 0 32-96 0 0-32Z\" fill=\"#3FBEE0\" ></path><path d=\"M96 320l96 0 0 32-96 0 0-32Z\" fill=\"#3FBEE0\" ></path><path d=\"M832 608l96 0 0 32-96 0 0-32Z\" fill=\"#3FBEE0\" ></path><path d=\"M832 704l96 0 0 32-96 0 0-32Z\" fill=\"#3FBEE0\" ></path><path d=\"M832 512l96 0 0 32-96 0 0-32Z\" fill=\"#3FBEE0\" ></path><path d=\"M832 416l96 0 0 32-96 0 0-32Z\" fill=\"#3FBEE0\" ></path><path d=\"M832 320l96 0 0 32-96 0 0-32Z\" fill=\"#3FBEE0\" ></path><path d=\"M384 480m-64 0a64 64 0 1 0 128 0 64 64 0 1 0-128 0Z\" fill=\"#3FBEE0\" ></path><path d=\"M768 320H256a32 32 0 0 0-32 32v352a32 32 0 0 0 32 32h512a32 32 0 0 0 32-32V352a32 32 0 0 0-32-32z m0 251.52L672 448l-162.24 208.64-77.76-93.44L314.56 704H288a32 32 0 0 1-32-32v-288a32 32 0 0 1 32-32h448a32 32 0 0 1 32 32z\" fill=\"#3FBEE0\" ></path><path d=\"M992 32v960H32V32h960m0-32H32a32 32 0 0 0-32 32v960a32 32 0 0 0 32 32h960a32 32 0 0 0 32-32V32a32 32 0 0 0-32-32z\" fill=\"#3FBEE0\" ></path></symbol>' +\n      '<symbol id=\"edui-for-videonone\" viewBox=\"0 0 1024 1024\"><path d=\"M96 96l832 0 0 32-832 0 0-32Z\" fill=\"#3FBEE0\" ></path><path d=\"M96 192l832 0 0 32-832 0 0-32Z\" fill=\"#3FBEE0\" ></path><path d=\"M96 800l832 0 0 32-832 0 0-32Z\" fill=\"#3FBEE0\" ></path><path d=\"M96 896l399.36 0 0 32-399.36 0 0-32Z\" fill=\"#3FBEE0\" ></path><path d=\"M704 704l224 0 0 32-224 0 0-32Z\" fill=\"#3FBEE0\" ></path><path d=\"M704 608l224 0 0 32-224 0 0-32Z\" fill=\"#3FBEE0\" ></path><path d=\"M256 480m-64 0a64 64 0 1 0 128 0 64 64 0 1 0-128 0Z\" fill=\"#3FBEE0\" ></path><path d=\"M640 320H128a32 32 0 0 0-32 32v352a32 32 0 0 0 32 32h512a32 32 0 0 0 32-32V352a32 32 0 0 0-32-32z m0 251.52L544 448l-162.24 208.64L304 563.2 186.56 704H160a32 32 0 0 1-32-32v-288a32 32 0 0 1 32-32h448a32 32 0 0 1 32 32z\" fill=\"#3FBEE0\" ></path><path d=\"M992 32v960H32V32h960m0-32H32a32 32 0 0 0-32 32v960a32 32 0 0 0 32 32h960a32 32 0 0 0 32-32V32a32 32 0 0 0-32-32z\" fill=\"#3FBEE0\" ></path></symbol>' +\n      '<symbol id=\"edui-for-videoright\" viewBox=\"0 0 1024 1024\"><path d=\"M96 96l832 0 0 32-832 0 0-32Z\" fill=\"#3FBEE0\" ></path><path d=\"M96 192l832 0 0 32-832 0 0-32Z\" fill=\"#3FBEE0\" ></path><path d=\"M96 800l832 0 0 32-832 0 0-32Z\" fill=\"#3FBEE0\" ></path><path d=\"M96 896l399.36 0 0 32-399.36 0 0-32Z\" fill=\"#3FBEE0\" ></path><path d=\"M96 704l224 0 0 32-224 0 0-32Z\" fill=\"#3FBEE0\" ></path><path d=\"M96 608l224 0 0 32-224 0 0-32Z\" fill=\"#3FBEE0\" ></path><path d=\"M96 512l224 0 0 32-224 0 0-32Z\" fill=\"#3FBEE0\" ></path><path d=\"M96 416l224 0 0 32-224 0 0-32Z\" fill=\"#3FBEE0\" ></path><path d=\"M96 320l224 0 0 32-224 0 0-32Z\" fill=\"#3FBEE0\" ></path><path d=\"M512 480m-64 0a64 64 0 1 0 128 0 64 64 0 1 0-128 0Z\" fill=\"#3FBEE0\" ></path><path d=\"M896 320H384a32 32 0 0 0-32 32v352a32 32 0 0 0 32 32h512a32 32 0 0 0 32-32V352a32 32 0 0 0-32-32z m0 251.52L800 448l-162.24 208.64-77.76-93.44-117.44 140.8H416a32 32 0 0 1-32-32v-288a32 32 0 0 1 32-32h448a32 32 0 0 1 32 32z\" fill=\"#3FBEE0\" ></path><path d=\"M992 32v960H32V32h960m0-32H32a32 32 0 0 0-32 32v960a32 32 0 0 0 32 32h960a32 32 0 0 0 32-32V32a32 32 0 0 0-32-32z\" fill=\"#3FBEE0\" ></path></symbol>' +\n      '<symbol id=\"edui-for-template\" viewBox=\"0 0 1024 1024\"><path d=\"M0 64v896h1024V64z m960 832H64V128h896z\" fill=\"#666666\" ></path><path d=\"M192 256h320v192H192zM640 256h192v512h-192zM192 576h320v192H192z\" fill=\"#666666\" ></path></symbol>' +\n      '<symbol id=\"edui-for-addfile\" viewBox=\"0 0 1024 1024\"><path d=\"M1024 480H544V0h-64v480H0v64h480v480h64V544h480v-64z\" fill=\"#E5E5E5\" ></path></symbol>' +\n      '<symbol id=\"edui-for-selected\" viewBox=\"0 0 1024 1024\"><path d=\"M914.24 617.28a32 32 0 0 0-45.12 0l-221.44 221.12-112.96-112.96a32 32 0 1 0-45.12 45.12l135.68 135.68a32 32 0 0 0 45.44 0l243.52-243.52a32 32 0 0 0 0-45.44z\" fill=\"#FFFFFF\" ></path><path d=\"M0 1024h1024V0z m914.24-361.28L672 906.24a32 32 0 0 1-45.44 0l-135.68-135.68a32 32 0 1 1 45.12-45.12l112.96 112.96 221.12-221.12a32 32 0 1 1 45.12 45.12z\" fill=\"#1094FA\" ></path></symbol>' +\n      '<symbol id=\"edui-for-pickarea\" viewBox=\"0 0 1024 1024\"><path d=\"M977.454545 93.090909h-46.545454v791.272727a46.545455 46.545455 0 0 1-46.545455 46.545455H93.090909v46.545454a46.545455 46.545455 0 0 0 46.545455 46.545455h837.818181a46.545455 46.545455 0 0 0 46.545455-46.545455V139.636364a46.545455 46.545455 0 0 0-46.545455-46.545455z\" fill=\"#E5E5E5\" ></path><path d=\"M46.545455 46.545455l837.818181 0 0 837.818181-837.818181 0 0-837.818181Z\" fill=\"#FFFFFF\" ></path><path d=\"M884.363636 0H46.545455a46.545455 46.545455 0 0 0-46.545455 46.545455v837.818181a46.545455 46.545455 0 0 0 46.545455 46.545455h837.818181a46.545455 46.545455 0 0 0 46.545455-46.545455V46.545455a46.545455 46.545455 0 0 0-46.545455-46.545455z m0 837.818182a46.545455 46.545455 0 0 1-46.545454 46.545454H93.090909a46.545455 46.545455 0 0 1-46.545454-46.545454V93.090909a46.545455 46.545455 0 0 1 46.545454-46.545454h744.727273a46.545455 46.545455 0 0 1 46.545454 46.545454z\" fill=\"#CCCCCC\" ></path></symbol>' +\n      '<symbol id=\"edui-for-overlay\" viewBox=\"0 0 1024 1024\"><path d=\"M977.454545 93.090909h-46.545454v791.272727a46.545455 46.545455 0 0 1-46.545455 46.545455H93.090909v46.545454a46.545455 46.545455 0 0 0 46.545455 46.545455h837.818181a46.545455 46.545455 0 0 0 46.545455-46.545455V139.636364a46.545455 46.545455 0 0 0-46.545455-46.545455z\" fill=\"#E3F6FF\" ></path><path d=\"M46.545455 46.545455l837.818181 0 0 837.818181-837.818181 0 0-837.818181Z\" fill=\"#E3F6FF\" ></path><path d=\"M884.363636 0H46.545455a46.545455 46.545455 0 0 0-46.545455 46.545455v837.818181a46.545455 46.545455 0 0 0 46.545455 46.545455h837.818181a46.545455 46.545455 0 0 0 46.545455-46.545455V46.545455a46.545455 46.545455 0 0 0-46.545455-46.545455z m0 837.818182a46.545455 46.545455 0 0 1-46.545454 46.545454H93.090909a46.545455 46.545455 0 0 1-46.545454-46.545454V93.090909a46.545455 46.545455 0 0 1 46.545454-46.545454h744.727273a46.545455 46.545455 0 0 1 46.545454 46.545454z\" fill=\"#45A7EF\" ></path></symbol>' +\n      '<symbol id=\"edui-for-preitem\" viewBox=\"0 0 1462 1024\"><path d=\"M0 0v1024h1462.857143V0z m1433.6 994.742857H29.257143V29.257143h1404.342857z\" fill=\"#CCCCCC\" ></path><path d=\"M175.542857 131.657143h497.371429v58.514286H175.542857zM175.542857 512h438.857143v29.257143H175.542857zM175.542857 394.971429h906.971429v29.257142H175.542857zM175.542857 277.942857h234.057143v29.257143H175.542857zM175.542857 629.028571h1111.771429v29.257143H175.542857zM175.542857 746.057143h292.571429v29.257143H175.542857zM175.542857 863.085714h760.685714v29.257143H175.542857z\" fill=\"#666666\" ></path></symbol>' +\n      '<symbol id=\"edui-for-preitem1\" viewBox=\"0 0 1462 1024\"><path d=\"M0 0v1024h1462.857143V0z m1433.6 994.742857H29.257143V29.257143h1404.342857z\" fill=\"#CCCCCC\" ></path><path d=\"M117.028571 175.542857h351.085715v29.257143H117.028571z\" fill=\"#666666\" ></path></symbol>' +\n      '<symbol id=\"edui-for-preitem2\" viewBox=\"0 0 1462 1024\"><path d=\"M0 0v1024h1462.857143V0z m1433.6 994.742857H29.257143V29.257143h1404.342857z\" fill=\"#CCCCCC\" ></path><path d=\"M175.542857 117.028571h497.371429v58.514286H175.542857zM848.457143 555.885714h438.857143v29.257143H848.457143zM848.457143 438.857143h438.857143v29.257143H848.457143zM848.457143 321.828571h438.857143v29.257143H848.457143zM175.542857 672.914286h1111.771429v29.257143H175.542857zM175.542857 789.942857h702.171429v29.257143H175.542857zM175.542857 906.971429h702.171429v29.257142H175.542857zM731.428571 351.085714v204.8H204.8V351.085714h526.628571m29.257143-29.257143H175.542857v263.314286h585.142857V321.828571zM1258.057143 789.942857v117.028572H994.742857v-117.028572h263.314286m29.257143-29.257143H965.485714v175.542857h321.828572V760.685714z\" fill=\"#666666\" ></path></symbol>' +\n      '<symbol id=\"edui-for-preitem3\" viewBox=\"0 0 1462 1024\"><path d=\"M0 0v1024h1462.857143V0z m1433.6 994.742857H29.257143V29.257143h1404.342857z\" fill=\"#CCCCCC\" ></path><path d=\"M482.742857 175.542857h497.371429v58.514286H482.742857zM643.657143 292.571429h175.542857v29.257142H643.657143zM175.542857 468.114286h1111.771429v29.257143H175.542857zM175.542857 585.142857h1111.771429v29.257143H175.542857zM175.542857 702.171429h1111.771429v29.257142H175.542857zM175.542857 819.2h1111.771429v29.257143H175.542857z\" fill=\"#666666\" ></path></symbol>' +\n      '<symbol id=\"edui-for-preitem4\" viewBox=\"0 0 1462 1024\"><path d=\"M1258.057143 263.314286v204.8H204.8V263.314286h1053.257143m29.257143-29.257143H175.542857v263.314286h1111.771429V234.057143z\" fill=\"#666666\" ></path><path d=\"M0 0v1024h1462.857143V0z m1433.6 994.742857H29.257143V29.257143h1404.342857z\" fill=\"#CCCCCC\" ></path><path d=\"M175.542857 117.028571h497.371429v58.514286H175.542857zM175.542857 555.885714h351.085714v29.257143H175.542857zM175.542857 672.914286h1111.771429v29.257143H175.542857zM175.542857 789.942857h702.171429v29.257143H175.542857zM175.542857 906.971429h1111.771429v29.257142H175.542857z\" fill=\"#666666\" ></path></symbol>' +\n      '</svg>'\n    var script = function () {\n      var scripts = document.getElementsByTagName('script')\n      return scripts[scripts.length - 1]\n    }()\n    var shouldInjectCss = script.getAttribute('data-injectcss')\n    var ready = function (fn) {\n      if (document.addEventListener) {\n        if (~['complete', 'loaded', 'interactive'].indexOf(document.readyState)) {\n          setTimeout(fn, 0)\n        } else {\n          var loadFn = function () {\n            document.removeEventListener('DOMContentLoaded', loadFn, false)\n            fn()\n          }\n          document.addEventListener('DOMContentLoaded', loadFn, false)\n        }\n      } else if (document.attachEvent) {\n        IEContentLoaded(window, fn)\n      }\n\n      function IEContentLoaded (w, fn) {\n        var d = w.document, done = false, init = function () {\n          if (!done) {\n            done = true\n            fn()\n          }\n        }\n        var polling = function () {\n          try {\n            d.documentElement.doScroll('left')\n          } catch (e) {\n            setTimeout(polling, 50)\n            return\n          }\n          init()\n        }\n        polling()\n        d.onreadystatechange = function () {\n          if (d.readyState == 'complete') {\n            d.onreadystatechange = null\n            init()\n          }\n        }\n      }\n    }\n    var before = function (el, target) {\n      target.parentNode.insertBefore(el, target)\n    }\n    var prepend = function (el, target) {\n      if (target.firstChild) {\n        before(el, target.firstChild)\n      } else {\n        target.appendChild(el)\n      }\n    }\n\n    function appendSvg () {\n      var div, svg\n      div = document.createElement('div')\n      div.innerHTML = svgSprite\n      svgSprite = null\n      svg = div.getElementsByTagName('svg')[0]\n      if (svg) {\n        svg.setAttribute('aria-hidden', 'true')\n        svg.style.position = 'absolute'\n        svg.style.width = 0\n        svg.style.height = 0\n        svg.style.overflow = 'hidden'\n        prepend(svg, document.body)\n      }\n    }\n\n    if (shouldInjectCss && !window.__iconfont__svg__cssinject__) {\n      window.__iconfont__svg__cssinject__ = true\n      try {\n        document.write('<style>.svgfont {display: inline-block;width: 1em;height: 1em;fill: currentColor;vertical-align: -0.1em;font-size:16px;}</style>')\n      } catch (e) {\n        console && console.log(e)\n      }\n    }\n    ready(appendSvg)\n  })(window)\n\n// adapter/editorui.js\n//ui跟编辑器的适配層\n//那个按钮弹出是dialog，是下拉筐等都是在这个js中配置\n//自己写的ui也要在这里配置，放到baidu.editor.ui下边，当编辑器实例化的时候会根据neditor.config中的toolbars找到相应的进行实例化\n;(function() {\n  var utils = baidu.editor.utils;\n  var editorui = baidu.editor.ui;\n  var _Dialog = editorui.Dialog;\n  editorui.buttons = {};\n\n  editorui.Dialog = function(options) {\n    var dialog = new _Dialog(options);\n    dialog.addListener(\"hide\", function() {\n      if (dialog.editor) {\n        var editor = dialog.editor;\n        try {\n          if (browser.gecko) {\n            var y = editor.window.scrollY,\n              x = editor.window.scrollX;\n            editor.body.focus();\n            editor.window.scrollTo(x, y);\n          } else {\n            editor.focus();\n          }\n        } catch (ex) {}\n      }\n    });\n    return dialog;\n  };\n\n  var iframeUrlMap = {\n    // controlinput: \"~/dialogs/controlinput/controlinput.html\",\n    anchor: \"~/dialogs/anchor/anchor.html\",\n    insertimage: \"~/dialogs/image/image.html\",\n    link: \"~/dialogs/link/link.html\",\n    spechars: \"~/dialogs/spechars/spechars.html\",\n    searchreplace: \"~/dialogs/searchreplace/searchreplace.html\",\n    map: \"~/dialogs/map/map.html\",\n    gmap: \"~/dialogs/gmap/gmap.html\",\n    insertvideo: \"~/dialogs/video/video.html\",\n    help: \"~/dialogs/help/help.html\",\n    preview: \"~/dialogs/preview/preview.html\",\n    emotion: \"~/dialogs/emotion/emotion.html\",\n    wordimage: \"~/dialogs/wordimage/wordimage.html\",\n    attachment: \"~/dialogs/attachment/attachment.html\",\n    insertframe: \"~/dialogs/insertframe/insertframe.html\",\n    edittip: \"~/dialogs/table/edittip.html\",\n    edittable: \"~/dialogs/table/edittable.html\",\n    edittd: \"~/dialogs/table/edittd.html\",\n    webapp: \"~/dialogs/webapp/webapp.html\",\n    snapscreen: \"~/dialogs/snapscreen/snapscreen.html\",\n    scrawl: \"~/dialogs/scrawl/scrawl.html\",\n    music: \"~/dialogs/music/music.html\",\n    template: \"~/dialogs/template/template.html\",\n    background: \"~/dialogs/background/background.html\",\n    charts: \"~/dialogs/charts/charts.html\"\n  };\n  //为工具栏添加按钮，以下都是统一的按钮触发命令，所以写在一起\n  var btnCmds = [\n    \"controlinput\",\n    \"undo\",\n    \"redo\",\n    \"formatmatch\",\n    \"bold\",\n    \"italic\",\n    \"underline\",\n    \"fontborder\",\n    \"touppercase\",\n    \"tolowercase\",\n    \"strikethrough\",\n    \"subscript\",\n    \"superscript\",\n    \"source\",\n    \"indent\",\n    \"outdent\",\n    \"blockquote\",\n    \"pasteplain\",\n    \"pagebreak\",\n    \"selectall\",\n    \"print\",\n    \"horizontal\",\n    \"removeformat\",\n    \"time\",\n    \"date\",\n    \"unlink\",\n    \"insertparagraphbeforetable\",\n    \"insertrow\",\n    \"insertcol\",\n    \"mergeright\",\n    \"mergedown\",\n    \"deleterow\",\n    \"deletecol\",\n    \"splittorows\",\n    \"splittocols\",\n    \"splittocells\",\n    \"mergecells\",\n    \"deletetable\",\n    \"drafts\"\n  ];\n\n  for (var i = 0, ci; (ci = btnCmds[i++]); ) {\n    ci = ci.toLowerCase();\n    editorui[ci] = (function(cmd) {\n      return function(editor) {\n        var ui = new editorui.Button({\n          className: \"edui-for-\" + cmd,\n          title:\n            editor.options.labelMap[cmd] ||\n              editor.getLang(\"labelMap.\" + cmd) ||\n              \"\",\n          onclick: function() {\n            editor.execCommand(cmd);\n          },\n          theme: editor.options.theme,\n          showText: false\n        });\n        editorui.buttons[cmd] = ui;\n        editor.addListener(\"selectionchange\", function(\n          type,\n          causeByUi,\n          uiReady\n        ) {\n          var state = editor.queryCommandState(cmd);\n          if (state == -1) {\n            ui.setDisabled(true);\n            ui.setChecked(false);\n          } else {\n            if (!uiReady) {\n              ui.setDisabled(false);\n              ui.setChecked(state);\n            }\n          }\n        });\n        return ui;\n      };\n    })(ci);\n  }\n\n  //清除文档\n  editorui.cleardoc = function(editor) {\n    var ui = new editorui.Button({\n      className: \"edui-for-cleardoc\",\n      title:\n        editor.options.labelMap.cleardoc ||\n          editor.getLang(\"labelMap.cleardoc\") ||\n          \"\",\n      theme: editor.options.theme,\n      onclick: function() {\n        if (confirm(editor.getLang(\"confirmClear\"))) {\n          editor.execCommand(\"cleardoc\");\n        }\n      }\n    });\n    editorui.buttons[\"cleardoc\"] = ui;\n    editor.addListener(\"selectionchange\", function() {\n      ui.setDisabled(editor.queryCommandState(\"cleardoc\") == -1);\n    });\n    return ui;\n  };\n\n  //排版，图片排版，文字方向\n  var typeset = {\n    justify: [\"left\", \"right\", \"center\", \"justify\"],\n    imagefloat: [\"none\", \"left\", \"center\", \"right\"],\n    directionality: [\"ltr\", \"rtl\"]\n  };\n\n  for (var p in typeset) {\n    (function(cmd, val) {\n      for (var i = 0, ci; (ci = val[i++]); ) {\n        (function(cmd2) {\n          editorui[cmd.replace(\"float\", \"\") + cmd2] = function(editor) {\n            var ui = new editorui.Button({\n              className: \"edui-for-\" + cmd.replace(\"float\", \"\") + cmd2,\n              title:\n                editor.options.labelMap[cmd.replace(\"float\", \"\") + cmd2] ||\n                  editor.getLang(\n                    \"labelMap.\" + cmd.replace(\"float\", \"\") + cmd2\n                  ) ||\n                  \"\",\n              theme: editor.options.theme,\n              onclick: function() {\n                editor.execCommand(cmd, cmd2);\n              }\n            });\n            editorui.buttons[cmd] = ui;\n            editor.addListener(\"selectionchange\", function(\n              type,\n              causeByUi,\n              uiReady\n            ) {\n              ui.setDisabled(editor.queryCommandState(cmd) == -1);\n              ui.setChecked(editor.queryCommandValue(cmd) == cmd2 && !uiReady);\n            });\n            return ui;\n          };\n        })(ci);\n      }\n    })(p, typeset[p]);\n  }\n\n  //字体颜色和背景颜色\n  for (var i = 0, ci; (ci = [\"backcolor\", \"forecolor\"][i++]); ) {\n    editorui[ci] = (function(cmd) {\n      return function(editor) {\n        var ui = new editorui.ColorButton({\n          className: \"edui-for-\" + cmd,\n          color: \"default\",\n          title:\n            editor.options.labelMap[cmd] ||\n              editor.getLang(\"labelMap.\" + cmd) ||\n              \"\",\n          editor: editor,\n          onpickcolor: function(t, color) {\n            editor.execCommand(cmd, color);\n          },\n          onpicknocolor: function() {\n            editor.execCommand(cmd, \"default\");\n            this.setColor(\"transparent\");\n            this.color = \"default\";\n          },\n          onbuttonclick: function() {\n            editor.execCommand(cmd, this.color);\n          }\n        });\n        editorui.buttons[cmd] = ui;\n        editor.addListener(\"selectionchange\", function() {\n          ui.setDisabled(editor.queryCommandState(cmd) == -1);\n        });\n        return ui;\n      };\n    })(ci);\n  }\n\n  var dialogBtns = {\n    noOk: [\"searchreplace\", \"help\", \"spechars\", \"webapp\", \"preview\"],\n    ok: [\n      // \"controlinput\",\n      \"attachment\",\n      \"anchor\",\n      \"link\",\n      \"insertimage\",\n      \"map\",\n      \"gmap\",\n      // \"insertframe\",\n      \"wordimage\",\n      \"insertvideo\",\n      \"insertframe\",\n      \"edittip\",\n      \"edittable\",\n      \"edittd\",\n      \"scrawl\",\n      \"template\",\n      \"music\",\n      \"background\",\n      \"charts\"\n    ]\n  };\n\n  for (var p in dialogBtns) {\n    (function(type, vals) {\n      for (var i = 0, ci; (ci = vals[i++]); ) {\n        //todo opera下存在问题\n        if (browser.opera && ci === \"searchreplace\") {\n          continue;\n        }\n        (function(cmd) {\n          editorui[cmd] = function(editor, iframeUrl, title) {\n            iframeUrl =\n              iframeUrl ||\n              (editor.options.iframeUrlMap || {})[cmd] ||\n              iframeUrlMap[cmd];\n            title =\n              editor.options.labelMap[cmd] ||\n              editor.getLang(\"labelMap.\" + cmd) ||\n              \"\";\n\n            var dialog;\n            //没有iframeUrl不创建dialog\n            if (iframeUrl) {\n              dialog = new editorui.Dialog(\n                utils.extend(\n                  {\n                    iframeUrl: editor.ui.mapUrl(iframeUrl),\n                    editor: editor,\n                    className: \"edui-for-\" + cmd,\n                    title: title,\n                    holdScroll: cmd === \"insertimage\",\n                    fullscreen: /charts|preview/.test(cmd),\n                    closeDialog: editor.getLang(\"closeDialog\")\n                  },\n                  type == \"ok\"\n                    ? {\n                        buttons: [\n                          {\n                            className: \"edui-okbutton\",\n                            label: editor.getLang(\"ok\"),\n                            editor: editor,\n                            onclick: function() {\n                              dialog.close(true);\n                            }\n                          },\n                          {\n                            className: \"edui-cancelbutton\",\n                            label: editor.getLang(\"cancel\"),\n                            editor: editor,\n                            onclick: function() {\n                              dialog.close(false);\n                            }\n                          }\n                        ]\n                      }\n                    : {}\n                )\n              );\n\n              editor.ui._dialogs[cmd + \"Dialog\"] = dialog;\n            }\n\n            var ui = new editorui.Button({\n              className: \"edui-for-\" + cmd,\n              title: title,\n              onclick: function() {\n                if (dialog) {\n                  switch (cmd) {\n                    case \"wordimage\":\n                      var images = editor.execCommand(\"wordimage\");\n                      if (images && images.length) {\n                        dialog.render();\n                        dialog.open();\n                      }\n                      break;\n                    case \"scrawl\":\n                      if (editor.queryCommandState(\"scrawl\") != -1) {\n                        dialog.render();\n                        dialog.open();\n                      }\n\n                      break;\n                    default:\n                      dialog.render();\n                      dialog.open();\n                  }\n                }\n              },\n              theme: editor.options.theme,\n              disabled:\n                (cmd == \"scrawl\" && editor.queryCommandState(\"scrawl\") == -1) ||\n                  cmd == \"charts\"\n            });\n            editorui.buttons[cmd] = ui;\n            editor.addListener(\"selectionchange\", function() {\n              //只存在于右键菜单而无工具栏按钮的ui不需要检测状态\n              var unNeedCheckState = { edittable: 1 };\n              if (cmd in unNeedCheckState) return;\n\n              var state = editor.queryCommandState(cmd);\n              if (ui.getDom()) {\n                ui.setDisabled(state == -1);\n                ui.setChecked(state);\n              }\n            });\n\n            return ui;\n          };\n        })(ci.toLowerCase());\n      }\n    })(p, dialogBtns[p]);\n  }\n\n  editorui.snapscreen = function(editor, iframeUrl, title) {\n    title =\n      editor.options.labelMap[\"snapscreen\"] ||\n      editor.getLang(\"labelMap.snapscreen\") ||\n      \"\";\n    var ui = new editorui.Button({\n      className: \"edui-for-snapscreen\",\n      title: title,\n      onclick: function() {\n        editor.execCommand(\"snapscreen\");\n      },\n      theme: editor.options.theme\n    });\n    editorui.buttons[\"snapscreen\"] = ui;\n    iframeUrl =\n      iframeUrl ||\n      (editor.options.iframeUrlMap || {})[\"snapscreen\"] ||\n      iframeUrlMap[\"snapscreen\"];\n    if (iframeUrl) {\n      var dialog = new editorui.Dialog({\n        iframeUrl: editor.ui.mapUrl(iframeUrl),\n        editor: editor,\n        className: \"edui-for-snapscreen\",\n        title: title,\n        buttons: [\n          {\n            className: \"edui-okbutton\",\n            label: editor.getLang(\"ok\"),\n            editor: editor,\n            onclick: function() {\n              dialog.close(true);\n            }\n          },\n          {\n            className: \"edui-cancelbutton\",\n            label: editor.getLang(\"cancel\"),\n            editor: editor,\n            onclick: function() {\n              dialog.close(false);\n            }\n          }\n        ]\n      });\n      dialog.render();\n      editor.ui._dialogs[\"snapscreenDialog\"] = dialog;\n    }\n    editor.addListener(\"selectionchange\", function() {\n      ui.setDisabled(editor.queryCommandState(\"snapscreen\") == -1);\n    });\n    return ui;\n  };\n\n  editorui.insertcode = function(editor, list, title) {\n    list = editor.options[\"insertcode\"] || [];\n    title =\n      editor.options.labelMap[\"insertcode\"] ||\n      editor.getLang(\"labelMap.insertcode\") ||\n      \"\";\n    // if (!list.length) return;\n    var items = [];\n    utils.each(list, function(key, val) {\n      items.push({\n        label: key,\n        value: val,\n        theme: editor.options.theme,\n        renderLabelHtml: function() {\n          return (\n            '<div class=\"edui-label %%-label\" >' + (this.label || \"\") + \"</div>\"\n          );\n        }\n      });\n    });\n\n    var ui = new editorui.Combox({\n      editor: editor,\n      items: items,\n      onselect: function(t, index) {\n        editor.execCommand(\"insertcode\", this.items[index].value);\n      },\n      onbuttonclick: function() {\n        this.showPopup();\n      },\n      title: title,\n      initValue: title,\n      className: \"edui-for-insertcode\",\n      indexByValue: function(value) {\n        if (value) {\n          for (var i = 0, ci; (ci = this.items[i]); i++) {\n            if (ci.value.indexOf(value) != -1) return i;\n          }\n        }\n\n        return -1;\n      }\n    });\n    editorui.buttons[\"insertcode\"] = ui;\n    editor.addListener(\"selectionchange\", function(type, causeByUi, uiReady) {\n      if (!uiReady) {\n        var state = editor.queryCommandState(\"insertcode\");\n        if (state == -1) {\n          ui.setDisabled(true);\n        } else {\n          ui.setDisabled(false);\n          var value = editor.queryCommandValue(\"insertcode\");\n          if (!value) {\n            ui.setValue(title);\n            return;\n          }\n          //trace:1871 ie下从源码模式切换回来时，字体会带单引号，而且会有逗号\n          value && (value = value.replace(/['\"]/g, \"\").split(\",\")[0]);\n          ui.setValue(value);\n        }\n      }\n    });\n    return ui;\n  };\n  editorui.fontfamily = function(editor, list, title) {\n    list = editor.options[\"fontfamily\"] || [];\n    title =\n      editor.options.labelMap[\"fontfamily\"] ||\n      editor.getLang(\"labelMap.fontfamily\") ||\n      \"\";\n    if (!list.length) return;\n    for (var i = 0, ci, items = []; (ci = list[i]); i++) {\n      var langLabel = editor.getLang(\"fontfamily\")[ci.name] || \"\";\n      (function(key, val) {\n        items.push({\n          label: key,\n          value: val,\n          theme: editor.options.theme,\n          renderLabelHtml: function() {\n            return (\n              '<div class=\"edui-label %%-label\" style=\"font-family:' +\n              utils.unhtml(this.value) +\n              '\">' +\n              (this.label || \"\") +\n              \"</div>\"\n            );\n          }\n        });\n      })(ci.label || langLabel, ci.val);\n    }\n    var ui = new editorui.Combox({\n      editor: editor,\n      items: items,\n      onselect: function(t, index) {\n        editor.execCommand(\"FontFamily\", this.items[index].value);\n      },\n      onbuttonclick: function() {\n        this.showPopup();\n      },\n      title: title,\n      initValue: title,\n      className: \"edui-for-fontfamily\",\n      indexByValue: function(value) {\n        if (value) {\n          for (var i = 0, ci; (ci = this.items[i]); i++) {\n            if (ci.value.indexOf(value) != -1) return i;\n          }\n        }\n\n        return -1;\n      }\n    });\n    editorui.buttons[\"fontfamily\"] = ui;\n    editor.addListener(\"selectionchange\", function(type, causeByUi, uiReady) {\n      if (!uiReady) {\n        var state = editor.queryCommandState(\"FontFamily\");\n        if (state == -1) {\n          ui.setDisabled(true);\n        } else {\n          ui.setDisabled(false);\n          var value = editor.queryCommandValue(\"FontFamily\");\n          //trace:1871 ie下从源码模式切换回来时，字体会带单引号，而且会有逗号\n          value && (value = value.replace(/['\"]/g, \"\").split(\",\")[0]);\n          ui.setValue(value);\n        }\n      }\n    });\n    return ui;\n  };\n\n  editorui.fontsize = function(editor, list, title) {\n    title =\n      editor.options.labelMap[\"fontsize\"] ||\n      editor.getLang(\"labelMap.fontsize\") ||\n      \"\";\n    list = list || editor.options[\"fontsize\"] || [];\n    if (!list.length) return;\n    var items = [];\n    for (var i = 0; i < list.length; i++) {\n      var size = list[i] + \"px\";\n      items.push({\n        label: size,\n        value: size,\n        theme: editor.options.theme,\n        renderLabelHtml: function() {\n          return (\n            '<div class=\"edui-label %%-label\" style=\"line-height:1;font-size:' +\n            this.value +\n            '\">' +\n            (this.label || \"\") +\n            \"</div>\"\n          );\n        }\n      });\n    }\n    var ui = new editorui.Combox({\n      editor: editor,\n      items: items,\n      title: title,\n      initValue: title,\n      onselect: function(t, index) {\n        editor.execCommand(\"FontSize\", this.items[index].value);\n      },\n      onbuttonclick: function() {\n        this.showPopup();\n      },\n      className: \"edui-for-fontsize\"\n    });\n    editorui.buttons[\"fontsize\"] = ui;\n    editor.addListener(\"selectionchange\", function(type, causeByUi, uiReady) {\n      if (!uiReady) {\n        var state = editor.queryCommandState(\"FontSize\");\n        if (state == -1) {\n          ui.setDisabled(true);\n        } else {\n          ui.setDisabled(false);\n          ui.setValue(editor.queryCommandValue(\"FontSize\"));\n        }\n      }\n    });\n    return ui;\n  };\n\n  editorui.paragraph = function(editor, list, title) {\n    title =\n      editor.options.labelMap[\"paragraph\"] ||\n      editor.getLang(\"labelMap.paragraph\") ||\n      \"\";\n    list = editor.options[\"paragraph\"] || [];\n    if (utils.isEmptyObject(list)) return;\n    var items = [];\n    for (var i in list) {\n      items.push({\n        value: i,\n        label: list[i] || editor.getLang(\"paragraph\")[i],\n        theme: editor.options.theme,\n        renderLabelHtml: function() {\n          return (\n            '<div class=\"edui-label %%-label\"><span class=\"edui-for-' +\n            this.value +\n            '\">' +\n            (this.label || \"\") +\n            \"</span></div>\"\n          );\n        }\n      });\n    }\n    var ui = new editorui.Combox({\n      editor: editor,\n      items: items,\n      title: title,\n      initValue: title,\n      className: \"edui-for-paragraph\",\n      onselect: function(t, index) {\n        editor.execCommand(\"Paragraph\", this.items[index].value);\n      },\n      onbuttonclick: function() {\n        this.showPopup();\n      }\n    });\n    editorui.buttons[\"paragraph\"] = ui;\n    editor.addListener(\"selectionchange\", function(type, causeByUi, uiReady) {\n      if (!uiReady) {\n        var state = editor.queryCommandState(\"Paragraph\");\n        if (state == -1) {\n          ui.setDisabled(true);\n        } else {\n          ui.setDisabled(false);\n          var value = editor.queryCommandValue(\"Paragraph\");\n          var index = ui.indexByValue(value);\n          if (index != -1) {\n            ui.setValue(value);\n          } else {\n            ui.setValue(ui.initValue);\n          }\n        }\n      }\n    });\n    return ui;\n  };\n\n  //自定义标题\n  editorui.customstyle = function(editor) {\n    var list = editor.options[\"customstyle\"] || [],\n      title =\n        editor.options.labelMap[\"customstyle\"] ||\n        editor.getLang(\"labelMap.customstyle\") ||\n        \"\";\n    if (!list.length) return;\n    var langCs = editor.getLang(\"customstyle\");\n    for (var i = 0, items = [], t; (t = list[i++]); ) {\n      (function(t) {\n        var ck = {};\n        ck.label = t.label ? t.label : langCs[t.name];\n        ck.style = t.style;\n        ck.className = t.className;\n        ck.tag = t.tag;\n        items.push({\n          label: ck.label,\n          value: ck,\n          theme: editor.options.theme,\n          renderLabelHtml: function() {\n            return (\n              '<div class=\"edui-label %%-label\">' +\n              \"<\" +\n              ck.tag +\n              \" \" +\n              (ck.className ? ' class=\"' + ck.className + '\"' : \"\") +\n              (ck.style ? ' style=\"' + ck.style + '\"' : \"\") +\n              \">\" +\n              ck.label +\n              \"</\" +\n              ck.tag +\n              \">\" +\n              \"</div>\"\n            );\n          }\n        });\n      })(t);\n    }\n\n    var ui = new editorui.Combox({\n      editor: editor,\n      items: items,\n      title: title,\n      initValue: title,\n      className: \"edui-for-customstyle\",\n      onselect: function(t, index) {\n        editor.execCommand(\"customstyle\", this.items[index].value);\n      },\n      onbuttonclick: function() {\n        this.showPopup();\n      },\n      indexByValue: function(value) {\n        for (var i = 0, ti; (ti = this.items[i++]); ) {\n          if (ti.label == value) {\n            return i - 1;\n          }\n        }\n        return -1;\n      }\n    });\n    editorui.buttons[\"customstyle\"] = ui;\n    editor.addListener(\"selectionchange\", function(type, causeByUi, uiReady) {\n      if (!uiReady) {\n        var state = editor.queryCommandState(\"customstyle\");\n        if (state == -1) {\n          ui.setDisabled(true);\n        } else {\n          ui.setDisabled(false);\n          var value = editor.queryCommandValue(\"customstyle\");\n          var index = ui.indexByValue(value);\n          if (index != -1) {\n            ui.setValue(value);\n          } else {\n            ui.setValue(ui.initValue);\n          }\n        }\n      }\n    });\n    return ui;\n  };\n  editorui.inserttable = function(editor, iframeUrl, title) {\n    title =\n      editor.options.labelMap[\"inserttable\"] ||\n      editor.getLang(\"labelMap.inserttable\") ||\n      \"\";\n    var ui = new editorui.TableButton({\n      editor: editor,\n      title: title,\n      className: \"edui-for-inserttable\",\n      onpicktable: function(t, numCols, numRows) {\n        editor.execCommand(\"InsertTable\", {\n          numRows: numRows,\n          numCols: numCols,\n          border: 1\n        });\n      },\n      onbuttonclick: function() {\n        this.showPopup();\n      }\n    });\n    editorui.buttons[\"inserttable\"] = ui;\n    editor.addListener(\"selectionchange\", function() {\n      ui.setDisabled(editor.queryCommandState(\"inserttable\") == -1);\n    });\n    return ui;\n  };\n\n  editorui.lineheight = function(editor) {\n    var val = editor.options.lineheight || [];\n    if (!val.length) return;\n    for (var i = 0, ci, items = []; (ci = val[i++]); ) {\n      items.push({\n        //todo:写死了\n        label: ci,\n        value: ci,\n        theme: editor.options.theme,\n        onclick: function() {\n          editor.execCommand(\"lineheight\", this.value);\n        }\n      });\n    }\n    var ui = new editorui.MenuButton({\n      editor: editor,\n      className: \"edui-for-lineheight\",\n      title:\n        editor.options.labelMap[\"lineheight\"] ||\n          editor.getLang(\"labelMap.lineheight\") ||\n          \"\",\n      items: items,\n      onbuttonclick: function() {\n        var value = editor.queryCommandValue(\"LineHeight\") || this.value;\n        editor.execCommand(\"LineHeight\", value);\n      }\n    });\n    editorui.buttons[\"lineheight\"] = ui;\n    editor.addListener(\"selectionchange\", function() {\n      var state = editor.queryCommandState(\"LineHeight\");\n      if (state == -1) {\n        ui.setDisabled(true);\n      } else {\n        ui.setDisabled(false);\n        var value = editor.queryCommandValue(\"LineHeight\");\n        value && ui.setValue((value + \"\").replace(/cm/, \"\"));\n        ui.setChecked(state);\n      }\n    });\n    return ui;\n  };\n\n  var rowspacings = [\"top\", \"bottom\"];\n  for (var r = 0, ri; (ri = rowspacings[r++]); ) {\n    (function(cmd) {\n      editorui[\"rowspacing\" + cmd] = function(editor) {\n        var val = editor.options[\"rowspacing\" + cmd] || [];\n        if (!val.length) return null;\n        for (var i = 0, ci, items = []; (ci = val[i++]); ) {\n          items.push({\n            label: ci,\n            value: ci,\n            theme: editor.options.theme,\n            onclick: function() {\n              editor.execCommand(\"rowspacing\", this.value, cmd);\n            }\n          });\n        }\n        var ui = new editorui.MenuButton({\n          editor: editor,\n          className: \"edui-for-rowspacing\" + cmd,\n          title:\n            editor.options.labelMap[\"rowspacing\" + cmd] ||\n              editor.getLang(\"labelMap.rowspacing\" + cmd) ||\n              \"\",\n          items: items,\n          onbuttonclick: function() {\n            var value =\n              editor.queryCommandValue(\"rowspacing\", cmd) || this.value;\n            editor.execCommand(\"rowspacing\", value, cmd);\n          }\n        });\n        editorui.buttons[cmd] = ui;\n        editor.addListener(\"selectionchange\", function() {\n          var state = editor.queryCommandState(\"rowspacing\", cmd);\n          if (state == -1) {\n            ui.setDisabled(true);\n          } else {\n            ui.setDisabled(false);\n            var value = editor.queryCommandValue(\"rowspacing\", cmd);\n            value && ui.setValue((value + \"\").replace(/%/, \"\"));\n            ui.setChecked(state);\n          }\n        });\n        return ui;\n      };\n    })(ri);\n  }\n  //有序，无序列表\n  var lists = [\"insertorderedlist\", \"insertunorderedlist\"];\n  for (var l = 0, cl; (cl = lists[l++]); ) {\n    (function(cmd) {\n      editorui[cmd] = function(editor) {\n        var vals = editor.options[cmd],\n          _onMenuClick = function() {\n            editor.execCommand(cmd, this.value);\n          },\n          items = [];\n        for (var i in vals) {\n          items.push({\n            label: vals[i] || editor.getLang()[cmd][i] || \"\",\n            value: i,\n            theme: editor.options.theme,\n            onclick: _onMenuClick\n          });\n        }\n        var ui = new editorui.MenuButton({\n          editor: editor,\n          className: \"edui-for-\" + cmd,\n          title: editor.getLang(\"labelMap.\" + cmd) || \"\",\n          items: items,\n          onbuttonclick: function() {\n            var value = editor.queryCommandValue(cmd) || this.value;\n            editor.execCommand(cmd, value);\n          }\n        });\n        editorui.buttons[cmd] = ui;\n        editor.addListener(\"selectionchange\", function() {\n          var state = editor.queryCommandState(cmd);\n          if (state == -1) {\n            ui.setDisabled(true);\n          } else {\n            ui.setDisabled(false);\n            var value = editor.queryCommandValue(cmd);\n            ui.setValue(value);\n            ui.setChecked(state);\n          }\n        });\n        return ui;\n      };\n    })(cl);\n  }\n\n  editorui.fullscreen = function(editor, title) {\n    title =\n      editor.options.labelMap[\"fullscreen\"] ||\n      editor.getLang(\"labelMap.fullscreen\") ||\n      \"\";\n    var ui = new editorui.Button({\n      className: \"edui-for-fullscreen\",\n      title: title,\n      theme: editor.options.theme,\n      onclick: function() {\n        if (editor.ui) {\n          editor.ui.setFullScreen(!editor.ui.isFullScreen());\n        }\n        this.setChecked(editor.ui.isFullScreen());\n      }\n    });\n    editorui.buttons[\"fullscreen\"] = ui;\n    editor.addListener(\"selectionchange\", function() {\n      var state = editor.queryCommandState(\"fullscreen\");\n      ui.setDisabled(state == -1);\n      ui.setChecked(editor.ui.isFullScreen());\n    });\n    return ui;\n  };\n\n  // 表情\n  editorui[\"emotion\"] = function(editor, iframeUrl) {\n    var cmd = \"emotion\";\n    var ui = new editorui.MultiMenuPop({\n      title:\n        editor.options.labelMap[cmd] ||\n          editor.getLang(\"labelMap.\" + cmd + \"\") ||\n          \"\",\n      editor: editor,\n      className: \"edui-for-\" + cmd,\n      iframeUrl: editor.ui.mapUrl(\n        iframeUrl ||\n          (editor.options.iframeUrlMap || {})[cmd] ||\n          iframeUrlMap[cmd]\n      )\n    });\n    editorui.buttons[cmd] = ui;\n\n    editor.addListener(\"selectionchange\", function() {\n      ui.setDisabled(editor.queryCommandState(cmd) == -1);\n    });\n    return ui;\n  };\n\n  editorui.autotypeset = function(editor) {\n    var ui = new editorui.AutoTypeSetButton({\n      editor: editor,\n      title:\n        editor.options.labelMap[\"autotypeset\"] ||\n          editor.getLang(\"labelMap.autotypeset\") ||\n          \"\",\n      className: \"edui-for-autotypeset\",\n      onbuttonclick: function() {\n        editor.execCommand(\"autotypeset\");\n      }\n    });\n    editorui.buttons[\"autotypeset\"] = ui;\n    editor.addListener(\"selectionchange\", function() {\n      ui.setDisabled(editor.queryCommandState(\"autotypeset\") == -1);\n    });\n    return ui;\n  };\n\n  /* 简单上传插件 */\n  editorui[\"simpleupload\"] = function(editor) {\n    var name = \"simpleupload\",\n      ui = new editorui.Button({\n        className: \"edui-for-\" + name,\n        title:\n          editor.options.labelMap[name] ||\n            editor.getLang(\"labelMap.\" + name) ||\n            \"\",\n        onclick: function() {},\n        theme: editor.options.theme,\n        showText: false\n      });\n    editorui.buttons[name] = ui;\n    editor.addListener(\"ready\", function() {\n      var b = ui.getDom(\"body\"),\n        iconSpan = b.children[0];\n      editor.fireEvent(\"simpleuploadbtnready\", iconSpan);\n    });\n    editor.addListener(\"selectionchange\", function(type, causeByUi, uiReady) {\n      var state = editor.queryCommandState(name);\n      if (state == -1) {\n        ui.setDisabled(true);\n        ui.setChecked(false);\n      } else {\n        if (!uiReady) {\n          ui.setDisabled(false);\n          ui.setChecked(state);\n        }\n      }\n    });\n    return ui;\n  };\n})();\n\n\n// adapter/editor.js\n///import core\n///commands 全屏\n///commandsName FullScreen\n///commandsTitle  全屏\n;(function() {\n  var utils = baidu.editor.utils,\n    uiUtils = baidu.editor.ui.uiUtils,\n    UIBase = baidu.editor.ui.UIBase,\n    domUtils = baidu.editor.dom.domUtils;\n  var nodeStack = [];\n\n  function EditorUI(options) {\n    this.initOptions(options);\n    this.initEditorUI();\n  }\n\n  EditorUI.prototype = {\n    uiName: \"editor\",\n    initEditorUI: function() {\n      this.editor.ui = this;\n      this._dialogs = {};\n      this.initUIBase();\n      this._initToolbars();\n      var editor = this.editor,\n        me = this;\n\n      editor.addListener(\"ready\", function() {\n        //提供getDialog方法\n        editor.getDialog = function(name) {\n          return editor.ui._dialogs[name + \"Dialog\"];\n        };\n        domUtils.on(editor.window, \"scroll\", function(evt) {\n          baidu.editor.ui.Popup.postHide(evt);\n        });\n        //提供编辑器实时宽高(全屏时宽高不变化)\n        editor.ui._actualFrameWidth = editor.options.initialFrameWidth;\n\n        UE.browser.ie &&\n          UE.browser.version === 6 &&\n          editor.container.ownerDocument.execCommand(\n            \"BackgroundImageCache\",\n            false,\n            true\n          );\n\n        //display bottom-bar label based on config\n        if (editor.options.elementPathEnabled) {\n          editor.ui.getDom(\"elementpath\").innerHTML =\n            '<div class=\"edui-editor-breadcrumb\">' +\n            editor.getLang(\"elementPathTip\") +\n            \":</div>\";\n        }\n        if (editor.options.wordCount) {\n          function countFn() {\n            setCount(editor, me);\n            domUtils.un(editor.document, \"click\", arguments.callee);\n          }\n          domUtils.on(editor.document, \"click\", countFn);\n          editor.ui.getDom(\"wordcount\").innerHTML = editor.getLang(\n            \"wordCountTip\"\n          );\n        }\n        editor.ui._scale();\n        if (editor.options.scaleEnabled) {\n          if (editor.autoHeightEnabled) {\n            editor.disableAutoHeight();\n          }\n          me.enableScale();\n        } else {\n          me.disableScale();\n        }\n        if (\n          !editor.options.elementPathEnabled &&\n          !editor.options.wordCount &&\n          !editor.options.scaleEnabled\n        ) {\n          editor.ui.getDom(\"elementpath\").style.display = \"none\";\n          editor.ui.getDom(\"wordcount\").style.display = \"none\";\n          editor.ui.getDom(\"scale\").style.display = \"none\";\n        }\n\n        if (!editor.selection.isFocus()) return;\n        editor.fireEvent(\"selectionchange\", false, true);\n      });\n\n      editor.addListener(\"mousedown\", function(t, evt) {\n        var el = evt.target || evt.srcElement;\n        baidu.editor.ui.Popup.postHide(evt, el);\n        baidu.editor.ui.ShortCutMenu.postHide(evt);\n      });\n      editor.addListener(\"delcells\", function() {\n        if (UE.ui[\"edittip\"]) {\n          new UE.ui[\"edittip\"](editor);\n        }\n        editor.getDialog(\"edittip\").open();\n      });\n\n      var pastePop,\n        isPaste = false,\n        timer;\n      editor.addListener(\"afterpaste\", function() {\n        if (editor.queryCommandState(\"pasteplain\")) return;\n        if (baidu.editor.ui.PastePicker) {\n          pastePop = new baidu.editor.ui.Popup({\n            content: new baidu.editor.ui.PastePicker({ editor: editor }),\n            editor: editor,\n            className: \"edui-wordpastepop\"\n          });\n          pastePop.render();\n        }\n        isPaste = true;\n      });\n\n      editor.addListener(\"afterinserthtml\", function() {\n        clearTimeout(timer);\n        timer = setTimeout(function() {\n          if (pastePop && (isPaste || editor.ui._isTransfer)) {\n            if (pastePop.isHidden()) {\n              var span = domUtils.createElement(editor.document, \"span\", {\n                style: \"line-height:0px;\",\n                innerHTML: \"\\ufeff\"\n              }),\n                range = editor.selection.getRange();\n              range.insertNode(span);\n              var tmp = getDomNode(span, \"firstChild\", \"previousSibling\");\n              tmp &&\n                pastePop.showAnchor(tmp.nodeType == 3 ? tmp.parentNode : tmp);\n              domUtils.remove(span);\n            } else {\n              pastePop.show();\n            }\n            delete editor.ui._isTransfer;\n            isPaste = false;\n          }\n        }, 200);\n      });\n      editor.addListener(\"contextmenu\", function(t, evt) {\n        baidu.editor.ui.Popup.postHide(evt);\n      });\n      editor.addListener(\"keydown\", function(t, evt) {\n        if (pastePop) pastePop.dispose(evt);\n        var keyCode = evt.keyCode || evt.which;\n        if (evt.altKey && keyCode == 90) {\n          UE.ui.buttons[\"fullscreen\"].onclick();\n        }\n      });\n      editor.addListener(\"wordcount\", function(type) {\n        setCount(this, me);\n      });\n      function setCount(editor, ui) {\n        editor.setOpt({\n          wordCount: true,\n          maximumWords: 10000,\n          wordCountMsg:\n            editor.options.wordCountMsg || editor.getLang(\"wordCountMsg\"),\n          wordOverFlowMsg:\n            editor.options.wordOverFlowMsg || editor.getLang(\"wordOverFlowMsg\")\n        });\n        var opt = editor.options,\n          max = opt.maximumWords,\n          msg = opt.wordCountMsg,\n          errMsg = opt.wordOverFlowMsg,\n          countDom = ui.getDom(\"wordcount\");\n        if (!opt.wordCount) {\n          return;\n        }\n        var count = editor.getContentLength(true);\n        if (count > max) {\n          countDom.innerHTML = errMsg;\n          editor.fireEvent(\"wordcountoverflow\");\n        } else {\n          countDom.innerHTML = msg\n            .replace(\"{#leave}\", max - count)\n            .replace(\"{#count}\", count);\n        }\n      }\n\n      editor.addListener(\"selectionchange\", function() {\n        if (editor.options.elementPathEnabled) {\n          me[\n            (editor.queryCommandState(\"elementpath\") == -1 ? \"dis\" : \"en\") +\n              \"ableElementPath\"\n          ]();\n        }\n        if (editor.options.scaleEnabled) {\n          me[\n            (editor.queryCommandState(\"scale\") == -1 ? \"dis\" : \"en\") +\n              \"ableScale\"\n          ]();\n        }\n      });\n      var popup = new baidu.editor.ui.Popup({\n        editor: editor,\n        content: \"\",\n        className: \"edui-bubble\",\n        _onEditButtonClick: function() {\n          this.hide();\n          editor.ui._dialogs.linkDialog.open();\n        },\n        _onImgEditButtonClick: function(name) {\n          this.hide();\n          editor.ui._dialogs[name] && editor.ui._dialogs[name].open();\n        },\n        _onImgSetFloat: function(value) {\n          this.hide();\n          editor.execCommand(\"imagefloat\", value);\n        },\n        _setIframeAlign: function(value) {\n          var frame = popup.anchorEl;\n          var newFrame = frame.cloneNode(true);\n          switch (value) {\n            case -2:\n              newFrame.setAttribute(\"align\", \"\");\n              break;\n            case -1:\n              newFrame.setAttribute(\"align\", \"left\");\n              break;\n            case 1:\n              newFrame.setAttribute(\"align\", \"right\");\n              break;\n          }\n          frame.parentNode.insertBefore(newFrame, frame);\n          domUtils.remove(frame);\n          popup.anchorEl = newFrame;\n          popup.showAnchor(popup.anchorEl);\n        },\n        _updateIframe: function() {\n          var frame = (editor._iframe = popup.anchorEl);\n          if (domUtils.hasClass(frame, \"ueditor_baidumap\")) {\n            editor.selection.getRange().selectNode(frame).select();\n            editor.ui._dialogs.mapDialog.open();\n            popup.hide();\n          } else {\n            editor.ui._dialogs.insertframeDialog.open();\n            popup.hide();\n          }\n        },\n        _onRemoveButtonClick: function(cmdName) {\n          editor.execCommand(cmdName);\n          this.hide();\n        },\n        queryAutoHide: function(el) {\n          if (el && el.ownerDocument == editor.document) {\n            if (\n              el.tagName.toLowerCase() == \"img\" ||\n              domUtils.findParentByTagName(el, \"a\", true)\n            ) {\n              return el !== popup.anchorEl;\n            }\n          }\n          return baidu.editor.ui.Popup.prototype.queryAutoHide.call(this, el);\n        }\n      });\n      popup.render();\n      if (editor.options.imagePopup) {\n        editor.addListener(\"mouseover\", function(t, evt) {\n          evt = evt || window.event;\n          var el = evt.target || evt.srcElement;\n          if (\n            editor.ui._dialogs.insertframeDialog &&\n            /iframe/gi.test(el.tagName)\n          ) {\n            var html = popup.formatHtml(\n              \"<nobr>\" +\n                editor.getLang(\"property\") +\n                ': <span onclick=$$._setIframeAlign(-2) class=\"edui-clickable\">' +\n                editor.getLang(\"default\") +\n                '</span>&nbsp;&nbsp;<span onclick=$$._setIframeAlign(-1) class=\"edui-clickable\">' +\n                editor.getLang(\"justifyleft\") +\n                '</span>&nbsp;&nbsp;<span onclick=$$._setIframeAlign(1) class=\"edui-clickable\">' +\n                editor.getLang(\"justifyright\") +\n                \"</span>&nbsp;&nbsp;\" +\n                ' <span onclick=\"$$._updateIframe( this);\" class=\"edui-clickable\">' +\n                editor.getLang(\"modify\") +\n                \"</span></nobr>\"\n            );\n            if (html) {\n              popup.getDom(\"content\").innerHTML = html;\n              popup.anchorEl = el;\n              popup.showAnchor(popup.anchorEl);\n            } else {\n              popup.hide();\n            }\n          }\n        });\n        editor.addListener(\"selectionchange\", function(t, causeByUi) {\n          if (!causeByUi) return;\n          var html = \"\",\n            str = \"\",\n            img = editor.selection.getRange().getClosedNode(),\n            dialogs = editor.ui._dialogs;\n          if (img && img.tagName == \"IMG\") {\n            var dialogName = \"insertimageDialog\";\n            if (\n              img.className.indexOf(\"edui-faked-video\") != -1 ||\n              img.className.indexOf(\"edui-upload-video\") != -1\n            ) {\n              dialogName = \"insertvideoDialog\";\n            }\n            if (img.className.indexOf(\"edui-faked-webapp\") != -1) {\n              dialogName = \"webappDialog\";\n            }\n            if (img.src.indexOf(\"https://api.map.baidu.com\") != -1) {\n              dialogName = \"mapDialog\";\n            }\n            if (img.className.indexOf(\"edui-faked-music\") != -1) {\n              dialogName = \"musicDialog\";\n            }\n            if (\n              img.src.indexOf(\"http://maps.google.com/maps/api/staticmap\") != -1\n            ) {\n              dialogName = \"gmapDialog\";\n            }\n            if (img.getAttribute(\"anchorname\")) {\n              dialogName = \"anchorDialog\";\n              html = popup.formatHtml(\n                \"<nobr>\" +\n                  editor.getLang(\"property\") +\n                  ': <span onclick=$$._onImgEditButtonClick(\"anchorDialog\") class=\"edui-clickable\">' +\n                  editor.getLang(\"modify\") +\n                  \"</span>&nbsp;&nbsp;\" +\n                  \"<span onclick=$$._onRemoveButtonClick('anchor') class=\\\"edui-clickable\\\">\" +\n                  editor.getLang(\"delete\") +\n                  \"</span></nobr>\"\n              );\n            }\n            if (img.getAttribute(\"word_img\")) {\n              //todo 放到dialog去做查询\n              editor.word_img = [img.getAttribute(\"word_img\")];\n              dialogName = \"wordimageDialog\";\n            }\n            if (\n              domUtils.hasClass(img, \"loadingclass\") ||\n              domUtils.hasClass(img, \"loaderrorclass\")\n            ) {\n              dialogName = \"\";\n            }\n            if (!dialogs[dialogName]) {\n              return;\n            }\n            str =\n              \"<nobr>\" +\n              editor.getLang(\"property\") +\n              \": \" +\n              '<span onclick=$$._onImgSetFloat(\"none\") class=\"edui-clickable\">' +\n              editor.getLang(\"default\") +\n              \"</span>&nbsp;&nbsp;\" +\n              '<span onclick=$$._onImgSetFloat(\"left\") class=\"edui-clickable\">' +\n              editor.getLang(\"justifyleft\") +\n              \"</span>&nbsp;&nbsp;\" +\n              '<span onclick=$$._onImgSetFloat(\"right\") class=\"edui-clickable\">' +\n              editor.getLang(\"justifyright\") +\n              \"</span>&nbsp;&nbsp;\" +\n              '<span onclick=$$._onImgSetFloat(\"center\") class=\"edui-clickable\">' +\n              editor.getLang(\"justifycenter\") +\n              \"</span>&nbsp;&nbsp;\" +\n              \"<span onclick=\\\"$$._onImgEditButtonClick('\" +\n              dialogName +\n              '\\');\" class=\"edui-clickable\">' +\n              editor.getLang(\"modify\") +\n              \"</span></nobr>\";\n\n            !html && (html = popup.formatHtml(str));\n          }\n          if (editor.ui._dialogs.linkDialog) {\n            var link = editor.queryCommandValue(\"link\");\n            var url;\n            if (\n              link &&\n              (url = link.getAttribute(\"_href\") || link.getAttribute(\"href\", 2))\n            ) {\n              var txt = url;\n              if (url.length > 30) {\n                txt = url.substring(0, 20) + \"...\";\n              }\n              if (html) {\n                html += '<div style=\"height:5px;\"></div>';\n              }\n              html += popup.formatHtml(\n                \"<nobr>\" +\n                  editor.getLang(\"anthorMsg\") +\n                  ': <a target=\"_blank\" href=\"' +\n                  url +\n                  '\" title=\"' +\n                  url +\n                  '\" >' +\n                  txt +\n                  \"</a>\" +\n                  ' <span class=\"edui-clickable\" onclick=\"$$._onEditButtonClick();\">' +\n                  editor.getLang(\"modify\") +\n                  \"</span>\" +\n                  ' <span class=\"edui-clickable\" onclick=\"$$._onRemoveButtonClick(\\'unlink\\');\"> ' +\n                  editor.getLang(\"clear\") +\n                  \"</span></nobr>\"\n              );\n              popup.showAnchor(link);\n            }\n          }\n\n          if (html) {\n            popup.getDom(\"content\").innerHTML = html;\n            popup.anchorEl = img || link;\n            popup.showAnchor(popup.anchorEl);\n          } else {\n            popup.hide();\n          }\n        });\n      }\n    },\n    _initToolbars: function() {\n      var editor = this.editor;\n      var toolbars = this.toolbars || [];\n      var toolbarUis = [];\n      var extraUIs = [];\n      for (var i = 0; i < toolbars.length; i++) {\n        var toolbar = toolbars[i];\n        var toolbarUi = new baidu.editor.ui.Toolbar({\n          theme: editor.options.theme\n        });\n        for (var j = 0; j < toolbar.length; j++) {\n          var toolbarItem = toolbar[j];\n          var toolbarItemUi = null;\n          if (typeof toolbarItem == \"string\") {\n            toolbarItem = toolbarItem.toLowerCase();\n            if (toolbarItem == \"|\") {\n              toolbarItem = \"Separator\";\n            }\n            if (toolbarItem == \"||\") {\n              toolbarItem = \"Breakline\";\n            }\n            var ui = baidu.editor.ui[toolbarItem];\n            if (ui) {\n              if (utils.isFunction(ui)) {\n                toolbarItemUi = new baidu.editor.ui[toolbarItem](editor);\n              } else {\n                if (ui.id && ui.id != editor.key) {\n                  continue;\n                }\n                var itemUI = ui.execFn.call(editor, editor, toolbarItem);\n                if (itemUI) {\n                  if (ui.index === undefined) {\n                    toolbarUi.add(itemUI);\n                    continue;\n                  } else {\n                    extraUIs.push({\n                      index: ui.index,\n                      itemUI: itemUI\n                    });\n                  }\n                }\n              }\n            }\n            //fullscreen这里单独处理一下，放到首行去\n            if (toolbarItem == \"fullscreen\") {\n              if (toolbarUis && toolbarUis[0]) {\n                toolbarUis[0].items.splice(0, 0, toolbarItemUi);\n              } else {\n                toolbarItemUi && toolbarUi.items.splice(0, 0, toolbarItemUi);\n              }\n              continue;\n            }\n          } else {\n            toolbarItemUi = toolbarItem;\n          }\n          if (toolbarItemUi && toolbarItemUi.id) {\n            toolbarUi.add(toolbarItemUi);\n          }\n        }\n        toolbarUis[i] = toolbarUi;\n      }\n\n      //接受外部定制的UI\n\n      utils.each(extraUIs, function(obj) {\n        toolbarUi.add(obj.itemUI, obj.index);\n      });\n      this.toolbars = toolbarUis;\n    },\n    getHtmlTpl: function() {\n      return (\n        '<div id=\"##\" class=\"%%\">' +\n        '<div id=\"##_toolbarbox\" class=\"%%-toolbarbox\">' +\n        (this.toolbars.length\n          ? '<div id=\"##_toolbarboxouter\" class=\"%%-toolbarboxouter\"><div class=\"%%-toolbarboxinner\">' +\n              this.renderToolbarBoxHtml() +\n              \"</div></div>\"\n          : \"\") +\n        '<div id=\"##_toolbarmsg\" class=\"%%-toolbarmsg\" style=\"display:none;\">' +\n        '<div id = \"##_upload_dialog\" class=\"%%-toolbarmsg-upload\" onclick=\"$$.showWordImageDialog();\">' +\n        this.editor.getLang(\"clickToUpload\") +\n        \"</div>\" +\n        '<div class=\"%%-toolbarmsg-close\" onclick=\"$$.hideToolbarMsg();\">x</div>' +\n        '<div id=\"##_toolbarmsg_label\" class=\"%%-toolbarmsg-label\"></div>' +\n        '<div style=\"height:0;overflow:hidden;clear:both;\"></div>' +\n        \"</div>\" +\n        '<div id=\"##_message_holder\" class=\"%%-messageholder\"></div>' +\n        \"</div>\" +\n        '<div id=\"##_iframeholder\" class=\"%%-iframeholder\">' +\n        \"</div>\" +\n        //modify wdcount by matao\n        '<div id=\"##_bottombar\" class=\"%%-bottomContainer\"><table><tr>' +\n        '<td id=\"##_elementpath\" class=\"%%-bottombar\"></td>' +\n        '<td id=\"##_wordcount\" class=\"%%-wordcount\"></td>' +\n        '<td id=\"##_scale\" class=\"%%-scale\"><div class=\"%%-icon\"></div></td>' +\n        \"</tr></table></div>\" +\n        '<div id=\"##_scalelayer\"></div>' +\n        \"</div>\"\n      );\n    },\n    showWordImageDialog: function() {\n      this._dialogs[\"wordimageDialog\"].open();\n    },\n    renderToolbarBoxHtml: function() {\n      var buff = [];\n      for (var i = 0; i < this.toolbars.length; i++) {\n        buff.push(this.toolbars[i].renderHtml());\n      }\n      return buff.join(\"\");\n    },\n    setFullScreen: function(fullscreen) {\n      var editor = this.editor,\n        container = editor.container.parentNode.parentNode;\n      if (this._fullscreen != fullscreen) {\n        this._fullscreen = fullscreen;\n        this.editor.fireEvent(\"beforefullscreenchange\", fullscreen);\n        if (baidu.editor.browser.gecko) {\n          var bk = editor.selection.getRange().createBookmark();\n        }\n        if (fullscreen) {\n          while (container.tagName != \"BODY\") {\n            var position = baidu.editor.dom.domUtils.getComputedStyle(\n              container,\n              \"position\"\n            );\n            nodeStack.push(position);\n            container.style.position = \"static\";\n            container = container.parentNode;\n          }\n          this._bakHtmlOverflow = document.documentElement.style.overflow;\n          this._bakBodyOverflow = document.body.style.overflow;\n          this._bakAutoHeight = this.editor.autoHeightEnabled;\n          this._bakScrollTop = Math.max(\n            document.documentElement.scrollTop,\n            document.body.scrollTop\n          );\n\n          this._bakEditorContaninerWidth = editor.iframe.parentNode.offsetWidth;\n          if (this._bakAutoHeight) {\n            //当全屏时不能执行自动长高\n            editor.autoHeightEnabled = false;\n            this.editor.disableAutoHeight();\n          }\n\n          document.documentElement.style.overflow = \"hidden\";\n          //修复，滚动条不收起的问题\n\n          window.scrollTo(0, window.scrollY);\n          this._bakCssText = this.getDom().style.cssText;\n          this._bakCssText1 = this.getDom(\"iframeholder\").style.cssText;\n          editor.iframe.parentNode.style.width = \"\";\n          this._updateFullScreen();\n        } else {\n          while (container.tagName != \"BODY\") {\n            container.style.position = nodeStack.shift();\n            container = container.parentNode;\n          }\n          this.getDom().style.cssText = this._bakCssText;\n          this.getDom(\"iframeholder\").style.cssText = this._bakCssText1;\n          if (this._bakAutoHeight) {\n            editor.autoHeightEnabled = true;\n            this.editor.enableAutoHeight();\n          }\n\n          document.documentElement.style.overflow = this._bakHtmlOverflow;\n          document.body.style.overflow = this._bakBodyOverflow;\n          editor.iframe.parentNode.style.width =\n            this._bakEditorContaninerWidth + \"px\";\n          window.scrollTo(0, this._bakScrollTop);\n        }\n        if (browser.gecko && editor.body.contentEditable === \"true\") {\n          var input = document.createElement(\"input\");\n          document.body.appendChild(input);\n          editor.body.contentEditable = false;\n          setTimeout(function() {\n            input.focus();\n            setTimeout(function() {\n              editor.body.contentEditable = true;\n              editor.fireEvent(\"fullscreenchanged\", fullscreen);\n              editor.selection.getRange().moveToBookmark(bk).select(true);\n              baidu.editor.dom.domUtils.remove(input);\n              fullscreen && window.scroll(0, 0);\n            }, 0);\n          }, 0);\n        }\n\n        if (editor.body.contentEditable === \"true\") {\n          this.editor.fireEvent(\"fullscreenchanged\", fullscreen);\n          this.triggerLayout();\n        }\n      }\n    },\n    _updateFullScreen: function() {\n      if (this._fullscreen) {\n        var vpRect = uiUtils.getViewportRect();\n        this.getDom().style.cssText =\n          \"border:0;position:absolute;left:0;top:\" +\n          (this.editor.options.topOffset || 0) +\n          \"px;width:\" +\n          vpRect.width +\n          \"px;height:\" +\n          vpRect.height +\n          \"px;z-index:\" +\n          (this.getDom().style.zIndex * 1 + 100);\n        uiUtils.setViewportOffset(this.getDom(), {\n          left: 0,\n          top: this.editor.options.topOffset || 0\n        });\n        this.editor.setHeight(\n          vpRect.height -\n            this.getDom(\"toolbarbox\").offsetHeight -\n            this.getDom(\"bottombar\").offsetHeight -\n            (this.editor.options.topOffset || 0),\n          true\n        );\n        //不手动调一下，会导致全屏失效\n        if (browser.gecko) {\n          try {\n            window.onresize();\n          } catch (e) {}\n        }\n      }\n    },\n    _updateElementPath: function() {\n      var bottom = this.getDom(\"elementpath\"),\n        list;\n      if (\n        this.elementPathEnabled &&\n        (list = this.editor.queryCommandValue(\"elementpath\"))\n      ) {\n        var buff = [];\n        for (var i = 0, ci; (ci = list[i]); i++) {\n          buff[i] = this.formatHtml(\n            '<span unselectable=\"on\" onclick=\"$$.editor.execCommand(&quot;elementpath&quot;, &quot;' +\n              i +\n              '&quot;);\">' +\n              ci +\n              \"</span>\"\n          );\n        }\n        bottom.innerHTML =\n          '<div class=\"edui-editor-breadcrumb\" onmousedown=\"return false;\">' +\n          this.editor.getLang(\"elementPathTip\") +\n          \": \" +\n          buff.join(\" &gt; \") +\n          \"</div>\";\n      } else {\n        bottom.style.display = \"none\";\n      }\n    },\n    disableElementPath: function() {\n      var bottom = this.getDom(\"elementpath\");\n      bottom.innerHTML = \"\";\n      bottom.style.display = \"none\";\n      this.elementPathEnabled = false;\n    },\n    enableElementPath: function() {\n      var bottom = this.getDom(\"elementpath\");\n      bottom.style.display = \"\";\n      this.elementPathEnabled = true;\n      this._updateElementPath();\n    },\n    _scale: function() {\n      var doc = document,\n        editor = this.editor,\n        editorHolder = editor.container,\n        editorDocument = editor.document,\n        toolbarBox = this.getDom(\"toolbarbox\"),\n        bottombar = this.getDom(\"bottombar\"),\n        scale = this.getDom(\"scale\"),\n        scalelayer = this.getDom(\"scalelayer\");\n\n      var isMouseMove = false,\n        position = null,\n        minEditorHeight = 0,\n        minEditorWidth = editor.options.minFrameWidth,\n        pageX = 0,\n        pageY = 0,\n        scaleWidth = 0,\n        scaleHeight = 0;\n\n      function down() {\n        position = domUtils.getXY(editorHolder);\n\n        if (!minEditorHeight) {\n          minEditorHeight =\n            editor.options.minFrameHeight +\n            toolbarBox.offsetHeight +\n            bottombar.offsetHeight;\n        }\n\n        scalelayer.style.cssText =\n          \"position:absolute;left:0;display:;top:0;background-color:#41ABFF;opacity:0.4;filter: Alpha(opacity=40);width:\" +\n          editorHolder.offsetWidth +\n          \"px;height:\" +\n          editorHolder.offsetHeight +\n          \"px;z-index:\" +\n          (editor.options.zIndex + 1);\n\n        domUtils.on(doc, \"mousemove\", move);\n        domUtils.on(editorDocument, \"mouseup\", up);\n        domUtils.on(doc, \"mouseup\", up);\n      }\n\n      var me = this;\n      //by xuheng 全屏时关掉缩放\n      this.editor.addListener(\"fullscreenchanged\", function(e, fullScreen) {\n        if (fullScreen) {\n          me.disableScale();\n        } else {\n          if (me.editor.options.scaleEnabled) {\n            me.enableScale();\n            var tmpNode = me.editor.document.createElement(\"span\");\n            me.editor.body.appendChild(tmpNode);\n            me.editor.body.style.height =\n              Math.max(\n                domUtils.getXY(tmpNode).y,\n                me.editor.iframe.offsetHeight - 20\n              ) + \"px\";\n            domUtils.remove(tmpNode);\n          }\n        }\n      });\n      function move(event) {\n        clearSelection();\n        var e = event || window.event;\n        pageX = e.pageX || doc.documentElement.scrollLeft + e.clientX;\n        pageY = e.pageY || doc.documentElement.scrollTop + e.clientY;\n        scaleWidth = pageX - position.x;\n        scaleHeight = pageY - position.y;\n\n        if (scaleWidth >= minEditorWidth) {\n          isMouseMove = true;\n          scalelayer.style.width = scaleWidth + \"px\";\n        }\n        if (scaleHeight >= minEditorHeight) {\n          isMouseMove = true;\n          scalelayer.style.height = scaleHeight + \"px\";\n        }\n      }\n\n      function up() {\n        if (isMouseMove) {\n          isMouseMove = false;\n          editor.ui._actualFrameWidth = scalelayer.offsetWidth - 2;\n          editorHolder.style.width = editor.ui._actualFrameWidth + \"px\";\n\n          editor.setHeight(\n            scalelayer.offsetHeight -\n              bottombar.offsetHeight -\n              toolbarBox.offsetHeight -\n              2,\n            true\n          );\n        }\n        if (scalelayer) {\n          scalelayer.style.display = \"none\";\n        }\n        clearSelection();\n        domUtils.un(doc, \"mousemove\", move);\n        domUtils.un(editorDocument, \"mouseup\", up);\n        domUtils.un(doc, \"mouseup\", up);\n      }\n\n      function clearSelection() {\n        if (browser.ie) doc.selection.clear();\n        else window.getSelection().removeAllRanges();\n      }\n\n      this.enableScale = function() {\n        //trace:2868\n        if (editor.queryCommandState(\"source\") == 1) return;\n        scale.style.display = \"\";\n        this.scaleEnabled = true;\n        domUtils.on(scale, \"mousedown\", down);\n      };\n      this.disableScale = function() {\n        scale.style.display = \"none\";\n        this.scaleEnabled = false;\n        domUtils.un(scale, \"mousedown\", down);\n      };\n    },\n    isFullScreen: function() {\n      return this._fullscreen;\n    },\n    postRender: function() {\n      UIBase.prototype.postRender.call(this);\n      for (var i = 0; i < this.toolbars.length; i++) {\n        this.toolbars[i].postRender();\n      }\n      var me = this;\n      var timerId,\n        domUtils = baidu.editor.dom.domUtils,\n        updateFullScreenTime = function() {\n          clearTimeout(timerId);\n          timerId = setTimeout(function() {\n            me._updateFullScreen();\n          });\n        };\n      domUtils.on(window, \"resize\", updateFullScreenTime);\n\n      me.addListener(\"destroy\", function() {\n        domUtils.un(window, \"resize\", updateFullScreenTime);\n        clearTimeout(timerId);\n      });\n    },\n    showToolbarMsg: function(msg, flag) {\n      this.getDom(\"toolbarmsg_label\").innerHTML = msg;\n      this.getDom(\"toolbarmsg\").style.display = \"\";\n      //\n      if (!flag) {\n        var w = this.getDom(\"upload_dialog\");\n        w.style.display = \"none\";\n      }\n    },\n    hideToolbarMsg: function() {\n      this.getDom(\"toolbarmsg\").style.display = \"none\";\n    },\n    mapUrl: function(url) {\n      return url\n        ? url.replace(\"~/\", this.editor.options.UEDITOR_HOME_URL || \"\")\n        : \"\";\n    },\n    triggerLayout: function() {\n      var dom = this.getDom();\n      if (dom.style.zoom == \"1\") {\n        dom.style.zoom = \"100%\";\n      } else {\n        dom.style.zoom = \"1\";\n      }\n    }\n  };\n  utils.inherits(EditorUI, baidu.editor.ui.UIBase);\n\n  var instances = {};\n\n  UE.ui.Editor = function(options) {\n    var editor = new UE.Editor(options);\n    editor.options.editor = editor;\n    utils.loadFile(document, {\n      href:\n        editor.options.themePath + editor.options.theme + \"/css/neditor.css\",\n      tag: \"link\",\n      type: \"text/css\",\n      rel: \"stylesheet\"\n    });\n\n    var oldRender = editor.render;\n    editor.render = function(holder) {\n      if (holder.constructor === String) {\n        editor.key = holder;\n        instances[holder] = editor;\n      }\n      utils.domReady(function() {\n        editor.langIsReady\n          ? renderUI()\n          : editor.addListener(\"langReady\", renderUI);\n        function renderUI() {\n          editor.setOpt({\n            labelMap: editor.options.labelMap || editor.getLang(\"labelMap\")\n          });\n          new EditorUI(editor.options);\n          if (holder) {\n            if (holder.constructor === String) {\n              holder = document.getElementById(holder);\n            }\n            holder &&\n              holder.getAttribute(\"name\") &&\n              (editor.options.textarea = holder.getAttribute(\"name\"));\n            if (holder && /script|textarea/gi.test(holder.tagName)) {\n              var newDiv = document.createElement(\"div\");\n              holder.parentNode.insertBefore(newDiv, holder);\n              var cont = holder.value || holder.innerHTML;\n              editor.options.initialContent = /^[\\t\\r\\n ]*$/.test(cont)\n                ? editor.options.initialContent\n                : cont\n                    .replace(/>[\\n\\r\\t]+([ ]{4})+/g, \">\")\n                    .replace(/[\\n\\r\\t]+([ ]{4})+</g, \"<\")\n                    .replace(/>[\\n\\r\\t]+</g, \"><\");\n              holder.className && (newDiv.className = holder.className);\n              holder.style.cssText &&\n                (newDiv.style.cssText = holder.style.cssText);\n              if (/textarea/i.test(holder.tagName)) {\n                editor.textarea = holder;\n                editor.textarea.style.display = \"none\";\n              } else {\n                holder.parentNode.removeChild(holder);\n              }\n              if (holder.id) {\n                newDiv.id = holder.id;\n                domUtils.removeAttributes(holder, \"id\");\n              }\n              holder = newDiv;\n              holder.innerHTML = \"\";\n            }\n          }\n          domUtils.addClass(holder, \"edui-\" + editor.options.theme);\n          editor.ui.render(holder);\n          var opt = editor.options;\n          //给实例添加一个编辑器的容器引用\n          editor.container = editor.ui.getDom();\n          var parents = domUtils.findParents(holder, true);\n          var displays = [];\n          for (var i = 0, ci; (ci = parents[i]); i++) {\n            displays[i] = ci.style.display;\n            ci.style.display = \"block\";\n          }\n          if (opt.initialFrameWidth) {\n            opt.minFrameWidth = opt.initialFrameWidth;\n          } else {\n            opt.minFrameWidth = opt.initialFrameWidth = holder.offsetWidth;\n            var styleWidth = holder.style.width;\n            if (/%$/.test(styleWidth)) {\n              opt.initialFrameWidth = styleWidth;\n            }\n          }\n          if (opt.initialFrameHeight) {\n            opt.minFrameHeight = opt.initialFrameHeight;\n          } else {\n            opt.initialFrameHeight = opt.minFrameHeight = holder.offsetHeight;\n          }\n          for (var i = 0, ci; (ci = parents[i]); i++) {\n            ci.style.display = displays[i];\n          }\n          //编辑器最外容器设置了高度，会导致，编辑器不占位\n          //todo 先去掉，没有找到原因\n          if (holder.style.height) {\n            holder.style.height = \"\";\n          }\n          editor.container.style.width =\n            opt.initialFrameWidth +\n            (/%$/.test(opt.initialFrameWidth) ? \"\" : \"px\");\n          editor.container.style.zIndex = opt.zIndex;\n          oldRender.call(editor, editor.ui.getDom(\"iframeholder\"));\n          editor.fireEvent(\"afteruiready\");\n        }\n      });\n    };\n    return editor;\n  };\n\n  /**\n     * @file\n     * @name UE\n     * @short UE\n     * @desc UEditor的顶部命名空间\n     */\n  /**\n     * @name getEditor\n     * @since 1.2.4+\n     * @grammar UE.getEditor(id,[opt])  =>  Editor实例\n     * @desc 提供一个全局的方法得到编辑器实例\n     *\n     * * ''id''  放置编辑器的容器id, 如果容器下的编辑器已经存在，就直接返回\n     * * ''opt'' 编辑器的可选参数\n     * @example\n     *  UE.getEditor('containerId',{onready:function(){//创建一个编辑器实例\n     *      this.setContent('hello')\n     *  }});\n     *  UE.getEditor('containerId'); //返回刚创建的实例\n     *\n     */\n  UE.getEditor = function(id, opt) {\n    var editor = instances[id];\n    if (!editor) {\n      editor = instances[id] = new UE.ui.Editor(opt);\n      editor.render(id);\n    }\n    return editor;\n  };\n\n  UE.delEditor = function(id) {\n    var editor;\n    if ((editor = instances[id])) {\n      editor.key && editor.destroy();\n      delete instances[id];\n    }\n  };\n\n  UE.registerUI = function(uiName, fn, index, editorId) {\n    utils.each(uiName.split(/\\s+/), function(name) {\n      baidu.editor.ui[name] = {\n        id: editorId,\n        execFn: fn,\n        index: index\n      };\n    });\n  };\n})();\n\n\n// adapter/message.js\nUE.registerUI(\"message\", function(editor) {\n  var editorui = baidu.editor.ui;\n  var Message = editorui.Message;\n  var holder;\n  var _messageItems = [];\n  var me = editor;\n\n  me.setOpt(\"enableMessageShow\", true);\n  if (me.getOpt(\"enableMessageShow\") === false) {\n    return;\n  }\n\n  me.addListener(\"ready\", function() {\n    holder = document.getElementById(me.ui.id + \"_message_holder\");\n    updateHolderPos();\n    setTimeout(function() {\n      updateHolderPos();\n    }, 500);\n  });\n\n  me.addListener(\"showmessage\", function(type, opt) {\n    opt = utils.isString(opt)\n      ? {\n          content: opt\n        }\n      : opt;\n    var message = new Message({\n      timeout: opt.timeout,\n      type: opt.type,\n      content: opt.content,\n      keepshow: opt.keepshow,\n      editor: me\n    }),\n      mid = opt.id || \"msg_\" + (+new Date()).toString(36);\n    message.render(holder);\n    _messageItems[mid] = message;\n    message.reset(opt);\n    updateHolderPos();\n    return mid;\n  });\n\n  me.addListener(\"updatemessage\", function(type, id, opt) {\n    opt = utils.isString(opt)\n      ? {\n          content: opt\n        }\n      : opt;\n    var message = _messageItems[id];\n    message.render(holder);\n    message && message.reset(opt);\n  });\n\n  me.addListener(\"hidemessage\", function(type, id) {\n    var message = _messageItems[id];\n    message && message.hide();\n  });\n\n  function updateHolderPos() {\n    if (!holder || !me.ui) return;\n    var toolbarbox = me.ui.getDom(\"toolbarbox\");\n    if (toolbarbox) {\n      holder.style.top = toolbarbox.offsetHeight + 3 + \"px\";\n    }\n    holder.style.zIndex =\n      Math.max(me.options.zIndex, me.iframe.style.zIndex) + 1;\n  }\n});\n\n\n// adapter/autosave.js\nUE.registerUI(\"autosave\", function(editor) {\n  var timer = null,\n    uid = null;\n  editor.on(\"afterautosave\", function() {\n    clearTimeout(timer);\n\n    timer = setTimeout(function() {\n      if (uid) {\n        editor.trigger(\"hidemessage\", uid);\n      }\n      uid = editor.trigger(\"showmessage\", {\n        content: editor.getLang(\"autosave.success\"),\n        timeout: 2000\n      });\n    }, 2000);\n  });\n});\n\n\n\n})();\n\n\n\n// WEBPACK FOOTER //\n// ./src/static/neditor/neditor.all.js"],"sourceRoot":""}